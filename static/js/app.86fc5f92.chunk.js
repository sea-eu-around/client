(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{567:function(e,t,n){n(568),e.exports=n(767)},568:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},605:function(e,t){},714:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Regular.ttf"},715:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Thin.ttf"},716:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Light.ttf"},717:function(e,t,n){e.exports=n.p+"./fonts/Raleway-SemiBold.ttf"},718:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Bold.ttf"},767:function(e,t,n){"use strict";n.r(t);var r,o=n(25),a=n.n(o),i=n(780),c=n(0),s=n.n(c),l=n(11),u=n.n(l),f=n(9),p=n.n(f),d=n(484),h=n(782),m=n(358),g=n(95),y=n(78);!function(e){e.Staging="STAGING",e.Production="PRODUCTION"}(r||(r={}));var v,b=y.a.manifest.extra,S=y.a.manifest.version,E=y.a.manifest.scheme,O=b.TARGET,C=b.DEBUG,R=b.CLIENT_URL,w=(b.SERVER_HOST,b.SERVER_URL),T=["ChatScreen","ChatRoomsScreen"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return t+"="+function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})).join(","):encodeURIComponent(t)}(e[t])})).join("&");return 0==t.length?t:"?"+t}function I(e){var t,n,r,o,a,i,c,s,l,f=arguments;return u.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=f.length>1&&void 0!==f[1]?f[1]:"GET",n=f.length>2&&void 0!==f[2]?f[2]:{},r=f.length>3&&void 0!==f[3]?f[3]:{},o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]&&f[5],i={Accept:"application/json","Content-Type":"application/json"},void 0===o){p.next=14;break}if(null!==o){p.next=13;break}return console.error("Cannot authentify request to "+e+" : no auth token available."),g.a.alert("A request could not be authenticated."),p.abrupt("return",{errorType:"error.no-auth",description:"Endpoint requires authentication",status:401});case 13:i.Authorization="Bearer "+o.accessToken;case 14:return c=x(n),s=null,p.prev=16,a&&(console.log("Sending request: "+t+" /"+e+c),console.log("  headers: "+JSON.stringify(i)),console.log("  body   : "+JSON.stringify(r))),p.next=20,u.a.awrap(fetch(w+"/"+e+c,k({method:t,headers:i},"GET"==t?{}:{body:JSON.stringify(r)})));case 20:if(s=p.sent,l={status:s.status,data:{}},s.status===v.NO_CONTENT){p.next=29;break}return p.t0=k,p.t1=k({},l),p.next=27,u.a.awrap(s.json());case 27:p.t2=p.sent,l=(0,p.t0)(p.t1,p.t2);case 29:return a&&(console.log("Response from endpoint "+e+":"),console.log(l)),p.abrupt("return",l);case 33:return p.prev=33,p.t3=p.catch(16),console.error("An unexpected error occured with a request to "+e+". Method = "+t+", authToken = "+o+", params="+JSON.stringify(n)+", body="+JSON.stringify(r)),console.error(p.t3),console.error("Response received from server:",s),p.abrupt("return",{errorType:"error.unknown",description:"A client-side exception was raised.",status:400});case 39:case"end":return p.stop()}}),null,null,[[16,33]],Promise)}!function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.ALREADY_REPORTED=208]="ALREADY_REPORTED",e[e.IM_USED=226]="IM_USED",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.SWITCH_PROXY=306]="SWITCH_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.LOOP_DETECTED=508]="LOOP_DETECTED",e[e.NOT_EXTENDED=510]="NOT_EXTENDED",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"}(v||(v={}));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){return e?e.filter((function(e){return e.allowFemale||e.allowMale||e.allowOther||e.allowStaff||e.allowStudent})):[]}function A(e){var t,n=D(D({},e),{},{avatarUrl:e.avatar,birthdate:new Date(e.birthdate),educationFields:(e.educationFields||[]).map((function(e){return e.id})),profileOffers:e.profileOffers||[],interests:(e.interests||[]).map((function(e){return e.id})),languages:e.languages||[]});if("staff"===e.type){var r=e;t=D(D({},n),{},{staffRoles:(r.staffRoles||[]).map((function(e){return e.id}))})}else{var o=e;t=D(D({},n),{},{degree:o.degree})}return t}function L(e,t){var n,r,o,a,i=D(D({},e),{},{type:t,birthdate:null==(n=e.birthdate)?void 0:n.toJSON(),educationFields:null==(r=e.educationFields)?void 0:r.map((function(e){return{id:e}})),interests:null==(o=e.interests)?void 0:o.map((function(e){return{id:e}})),profileOffers:e.profileOffers?_(e.profileOffers):void 0});if("staff"===t){var c=e;a=D(D({},i),{},{staffRoles:(c.staffRoles||[]).map((function(e){return{id:e}}))})}else{var s=e;a=D(D({},i),{},{degree:s.degree})}return a}function F(e){return D(D({},e),{},{profile:e.profile?A(e.profile):void 0})}function M(e){var t=e.profiles.map((function(e){return{_id:e.id,name:e.firstName+" "+e.lastName,avatar:e.avatar||"",lastMessageSeenId:e.lastMessageSeenId,lastMessageSeenDate:e.lastMessageSeenDate?new Date(e.lastMessageSeenDate):null}})),n=null;if(e.lastMessage){var r=e.lastMessage,o=t.find((function(e){return e._id==r.senderId}));o&&(n=N(o,r))}return D(D({},e),{},{users:t,messages:[],lastMessage:n,writing:{},messagePagination:{page:1,canFetchMore:!0,fetching:!1}})}function N(e,t){return D(D({},t),{},{_id:t.id,createdAt:new Date(t.updatedAt),user:e})}function B(e){return{profile:A(e.profile),status:e.status,date:new Date(e.date),id:e.id}}var H,U=n(157);function V(e,t,n){if(n){console.log("Updating static storage '"+e+"'.");var r={updatedAt:(new Date).toJSON(),data:t};U.a.setItem(e,JSON.stringify(r))}}function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("Clearing static storage: "+t.map((function(e){return"'"+e+"'"})).join(", ")+"."),U.a.multiRemove(t)}function G(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(U.a.getItem(e));case 2:return t=n.sent,n.abrupt("return",!!t&&JSON.parse(t));case 4:case"end":return n.stop()}}),null,null,null,Promise)}!function(e){e.LOAD_USER_PROFILE="PROFILE/LOAD_USER_PROFILE",e.LOAD_PROFILE_OFFERS="LOAD_PROFILE_OFFERS",e.LOAD_PROFILE_OFFERS_SUCCESS="LOAD_PROFILE_OFFERS_SUCCESS",e.LOAD_PROFILE_INTERESTS="LOAD_PROFILE_INTERESTS",e.LOAD_PROFILE_INTERESTS_SUCCESS="LOAD_PROFILE_INTERESTS_SUCCESS",e.PROFILE_SET_FIELDS_SUCCESS="PROFILE/SET_FIELDS_SUCCESS",e.PROFILE_SET_FIELDS_FAILURE="PROFILE/SET_FIELDS_FAILURE",e.PROFILE_CREATE="PROFILE/CREATE",e.PROFILE_CREATE_SUCCESS="PROFILE/CREATE_SUCCESS",e.FETCH_USER_SUCCESS="PROFILE/FETCH_USER_SUCCESS",e.FETCH_PROFILE_SUCCESS="PROFILE/FETCH_PROFILE_SUCCESS",e.SET_AVATAR="PROFILE/SET_AVATAR",e.SET_AVATAR_SUCCESS="PROFILE/SET_AVATAR_SUCCESS",e.SET_AVATAR_FAILURE="PROFILE/SET_AVATAR_FAILURE"}(H||(H={}));var W,q=function(e){return{type:H.PROFILE_SET_FIELDS_SUCCESS,fields:e}},K=function(e){return{type:H.PROFILE_CREATE_SUCCESS,profile:e}},Y=function(e){return function(t,n){var r,o,a,i;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n().auth.token,c.next=3,u.a.awrap(I("profiles","POST",{},e,r));case 3:(o=c.sent).status===v.CREATED&&(a=o.data,i=A(a),t(K(i)));case 5:case"end":return c.stop()}}),null,null,null,Promise)}},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:H.LOAD_PROFILE_OFFERS_SUCCESS,offers:e,fromCache:t}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:H.LOAD_PROFILE_INTERESTS_SUCCESS,interests:e,fromCache:t}},Z=function(e){return{type:H.FETCH_USER_SUCCESS,user:e}},X=function(e){return{type:H.FETCH_PROFILE_SUCCESS,profile:e}},$=n(12),ee=n.n($),te=function(e){return ee.a.t(e,{defaultValue:e})},ne=function(e){var t=e.code,n=e.description;return"missing"==ee.a.t(t,{defaultValue:"missing"})?n:t};function re(e){if(e.status!=v.OK){var t=e,n=t.errorType,r=t.description,o={general:ne({code:n,description:r}),fields:{}};return e.status==v.UNPROCESSABLE_ENTITY&&e.errors.forEach((function(e){return o.fields[e.property]=ne(e.codes[0])})),o}}function oe(e){return e?Object.keys(e.fields).length>0?void 0:e.general:void 0}function ae(e,t){var n={email:e,token:t};U.a.setItem("auth",JSON.stringify(n))}function ie(){U.a.removeItem("auth")}function ce(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(U.a.getItem("auth"));case 2:return e=t.sent,t.abrupt("return",!!e&&JSON.parse(e));case 4:case"end":return t.stop()}}),null,null,null,Promise)}!function(e){e.REGISTER_BEGIN="AUTH/REGISTER_BEGIN",e.REGISTER_SUCCESS="AUTH/REGISTER_SUCCESS",e.REGISTER_FAILURE="AUTH/REGISTER_FAILURE",e.LOG_IN_SUCCESS="AUTH/LOG_IN_SUCCESS",e.LOG_IN_FAILURE="AUTH/LOG_IN_FAILURE",e.LOG_OUT="AUTH/LOG_OUT",e.VALIDATE_ACCOUNT="AUTH/VALIDATE_ACCOUNT",e.VALIDATE_ACCOUNT_SUCCESS="AUTH/VALIDATE_ACCOUNT_SUCCESS",e.VALIDATE_ACCOUNT_FAILURE="AUTH/VALIDATE_ACCOUNT_FAILURE",e.SET_ONBOARDING_VALUES="AUTH/SET_ONBOARDING_VALUES",e.SET_ONBOARDING_OFFER_VALUE="AUTH/SET_ONBOARDING_OFFER_VALUE",e.FORGOT_PASSWORD_FAILURE="AUTH/FORGOT_PASSWORD_FAILURE",e.FORGOT_PASSWORD_SUCCESS="AUTH/FORGOT_PASSWORD_SUCCESS",e.RESET_PASSWORD_SUCCESS="AUTH/RESET_PASSWORD_SUCCESS",e.DELETE_ACCOUNT_SUCCESS="AUTH/DELETE_ACCOUNT_SUCCESS"}(W||(W={}));var se,le=function(e,t){return{type:W.REGISTER_BEGIN,email:e,password:t}},ue=function(e,t){return function(n,r){var o,a;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n(le(e,t)),o=r().settings.userSettings.locale,i.next=4,u.a.awrap(I("auth/register","POST",{},{email:e,password:t,locale:o}));case 4:if((a=i.sent).status!=v.OK){i.next=11;break}return n(fe(a.data)),i.abrupt("return",{success:!0});case 11:return n(pe()),i.abrupt("return",{success:!1,errors:re(a)});case 13:case"end":return i.stop()}}),null,null,null,Promise)}},fe=function(e){return{type:W.REGISTER_SUCCESS,user:e}},pe=function(){return{type:W.REGISTER_FAILURE}},de=function(e,t,n){return{type:W.LOG_IN_SUCCESS,token:e,user:t,usingCachedCredentials:n}},he=function(){return{type:W.LOG_IN_FAILURE}},me=function(e,t){return function(n){var r,o;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(I("auth/login","POST",{},{email:e,password:t}));case 2:if((r=a.sent).status!=v.OK){a.next=9;break}return o=r.data,n(de(o.token,F(o.user),!1)),a.abrupt("return",{success:!0});case 9:return n(he()),a.abrupt("return",{success:!1,errors:re(r)});case 11:case"end":return a.stop()}}),null,null,null,Promise)}},ge=function(){return{type:W.LOG_OUT}},ye=function(e){return function(t){var n,r,o;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(I("auth/verify","POST",{},{token:e}));case 2:(n=a.sent).status==v.OK?(r=n.data,o=r.email,t(ve(o))):t(be());case 4:case"end":return a.stop()}}),null,null,null,Promise)}},ve=function(e){return{type:W.VALIDATE_ACCOUNT_SUCCESS,email:e}},be=function(){return{type:W.VALIDATE_ACCOUNT_FAILURE}},Se=function(e){return{type:W.FORGOT_PASSWORD_SUCCESS,email:e}},Ee=function(){return{type:W.FORGOT_PASSWORD_FAILURE}},Oe=function(){return{type:W.RESET_PASSWORD_SUCCESS}},Ce=function(){return{type:W.DELETE_ACCOUNT_SUCCESS}},Re=function(e){return{type:W.SET_ONBOARDING_VALUES,values:e}};!function(e){e.SET_THEME="SETTINGS/SET_THEME",e.TOGGLE_THEME="SETTINGS/TOGGLE_THEME",e.SET_LOCALE="SETTINGS/SET_LOCALE",e.LOAD_COOKIES_PREFERENCES="SETTINGS/LOAD_COOKIES_PREFERENCES",e.SAVE_COOKIES_PREFERENCES="SETTINGS/SAVE_COOKIES_PREFERENCES"}(se||(se={}));var we=function(e,t){return{type:se.SET_THEME,theme:e,fromCache:t}},Te=function(){return{type:se.TOGGLE_THEME}},Pe=function(e,t){return ee.a.locale=e,{type:se.SET_LOCALE,locale:e,fromCache:t}},ke=function(e,t){return{type:se.LOAD_COOKIES_PREFERENCES,preferences:e,consentDate:t}},xe=function(e){return{type:se.SAVE_COOKIES_PREFERENCES,preferences:e}},Ie=n(203),je=[{key:"univ-cadiz",domain:"uca.es",country:"ES"},{key:"univ-brest",domain:"univ-brest.fr",country:"FR"},{key:"univ-gdansk",domain:"ug.edu.pl",country:"PL"},{key:"univ-malta",domain:"um.edu.mt",country:"MT"},{key:"univ-kiel",domain:"kms.uni-kiel.de",country:"DE"},{key:"univ-split",domain:"unist.hr",country:"HR"}];function De(e){var t=e.split("@")[0].split("."),n=function(e){return 0==e.length?e:e[0].toUpperCase()+e.slice(1)};return t.length>=2?{firstname:n(t[0]),lastname:n(t[1])}:null}function _e(e){var t=e.split("@");if(t.length>0){var n=t[1].trim();return je.find((function(e){return e.domain==n}))||null}return null}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe={authenticated:!1,token:null,validated:!1,registerEmail:"",validatedEmail:null,onboarded:!1,onboarding:{firstname:"",lastname:"",birthdate:null,gender:null,nationality:null,type:null,degree:null,staffRoles:{},languages:[],offerValues:{},interestIds:[],educationFields:[]}},Me=n(553),Ne=n(44),Be=["bsc1","bsc2","bsc3","m1","m2","phd"],He=["a1","a2","b1","b2","c1","c2","native"],Ue=["student","staff"],Ve=["teaching","research","administration","technical","other"],ze=["school","library-books","account-balance","build","help"],Ge=["male","female","other"],We=Ne.e().required("validation.required").email("validation.email.invalid"),qe=Ne.e().required("validation.required").min(8,"validation.password.tooShort").matches(/(?=.*\d)/,"validation.password.noDigit").matches(/(?=.*[a-z])/,"validation.password.noLowerCase").matches(/(?=.*[A-Z])/,"validation.password.noUpperCase").matches(/(?=.*[#@$!%*?&])/,"validation.password.noSymbol"),Ke=Ne.e().required("validation.required").oneOf([Ne.d("password")],"validation.password.repeatWrong"),Ye=Ne.e().required("validation.required").email("validation.email.invalid"),Je=Ne.e().required("validation.required"),Qe=Ne.e().trim().required("validation.required"),Ze=Ne.e().trim().required("validation.required"),Xe=Ne.b().nullable().required("validation.required"),$e=Ne.e().nullable().required("validation.required"),et=Ne.e().nullable().required("validation.required"),tt=Ne.e().oneOf(Be,"validation.required"),nt=Ne.a().required("validation.addAtLeastOne"),rt=Ne.a().required("validation.addAtLeastOne"),ot={en:{locales:{en:"English",fr:"French"},appName:"SEA-EU Around",welcome:"Welcome",picker:{callToAction:"Select (%d selected)"},login:"Log in",tabsignin:"Log in",tabsignup:"Sign up",emailAddress:"Email address",password:"Password",passwordRepeat:"Repeat password",send:"Send",forgotPassword:"Forgot Password",newPassword:"New Password",forgotPasswordExplanation:"Enter the email address associated with your account below. Instructions for choosing a new password will be sent shortly.",cancel:"Cancel",ok:"OK",signupWelcome:"We can't wait for you to join our community!",save:"Save",firstname:"First name",lastname:"Last name",noResultsFound:"No results found",legal:{modal:{disclaimer1:"Please understand that you will not be able to use our services if you decide to decline the terms of service.",disclaimer2:"Declining will abort the profile creation process."},decline:"Decline",accept:"Accept",readMore:["Read more about our terms & conditions ","here","."]},privacy:{readMore:["Read more about our privacy policy ","here","."]},emailNotificationsLabel:"Send me useful notifications by email.",emailValidation:{validating:"Validating",success:["Your account has been validated! You may now ","log in"]},createAccount:"Create account",validation:{required:"Required field.",atLeastOne:"Please select at least one.",addAtLeastOne:"Please add at least one.",email:{invalid:"Please provide a valid email address.",invalidDomain:"Your email address must match one of our partner universities."},password:{tooShort:"Your password must have at least 8 characters.",noDigit:"Your password must contain at least one digit.",noUpperCase:"Your password must contain at least one upper case character.",noLowerCase:"Your password must contain at least one lower case character.",noSymbol:"Your password must contain at least one symbol (#@$!%*?&).",repeatWrong:"These passwords don't match."},language:{atLeastOne:"Please select at least one language.",specifyLevel:"Please specify a level for your languages."},date:{tooYoung:"You must be 16 or older to join this platform.",invalid:"Please enter a valid date."}},error:{error_user_not_verified:"This account's email address has not been verified yet.",user_not_found:"User not found.",email_or_password_incorrect:"Incorrect email or password.",reset_password_no_token:"Could not fulfill this request.",unique:{user:{email:"This email address is already in use."}},validation:{email:{is_email:"Please provide a valid email address."}}},pageNotFound:"404: Page not found.",pageDoesntExist:"This page doesn't exist.",goHome:"Go to home screen",tabs:{home:"Home",matching:"Matching",messaging:"Messaging",notifications:"Notifications"},myProfile:"My Profile",editProfile:"Edit profile",educationFieldsPicker:{placeholder:"Select fields",searchPlaceholder:"Search",multiple:"%d selected"},educationFieldCategories:{"generic-programmes-qualifications":"Generic programmes and qualifications",education:"Education","arts-humanities":"Arts and humanities","social-sciences-journalism-information":"Social sciences, journalism and information","business-administration-law":"Business, administration and law","natural-sciences-mathematics-statistics":"Natural sciences, mathematics and statistics","information-communication-technologies":"Information and Communication Technologies (ICTs)","engineering-manufacturing-construction":"Engineering, manufacturing and construction","agriculture-forestry-fisheries-veterinary":"Agriculture, forestry, fisheries and veterinary","health-welfare":"Health and welfare",services:"Services"},educationFields:{"basic-programmes-qualifications":"Basic programmes and qualifications","literacy-numeracy":"Literacy and numeracy","personal-skills-development":"Personal skills and development","education-science":"Education science","training-for-pre-school-teachers":"Training for pre-school teachers","teacher-training-without-subject-specialisation":"Teacher training without subject specialisation","teacher-training-with-subject-specialisation":"Teacher training with subject specialisation","audio-visual-techniques-media-production":"Audio-visual techniques and media production","fashion-interior-industrial-design":"Fashion, interior and industrial design","fine-arts":"Fine arts",handicrafts:"Handicrafts","music-performing-arts":"Music and performing arts","religion-theology":"Religion and theology","history-archaeology":"History and archaeology","philosophy-ethics":"Philosophy and ethics","language-acquisition":"Language acquisition","literature-linguistics":"Literature and linguistics",economics:"Economics","political-sciences-civics":"Political sciences and civics",psychology:"Psychology","sociology-cultural-studies":"Sociology and cultural studies","journalism-reporting":"Journalism and reporting","library-information-archival-studies":"Library, information and archival studies","accounting-taxation":"Accounting and taxation","finance-banking-insurance":"Finance, banking and insurance","management-administration":"Management and administration","marketing-advertising":"Marketing and advertising","secretarial-office-work":"Secretarial and office work","wholesale-retail-sales":"Wholesale and retail sales","work-skills":"Work skills",law:"Law",biology:"Biology",biochemistry:"Biochemistry","environmental-sciences":"Environmental sciences","natural-environments-wildlife":"Natural environments and wildlife",chemistry:"Chemistry","earth-sciences":"Earth sciences",physics:"Physics",mathematics:"Mathematics",statistics:"Statistics","computer-use":"Computer use","database-network-design-administration":"Database and network design and administration","software-applications-development-analysis":"Software and applications development and analysis","chemical-engineering-processes":"Chemical engineering and processes","environmental-protection-technology":"Environmental protection technology","electricity-energy":"Electricity and energy","electronics-automation":"Electronics and automation","mechanics-metal-trades":"Mechanics and metal trades","motor-vehicles-ships-aircraft":"Motor vehicles, ships and aircraft","food-processing":"Food processing",materials:"Materials (glass, paper, plastic and wood)",textiles:"Textiles (clothes, footwear and leather)","mining-extraction":"Mining and extraction","architecture-town-planning":"Architecture and town planning","building-civil-engineering":"Building and civil engineering","crop-livestock-production":"Crop and livestock production",horticulture:"Horticulture",forestry:"Forestry",fisheries:"Fisheries",veterinary:"Veterinary","dental-studies":"Dental studies",medicine:"Medicine","nursing-midwifery":"Nursing and midwifery","medical-diagnostic-treatment-technology":"Medical diagnostic and treatment technology","therapy-rehabilitation":"Therapy and rehabilitation",pharmacy:"Pharmacy","traditional-complementary-medicine-therapy":"Traditional and complementary medicine and therapy","domestic-services":"Domestic services","hair-beauty-services":"Hair and beauty services","hotel-restaurants-catering":"Hotel, restaurants and catering",sports:"Sports","travel-tourism-leisure":"Travel, tourism and leisure","community-sanitation":"Community sanitation","occupational-health-safety":"Occupational health and safety","military-defence":"Military and defence","protection-of-persons-property":"Protection of persons and property","transport-services":"Transport services"},levelOfStudy:"Level of study",degrees:{bsc1:"BSc1",bsc2:"BSc2",bsc3:"BSc3",m1:"M1",m2:"M2",phd:"PhD"},nationality:"Nationality",university:"University",search:"Search",selectCountry:"Select country",countryPickerLanguageCode:"common",profileType:"Type",profileTypes:"Types",allRoles:{student:"Student",staff:"Staff"},staffRoles:{teaching:"Teaching",research:"Research",administration:"Administration",technical:"Technical",other:"Other"},gender:"Gender",genders:{male:"Male",female:"Female",other:"Other"},dateOfBirth:"Date of birth",months:{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},fieldsOfEducation:"Fields of education",apply:"Apply",universities:{"univ-cadiz":"University of C\xe1diz","univ-brest":"University of Bretagne Occidentale","univ-gdansk":"University of Gda\u0144sk","univ-malta":"University of Malta","univ-kiel":"University of Kiel","univ-split":"University of Split"},universitiesPicker:{placeholder:"Select universities",searchPlaceholder:"Search",multiple:"%d selected"},logOut:"Log out",onboarding:{name:{title:"Welcome",subtitle:"Before we start, we need to know a little bit more about you to ensure the best possible recommendations."},personalInfo:{title:"Profile"},language:{title:"Languages"},interests:{title:"Interests"},role:{title:"I am a..."},roleSpecific1:{student:{title:"Student information"},staff:{title:"Staff roles"}},offersMeet:{title:"Meet",subtitle:"Meet up with new friends in real life."},offersDiscover:{title:"Discover",subtitle:"Find out about other cultures."},offersCollaborate:{title:"Collaborate",subtitle:"Find people to work on projects, academic or not."},legal1:{title:"Terms & Conditions",text:"As explained in details in our Terms & Conditions, you agree to use \xabSEA-EU Around\xbb and its services only to be put into contact, on a non-business and non-profit basis, with people wishing to meet, collaborate and interact online or in the frame of a mobility. You commit to carry out respectful exchanges with other members. Your name and surname will be visible by other members."},legal2:{title:"Data Policy",text:"In the context of your use of SEA-EU Around, you will provide some personal data to create your profile as further explained in our Terms & Conditions. This data is collected and processed by UBO through SEA-EU Around in order to enable matching among Members, according to needs/offers and interests defined by Members of SEA-EU Around. Your data will be visible only by  other Members."},legal3:{title:"Cookies",text:"I acknowledge that cookies might be used. The information is kept only for application purposes and does not permit to identify the Member except for the cookie enabling UBO to re-authenticate the Member on its arrival on SEA-EU Around, saving the Member from having to re-enter their password at each connection."},submit:"Submit",getStarted:"Get Started",profileCreated:"Welcome! Your profile is now created.",quit:{title:"Quit on-boarding",text:"Do you really wish to leave? You can resume later.",cancel:"Cancel",yes:"Yes"}},spokenLanguages:"Spoken languages",languagePicker:{placeholderSingle:"Language",placeholderMultiple:"Select languages",searchPlaceholder:"Search for languages",multiple:"%d selected"},languageLevelPicker:{placeholder:"Level"},languageLevels:{a1:"A1",a2:"A2",b1:"B1",b2:"B2",c1:"C1",c2:"C2",native:"Native"},languageNames:{aa:"Afar",ab:"Abkhazian",ae:"Avestan",af:"Afrikaans",ak:"Akan",am:"Amharic",an:"Aragonese",ar:"Arabic",as:"Assamese",av:"Avaric",ay:"Aymara",az:"Azerbaijani",ba:"Bashkir",be:"Belarusian",bg:"Bulgarian",bh:"Bihari languages",bi:"Bislama",bm:"Bambara",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",ca:"Catalan / Valencian",ce:"Chechen",ch:"Chamorro",co:"Corsican",cr:"Cree",cs:"Czech",cu:"Old Bulgarian / Church Slavic / Slavonic",cv:"Chuvash",cy:"Welsh",da:"Danish",de:"German",dv:"Divehi / Dhivehi / Maldivian",dz:"Dzongkha",ee:"Ewe",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",ff:"Fulah",fi:"Finnish",fj:"Fijian",fo:"Faroese",fr:"French",fy:"Western Frisian",ga:"Irish",gd:"Scottish Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",gv:"Manx",ha:"Hausa",he:"Hebrew",hi:"Hindi",ho:"Hiri Motu",hr:"Croatian",ht:"Haitian Creole",hu:"Hungarian",hy:"Armenian",hz:"Herero",ia:"Interlingua",id:"Indonesian",ie:"Interlingue / Occidental",ig:"Igbo",ii:"Sichuan Yi / Nuosu",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",ka:"Georgian",kg:"Kongo",ki:"Kikuyu / Gikuyu",kj:"Kuanyama / Kwanyama",kk:"Kazakh",kl:"Kalaallisut / Greenlandic",km:"Central Khmer",kn:"Kannada",ko:"Korean",kr:"Kanuri",ks:"Kashmiri",ku:"Kurdish",kv:"Komi",kw:"Cornish",ky:"Kirghiz / Kyrgyz",la:"Latin",lb:"Luxembourgish / Letzeburgesch",lg:"Ganda",li:"Limburgan / Limburger / Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",mg:"Malagasy",mh:"Marshallese",mi:"Maori",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mr:"Marathi",ms:"Malay",mt:"Maltese",my:"Burmese",na:"Nauru",nb:"Norwegian Bokm\xe5l",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nl:"Dutch / Flemish",nn:"Norwegian Nynorsk",no:"Norwegian",nr:"South Ndebele",nv:"Navajo / Navaho",ny:"Chichewa / Chewa / Nyanja",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Oriya",os:"Ossetian / Ossetic",pa:"Punjabi / Panjabi",pi:"Pali",pl:"Polish",ps:"Pashto / Pushto",pt:"Portuguese",qu:"Quechua",rc:"Reunionese",rm:"Romansh",rn:"Rundi",ro:"Romanian / Moldavian",ru:"Russian",rw:"Kinyarwanda",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sg:"Sango",sh:"Serbo-Croatian",si:"Sinhala / Sinhalese",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",ss:"Swati",st:"Southern Sotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga (Tonga Islands)",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur / Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Walloon",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang / Chuang",zh:"Chinese",zu:"Zulu"},interests:"Interests",chooseInterests:"Choose interests",interestsPicker:{placeholder:"Select interests",searchPlaceholder:"Search",multiple:"%d selected"},interestNames:{"language-exchange":"Language exchange","second-hand-apparel":"Second hand apparel","board-games":"Board games","road-trips":"Road trips",tango:"Tango",sneakers:"Sneakers",sports:"Sports",baking:"Baking",tarot:"Tarot",art:"Art",tea:"Tea",picnicking:"Picnicking",motorcycles:"Motorcycles",parties:"Parties",shopping:"Shopping",couchsurfing:"Couch-surfing",netflix:"Netflix",cooking:"Cooking",vegan:"Vegan",brunch:"Brunch","motor-sports":"Motor sports","grab-a-drink":"Grab a drink","working-out":"Working out","start-ups":"Start ups","street-food":"Street food","craft-beer":"Craft beer","amateur-cook":"Amateur cook","happy-hour":"Happy hour","vintage-fashion":"Vintage fashion","walking-my-dog":"Walking my dog","second-hand-shopping":"Second hand shopping",politics:"Politics",bbq:"BBQ",surfing:"Surfing",spirituality:"Spirituality",gardening:"Gardening",astrology:"Astrology",climbing:"Climbing",tennis:"Tennis",writer:"Writer",comedy:"Comedy",wine:"Wine",diy:"Diy",coffee:"Coffee",sailing:"Sailing",music:"Music",cycling:"Cycling",activism:"Activism",trivia:"Trivia",travel:"Travel",instagram:"Instagram",museum:"Museum",karaoke:"Karaoke",fashion:"Fashion",blogging:"Blogging",yoga:"Yoga",investing:"Investing",petanque:"Petanque",theater:"Theater",environmentalism:"Environmentalism",crossfit:"Crossfit",dancing:"Dancing",hiking:"Hiking",running:"Running",golf:"Golf",photography:"Photography",vlogging:"Vlogging",volunteering:"Volunteering",tattoos:"Tattoos",outdoors:"Outdoors",esports:"Esports",snowboarding:"Snowboarding",athlete:"Athlete",extrovert:"Extrovert",podcasts:"Podcasts",walking:"Walking",vegetarian:"Vegetarian",reading:"Reading",movies:"Movies",foodie:"Foodie",soccer:"Soccer",skiing:"Skiing",sushi:"Sushi",introvert:"Introvert",skateboarder:"Skateboarder",festivals:"Festivals",fishing:"Fishing",swimming:"Swimming",expositions:"Expositions",gamer:"Gamer",piano:"Piano","foodie-tour":"Foodie Tour","dog-lover":"Dog Lover","cat-lover":"Cat Lover"},offerCategories:{meet:"Meet",discover:"Discover",collaborate:"Collaborate"},offers:"Offers",allOffers:{"grab-a-drink":{name:"Grab a drink",help:"I am open to having a drink with the people I meet on this platform."},"provide-a-couch":{name:"Provide a couch",help:"I am open to letting someone sleep on my couch."},"get-into-campus-life":{name:"Get into campus life",help:"I am open to helping someone visit my campus."},"cowork-on-a-project":{name:"Co-work on a project",help:"I am looking for collaborators for a project."},"answer-academic-questions":{name:"Answer academic questions",help:"I can give information about my university or answer to general academic questions."},"share-interests":{name:"Share interests",help:"I would like to chat with other users about common interests."},"language-tandem":{name:"Language tandem",help:"I am willing to join a language tandem to help others learn one of my languages."}},unmatch:{text:"Are you sure you want to unmatch {{firstname}}? You will not be able to communicate anymore.",blockQuestion:"If you don't want {{firstname}} to be able to find you anymore, you can also block them:",action:"Unmatch"},block:{warning:"Are you sure you want to block this user? You and {{firstname}} will not be able to find each other anymore.",action:"Block"},welcomeScreen:{signIn:"Log in",signUp:"Sign up",subtitle:"Join an alliance united around the values of European identity."},loginForm:{title:"Welcome Back!",logIn:"Log in",signUp:"Sign up",or:"or"},cookies:{bannerText:"We use cookies to provide you with the best possible user experience.\nOur usage of cookies includes caching data for faster loading, storing your preferences and authentication. We do not collect any information that could be used for tracking or advertising.",acceptAll:"Accept cookies",customize:"Customize",preferences:{auth:{name:"Authentication",description:"Store information used to sign-in automatically when starting the app."},cache:{name:"Cache",description:"Store some data on your device (less than 1MB) for faster loading."},settings:{name:"Settings",description:"Store your settings (e.g. theme and locale)."}}},report:{title:"Report",send:"Send",cancel:"Cancel",what:"What / who?",why:"Why?",typePlaceholder:"Select a reason",types:{violence:"Violence",nudity:"Nudity",harassment:"Harassment","undesirable-content":"Undesirable content","hate-speech":"Hate speech","vulgar-content":"Vulgar content",other:"Other"},confirmationTitle:"Thank you",confirmation:"An administrator will investigate your report shortly.",failureTitle:"Sorry",failure:"We are unable to fulfill your request."},resetPassword:{instructions:"To choose a new password, click the link in the email we just sent you.",title:"Please choose a new password",button:"Send",success:"Your password has been updated."},deleteAccount:{title:"Delete your account",warning:"Your account and all associated data will be deleted within six months. Please be aware that after this time, your account will be irreversibly deleted. If you sign in during this month however, the deletion will be cancelled.",button:"Delete",success1:"Your request has been received and will be processed shortly.",success2:"We are sorry to see you go.",leave:"Leave",inputLabel:"Enter password to confirm"},messaging:{noMatches:"It appears that you haven't matched with anyone yet. :("},matching:{noResults:"No results found",noResultsAdvice:"Perhaps try removing some filters",filtering:{sectionGeneral:"General",buttonReset:"Reset"},actionLike:"Like",actionHide:"Hide",success:{title:"It's a match !",chat:"Start chatting",continue:"Keep scrolling"},history:{status:{requested:"Liked",declined:"Hidden",blocked:"Blocked"},actions:{report:"Report",cancel:{requested:"Cancel like",declined:"Cancel hide",blocked:"Cancel block"},block:"Block"},noResults:"No results found",noResultsAdvice:"Perhaps try removing some filters"}},profile:{action:{chat:"Chat",mute:"Mute",block:"Block",unmatch:"Unmatch",report:"Report"},noOffersSelected:"No offers selected."},screenTitles:{suffix:" - SEA-EU Around",WelcomeScreen:"Welcome",LoginScreen:"Login",ForgotPasswordScreen:"Forgot Password",SignupScreen:"Sign up",OnboardingNameScreen:"Welcome",OnboardingPersonalInfoScreen:"Profile",OnboardingLanguageScreen:"Profile",OnboardingInterestsScreen:"Profile",OnboardingRoleScreen:"Profile",OnboardingRoleSpecificScreen:"Profile",OnboardingOffersScreen1:"Discover",OnboardingOffersScreen2:"Collaborate",OnboardingOffersScreen3:"Meet",OnboardingLegalScreen1:"Terms & Conditions",OnboardingPrivacyScreen:"Privacy Policy",ChatRoomsScreen:"Messages",ChatScreen:"Chat",TabHomeScreen:"Home",TabMatchingScreen:"Match",MatchFilteringScreen:"Filters",MatchHistoryScreen:"History",TabNotificationsScreen:"Notifications",MyProfileScreen:"Profile",ProfileScreen:"Profile",SettingsScreen:"Settings",DeleteAccountScreen:"Delete Account",DeleteAccountSuccessScreen:"Account Deleted",ValidationEmailSentScreen:"Validate your account",ValidateEmailScreen:"Validate your account",ResetPasswordScreen:"Reset your password",ResetPasswordSuccessScreen:"Password reset",OnboardingSuccessfulScreen:"Successful registration",NotFoundScreen:"Not Found",MatchSuccessScreen:"Match!",ForgotPasswordEmailSentScreen:"Forgot password"},settings:{sections:{general:"General",danger:"Danger zone",about:"About"},language:"Language",darkTheme:"Dark theme",deleteAccount:"Delete Account",deleteMyAccount:"Delete my account",version:"Version",termsOfService:"Terms of Service",reportABug:"Report a Bug",logOut:"Log out",customizeCookies:"Customize cookies"}},fr:{locales:{en:"Anglais",fr:"Fran\xe7ais"},appName:"SEA-EU Around",welcome:"Bienvenue",login:"Connexion",signup:"Inscription",emailAddress:"Adresse email",password:"Mot de passe",forgotPassword:"Mot de passe oubli\xe9",countryPickerLanguageCode:"fra"}},at=["en","fr"];function it(){return at.find((function(e){return e==Me.a}))||"en"}var ct=["hr","en","fr","de","mt","pl","es","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","dv","dz","ee","el","eo","et","eu","fa","ff","fi","fj","fo","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","ps","pt","qu","rc","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"];function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){var t=ot,n=t[e].languageNames||t.en.languageNames;return ct.map((function(e){return{label:n[e]||"Missing translation ("+e+")",value:e}}))}var ft={userSettings:{theme:"light",locale:it(),cookies:{auth:!1,cache:!1,settings:!1},cookieConsentDate:null},localizedLanguageItems:ut(it())};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht,mt={user:null,offers:[],offerIdToCategory:new Map,interests:[]};!function(e){e.Discover="discover",e.Collaborate="collaborate",e.Meet="meet"}(ht||(ht={}));var gt,yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t&&e.allowChooseGender,r=t&&e.allowChooseProfileType;return{offerId:e.id,allowFemale:n,allowMale:n,allowOther:n,allowStudent:r,allowStaff:r}};!function(e){e.Declined="declined",e.Blocked="blocked",e.Matched="matched",e.Requested="requested"}(gt||(gt={}));var vt,bt=[gt.Declined,gt.Blocked,gt.Requested];function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_FILTERS="MATCHING/SET_FILTERS",e.SET_OFFER_FILTER="MATCHING/SET_OFFER_FILTER",e.FETCH_PROFILES_BEGIN="MATCHING/FETCH_PROFILES_BEGIN",e.FETCH_PROFILES_FAILURE="MATCHING/FETCH_PROFILES_FAILURE",e.FETCH_PROFILES_SUCCESS="MATCHING/FETCH_PROFILES_SUCCESS",e.FETCH_PROFILES_REFRESH="MATCHING/FETCH_PROFILES_REFRESH",e.LIKE_PROFILE_SUCCESS="MATCHING/LIKE_PROFILE_SUCCESS",e.DISLIKE_PROFILE_SUCCESS="MATCHING/DISLIKE_PROFILE_SUCCESS",e.BLOCK_PROFILE_SUCCESS="MATCHING/BLOCK_PROFILE_SUCCESS",e.FETCH_MY_MATCHES_BEGIN="MATCHING/FETCH_MY_MATCHES_BEGIN",e.FETCH_MY_MATCHES_FAILURE="MATCHING/FETCH_MY_MATCHES_FAILURE",e.FETCH_MY_MATCHES_SUCCESS="MATCHING/FETCH_MY_MATCHES_SUCCESS",e.FETCH_HISTORY_BEGIN="MATCHING/FETCH_HISTORY_BEGIN",e.FETCH_HISTORY_FAILURE="MATCHING/FETCH_HISTORY_FAILURE",e.FETCH_HISTORY_SUCCESS="MATCHING/FETCH_HISTORY_SUCCESS",e.FETCH_HISTORY_REFRESH="MATCHING/FETCH_HISTORY_REFRESH",e.ACTION_CANCEL_SUCCESS="MATCHING/ACTION_CANCEL_SUCCESS",e.ACTION_CANCEL_FAILURE="MATCHING/ACTION_CANCEL_FAILURE",e.SET_HISTORY_FILTERS="MATCHING/SET_HISTORY_FILTERS"}(vt||(vt={}));var Ot=function(){return{type:vt.FETCH_PROFILES_FAILURE}},Ct=function(e,t){return{type:vt.FETCH_PROFILES_SUCCESS,profiles:e,canFetchMore:t}},Rt=function(){return{type:vt.FETCH_PROFILES_REFRESH}},wt=function(e,t,n){return{type:vt.LIKE_PROFILE_SUCCESS,profileId:e,matchStatus:t,roomId:n}},Tt=function(e){return{type:vt.DISLIKE_PROFILE_SUCCESS,profileId:e}},Pt=function(e){return{type:vt.BLOCK_PROFILE_SUCCESS,profileId:e}},kt=function(e){return function(t,n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,u.a.awrap(I("matching/block","POST",{},{toProfileId:e},r,!0));case 3:o.sent.status===v.OK&&t(Pt(e));case 5:case"end":return o.stop()}}),null,null,null,Promise)}},xt=function(e,t){return{type:vt.FETCH_HISTORY_SUCCESS,items:e,canFetchMore:t}},It=function(){return{type:vt.FETCH_HISTORY_REFRESH}},jt=function(e){return{type:vt.ACTION_CANCEL_FAILURE,historyItemId:e}},Dt=function(e){return{type:vt.ACTION_CANCEL_SUCCESS,historyItemId:e}},_t=function(e){return function(t,n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,u.a.awrap(I("matching/cancel","POST",{},{matchingEntityId:e},r,!0));case 3:if(o.sent.status!==v.OK){o.next=9;break}return t(Dt(e)),o.abrupt("return",!0);case 9:return t(jt(e)),o.abrupt("return",!1);case 11:case"end":return o.stop()}}),null,null,null,Promise)}};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft,Mt={filters:{offers:{},universities:[],degrees:[],languages:[],types:[]},fetchedProfiles:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1},historyPagination:{page:1,canFetchMore:!0,fetching:!1},historyFilters:function(){var e={};return bt.forEach((function(t){return e[t]=!0})),e}(),historyItems:[],myMatches:[],fetchingMyMatches:!1},Nt=n(5),Bt=n.n(Nt),Ht=n(6),Ut=n.n(Ht),Vt=n(480),zt=n.n(Vt),Gt=w+"/chat",Wt=new(function(){function e(){Bt()(this,e),this.socket=null,this.connectCallbacks=[],this.writingTimeout=null,this.lastSentWritingState=!1,this.connecting=!1,this.connected=!1}return Ut()(e,[{key:"consumeConnectCallbacks",value:function(e){this.connectCallbacks.forEach((function(t){return t(e)})),this.connectCallbacks=[]}},{key:"registerListeners",value:function(e){var t=this;this.socket&&(this.socket.on("connect",(function(){console.log("[ChatSocket] connected"),t.consumeConnectCallbacks(!0),t.connecting=!1,t.connected=!0})),this.socket.on("connect_failed",(function(){console.log("[ChatSocket] connect_failed")})),this.socket.on("connect_error",(function(){console.log("[ChatSocket] connect_error")})),this.socket.on("close",(function(){t.connecting=!1,t.connected=!1,console.log("[ChatSocket] close")})),this.socket.on("error",(function(){console.log("[ChatSocket]","Error.")})),this.socket.on("exception",(function(e){console.log("[ChatSocket] <----","Exception",JSON.stringify(e))})),this.socket.on("disconnect",(function(){t.connecting=!1,t.connected=!1,console.log("[ChatSocket] disconnected")})),this.socket.on("receiveMessage",(function(t){return e.onMessageReceived(t)})),this.socket.on("readMessage",(function(t){return e.onMessageRead(t)})),this.socket.on("isWriting",(function(t){return e.onWritingStateChange(t)})))}},{key:"emit",value:function(e,t){var n;console.log("[ChatSocket] ----\x3e '"+e+"' - payload: "+JSON.stringify(t)),null==(n=this.socket)||n.emit(e,t)}},{key:"sendWritingState",value:function(e,t){this.lastSentWritingState=t,this.emit("isWriting",{roomId:e.id,state:t})}},{key:"refreshWritingTimeout",value:function(e){var t=this;null!==this.writingTimeout&&(clearTimeout(this.writingTimeout),this.writingTimeout=null),this.writingTimeout=setTimeout((function(){t.sendWritingState(e,!1)}),1e3)}},{key:"connect",value:function(e,t,n){var r=this;console.log("Connecting to",Gt),n&&this.connectCallbacks.push(n),this.connecting||(this.connecting=!0,this.socket?this.socket.connect():(console.log("[ChatSocket] ----\x3e Authenticating - token =",e.accessToken),this.socket=zt()(Gt,{query:{authorization:e.accessToken},reconnectionDelay:2e3,reconnectionAttempts:3}),this.registerListeners(t)),setTimeout((function(){r.connected||(r.connecting=!1,r.consumeConnectCallbacks(!1))}),6500))}},{key:"joinRoom",value:function(e){this.emit("joinRoom",{roomId:e.id}),e.lastMessage&&this.readMessage(e.id,e.lastMessage._id,e.lastMessage.createdAt.toJSON())}},{key:"leaveRoom",value:function(e){this.emit("leaveRoom",{roomId:e.id})}},{key:"sendMessage",value:function(e,t,n){this.emit("sendMessage",{roomId:e,id:t,text:n})}},{key:"readMessage",value:function(e,t,n){this.emit("readMessage",{roomId:e,messageId:t,date:n})}},{key:"setWriting",value:function(e){this.refreshWritingTimeout(e),!1===this.lastSentWritingState&&this.sendWritingState(e,!0)}},{key:"disconnect",value:function(){this.socket&&this.socket.disconnect()}}]),e}());!function(e){e.FETCH_MATCH_ROOMS_BEGIN="MESSAGING/FETCH_MATCH_ROOMS_BEGIN",e.FETCH_MATCH_ROOMS_FAILURE="MESSAGING/FETCH_MATCH_ROOMS_FAILURE",e.FETCH_MATCH_ROOMS_SUCCESS="MESSAGING/FETCH_MATCH_ROOMS_SUCCESS",e.FETCH_MATCH_ROOMS_REFRESH="MESSAGING/FETCH_MATCH_ROOMS_REFRESH",e.CONNECT_TO_CHAT_BEGIN="MESSAGING/CONNECT_TO_CHAT_BEGIN",e.CONNECT_TO_CHAT_FAILURE="MESSAGING/CONNECT_TO_CHAT_FAILURE",e.CONNECT_TO_CHAT_SUCCESS="MESSAGING/CONNECT_TO_CHAT_SUCCESS",e.DISCONNECT_FROM_CHAT="MESSAGING/DISCONNECT_FROM_CHAT",e.JOIN_CHAT_ROOM_BEGIN="MESSAGING/JOIN_CHAT_ROOM_BEGIN",e.JOIN_CHAT_ROOM_FAILURE="MESSAGING/JOIN_CHAT_ROOM_FAILURE",e.JOIN_CHAT_ROOM_SUCCESS="MESSAGING/JOIN_CHAT_ROOM_SUCCESS",e.LEAVE_ROOM="MESSAGING/LEAVE_ROOM",e.SEND_MESSAGE_FAILURE="MESSAGING/SEND_MESSAGE_FAILURE",e.SEND_MESSAGE_SUCCESS="MESSAGING/SEND_MESSAGE_SUCCESS",e.RECEIVE_MESSAGE="MESSAGING/RECEIVE_MESSAGE",e.RECEIVE_WRITING_STATE="MESSAGING/RECEIVE_WRITING_STATE",e.READ_MESSAGE="MESSAGING/READ_MESSAGE",e.FETCH_EARLIER_MESSAGES_BEGIN="MESSAGING/FETCH_EARLIER_MESSAGES_BEGIN",e.FETCH_EARLIER_MESSAGES_FAILURE="MESSAGING/FETCH_EARLIER_MESSAGES_FAILURE",e.FETCH_EARLIER_MESSAGES_SUCCESS="MESSAGING/FETCH_EARLIER_MESSAGES_SUCCESS"}(Ft||(Ft={}));var qt=function(e,t){return{type:Ft.FETCH_MATCH_ROOMS_SUCCESS,rooms:e,canFetchMore:t}},Kt=function(e){return function(t,n){var r,o,a,i,c;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:r=n().messaging.socketState,o=r.connected,a=r.connecting,i=n().auth.token,c=function(){t({type:Ft.CONNECT_TO_CHAT_FAILURE}),e&&e(!1)},o?e&&e(!0):i?a||(t({type:Ft.CONNECT_TO_CHAT_BEGIN}),Wt.connect(i,{onMessageReceived:function(e){var r=n().messaging.activeRoom;r&&e.roomId==r.id&&Wt.readMessage(r.id,e.id,e.updatedAt),t(en(e))},onMessageRead:function(e){return t(nn(e))},onWritingStateChange:function(e){return t(tn(e))}},(function(n){n?(t({type:Ft.CONNECT_TO_CHAT_SUCCESS}),e&&e(!0)):c()}))):c();case 4:case"end":return s.stop()}}),null,null,null,Promise)}},Yt=function(){return Wt.disconnect(),{type:Ft.DISCONNECT_FROM_CHAT}},Jt=function(e){return{type:Ft.JOIN_CHAT_ROOM_BEGIN,room:e}},Qt=function(e){return{type:Ft.JOIN_CHAT_ROOM_SUCCESS,room:e}},Zt=function(e){return function(t,n){var r,o;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:r=n().messaging,o=r.socketState.connected,r.activeRoom||!o?t({type:Ft.JOIN_CHAT_ROOM_FAILURE}):(t(Jt(e)),Wt.joinRoom(e),t(Qt(e)));case 2:case"end":return a.stop()}}),null,null,null,Promise)}},Xt=function(e){return{type:Ft.SEND_MESSAGE_SUCCESS,message:e}},$t=function(e,t,n){return function(r,o){var a,i,c,s;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:a=o().messaging,i=a.socketState.connected,c=a.activeRoom,s=a.localChatUser,i&&c&&s?(r(Xt({_id:e,createdAt:n,user:s,text:t,sent:!1})),Wt.sendMessage(c.id,e,t)):r({type:Ft.SEND_MESSAGE_FAILURE});case 2:case"end":return l.stop()}}),null,null,null,Promise)}},en=function(e){return{type:Ft.RECEIVE_MESSAGE,message:e}},tn=function(e){return{type:Ft.RECEIVE_WRITING_STATE,payload:e}},nn=function(e){return{type:Ft.READ_MESSAGE,payload:e}},rn=function(e){return{type:Ft.FETCH_EARLIER_MESSAGES_BEGIN,room:e}},on=function(e){return{type:Ft.FETCH_EARLIER_MESSAGES_FAILURE,room:e}},an=function(e,t,n){return{type:Ft.FETCH_EARLIER_MESSAGES_SUCCESS,room:e,messages:t,canFetchMore:n}};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln={matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1},socketState:{connected:!1,connecting:!1},activeRoom:null,localChatUser:null};function un(e){return{_id:e.id,name:e.firstName+" "+e.lastName,avatar:e.avatarUrl||"",lastMessageSeenDate:null,lastMessageSeenId:null}}function fn(e,t,n){var r=e.activeRoom&&e.activeRoom.id==n.id?n:e.activeRoom;if(t){var o=e.matchRoomsOrdered.filter((function(e){return e!==n.id}));return sn(sn({},e),{},{matchRooms:sn(sn({},e.matchRooms),{},p()({},n.id,n)),matchRoomsOrdered:[n.id].concat(o),activeRoom:r})}return sn(sn({},e),{},{matchRooms:sn(sn({},e.matchRooms),{},p()({},n.id,n)),activeRoom:r})}var pn={},dn={},hn=n(481),mn=n(14),gn=c.createRef();function yn(e,t){var n;null==(n=gn.current)||n.navigate(e,t)}function vn(e){var t=gn.current;t&&(t.canGoBack()?t.goBack():e&&t.navigate(e))}function bn(e){return ee.a.t("screenTitles."+e)+ee.a.t("screenTitles.suffix")}function Sn(e){return ee.a.t("screenTitles."+e)}function En(e){yn("TabMessaging",{screen:"ChatScreen",params:{roomId:e}})}function On(e){return"web"!==mn.a.OS||null!==e&&(Date.now()-e.getTime())/1e3<31536e3}var Cn,Rn=n(171),wn=n(123);function Tn(){return y.a.isDevice&&"web"!==mn.a.OS}!function(e){e.REGISTER_TOKEN_SUCCESS="NOTIFICATIONS/REGISTER_TOKEN_SUCCESS",e.DELETE_TOKEN_SUCCESS="NOTIFICATIONS/DELETE_TOKEN_SUCCESS"}(Cn||(Cn={}));var Pn=function(){return{type:Cn.REGISTER_TOKEN_SUCCESS}},kn=function(){return{type:Cn.DELETE_TOKEN_SUCCESS}},xn=Object(Ie.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.REGISTER_BEGIN:var n=t,r=n.email;return Le(Le({},e),{},{registerEmail:r});case W.REGISTER_SUCCESS:var o=t,a=o.user,i=a.verificationToken,c=a.onboarded;return Le(Le({},e),{},{verificationToken:i,onboarded:c});case W.VALIDATE_ACCOUNT_SUCCESS:var s=t,l=s.email;return Le(Le({},e),{},{validated:!0,validatedEmail:l});case W.VALIDATE_ACCOUNT_FAILURE:return Le(Le({},e),{},{validated:!1});case W.LOG_IN_SUCCESS:var u=t,f=u.token,d=u.user,h=d.onboarded,m=d.email,g=Le({},e.onboarding);if(!h){var y=De(m);y&&(g.firstname=y.firstname,g.lastname=y.lastname)}return Le(Le({},e),{},{authenticated:!0,token:f,onboarded:h,onboarding:g});case W.LOG_OUT:return Le(Le({},e),{},{token:null,authenticated:!1,validated:!1,validatedEmail:null,onboarded:!1});case W.SET_ONBOARDING_VALUES:var v=t,b=v.values;return Le(Le({},e),{},{onboarding:Le(Le({},e.onboarding),b)});case W.SET_ONBOARDING_OFFER_VALUE:var S=t,E=S.id,O=S.value;return Le(Le({},e),{},{onboarding:Le(Le({},e.onboarding),{},{offerValues:Le(Le({},e.onboarding.offerValues),{},p()({},E,O))})});case H.PROFILE_CREATE_SUCCESS:return Le(Le({},e),{},{onboarded:!0,onboarding:{firstname:"",lastname:"",birthdate:null,gender:null,nationality:null,type:null,degree:null,staffRoles:{},languages:[],offerValues:{},interestIds:[],educationFields:[]}});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.LOAD_COOKIES_PREFERENCES:var n=t,r=n.preferences,o=n.consentDate;return lt(lt({},e),{},{userSettings:lt(lt({},e.userSettings),{},{cookieConsentDate:o,cookies:r})});case se.SAVE_COOKIES_PREFERENCES:var a=t,i=a.preferences;return lt(lt({},e),{},{userSettings:lt(lt({},e.userSettings),{},{cookieConsentDate:new Date(Date.now()),cookies:i})});case se.SET_THEME:var c=t,s=c.theme;return lt(lt({},e),{},{userSettings:lt(lt({},e.userSettings),{},{theme:s})});case se.TOGGLE_THEME:var l="light"==e.userSettings.theme?"dark":"light";return lt(lt({},e),{},{userSettings:lt(lt({},e.userSettings),{},{theme:l})});case se.SET_LOCALE:var u=t,f=u.locale;return lt(lt({},e),{},{localizedLanguageItems:ut(f),userSettings:lt(lt({},e.userSettings),{},{locale:f})});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.LOG_IN_SUCCESS:var n=t,r=n.user;return dt(dt({},e),{},{user:r});case H.PROFILE_SET_FIELDS_SUCCESS:if(e.user){var o=t,a=o.fields;return a.profileOffers&&(a.profileOffers=_(a.profileOffers)),dt(dt({},e),{},{user:dt(dt({},e.user),{},{profile:e.user.profile?dt(dt({},e.user.profile),a):void 0})})}return dt({},e);case H.PROFILE_CREATE_SUCCESS:var i=t,c=i.profile;return e.user?dt(dt({},e),{},{user:dt(dt({},e.user),{},{profile:c})}):e;case H.LOAD_PROFILE_OFFERS_SUCCESS:var s=t,l=s.offers,u=new Map(l.map((function(e){return[e.id,e.category]})));return dt(dt({},e),{},{offers:l,offerIdToCategory:u});case H.LOAD_PROFILE_INTERESTS_SUCCESS:var f=t,p=f.interests;return p.sort((function(e,t){return e.id>t.id?1:-1})),dt(dt({},e),{},{interests:p});case H.FETCH_USER_SUCCESS:var d=t,h=d.user;return dt(dt({},e),{},{user:h});case H.SET_AVATAR_SUCCESS:var m=t,g=m.avatarUrl;return null===e.user?dt({},e):dt(dt({},e),{},{user:dt(dt({},e.user),{},{profile:e.user.profile?dt(dt({},e.user.profile),{},{avatarUrl:g}):void 0})});case W.LOG_OUT:return dt(dt({},e),{},{user:null});default:return e}},matching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt.SET_OFFER_FILTER:var n=t,r=n.offerId,o=n.value;return Lt(Lt({},e),{},{filters:Lt(Lt({},e.filters),{},{offers:Lt(Lt({},e.filters.offers),{},p()({},r,o))})});case vt.SET_FILTERS:var a=t,i=a.filters;return Lt(Lt({},e),{},{filters:Lt(Lt({},e.filters),i)});case vt.FETCH_PROFILES_BEGIN:return Lt(Lt({},e),{},{profilesPagination:Lt(Lt({},e.profilesPagination),{},{fetching:!0})});case vt.FETCH_PROFILES_FAILURE:return Lt(Lt({},e),{},{profilesPagination:Lt(Lt({},e.profilesPagination),{},{fetching:!1,canFetchMore:!1})});case vt.FETCH_PROFILES_SUCCESS:var c=t,s=c.profiles,l=c.canFetchMore,u=e.profilesPagination;return Lt(Lt({},e),{},{fetchedProfiles:e.fetchedProfiles.concat(s),profilesPagination:Lt(Lt({},u),{},{fetching:!1,page:u.page+1,canFetchMore:l})});case vt.FETCH_PROFILES_REFRESH:return Lt(Lt({},e),{},{fetchedProfiles:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1}});case vt.FETCH_MY_MATCHES_BEGIN:return Lt(Lt({},e),{},{fetchingMyMatches:!0});case vt.FETCH_MY_MATCHES_FAILURE:return Lt(Lt({},e),{},{fetchingMyMatches:!1});case vt.FETCH_MY_MATCHES_SUCCESS:var f=t,d=f.profiles;return Lt(Lt({},e),{},{myMatches:d,fetchingMyMatches:!1});case vt.LIKE_PROFILE_SUCCESS:var h=t,m=h.profileId;return Lt(Lt({},e),{},{fetchedProfiles:e.fetchedProfiles.filter((function(e){return e.id!=m}))});case vt.DISLIKE_PROFILE_SUCCESS:var g=t,y=g.profileId;return Lt(Lt({},e),{},{fetchedProfiles:e.fetchedProfiles.filter((function(e){return e.id!=y}))});case vt.BLOCK_PROFILE_SUCCESS:var v=t,b=v.profileId;return Lt(Lt({},e),{},{fetchedProfiles:e.fetchedProfiles.filter((function(e){return e.id!=b}))});case vt.FETCH_HISTORY_BEGIN:return Lt(Lt({},e),{},{historyPagination:Lt(Lt({},e.historyPagination),{},{fetching:!0})});case vt.FETCH_HISTORY_FAILURE:return Lt(Lt({},e),{},{historyPagination:Lt(Lt({},e.historyPagination),{},{fetching:!1,canFetchMore:!1})});case vt.FETCH_HISTORY_SUCCESS:var S=t,E=S.items,O=S.canFetchMore,C=e.historyPagination;return Lt(Lt({},e),{},{historyItems:e.historyItems.concat(E),historyPagination:Lt(Lt({},C),{},{fetching:!1,page:C.page+1,canFetchMore:O})});case vt.FETCH_HISTORY_REFRESH:return Lt(Lt({},e),{},{historyItems:[],historyPagination:{page:1,canFetchMore:!0,fetching:!1}});case vt.SET_HISTORY_FILTERS:var R=t,w=R.filters;return Lt(Lt({},e),{},{historyFilters:Lt(Lt({},e.historyFilters),w)});case vt.ACTION_CANCEL_SUCCESS:var T=t,P=T.historyItemId;return Lt(Lt({},e),{},{historyItems:e.historyItems.filter((function(e){return e.id!==P}))});case W.LOG_OUT:return Lt(Lt({},e),{},{filters:{offers:{},universities:[],degrees:[],languages:[],types:[]},fetchedProfiles:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1},myMatches:[],fetchingMyMatches:!1,historyItems:[],historyPagination:{page:1,canFetchMore:!0,fetching:!1}});default:return e}},messaging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.LOG_IN_SUCCESS:var n=t,r=n.user;return r.profile?sn(sn({},e),{},{localChatUser:un(r.profile)}):sn({},e);case H.FETCH_USER_SUCCESS:var o=t,a=o.user;return a.profile?sn(sn({},e),{},{localChatUser:un(a.profile)}):sn({},e);case H.PROFILE_CREATE_SUCCESS:var i=t,c=i.profile;return sn(sn({},e),{},{localChatUser:un(c)});case Ft.FETCH_MATCH_ROOMS_BEGIN:return sn(sn({},e),{},{matchRoomsPagination:sn(sn({},e.matchRoomsPagination),{},{fetching:!0})});case Ft.FETCH_MATCH_ROOMS_FAILURE:return sn(sn({},e),{},{matchRoomsPagination:sn(sn({},e.matchRoomsPagination),{},{fetching:!1,canFetchMore:!1})});case Ft.FETCH_MATCH_ROOMS_SUCCESS:var s=t,l=s.rooms,u=s.canFetchMore,f=e.matchRoomsPagination,d=sn({},e.matchRooms);return l.forEach((function(e){return d[e.id]=e})),sn(sn({},e),{},{matchRooms:d,matchRoomsOrdered:e.matchRoomsOrdered.concat(l.map((function(e){return e.id}))),matchRoomsPagination:sn(sn({},f),{},{fetching:!1,page:f.page+1,canFetchMore:u})});case Ft.FETCH_MATCH_ROOMS_REFRESH:return sn(sn({},e),{},{matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1}});case Ft.CONNECT_TO_CHAT_BEGIN:return sn(sn({},e),{},{socketState:{connected:!1,connecting:!0}});case Ft.CONNECT_TO_CHAT_FAILURE:return sn(sn({},e),{},{socketState:{connected:!1,connecting:!1}});case Ft.CONNECT_TO_CHAT_SUCCESS:return sn(sn({},e),{},{socketState:{connected:!0,connecting:!1}});case Ft.DISCONNECT_FROM_CHAT:return sn(sn({},e),{},{socketState:{connected:!1,connecting:!1},activeRoom:null});case Ft.JOIN_CHAT_ROOM_SUCCESS:var h=t,m=h.room;return sn(sn({},e),{},{activeRoom:m});case Ft.LEAVE_ROOM:return sn(sn({},e),{},{activeRoom:null});case Ft.SEND_MESSAGE_SUCCESS:var g=t,y=g.message;return e.activeRoom?fn(e,!0,sn(sn({},e.activeRoom),{},{messages:[y].concat(e.activeRoom.messages),lastMessage:y})):e;case Ft.RECEIVE_MESSAGE:var v=t,b=v.message,S=e.matchRooms[b.roomId];if(S){var E=(S=sn({},S)).messages.find((function(e){return e._id===b.id}));if(E){var O=sn(sn({},E),{},{sent:!0,text:b.text});S.messages=S.messages.map((function(e){return e._id===b.id?O:e})),(!S.lastMessage||O.createdAt>=S.lastMessage.createdAt)&&(S.lastMessage=O)}else{var C=S.users.find((function(e){return e._id==b.senderId}));if(C){var R=N(C,b);S.messages=[R].concat(S.messages),S.lastMessage=R,S.writing[b.senderId]=!1}}return fn(e,!0,S)}return e;case Ft.RECEIVE_WRITING_STATE:var w=t.payload,T=w.profileId,P=w.roomId;if(e.localChatUser&&e.localChatUser._id===T)return e;var k=e.matchRooms[P];return k?fn(e,!1,sn(sn({},k),{},{writing:sn(sn({},k.writing),{},p()({},T,w.state))})):e;case Ft.READ_MESSAGE:var x=t.payload,I=x.roomId,j=x.date,D=x.messageId,_=x.profileId,A=e.matchRooms[I];return A?fn(e,!1,sn(sn({},A),{},{users:A.users.map((function(e){return e._id==_?sn(sn({},e),{},{lastMessageSeenDate:new Date(j),lastMessageSeenId:D}):e}))})):e;case Ft.FETCH_EARLIER_MESSAGES_BEGIN:var L=t,F=L.room;return fn(e,!1,sn(sn({},F),{},{messagePagination:sn(sn({},F.messagePagination),{},{fetching:!0})}));case Ft.FETCH_EARLIER_MESSAGES_FAILURE:var M=t,B=M.room;return fn(e,!1,sn(sn({},B),{},{messagePagination:sn(sn({},B.messagePagination),{},{fetching:!1,canFetchMore:!1})}));case Ft.FETCH_EARLIER_MESSAGES_SUCCESS:var U=t,V=U.room,z=U.messages,G=U.canFetchMore,q=V.messagePagination;return fn(e,!1,sn(sn({},V),{},{messages:V.messages.concat(z),messagePagination:sn(sn({},q),{},{fetching:!1,page:q.page+1,canFetchMore:G})}));case W.LOG_OUT:return sn(sn({},e),{},{activeRoom:null,matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1},localChatUser:null});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;return t.type,e},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),In=Object(Ie.a)(hn.a,(function(e){return function(t){return function(n){switch(n.type){case se.SAVE_COOKIES_PREFERENCES:if(n.preferences.auth){var r=e.getState().auth.token,o=e.getState().profile.user;r&&o&&ae(o.email,r)}else ie();break;case W.LOG_OUT:case W.LOG_IN_FAILURE:ie()}var a=e.getState().settings.userSettings,i=a.cookies;if(On(a.cookieConsentDate))switch(n.type){case W.LOG_IN_SUCCESS:var c=n,s=c.token,l=c.user;!c.usingCachedCredentials&&i.auth&&ae(l.email,s)}t(n)}}}),(function(e){return function(t){return function(n){switch(n.type){case se.SAVE_COOKIES_PREFERENCES:var r=e.getState().settings.userSettings.cookies,o=n.preferences;if(!r.cache&&o.cache){var a=e.getState().profile,i=a.offers;V("interests",a.interests,o.cache),V("offers",i,o.cache)}if(!r.settings&&o.settings){var c=e.getState().settings.userSettings,s=c.locale,l=c.theme;V("locale",s,o.settings),V("theme",l,o.settings)}r.cache&&!o.cache&&z("interests","offers"),r.settings&&!o.settings&&z("locale","theme"),V("cookies",o,!0),V("cookieConsentDate",new Date(Date.now()).toJSON(),!0)}var u=e.getState().settings.userSettings,f=u.cookies;if(On(u.cookieConsentDate))switch(n.type){case H.LOAD_PROFILE_INTERESTS_SUCCESS:var p=n,d=p.interests;p.fromCache||V("interests",d,f.cache);break;case H.LOAD_PROFILE_OFFERS_SUCCESS:var h=n,m=h.offers;h.fromCache||V("offers",m,f.cache);break;case se.SET_LOCALE:var g=n,y=g.locale;g.fromCache||V("locale",y,f.settings);break;case se.SET_THEME:var v=n,b=v.theme;v.fromCache||V("theme",b,f.settings);break;case se.TOGGLE_THEME:V("theme","dark"===e.getState().settings.userSettings.theme?"light":"dark",f.settings)}t(n)}}}),(function(){return function(e){return function(t){switch(console.log(t.type),t.type){case H.PROFILE_CREATE_SUCCESS:yn("OnboardingSuccessfulScreen");break;case W.LOG_IN_SUCCESS:yn(t.user.onboarded?"MainScreen":"OnboardingScreen");break;case W.LOG_OUT:yn("LoginScreen");break;case W.REGISTER_SUCCESS:yn("ValidationEmailSentScreen");break;case W.VALIDATE_ACCOUNT_SUCCESS:break;case W.FORGOT_PASSWORD_SUCCESS:yn("ForgotPasswordEmailSentScreen");break;case W.RESET_PASSWORD_SUCCESS:yn("ResetPasswordSuccessScreen");break;case vt.LIKE_PROFILE_SUCCESS:var n=t,r=n.matchStatus,o=n.roomId;r==gt.Matched&&yn("MatchSuccessScreen",{roomId:o});break;case W.DELETE_ACCOUNT_SUCCESS:yn("LoginScreen")}e(t)}}}),(function(e){return function(t){return function(n){switch(n.type){case W.LOG_IN_SUCCESS:(function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(Tn()){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,u.a.awrap(wn.d(wn.b));case 4:if("granted"===(e=n.sent.status)){n.next=9;break}return n.next=8,u.a.awrap(wn.c(wn.b));case 8:e=n.sent.status;case 9:if("granted"!==e){n.next=16;break}return n.next=12,u.a.awrap(Rn.getExpoPushTokenAsync());case 12:return t=n.sent.data,n.abrupt("return",t);case 16:return n.abrupt("return",null);case 17:case"end":return n.stop()}}),null,null,null,Promise)})().then((function(t){null!==t&&e.dispatch(function(e){return function(t,n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,u.a.awrap(I("notifications/token","POST",{},{token:e},r,!0));case 3:o.sent.status===v.NO_CONTENT&&t(Pn());case 5:case"end":return o.stop()}}),null,null,null,Promise)}}(t))}));break;case W.LOG_OUT:e.dispatch((function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t().auth.token,r.next=3,u.a.awrap(I("notifications/token","DELETE",{},{},n,!0));case 3:r.sent.status===v.NO_CONTENT&&e(kn());case 5:case"end":return r.stop()}}),null,null,null,Promise)}))}t(n)}}})),jn=Object(Ie.d)(xn,In);function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var An=void 0;var Ln=n(10),Fn=n.n(Ln),Mn=n(458),Nn=n(179),Bn=n(470),Hn=n(449),Un=n(181),Vn=n(7),zn=n.n(Vn),Gn=n(8),Wn=n.n(Gn),qn=n(2),Kn=n.n(qn),Yn=n(3),Jn=n(13),Qn=n(19),Zn=n(4),Xn={light:{id:"light",text:"#000",textWhite:"#fff",textBlack:"#000",textLight:"#666",textInverted:"#fff",background:"#fff",cardBackground:"#f7f7f7",accent:"#003da5",accentSlight:"#ccd8ea",accentSecondary:"#009ace",accentTernary:"#fbe122",error:"rgba(255,59,48,1)",actionNeutral:"#555555",okay:"#00b16a",warn:"#eecc00",componentBorder:"#bbb",chatBubble:"#ededed",inputPlaceholder:"#999"},dark:{id:"dark",text:"#fff",textWhite:"#fff",textBlack:"#000",textLight:"#ccc",textInverted:"#111",background:"rgba(0,0,0,1)",cardBackground:"rgba(28,28,30,1)",accent:"#003da5",accentSlight:"#ccd8ea",accentSecondary:"#003da5",accentTernary:"#fbe122",error:"rgba(255,69,58,1)",actionNeutral:"#777",okay:"#00b16a",warn:"#eecc00",componentBorder:"#555",chatBubble:"#333",inputPlaceholder:"#bbb"}};function $n(e){var t={};return Object.values(Xn).forEach((function(n){return t[n.id]=e(n)})),function(e){return t[e.id]}}var er=n(16);function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var or=function(e){zn()(n,e);var t=rr(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props.theme,t=ar(e);return c.createElement(Zn.a,{style:t.wrapper},c.createElement(Zn.a,{style:t.container},this.props.children))}}]),n}(c.Component),ar=$n((function(){return Yn.a.create({wrapper:{flex:1,justifyContent:"center",flexDirection:"row"},container:nr({flex:1,alignItems:"center"},"web"===mn.a.OS?{maxWidth:1e3}:{})})})),ir=Object(er.l)(or),cr="android"==mn.a.OS?{fontFamily:"sans-serif-thin"}:{fontWeight:"100"},sr="android"==mn.a.OS?{fontFamily:"sans-serif-light"}:{fontWeight:"200"},lr="web"==mn.a.OS?{fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", sans-serif'}:{},ur="ios"===mn.a.OS?100:320,fr="ios"===mn.a.OS?100:320;function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var mr=function(e){zn()(n,e);var t=hr(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.navigation,n=e.theme,r=gr(n);return c.createElement(ir,null,c.createElement(Zn.a,{style:r.container},c.createElement(Jn.a,{style:r.title},ee.a.t("pageNotFound")),c.createElement(Jn.a,{style:r.subtitle},ee.a.t("pageDoesntExist")),c.createElement(Qn.a,{onPress:function(){return t.replace("LoginScreen")},style:r.link},c.createElement(Jn.a,{style:r.linkText},ee.a.t("goHome")))))}}]),n}(c.Component),gr=$n((function(e){return Yn.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",padding:20},title:dr(dr({fontSize:48},sr),{},{textAlign:"center",color:e.text}),subtitle:{fontSize:20,marginTop:50,color:e.text},link:{paddingVertical:10},linkText:{fontSize:16,color:"#2e78b7"}})})),yr=Object(er.l)(mr),vr=n(49),br=n(27);function Sr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Er=Object(br.b)((function(e){return{validated:e.auth.validated}})),Or=function(e){zn()(n,e);var t=Sr(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=jn.getState().auth.verificationToken;if(C&&O==r.Staging&&t)e(ye(t));else if(this.props.route.params){var n=this.props.route.params.token;n&&e(ye(n))}}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.validated,r=Cr(t);return c.createElement(ir,null,c.createElement(Zn.a,{style:r.container},!n&&c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:r.title},ee.a.t("emailValidation.validating")),c.createElement(vr.a,{size:"large",color:t.accentSecondary})),n&&c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:r.successText},ee.a.t("emailValidation.success")[0],c.createElement(Jn.a,{onPress:function(){return function(e,t){var n=function(){return yn(t)};if("web"===mn.a.OS){var r=E+"://"+e;window.location.replace(r),setTimeout((function(){console.log("Failed to redirect to "+r+" (perhaps app is not installed on this device) - Staying on web version"),n()}),5e3)}else n()}("login","LoginScreen")},style:{color:t.accent}},ee.a.t("emailValidation.success")[1])))))}}]),n}(c.Component),Cr=$n((function(e){return Yn.a.create({container:{flex:1,width:"75%",justifyContent:"center",alignItems:"center"},title:{fontSize:20,marginVertical:20,textAlign:"center",color:e.text},successText:{fontSize:18,lineHeight:40,textAlign:"center",color:e.text}})})),Rr=Er(Object(er.l)(Or));function wr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Tr=Object(br.b)((function(e){return{registerEmail:e.auth.registerEmail}})),Pr=function(e){zn()(n,e);var t=wr(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.registerEmail,n=e.theme,r=kr(n);return c.createElement(ir,null,c.createElement(Zn.a,{style:r.container},c.createElement(d.a,{name:"envelope-o",style:r.mailIcon}),c.createElement(Jn.a,{style:r.description},"To validate your account, click the link in the email we just sent to"),c.createElement(Jn.a,{style:r.email},t),C&&c.createElement(Qn.a,{onPress:function(){return yn("ValidateEmailScreen")}},c.createElement(Jn.a,{style:{marginVertical:30,textAlign:"center",fontSize:16,color:"blue"}},"debug: click here"))))}}]),n}(c.Component),kr=$n((function(e){return Yn.a.create({container:{flex:1,width:"75%",justifyContent:"center",alignItems:"center"},description:{fontSize:16,textAlign:"center",color:e.text},mailIcon:{marginVertical:30,fontSize:50,color:e.text},email:{fontSize:16,fontWeight:"bold",color:e.text,width:"100%",textAlign:"center"}})})),xr=Tr(Object(er.l)(Pr)),Ir={prefixes:[n(551).a("/"),R,E+"://"],config:{screens:{LoginScreen:{screens:{WelcomeScreen:"welcome",SigninScreen:{screens:{LoginScreen:"login",ForgotPasswordScreen:"forgot-password",SignupScreen:"signup"}}}},ForgotPasswordEmailSentScreen:"password-email-sent",ValidationEmailSentScreen:"validation-sent",MainScreen:{screens:{TabHome:{screens:{TabHomeScreen:"home"}},TabMatching:{screens:{TabMatchingScreen:"match",MAtchFilteringScren:"match/filters"}},TabMessaging:{screens:{ChatRoomsScreen:"messaging",ChatScreen:"chat/:roomId"}},TabNotifications:{screens:{TabNotificationsScreen:"notifications"}}}},ValidateEmailSentScreen:"validate/success",ValidateEmailScreen:"validate/:token",ResetPasswordScreen:"reset-password/:token",ResetPasswordSuccessScreen:"password-reset",MyProfileScreen:"profile",ProfileScreen:"profile/:id",SettingsScreen:"settings",DeleteAccountScreen:"delete-account",DeleteAccountSuccessScreen:"account-deleted",OnboardingScreen:{screens:{OnboardingNameScreen:"onboarding/name",OnboardingPersonalInfoScreen:"onboarding/info",OnboardingLanguageScreen:"onboarding/language",OnboardingInterestsScreen:"onboarding/interests",OnboardingRoleScreen:"onboarding/role/1",OnboardingRoleSpecificScreen:"onboarding/role/2",OnboardingOffersScreen1:"onboarding/offers/1",OnboardingOffersScreen2:"onboarding/offers/2",OnboardingOffersScreen3:"onboarding/offers/3",OnboardingTosScreen:"onboarding/tos",OnboardingPrivacyScreen:"onboarding/privacy"}},OnboardingSuccessfulScreen:"onboarding/success",MatchSuccessScreen:"match/success",NotFoundScreen:"*"}}},jr=n(779),Dr=n(31),_r=n(64),Ar=n(15),Lr=n.n(Ar),Fr=n(38);function Mr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Nr=function(e){zn()(n,e);var t=Mr(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.style,r=Lr()(e,["theme","style"]),o=Br(t);return c.createElement(Jn.a,Fn()({},r,{style:[o.text,n]}),this.props.children)}}]),n}(c.Component),Br=$n((function(e){return Yn.a.create({text:{color:e.textLight,textTransform:"uppercase",letterSpacing:1,fontSize:12}})})),Hr=Object(er.l)(Nr);function Ur(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Vr=function(e){zn()(n,e);var t=Ur(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.style,r=e.error,o=Lr()(e,["theme","style","error"]),a=zr(t),i=r?"string"===typeof r?r:r[0]:null;return c.createElement(Jn.a,Fn()({},o,{style:[a.text,n]}),i?te(i):"")}}]),n}(c.Component),zr=$n((function(e){return Yn.a.create({text:{fontSize:12,marginTop:2,marginBottom:-12,color:e.error}})})),Gr=Object(er.l)(Vr);function Wr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var qr=function(e){zn()(n,e);var t=Wr(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).inputRef=s.a.createRef(),r.state={focused:!1},r}return Ut()(n,[{key:"focus",value:function(){var e;null==(e=this.inputRef.current)||e.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.showErrorText,r=t.error,o=t.value,a=t.label,i=t.icon,c=t.untouched,l=t.style,u=t.wrapperStyle,f=t.inputStyle,p=t.inputFocusedStyle,d=t.errorStyle,h=t.validStyle,m=t.focusedStyle,g=t.errorTextStyle,y=t.labelStyle,v=t.placeholderTextColor,b=t.onBlur,S=t.onFocus,E=Lr()(t,["showErrorText","error","value","label","icon","untouched","style","wrapperStyle","inputStyle","inputFocusedStyle","errorStyle","validStyle","focusedStyle","errorTextStyle","labelStyle","placeholderTextColor","onBlur","onFocus"]),O=n&&!c&&r;return s.a.createElement(Zn.a,{style:[u,{width:"100%",flexDirection:"column",position:"relative",paddingBottom:O?0:6}]},a&&s.a.createElement(Hr,{style:y},a),s.a.createElement(Zn.a,{style:[{flexDirection:"row",alignItems:"center"},l,this.state.focused?m:{},c?{}:r?d:o.length>0?h:{}]},i&&i(this.state.focused,void 0!==r,void 0!==r&&o.length>0),s.a.createElement(Fr.a,Fn()({ref:this.inputRef,style:[{flex:1,height:"100%",backgroundColor:"transparent"},f,this.state.focused?p:{}],onBlur:function(t){b&&b(t),e.setState({focused:!1})},onFocus:function(t){S&&S(t),e.setState({focused:!0})},value:o,placeholderTextColor:v},E))),O&&s.a.createElement(Gr,{style:g,error:r}))}}]),n}(s.a.Component);qr.defaultProps={untouched:!1,style:[],wrapperStyle:[],errorStyle:[],validStyle:[],focusedStyle:[],errorTextStyle:[],labelStyle:[]};var Kr=qr;function Yr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Jr={keyboardType:"email-address",autoCompleteType:"email",textContentType:"emailAddress",autoCapitalize:"none",autoCorrect:!1},Qr={secureTextEntry:!0,autoCompleteType:"password",textContentType:"password",autoCapitalize:"none",autoCorrect:!1},Zr=function(e){zn()(n,e);var t=Yr(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).inputRef=s.a.createRef(),e}return Ut()(n,[{key:"focus",value:function(){var e;null==(e=this.inputRef.current)||e.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.field,r=t.touched,o=t.handleChange,a=t.handleBlur,i=t.error,c=t.onBlur,l=t.onChangeText,u=t.isEmail,f=t.isPassword,p=Lr()(t,["field","touched","handleChange","handleBlur","error","onBlur","onChangeText","isEmail","isPassword"]);return s.a.createElement(Kr,Fn()({ref:this.inputRef,error:r?i:void 0,untouched:!r,onChangeText:function(e){l&&l(e),o(n)(e)},onBlur:function(t){c&&c(t),a(e.props.field)(t)}},u?Jr:{},f?Qr:{},p))}}]),n}(s.a.Component);Zr.defaultProps={showErrorText:!0,handleChange:function(){},handleBlur:function(){}};var Xr=$n((function(e){return Yn.a.create({inputFieldIcon:{fontSize:20,color:e.inputPlaceholder,marginRight:10},inputFieldIconFocused:{color:e.accent}})}));function $r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{wrapperStyle:{width:"100%",marginVertical:t},style:{width:"100%",height:50,borderBottomWidth:2,borderColor:e.componentBorder},focusedStyle:{borderColor:e.accent},errorStyle:{borderBottomWidth:2,borderBottomColor:e.error},validStyle:{borderBottomWidth:2,borderBottomColor:e.okay},labelStyle:{marginBottom:4},inputStyle:{fontSize:16,color:e.accent},inputFocusedStyle:"web"===mn.a.OS?{outline:"none"}:{},placeholderTextColor:e.inputPlaceholder}}function eo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var to=function(e){zn()(n,e);var t=eo(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.theme,r=e.style,o=Lr()(e,["error","theme","style"]),a=no(n);return c.createElement(c.Fragment,null,t&&t.length>0&&c.createElement(Zn.a,Fn()({style:[a.wrapper,r]},o),c.createElement(Jn.a,{style:a.text},t?te(t):"")))}}]),n}(c.Component),no=$n((function(e){return Yn.a.create({wrapper:{marginTop:5},text:{fontSize:14,color:e.error,textAlign:"center"}})})),ro=Object(er.l)(to);function oo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ao={"rounded-filled":function(e){return{button:{justifyContent:"center",alignItems:"center",width:"100%",height:48,marginVertical:10,borderRadius:100,backgroundColor:e.accent},text:{fontSize:18,letterSpacing:1,color:e.textWhite}}},"rounded-hollow":function(e){return{button:{justifyContent:"center",alignItems:"center",width:"100%",height:48,marginVertical:10,borderRadius:100,borderColor:e.accent,borderWidth:1},text:{fontSize:18,letterSpacing:1,color:e.accent}}}},io=function(e){zn()(n,e);var t=oo(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.onPress,n=e.text,r=e.icon,o=e.skin,a=e.style,i=e.textStyle,s=e.children,l=e.theme,u=o?ao[o](l):{button:{},text:{}};return c.createElement(Qn.a,{accessibilityRole:"button",accessibilityLabel:n,onPress:t,style:[{flexDirection:"row",alignItems:"center"},u.button,a]},s||c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:[u.text,i]},n),r))}}]),n}(c.Component),co=Object(er.l)(io);function so(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var lo=function(e){zn()(n,e);var t=so(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.submitting,n=e.onPress,r=e.style,o=e.loadingIndicatorStyle,a=e.theme,i=Lr()(e,["submitting","onPress","style","loadingIndicatorStyle","theme"]);return c.createElement(co,Fn()({onPress:t?void 0:n},{style:[{flexDirection:"row",alignItems:"center"},r]},i),t&&c.createElement(vr.a,{color:a.accentTernary,style:o}))}}]),n}(c.Component),uo=Object(er.l)(lo),fo=n(506),po=n(509);function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function go(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var yo=Ne.c().shape({email:Ye,password:Je}),vo=Object(br.b)((function(e){return{validatedEmail:e.auth.validatedEmail}})),bo=function(e){zn()(n,e);var t=go(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).pwdInputRef=c.createRef(),r.setFieldValue=null,r.state={submitting:!1},r}return Ut()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.validatedEmail;this.setFieldValue&&t&&e.validatedEmail!=t&&this.setFieldValue("email",t)}},{key:"submit",value:function(e){var t=this;this.setState(mo(mo({},this.state),{},{submitting:!0})),this.props.dispatch(me(e.email,e.password)).then((function(n){var r=n.success,o=n.errors;if(r&&t.props.onSuccessfulSubmit&&t.props.onSuccessfulSubmit(e),o&&o.fields){var a=o.fields;Object.keys(a).forEach((function(e){return t.setFieldError&&t.setFieldError(e,te(a[e]))}))}t.setState({remoteErrors:o,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=this.state,a=o.remoteErrors,i=o.submitting,s=So(n),l=Xr(n);return c.createElement(Zn.a,{style:[{width:"100%"},r]},c.createElement(_r.a,{initialValues:{email:"",password:""},validationSchema:yo,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,u=t.errors,f=t.touched,p=t.handleChange,d=t.handleBlur,h=t.setFieldValue,m=t.setFieldError,g=mo({handleChange:p,handleBlur:d},$r(n,10));return e.setFieldValue=h,e.setFieldError=m,c.createElement(Zn.a,null,c.createElement(Zr,Fn()({field:"email",placeholder:ee.a.t("emailAddress"),accessibilityLabel:ee.a.t("emailAddress"),error:u.email,value:o.email,touched:f.email,isEmail:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdInputRef.current)?void 0:t.focus()},icon:function(e){return c.createElement(fo.a,{name:"email",style:[l.inputFieldIcon,e?l.inputFieldIconFocused:{}]})}},g)),c.createElement(Zr,Fn()({ref:e.pwdInputRef,field:"password",placeholder:ee.a.t("password"),accessibilityLabel:ee.a.t("password"),error:u.password,value:o.password,touched:f.password,isPassword:!0,returnKeyType:"done",icon:function(e){return c.createElement(fo.a,{name:"lock",style:[l.inputFieldIcon,e?l.inputFieldIconFocused:{}]})}},g)),c.createElement(ro,{error:oe(a)}),c.createElement(Qn.a,{accessibilityRole:"link",accessibilityLabel:ee.a.t("forgotPassword"),onPress:function(){Dr.a.dismiss(),yn("ForgotPasswordScreen")},style:s.forgotPwdLink},c.createElement(Jn.a,{style:s.forgotPasswordText},ee.a.t("forgotPassword"))),c.createElement(Zn.a,{style:s.actionsContainer},c.createElement(uo,{onPress:function(){return r()},skin:"rounded-filled",text:ee.a.t("loginForm.logIn"),icon:c.createElement(po.a,{name:"login",style:s.loginButtonIcon}),submitting:i}),c.createElement(Zn.a,{style:s.separatorContainer},c.createElement(Zn.a,{style:s.separatorHbar}),c.createElement(Jn.a,{style:s.separatorText},ee.a.t("loginForm.or")),c.createElement(Zn.a,{style:s.separatorHbar})),c.createElement(co,{onPress:function(){return yn("SignupScreen")},skin:"rounded-hollow",text:ee.a.t("loginForm.signUp")})))})))}}]),n}(c.Component),So=$n((function(e){return Yn.a.create({actionsContainer:{flexDirection:"column",width:"100%"},loginButtonIcon:{color:e.textWhite,fontSize:20,marginLeft:5},forgotPwdLink:{height:48,justifyContent:"center",paddingHorizontal:8},forgotPasswordText:{fontSize:14,letterSpacing:.5,color:e.textLight,textAlign:"center"},separatorContainer:{width:"100%",flexDirection:"row",alignItems:"center"},separatorHbar:{flex:1,height:1,backgroundColor:e.text,opacity:.2},separatorText:{fontSize:14,color:e.textLight,paddingHorizontal:10}})})),Eo=vo(Object(er.l)(bo));function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ro(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var wo=Ne.c().shape({email:Ye}),To=function(e){zn()(n,e);var t=Ro(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={submitting:!1},r}return Ut()(n,[{key:"submit",value:function(e){var t=this,n=e.email;this.setState(Co(Co({},this.state),{},{submitting:!0})),jn.dispatch(function(e){return function(t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.awrap(I("auth/password/forgot","POST",{},{email:e}));case 2:if((n=r.sent).status!=v.OK){r.next=8;break}return t(Se(e)),r.abrupt("return",{success:!0});case 8:return t(Ee()),r.abrupt("return",{success:!1,errors:re(n)});case 10:case"end":return r.stop()}}),null,null,null,Promise)}}(n)).then((function(e){var n=e.errors;if(n&&n.fields){var r=n.fields;Object.keys(r).forEach((function(e){return t.setFieldError&&t.setFieldError(e,te(r[e]))}))}t.setState({remoteErrors:n,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=this.state,a=o.remoteErrors,i=o.submitting,s=Po(n);return c.createElement(Zn.a,{style:[{width:"100%"},r]},c.createElement(Zn.a,{style:s.titleWrapper},c.createElement(Jn.a,{style:s.title},ee.a.t("newPassword")),c.createElement(Jn.a,{style:s.description},ee.a.t("forgotPasswordExplanation"))),c.createElement(_r.a,{initialValues:{email:""},validationSchema:wo,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,l=t.errors,u=t.touched,f=t.handleChange,p=t.handleBlur,d=t.setFieldError,h=Co({handleChange:f,handleBlur:p},$r(n));return e.setFieldError=d,c.createElement(c.Fragment,null,c.createElement(Zr,Fn()({field:"email",placeholder:ee.a.t("emailAddress"),error:l.email,value:o.email,touched:u.email,isEmail:!0},h)),c.createElement(ro,{error:oe(a)}),c.createElement(Zn.a,{style:s.actionsContainer},c.createElement(uo,{onPress:function(){Dr.a.dismiss(),r()},skin:"rounded-filled",text:ee.a.t("send"),submitting:i}),c.createElement(co,{onPress:function(){Dr.a.dismiss(),vn()},skin:"rounded-hollow",text:ee.a.t("cancel")})))})))}}]),n}(c.Component),Po=$n((function(e){return Yn.a.create({actionsContainer:{flexDirection:"column",width:"100%",marginTop:40},titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},description:{textAlign:"justify",fontSize:16,marginTop:10,color:e.textLight}})})),ko=Object(er.l)(To),xo=n(41),Io=n(139);function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ao=function(e){zn()(n,e);var t=_o(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).keyboardShown=!1,r.state={height:0},r}return Ut()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.notKeyboardReactive||(Dr.a.addListener("keyboardDidShow",(function(){e.keyboardShown=!0})),Dr.a.addListener("keyboardDidHide",(function(){return e.keyboardShown=!1})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.notKeyboardReactive,r=t.contentStyle,o=t.theme,a=this.state.height,i=Lo(o);return c.createElement(xo.a,{keyboardShouldPersistTaps:"handled",style:i.scrollView,contentContainerStyle:[i.scrollViewContent,{minHeight:n?0:a}],onLayout:function(t){n&&0!=e.state.height||e.keyboardShown||e.setState(Do(Do({},e.state),{},{height:t.nativeEvent.layout.height}))}},c.createElement(Io.a,{behavior:"padding",style:[i.keyboardAvoidingView,r]},this.props.children))}}]),n}(c.Component),Lo=$n((function(){return{keyboardAvoidingView:{flex:1,width:"80%",maxWidth:400,justifyContent:"center",alignItems:"center"},scrollView:{flex:1,width:"100%"},scrollViewContent:{justifyContent:"center",alignItems:"center"}}})),Fo=Object(er.l)(Ao);function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ho=Ne.c().shape({email:We,password:qe,passwordRepeat:Ke}),Uo=function(e){zn()(n,e);var t=Bo(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).pwdField1Ref=c.createRef(),r.pwdField2Ref=c.createRef(),r.state={submitting:!1},r}return Ut()(n,[{key:"submit",value:function(e){var t=this;this.setState(No(No({},this.state),{},{submitting:!0})),jn.dispatch(ue(e.email,e.password)).then((function(n){var r=n.success,o=n.errors;if(r&&t.props.onSuccessfulSubmit&&t.props.onSuccessfulSubmit(e),o&&o.fields){var a=o.fields;Object.keys(a).forEach((function(e){return t.setFieldError&&t.setFieldError(e,te(a[e]))}))}t.setState({remoteErrors:o,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=this.state,a=o.remoteErrors,i=o.submitting,s=Vo(n),l=Xr(n);return c.createElement(Zn.a,{style:[{width:"100%"},r]},c.createElement(Jn.a,{style:s.title},ee.a.t("signupWelcome")),c.createElement(_r.a,{initialValues:{email:"",password:"",passwordRepeat:""},validationSchema:Ho,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,u=t.errors,f=t.touched,p=t.handleChange,d=t.handleBlur,h=t.setFieldError,m=No({handleChange:p,handleBlur:d},$r(n,5));return e.setFieldError=h,c.createElement(c.Fragment,null,c.createElement(Zr,Fn()({field:"email",placeholder:ee.a.t("emailAddress"),accessibilityLabel:ee.a.t("emailAddress"),error:u.email,value:o.email,touched:f.email,isEmail:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdField1Ref.current)?void 0:t.focus()}},m,{icon:function(e){return c.createElement(fo.a,{name:"email",style:[l.inputFieldIcon,e?l.inputFieldIconFocused:{}]})}})),c.createElement(Zr,Fn()({ref:e.pwdField1Ref,field:"password",placeholder:ee.a.t("password"),accessibilityLabel:ee.a.t("password"),error:u.password,value:o.password,touched:f.password,isPassword:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdField2Ref.current)?void 0:t.focus()}},m,{icon:function(e){return c.createElement(fo.a,{name:"lock",style:[l.inputFieldIcon,e?l.inputFieldIconFocused:{}]})}})),c.createElement(Fr.a,{style:{width:1,height:1}}),c.createElement(Zr,Fn()({ref:e.pwdField2Ref,field:"passwordRepeat",placeholder:ee.a.t("passwordRepeat"),accessibilityLabel:ee.a.t("passwordRepeat"),error:u.passwordRepeat,value:o.passwordRepeat,touched:f.passwordRepeat,isPassword:!0,returnKeyType:"done"},m,{icon:function(e){return c.createElement(fo.a,{name:"lock",style:[l.inputFieldIcon,e?l.inputFieldIconFocused:{}]})}})),c.createElement(ro,{error:oe(a)}),c.createElement(Zn.a,{style:s.actionsContainer},c.createElement(uo,{onPress:function(){Dr.a.dismiss(),r()},skin:"rounded-filled",text:ee.a.t("createAccount"),submitting:i}),c.createElement(co,{onPress:function(){Dr.a.dismiss(),vn()},skin:"rounded-hollow",text:ee.a.t("cancel")})))})))}}]),n}(c.Component),Vo=$n((function(e){return Yn.a.create({actionsContainer:{flexDirection:"column",width:"100%",marginTop:10},title:{fontSize:22,marginBottom:5,color:e.text}})})),zo=Object(er.l)(Uo),Go=n(29),Wo=n(21);var qo=function(){return c.createElement(c.Fragment,null)},Ko={},Yo=null,Jo=null;function Qo(e,t){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="logos.erasmusLeft"===e.t0?3:4;break;case 3:return e.abrupt("return",n.e(11).then(n.t.bind(null,795,7)));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}function Zo(e,t){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="logos.erasmusLeft"===e.t0?3:4;break;case 3:return e.abrupt("return",n.e(12).then(n.t.bind(null,796,7)));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}function Xo(e,t){var r=jn.getState().settings.userSettings;if(Yo==r.locale&&Jo==r.theme||(Ko={}),Yo=r.locale,Jo=r.theme,Ko[e])return Ko[e];var o=function(n){Ko[e]=n.default,t&&t()};return("en"===Yo?Qo:Zo)(Jo,e).then((function(t){null===t?function(e,t){return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=t,r.next="welcome"===r.t0?3:"login-header"===r.t0?4:"offers.categories.discover"===r.t0?5:"offers.categories.meet"===r.t0?6:"offers.categories.collaborate"===r.t0?7:"background.onboarding"===r.t0?8:"logos.junior-atlantique"===r.t0?9:"logos.sea-eu-around.small"===r.t0?10:11;break;case 3:return r.abrupt("return",n.e(8).then(n.bind(null,785)));case 4:return r.abrupt("return",n.e(4).then(n.bind(null,786)));case 5:return r.abrupt("return",n.e(6).then(n.bind(null,787)));case 6:return r.abrupt("return",n.e(7).then(n.bind(null,788)));case 7:return r.abrupt("return",n.e(5).then(n.bind(null,789)));case 8:return r.abrupt("return",n.e(3).then(n.bind(null,790)));case 9:return r.abrupt("return","light"===e?n.e(10).then(n.t.bind(null,791,7)):n.e(9).then(n.t.bind(null,792,7)));case 10:return r.abrupt("return",n.e(13).then(n.t.bind(null,793,7)));case 11:return r.abrupt("return",n.e(14).then(n.t.bind(null,794,7)));case 12:case"end":return r.stop()}}),null,null,null,Promise)}(Jo,e).then((function(e){return o(e)})):o(t)})),0}function $o(e,t){var n=Xo(e,t);return 0===n?qo:n}var ea=n(783);function ta(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var na=function(e){zn()(n,e);var t=ta(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).height=new Wo.c.Value(e.getFullHeight()-60),e.imageTop=new Wo.c.Value(e.getFullHeight()-e.getImageHeight()),e}return Ut()(n,[{key:"back",value:function(){Dr.a.dismiss(),yn("WelcomeScreen")}},{key:"getImageHeight",value:function(){return 800/620*Go.a.get("window").width}},{key:"getCollapsedHeight",value:function(){return 280+this.props.insets.top}},{key:"getFullHeight",value:function(){return Math.min(Go.a.get("window").height-420+this.props.insets.top,530)}},{key:"componentDidMount",value:function(){var e=this;Dr.a.addListener("keyboardDidShow",(function(){var t=Wo.a.cubic;Wo.c.timing(e.height,{toValue:e.getCollapsedHeight()-60,duration:100,easing:t}).start(),Wo.c.timing(e.imageTop,{toValue:e.getCollapsedHeight()-e.getImageHeight(),duration:100,easing:t}).start()})),Dr.a.addListener("keyboardDidHide",(function(){var t=Wo.a.cubic;Wo.c.timing(e.height,{toValue:e.getFullHeight()-60,duration:100,easing:t}).start(),Wo.c.timing(e.imageTop,{toValue:e.getFullHeight()-e.getImageHeight(),duration:100,easing:t}).start()}))}},{key:"render",value:function(){var e=this,t=this.props.theme,n=ra(t),r=$o("login-header");return"web"===mn.a.OS?c.createElement(c.Fragment,null):c.createElement(c.Fragment,null,c.createElement(Wo.c.View,{style:[n.image,{top:this.imageTop}]},c.createElement(r,{viewBox:"0 0 620 800"})),c.createElement(Wo.c.View,{style:[n.container,{height:this.height}]},c.createElement(Qn.a,{style:n.navigationButton,onPress:function(){return e.back()}},c.createElement(fo.a,{name:"chevron-left",style:n.navigationIcon})),c.createElement(Jn.a,{style:n.title},ee.a.t("loginForm.title"))))}}]),n}(c.Component),ra=$n((function(e){return Yn.a.create({container:{width:"100%",padding:40,zIndex:2},navigationButton:{width:50,marginLeft:-15},navigationIcon:{color:e.textWhite,fontSize:50},title:{color:e.textWhite,fontSize:42,maxWidth:200,fontFamily:"RalewaySemiBold"},image:{position:"absolute",left:0,width:Go.a.get("window").width,aspectRatio:.775,zIndex:1}})}));function oa(){var e=Object(ea.d)();return c.createElement(er.h,null,(function(t){return c.createElement(na,Fn()({},t,{insets:e}))}))}function aa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ia=function(e){zn()(n,e);var t=aa(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){return c.createElement(ir,null,c.createElement(Fo,{notKeyboardReactive:!0},c.createElement(Eo,{containerStyle:{paddingTop:60}})))}}]),n}(c.Component),ca=function(e){zn()(n,e);var t=aa(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){return c.createElement(ir,null,c.createElement(Fo,{notKeyboardReactive:!0},c.createElement(ko,{containerStyle:{paddingTop:60}})))}}]),n}(c.Component),sa=function(e){zn()(n,e);var t=aa(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){return c.createElement(ir,null,c.createElement(Fo,null,c.createElement(zo,{containerStyle:{paddingTop:60}})))}}]),n}(c.Component);function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var pa=function(e){zn()(n,e);var t=fa(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.text,r=e.containerStyle,o=e.textStyle,a=da(t),i=this.props.fontSize||24,s=.55*i,l=.4*i;return c.createElement(Zn.a,{style:[a.textContainer,r]},c.createElement(Zn.a,{style:[a.underline,{height:s,bottom:-1}]}),c.createElement(Jn.a,{style:[a.text,o,{fontSize:i,paddingHorizontal:l}]},n))}}]),n}(c.Component),da=$n((function(e){return Yn.a.create({textContainer:{alignItems:"center"},text:ua({fontFamily:"RalewaySemiBold",color:e.accent,zIndex:2},"dark"===e.id?{textShadowColor:"rgba(0, 0, 0, 0.6)",textShadowOffset:{width:0,height:1},textShadowRadius:1}:{}),underline:{position:"absolute",width:"100%",backgroundColor:e.accentTernary,zIndex:1}})})),ha=Object(er.l)(pa);function ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ga=function(e){zn()(n,e);var t=ma(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props.theme,n=ya(t),r=$o("welcome",(function(){return e.forceUpdate()}));return c.createElement(ir,null,c.createElement(Zn.a,{style:n.container},c.createElement(Zn.a,{style:n.imageContainer},c.createElement(r,null)),c.createElement(Zn.a,{style:n.textContainer},c.createElement(ha,{text:ee.a.t("appName"),fontSize:32,textStyle:n.appName}),c.createElement(Jn.a,{style:n.subtitle,numberOfLines:2},ee.a.t("welcomeScreen.subtitle"))),c.createElement(Zn.a,{style:n.actionsContainer},c.createElement(co,{text:ee.a.t("welcomeScreen.signIn"),onPress:function(){return yn("SigninScreen")},skin:"rounded-filled"}),c.createElement(co,{text:ee.a.t("welcomeScreen.signUp"),onPress:function(){return yn("SignupScreen")},skin:"rounded-hollow"}))))}}]),n}(c.Component),ya=$n((function(e){return Yn.a.create({container:{flex:1,width:"85%",alignItems:"center",justifyContent:"space-between",paddingTop:"20%"},imageContainer:{width:"100%",height:300},textContainer:{},appName:{color:e.accent,fontFamily:"RalewayBold"},subtitle:{color:e.accent,fontFamily:"RalewaySemiBold",fontSize:16,textAlign:"center",alignSelf:"center",maxWidth:250,marginTop:10},actionsContainer:{width:"100%",marginBottom:30}})})),va=Object(er.l)(ga),ba=n(85),Sa=n.n(ba);function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ca(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ra=function(e){zn()(n,e);var t=Ca(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={modalVisible:e.visible||!1},r.el=document.createElement("div"),r}return Ut()(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentDidUpdate",value:function(e){e.visible&&!this.props.visible&&this.setModalVisible(!1),!e.visible&&this.props.visible&&this.setModalVisible(!0)}},{key:"setModalVisible",value:function(e){this.setState(Oa(Oa({},this.state),{},{modalVisible:e})),!e&&this.props.onHide&&this.props.onHide(),e&&this.props.onShow&&this.props.onShow()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.modalViewStyle,o=t.bottom,a=t.fullWidth,i=t.fullHeight,c=t.nonDismissable,l=t.noBackground,u=t.backdropOpacity,f=this.state.modalVisible?s.a.createElement(s.a.Fragment,null,s.a.createElement(Qn.a,{style:{position:"fixed",width:"100%",height:"100%",left:0,top:0,backgroundColor:"rgba(0,0,0,"+(u||.05)+")",cursor:"pointer"},activeOpacity:1,onPress:c?void 0:function(){return e.setModalVisible(!1)}}),s.a.createElement(Zn.a,{style:[Oa(Oa({position:"fixed",left:0,right:0},o?{}:{top:0}),{},{bottom:0,margin:"auto",width:"50%",height:"fit-content",maxWidth:300,borderRadius:3,paddingVertical:20,paddingHorizontal:30,alignItems:"center"}),a?{width:"100%",maxWidth:"100%"}:{},i?{height:"100%"}:{},l?{}:{backgroundColor:n.cardBackground,boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.05)"},r]},this.props.renderContent((function(){return e.setModalVisible(!1)})))):s.a.createElement(s.a.Fragment,null);return Sa.a.createPortal(f,this.el)}}]),n}(s.a.Component),wa=Object(er.l)(Ra);function Ta(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Pa=function(e){zn()(n,e);var t=Ta(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Ut()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.setModalVisible(!0)}},{key:"hide",value:function(){var e;null==(e=this.modalRef.current)||e.setModalVisible(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.activator,r=Lr()(t,["activator"]),o=n?n((function(){return e.show()})):s.a.createElement(s.a.Fragment,null);return s.a.createElement(s.a.Fragment,null,o,s.a.createElement(wa,Fn()({ref:this.modalRef},r)))}}]),n}(s.a.Component),ka=Object(er.l)(Pa);function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ja(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Da=function(e){zn()(n,e);var t=ja(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).ACTIONS=[{title:"Access MainScreen",onPress:function(){yn("MainScreen"),r.hide()}},{title:"Access OnBoardingScreen",onPress:function(){yn("OnboardingScreen"),r.hide()}},{title:"Automatically create profile",onPress:function(){jn.dispatch((function(e,t){var n,r,o,a;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=Math.round(1e3*Math.random()),r="test"+n+".test@univ-brest.fr",o="PASSword$1",i.next=5,u.a.awrap(e(ue(r,o)));case 5:if(!(a=t().auth.verificationToken)){i.next=13;break}return i.next=9,u.a.awrap(e(ye(a)));case 9:return i.next=11,u.a.awrap(e(me(r,o)));case 11:return i.next=13,u.a.awrap(e(Y({type:"staff",birthdate:"2002-11-12T07:21:22.110Z",firstName:"Kevin"+n,lastName:"Test",gender:"male",languages:[{code:"fr",level:"native"},{code:"en",level:"c1"}],nationality:"FR",interests:[{id:"baking"},{id:"art"},{id:"brunch"}],profileOffers:[{offerId:"provide-a-couch",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!1,allowStudent:!0},{offerId:"grab-a-drink",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!1,allowStudent:!0},{offerId:"answer-academic-questions",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!0,allowStudent:!0}],educationFields:[{id:"education-science"},{id:"music-performing-arts"}],staffRoles:[{id:"research"},{id:"teaching"}]})));case 13:case"end":return i.stop()}}),null,null,null,Promise)})),r.hide()}},{title:"Hide",containerStyle:{backgroundColor:"red"},titleStyle:{color:"white"},onPress:function(){return r.hide()}}],r.state={visible:!1},r}return Ut()(n,[{key:"show",value:function(){this.setState(Ia(Ia({},this.state),{},{visible:!0}))}},{key:"hide",value:function(){this.setState(Ia(Ia({},this.state),{},{visible:!1}))}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state.visible,r=c.createElement(c.Fragment,null,c.createElement(er.f,null,c.createElement(er.f.Content,null,c.createElement(er.f.Title,{style:{fontSize:26,marginBottom:10,color:t.text}},"Debug Menu"))),this.ACTIONS.map((function(e,t){return c.createElement(er.f,{key:"debug-action-"+t,containerStyle:e.containerStyle,onPress:e.onPress},c.createElement(er.f.Content,null,c.createElement(er.f.Title,{style:e.titleStyle},e.title)))})));return c.createElement(c.Fragment,null,c.createElement(Qn.a,{style:{position:"absolute",bottom:50,right:10,width:36,height:36,backgroundColor:t.error,borderRadius:20,justifyContent:"center",alignItems:"center"},onPress:function(){return e.show()}},c.createElement(d.a,{name:"gear",color:"white",style:{fontSize:26}})),"web"!==mn.a.OS&&c.createElement(er.b,{modalProps:{statusBarTranslucent:!0},isVisible:n},r),"web"===mn.a.OS&&c.createElement(ka,{visible:n,onHide:function(){return e.hide()},renderContent:function(){return r}}))}}]),n}(c.Component),_a=Object(er.l)(Da);var Aa=$n((function(e){return Yn.a.create({versionInfoContainer:{position:"absolute",flexDirection:"row",alignItems:"center",bottom:5,left:5},versionText:{color:e.textLight,fontSize:12},versionAlphaText:{color:e.error},versionDisclaimerIcon:{color:e.error,fontSize:13}})})),La=Object(er.l)((function(e){var t=e.theme,n=Aa(t);return c.createElement(Zn.a,{style:n.versionInfoContainer},c.createElement(Jn.a,{style:n.versionText},S," "),c.createElement(Jn.a,{style:[n.versionText,n.versionAlphaText]}," (Alpha)"))}));var Fa=$n((function(e){return Yn.a.create({toggleThemeContainer:{position:"absolute",bottom:0,right:0},toggleThemeButton:{width:48,height:48,justifyContent:"center",alignItems:"center"},toggleThemeIcon:{fontSize:26,color:e.textLight}})})),Ma=Object(er.l)((function(e){var t=e.theme,n=Fa(t);return c.createElement(Zn.a,{style:n.toggleThemeContainer},c.createElement(Qn.a,{style:n.toggleThemeButton,onPress:function(){return jn.dispatch(Te())}},c.createElement(po.a,{style:n.toggleThemeIcon,name:"theme-light-dark",color:"black"})))})),Na=Object(jr.a)(),Ba=Object(jr.a)(),Ha=function(){return c.createElement(Ba.Navigator,{swipeEnabled:!1,tabBar:function(){return c.createElement(c.Fragment,null)}},c.createElement(Ba.Screen,{name:"WelcomeScreen",component:va,options:{title:bn("WelcomeScreen")}}),c.createElement(Ba.Screen,{name:"SigninScreen"},(function(){return c.createElement(c.Fragment,null,c.createElement(oa,null),c.createElement(Na.Navigator,{tabBar:function(){return c.createElement(c.Fragment,null)},initialRouteName:"LoginScreen",swipeEnabled:!1},c.createElement(Na.Screen,{name:"ForgotPasswordScreen",component:ca,options:{title:bn("ForgotPasswordScreen")}}),c.createElement(Na.Screen,{name:"LoginScreen",component:ia,options:{title:bn("LoginScreen")}}),c.createElement(Na.Screen,{name:"SignupScreen",component:sa,options:{title:bn("SignupScreen")}})),c.createElement(La,null),c.createElement(Ma,null),C&&c.createElement(_a,null))})))},Ua=n(781),Va=n(552);function za(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ga=Object(br.b)(),Wa=function(e){zn()(n,e);var t=za(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.theme,r=e.onLogOut,o=e.style,a=qa(n);return c.createElement(Qn.a,{onPress:function(){t(ge()),r&&r()}},c.createElement(Jn.a,{style:[a.text,o]},ee.a.t("logOut")))}}]),n}(c.Component),qa=$n((function(e){return Yn.a.create({text:{fontSize:20,color:e.error}})})),Ka=Ga(Object(er.l)(Wa));function Ya(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ja=function(e){zn()(n,e);var t=Ya(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props.theme,t=Qa(e);return c.createElement(ir,null,c.createElement(Zn.a,{style:t.container},c.createElement(Va.a,{style:t.constructionIcon,name:"hard-hat"}),c.createElement(Jn.a,{style:t.title},"Under construction"),c.createElement(Zn.a,{style:t.separator}),c.createElement(Ka,{style:t.logoutButton})))}}]),n}(c.Component),Qa=$n((function(e){return Yn.a.create({container:{flex:1,width:"100%",alignItems:"center",justifyContent:"center"},title:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",color:e.text},constructionIcon:{color:"#eecc00",fontSize:40},separator:{marginVertical:30,height:1,width:"80%",backgroundColor:e.cardBackground},logoutButton:{marginVertical:20}})})),Za=Object(er.l)(Ja),Xa=n(73),$a=n(254);function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ri={sideMargin:15,borderRadius:10,verticalSpacing:8,minHeight:150},oi=function(e){zn()(n,e);var t=ni(n);function n(e){var r;Bt()(this,n),(r=t.call(this,e)).swipeableRef=c.createRef();var o=ti(ti({},ri),e.looks).minHeight;return r.state={minHeight:new Wo.c.Value(o),right:new Wo.c.Value(0),hidden:!1},r}return Ut()(n,[{key:"hide",value:function(){this.setState(ti(ti({},this.state),{},{hidden:!0})),this.props.onHidden&&this.props.onHidden()}},{key:"collapse",value:function(e,t){var n=this;Wo.c.timing(this.state.right,{toValue:(t?-1:1)*Go.a.get("window").width*1.5,duration:200,easing:Wo.a.ease}).start(),setTimeout((function(){e&&e(),n.hide()}),200)}},{key:"resetSwipe",value:function(){var e;null==(e=this.swipeableRef.current)||e.close()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.children,o=t.leftActions,a=t.rightActions,i=t.style,s=t.looks,l=t.onPress,u=t.wrapperProps,f=Lr()(t,["theme","children","leftActions","rightActions","style","looks","onPress","wrapperProps"]),p=this.state,d=p.minHeight,h=p.right,m=p.hidden,g=li(n),y=ti(ti({},ri),s),v=y.borderRadius,b=y.sideMargin,S=y.verticalSpacing,E=function(t){t?e.hide():e.collapse()};return c.createElement(Wo.c.View,Fn()({style:[g.wrapper,i,{flexBasis:d,right:h},m?{display:"none"}:{}]},u),c.createElement(Wo.c.View,{style:{}},c.createElement($a.a,Fn()({ref:this.swipeableRef,containerStyle:[g.swipeableContainer,{paddingHorizontal:b,paddingVertical:S}],childrenContainerStyle:[g.swipeable,{borderRadius:v}],useNativeAnimations:"web"!==mn.a.OS,friction:1,renderLeftActions:o?function(){return o(E)}:f.renderLeftActions,renderRightActions:a?function(){return a(E)}:f.renderRightActions},f),c.createElement(Qn.a,Fn()({activeOpacity:.75,style:g.touchable},l?{onPress:l}:{}),r))))}}]),n}(c.Component),ai=function(e,t){return"left"===e?{borderTopLeftRadius:t,borderBottomLeftRadius:t}:{borderTopRightRadius:t,borderBottomRightRadius:t}},ii=Object(er.l)((function(e){var t=e.icon,n=e.text,r=e.backgroundColor,o=e.onPress,a=e.style,i=e.theme,s=ui(i),l=e.color||i.textWhite;return c.createElement(Qn.a,{onPress:o,style:[s.swipeActionButton,{backgroundColor:r},a]},t&&c.createElement(fo.a,{style:[s.swipeActionButtonIcon,{color:l}],name:t}),n&&c.createElement(Jn.a,{style:[s.swipeActionButtonText,{color:l}]},n))})),ci=Object(er.l)((function(e){var t=e.id,n=e.actions,r=e.side,o=e.looks,a=e.buttonStyle,i=ti(ti({},ri),o).borderRadius;return c.createElement(si,{side:r,looks:o,contentStyle:{aspectRatio:n.length}},n.map((function(e,o){var s=0===o,l=o===n.length-1,u=s&&"left"===r||l&&"right"===r,f=s&&"right"===r||l&&"left"===r,p=e.backgroundColor,d=f?c.createElement(Zn.a,{style:ti(ti({width:i,height:"100%",position:"absolute",top:0},"left"===r?{right:-i}:{left:-i}),{},{backgroundColor:p})}):void 0;return c.createElement(c.Fragment,{key:"swipe-actions-"+t+"-"+r+"-"+o},f&&d,c.createElement(ii,Fn()({style:[u?ai(r,i):{},a]},e)))})))})),si=Object(er.l)((function(e){var t=e.side,n=e.looks,r=e.fullCardWidth,o=e.contentStyle,a=e.theme,i=ui(a),s=ti(ti({},ri),n),l=s.borderRadius,u=s.sideMargin,f=s.verticalSpacing;return c.createElement(Zn.a,{style:[i.swipeActionsContainer,{paddingVertical:f},"left"===t?{marginLeft:u,marginRight:-u,justifyContent:"flex-start"}:{marginLeft:-u,marginRight:u,justifyContent:"flex-end"},r?ti({width:"100%",marginHorizontal:u},"left"===t?{paddingRight:2*u}:{paddingLeft:2*u}):{}]},c.createElement(Zn.a,{style:[i.swipeActionsContent,r?{borderRadius:l}:ai(t,l),o]},e.children))})),li=$n((function(e){return Yn.a.create({wrapper:{width:"100%",overflow:"hidden"},swipeableContainer:{width:"100%"},swipeable:{width:"100%",overflow:"hidden",backgroundColor:e.cardBackground},touchable:{width:"100%",height:"100%",overflow:"hidden"}})})),ui=$n((function(){return Yn.a.create({swipeActionsContainer:{height:"100%"},swipeActionsContent:{justifyContent:"flex-start",flexDirection:"row",height:"100%"},swipeActionButton:{justifyContent:"center",alignItems:"center",aspectRatio:1},swipeActionButtonIcon:{fontSize:22},swipeActionButtonText:{fontSize:16,textAlign:"center"},swipeActionText:ti({fontSize:24,letterSpacing:2},cr)})})),fi=Object(er.l)(oi),pi=$n((function(e){return Yn.a.create({overlay:{width:"90%",maxHeight:"70%",overflow:"hidden",paddingHorizontal:0,paddingVertical:0},dropdownWrapper:{width:"100%",flex:1},dropdownStyle:{backgroundColor:"#fafafa",height:"100%"},dropdownItemStyle:{justifyContent:"flex-start"},dropdownActiveItemStyle:{},dropdownActiveLabelStyle:{color:e.accentSecondary},dropdownLabelStyle:{fontSize:16},okButton:{width:"100%",height:50,alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:e.accent},okButtonText:{fontSize:20,color:e.textWhite},openButton:{width:"100%",alignItems:"center",justifyContent:"center",paddingVertical:10,paddingHorizontal:20,borderWidth:1,borderRadius:2,backgroundColor:e.background,borderColor:e.componentBorder},openButtonText:{fontSize:14,color:e.text},chipContainer:{marginTop:10}})}));function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var gi,yi=function(e){zn()(n,e);var t=mi(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).modalRef=c.createRef(),r.state={valueDict:{}},r}return Ut()(n,[{key:"fromSelectedProp",value:function(){var e={};this.props.selected.forEach((function(t){return e[t]=!0})),this.setState(hi(hi({},this.state),{},{valueDict:e}))}},{key:"show",value:function(){var e;this.fromSelectedProp(),null==(e=this.modalRef.current)||e.show()}},{key:"hide",value:function(e){var t;null==(t=this.modalRef.current)||t.hide(),e?this.apply():this.fromSelectedProp()}},{key:"toggleValue",value:function(e){var t=this,n=this.state.valueDict,r=!n[e];this.props.multiple?this.setState(hi(hi({},this.state),{},{valueDict:hi(hi({},n),{},p()({},e,r))})):this.setState(hi(hi({},this.state),{},{valueDict:p()({},e,r)}),(function(){r&&t.hide(!0)}))}},{key:"apply",value:function(){var e=this.props.onSelect,t=this.state.valueDict;e&&e(Object.keys(t).filter((function(e){return t[e]})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.values,r=t.selected,o=t.label,a=t.icon,i=t.multiple,s=t.atLeastOne,l=t.placeholder,u=t.buttonStyle,f=t.valueStyle,p=t.theme,d=this.state.valueDict,h=vi(p),m=pi(p);return c.createElement(c.Fragment,null,c.createElement(Qn.a,{style:[h.button,r.length>0?h.buttonOk:{},u],onPress:function(){return e.show()}},0===r.length&&c.createElement(Jn.a,{style:[h.value,h.placeholderText,f],numberOfLines:2},l),r.length>0&&c.createElement(Jn.a,{style:[h.value,f],numberOfLines:2},r.map(o).join(", "))),c.createElement(ka,{ref:this.modalRef,modalViewStyle:{width:"100%",paddingHorizontal:0,paddingVertical:0},renderContent:function(){return c.createElement(c.Fragment,null,c.createElement(xo.a,{style:h.scroll,contentContainerStyle:h.scrollContent},n.map((function(t,n){return c.createElement(Qn.a,{key:"popup-selector-row-"+t,style:h.rowContainer,onPress:function(){return e.toggleValue(t)},activeOpacity:.5},a&&a(t,n),c.createElement(Jn.a,{style:h.label},o(t,n)),c.createElement(er.e,Fn()({checked:d[t],containerStyle:h.checkboxContainer,wrapperStyle:h.checkboxWrapper,onPress:function(){return e.toggleValue(t)},size:26},i?{}:{checkedIcon:"check-circle",uncheckedIcon:"circle-o"})))}))),i&&(!s||Object.values(d).some((function(e){return!0===e})))&&c.createElement(Qn.a,{onPress:function(){return e.hide(!0)},style:[m.okButton,{width:"100%"}]},c.createElement(Jn.a,{style:m.okButtonText},ee.a.t("ok"))))}}))}}]),n}(c.Component),vi=$n((function(e){return Yn.a.create({button:{height:40,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",justifyContent:"center",alignItems:"flex-end"},buttonOk:{borderBottomWidth:2,borderBottomColor:e.okay},value:{color:e.text},placeholderText:{color:e.textLight},scroll:{width:"100%"},scrollContent:{paddingHorizontal:15,paddingVertical:10},rowContainer:{flexDirection:"row",width:"100%",paddingVertical:2,flex:1,alignItems:"center",justifyContent:"space-between"},label:{color:e.text,fontSize:16,flexGrow:1},checkboxContainer:{padding:0,marginRight:0},checkboxWrapper:{padding:0}})})),bi=Object(er.l)(yi);!function(e){e.VIOLENCE="violence",e.NUDITY="nudity",e.HARASSMENT="harassment",e.UNDESIRABLE_CONTENT="undesirable-content",e.HATE_SPEECH="hate-speech",e.VULGAR_CONTENT="vulgar-content",e.OTHER="other"}(gi||(gi={}));var Si,Ei,Oi=[gi.VIOLENCE,gi.NUDITY,gi.HARASSMENT,gi.UNDESIRABLE_CONTENT,gi.HATE_SPEECH,gi.VULGAR_CONTENT,gi.OTHER];!function(e){e.PROFILE_ENTITY="ProfileEntity"}(Si||(Si={})),function(e){e.REPORT_ENTITY_SUCCESS="REPORTS/REPORT_ENTITY_SUCCESS",e.REPORT_ENTITY_FAILURE="REPORTS/REPORT_ENTITY_FAILURE"}(Ei||(Ei={}));var Ci=function(e,t,n){return{type:Ei.REPORT_ENTITY_SUCCESS,reportType:e,entityType:t,entityId:n}},Ri=function(e,t,n){return{type:Ei.REPORT_ENTITY_FAILURE,reportType:e,entityType:t,entityId:n}},wi=function(e,t,n){return function(r,o){var a;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=o().auth.token,i.next=3,u.a.awrap(I("reports","POST",{},{type:e,entityType:t,entityId:n},a,!0));case 3:if(i.sent.status!==v.OK){i.next=9;break}return r(Ci(e,t,n)),i.abrupt("return",!0);case 9:return r(Ri(e,t,n)),i.abrupt("return",!1);case 11:case"end":return i.stop()}}),null,null,null,Promise)}};function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ki(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var xi=function(e){zn()(n,e);var t=ki(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={open:!1,confirmationOpen:!1,failureOpen:!1,submitting:!1},r}return Ut()(n,[{key:"open",value:function(){this.setState(Pi(Pi({},this.state),{},{open:!0}))}},{key:"close",value:function(){this.setState(Pi(Pi({},this.state),{},{open:!1}))}},{key:"submit",value:function(){var e=this,t=this.props.submit;this.setState(Pi(Pi({},this.state),{},{submitting:!0})),t().then((function(t){t?e.setState(Pi(Pi({},e.state),{},{submitting:!1,open:!1,confirmationOpen:!0,failureOpen:!1})):e.setState(Pi(Pi({},e.state),{},{submitting:!1,open:!1,confirmationOpen:!1,failureOpen:!0}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.activator,r=t.hideSubmit,o=t.title,a=t.titleIcon,i=t.submitText,c=t.confirmationTitle,l=t.confirmationText,u=t.failureTitle,f=t.failureText,p=t.theme,d=t.children,h=this.state,m=h.open,g=h.confirmationOpen,y=h.failureOpen,v=h.submitting,b=Ii(p),S=s.a.createElement(s.a.Fragment,null,!r&&s.a.createElement(uo,{text:i,submitting:v,onPress:function(){return e.submit()},skin:"rounded-filled",style:b.actionButton,textStyle:b.actionButtonText}),s.a.createElement(co,{text:ee.a.t("cancel"),onPress:function(){return e.close()},skin:"rounded-hollow",style:b.actionButton,textStyle:b.actionButtonText})),E=s.a.createElement(s.a.Fragment,null,(o||a)&&s.a.createElement(Zn.a,{style:b.titleContainer},a&&s.a.createElement(a.component,{name:a.name,style:[b.title,b.titleIcon]}),o&&s.a.createElement(Jn.a,{style:b.title},o)),d,S);return s.a.createElement(s.a.Fragment,null,n&&n((function(){return e.open()})),"web"===mn.a.OS?s.a.createElement(ka,{visible:m,onHide:function(){return e.close()},renderContent:function(){return s.a.createElement(Zn.a,{style:b.containerModal},E)}}):s.a.createElement(er.b,{modalProps:{statusBarTranslucent:!0},isVisible:m},s.a.createElement(Zn.a,{style:b.wrapperSheet},s.a.createElement(Zn.a,{style:b.containerSheet},E))),s.a.createElement(ka,{visible:g,onHide:function(){return e.setState(Pi(Pi({},e.state),{},{confirmationOpen:!1}))},modalViewStyle:b.feedbackModal,renderContent:function(){return s.a.createElement(Zn.a,{style:b.containerModal},s.a.createElement(Jn.a,{style:b.feedbackTitle},c),s.a.createElement(Jn.a,{style:b.feedbackText},l),s.a.createElement(co,{text:ee.a.t("ok"),onPress:function(){return e.setState(Pi(Pi({},e.state),{},{confirmationOpen:!1}))},skin:"rounded-hollow",style:b.actionButton,textStyle:b.actionButtonText}))}}),s.a.createElement(ka,{visible:y,onHide:function(){return e.setState(Pi(Pi({},e.state),{},{failureOpen:!1}))},modalViewStyle:b.feedbackModal,renderContent:function(){return s.a.createElement(Zn.a,{style:b.containerModal},s.a.createElement(Jn.a,{style:b.feedbackTitle},u),s.a.createElement(Jn.a,{style:b.feedbackText},f),s.a.createElement(co,{text:ee.a.t("ok"),onPress:function(){return e.setState(Pi(Pi({},e.state),{},{failureOpen:!1}))},skin:"rounded-hollow",style:b.actionButton,textStyle:b.actionButtonText}))}}))}}]),n}(s.a.Component),Ii=$n((function(e){return Yn.a.create({wrapperSheet:{width:"100%",paddingVertical:20,alignItems:"center",backgroundColor:e.cardBackground},containerSheet:{width:"90%"},containerModal:{width:"100%"},titleContainer:{flexDirection:"row",marginBottom:20,alignItems:"center",justifyContent:"center"},titleIcon:{marginRight:5},title:{fontSize:22,color:e.text},actionButton:{height:44,marginVertical:0,marginTop:15},actionButtonText:{fontSize:16},feedbackModal:{paddingVertical:15,paddingHorizontal:20},feedbackTitle:{fontSize:20,color:e.text,marginBottom:15},feedbackText:{fontSize:15,textAlign:"justify",color:e.text}})})),ji=Object(er.l)(xi);function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Li=function(e){zn()(n,e);var t=Ai(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).quickFormRef=s.a.createRef(),r.state={selectedType:null},r}return Ut()(n,[{key:"getEntityInfo",value:function(){var e=this.props,t=e.entityType,n=e.entity;if(!n)return null;switch(t){case Si.PROFILE_ENTITY:if(n._id){var r=n;return{name:r.name,id:r._id}}var o=n;return{name:o.firstName+" "+o.lastName,id:o.id};default:return null}}},{key:"open",value:function(){var e;null==(e=this.quickFormRef.current)||e.open()}},{key:"close",value:function(){var e;null==(e=this.quickFormRef.current)||e.close()}},{key:"submit",value:function(){var e,t,n,r,o,a;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.props,t=e.entityType,n=e.onSubmit,r=this.state.selectedType,o=this.getEntityInfo(),a=!1,!r||!o){i.next=8;break}return i.next=7,u.a.awrap(jn.dispatch(wi(r,t,o.id)));case 7:a=i.sent;case 8:return n&&n(a),i.abrupt("return",a);case 10:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.props,n=t.activator,r=t.theme,o=this.state.selectedType,a=Fi(r),i=this.getEntityInfo();return s.a.createElement(s.a.Fragment,null,s.a.createElement(ji,{ref:this.quickFormRef,activator:n,submit:function(){return e.submit()},titleIcon:{component:fo.a,name:"report"},title:ee.a.t("report.title"),submitText:ee.a.t("report.send"),confirmationTitle:ee.a.t("report.confirmationTitle"),confirmationText:ee.a.t("report.confirmation"),failureTitle:ee.a.t("report.failureTitle"),failureText:ee.a.t("report.failure"),hideSubmit:!o},s.a.createElement(Zn.a,{style:a.inputItem},s.a.createElement(Hr,null,ee.a.t("report.what")),s.a.createElement(Jn.a,{style:a.what},i?i.name:"unknown")),s.a.createElement(Zn.a,{style:a.inputItem},s.a.createElement(Hr,null,ee.a.t("report.why")),s.a.createElement(bi,{values:Oi,label:function(e){return ee.a.t("report.types."+e)},placeholder:ee.a.t("report.typePlaceholder"),selected:o?[o]:[],valueStyle:a.selectorValue,onSelect:function(t){t.length>0&&e.setState(_i(_i({},e.state),{},{selectedType:t[0]}))}}))))}}]),n}(s.a.Component),Fi=$n((function(e){return Yn.a.create({inputItem:{marginBottom:20},what:{fontSize:16,color:e.text,textAlign:"right"},selectorValue:{fontSize:16}})})),Mi=Object(er.l)(Li);function Ni(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Bi=Object(br.b)((function(e){return{localChatUser:e.messaging.localChatUser}})),Hi={sideMargin:15,verticalSpacing:5,borderRadius:10,minHeight:75},Ui=function(e){zn()(n,e);var t=Ni(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).reportFormRef=c.createRef(),e.swipeableCardRef=c.createRef(),e}return Ut()(n,[{key:"getActions",value:function(e){var t=this;return[{icon:"report",backgroundColor:this.props.theme.error,onPress:function(){var e;return null==(e=t.reportFormRef.current)?void 0:e.open()}}]}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.room,o=t.onPress,a=t.localChatUser,i=Vi(n),s=r.users.find((function(e){return e._id===(null==a?void 0:a._id)})),l=r.users.filter((function(e){return e._id!==(null==a?void 0:a._id)}))[0],u=c.createElement(c.Fragment,null);if(r.lastMessage){var f=r.lastMessage.createdAt,p=s&&s.lastMessageSeenDate&&(s.lastMessageSeenDate>=f||s.lastMessageSeenId==r.lastMessage._id),d=function(e){return(e+"").padStart(2,"0")};u=c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:[i.lastMessageText,p?{}:i.lastMessageTextNew],numberOfLines:1},r.lastMessage.user.name.split(" ")[0],": ",r.lastMessage.text),c.createElement(Jn.a,{style:i.lastMessageTime},d(f.getHours()),":",d(f.getMinutes())))}else u=c.createElement(Jn.a,{style:i.noMessageText,numberOfLines:1},2===r.users.length?"Say hi to "+l.name+"!":"Say hi");return c.createElement(fi,{ref:this.swipeableCardRef,looks:Hi,rightThreshold:100,overshootRight:!1,rightActions:function(t){return c.createElement(ci,{id:"room-"+r.id,looks:Hi,side:"right",actions:e.getActions(t)})},onPress:function(){o&&o(),En(r.id)}},c.createElement(Zn.a,{style:i.cardContent},c.createElement(Zn.a,{style:i.avatarContainer},c.createElement(Xa.c,{avatarStyle:i.avatar,user:l})),c.createElement(Zn.a,{style:i.infoContainer},c.createElement(Jn.a,{style:i.name},l.name),c.createElement(Zn.a,{style:i.lastMessage},u))),c.createElement(Mi,{ref:this.reportFormRef,entityType:Si.PROFILE_ENTITY,entity:l,onSubmit:function(){var t;return null==(t=e.swipeableCardRef.current)?void 0:t.resetSwipe()}}))}}]),n}(c.Component),Vi=$n((function(e){return Yn.a.create({cardContent:{flexDirection:"row",padding:10},avatarContainer:{justifyContent:"center"},avatar:{backgroundColor:e.accentSecondary,width:45,height:45,borderRadius:50},infoContainer:{flex:1,flexDirection:"column",justifyContent:"center",paddingLeft:10},name:{fontSize:18,letterSpacing:.5,color:e.text},lastMessage:{flexDirection:"row",justifyContent:"space-between",overflow:"hidden"},noMessageText:{color:e.textLight,fontSize:14,flex:1},lastMessageText:{color:e.text,fontSize:14,flex:1},lastMessageTextNew:{fontWeight:"bold"},lastMessageTime:{color:e.textLight,fontSize:14}})})),zi=Bi(Object(er.l)(Ui)),Gi=n(178);function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Yi=function(e){zn()(n,e);var t=Ki(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).scrollViewRef=c.createRef(),r.state={hiddenIds:{}},r}return Ut()(n,[{key:"fetchMore",value:function(){var e=this.props,t=e.fetching,n=e.fetchMore,r=e.navigation;!t&&r.isFocused()&&n()}},{key:"getShownItems",value:function(){var e=this,t=this.props,n=t.items,r=t.id;return n.filter((function(t){return!e.state.hiddenIds[r(t)]}))}},{key:"hideItem",value:function(e){var t=this.props,n=t.fetchLimit,r=t.id;this.setState(qi(qi({},this.state),{},{hiddenIds:qi(qi({},this.state.hiddenIds),{},p()({},r(e),!0))})),this.getShownItems().length<n&&this.fetchMore()}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.items,r=t.navigation,o=t.id;0==n.filter((function(t){return!e.state.hiddenIds[o(t)]})).length&&this.fetchMore(),r.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"onFocus",value:function(){var e=this.props,t=e.items,n=e.fetchLimit,r=e.fetching,o=e.refreshOnFocus,a=e.refresh;o?a():t.length<n&&!r&&this.fetchMore()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.fetchLimit,r=t.currentPage,o=t.navigation,a=e.currentPage>1&&1===r;o.isFocused()&&(this.getShownItems().length<n&&this.fetchMore(),a&&this.setState(qi(qi({},this.state),{},{hiddenIds:{}})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.fetching,o=t.refresh,a=t.renderItem,i=t.noResultsComponent,s=t.itemsContainerStyle,l=t.progressViewOffset;return c.createElement(er.h,null,(function(t){var u=t.theme,f=Ji(u);return c.createElement(xo.a,{ref:e.scrollViewRef,style:f.scroller,contentContainerStyle:[f.itemsContainer,s],refreshControl:c.createElement(Gi.a,{progressViewOffset:l,refreshing:r,onRefresh:function(){return o()}}),onScroll:function(t){var n=t.nativeEvent,r=n.layoutMeasurement,o=n.contentOffset;n.contentSize.height-o.y-r.height<50&&e.fetchMore()}},e.getShownItems().map((function(t){return a(t,(function(){return e.hideItem(t)}))})),c.createElement(Zn.a,{style:f.loadingIndicatorContainer},r&&n.length>0&&c.createElement(vr.a,{size:"large",color:u.accentSecondary})),!r&&0==n.length&&c.createElement(Zn.a,{style:f.noResultsContainer},i))}))}}]),n}(c.Component),Ji=$n((function(){return Yn.a.create({scroller:{width:"100%"},itemsContainer:{},loadingIndicatorContainer:{marginVertical:10,height:50},noResultsContainer:{flex:1,alignItems:"center"}})}));function Qi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Zi=Object(br.b)((function(e){return{rooms:e.messaging.matchRooms,roomIds:e.messaging.matchRoomsOrdered,fetchingRooms:e.messaging.matchRoomsPagination.fetching,currentPage:e.messaging.matchRoomsPagination.page}})),Xi=function(e){zn()(n,e);var t=Qi(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.rooms,r=e.roomIds,o=e.fetchingRooms,a=e.currentPage,i=e.navigation,s=e.dispatch,l=$i(t);return c.createElement(ir,null,c.createElement(Yi,{navigation:i,fetchLimit:10,fetchMore:function(){return s((function(t,n){var r,o,a,i,c,s,l;return u.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(r=n(),o=r.auth.token,!(a=r.messaging.matchRoomsPagination).fetching&&a.canFetchMore){f.next=5;break}return f.abrupt("return");case 5:return t({type:Ft.FETCH_MATCH_ROOMS_BEGIN}),f.next=8,u.a.awrap(I("rooms","GET",{page:a.page,limit:10,search:e},{},o));case 8:(i=f.sent).status===v.OK?(s=(c=i).data.map(M),l=c.meta.currentPage<c.meta.totalPages,t(qt(s,l))):t({type:Ft.FETCH_MATCH_ROOMS_FAILURE});case 10:case"end":return f.stop()}}),null,null,null,Promise)}));var e},fetching:o,currentPage:a,items:r,id:function(e){return e},noResultsComponent:c.createElement(Jn.a,{style:l.noMatchesText},ee.a.t("messaging.noMatches")),refresh:function(){return s({type:Ft.FETCH_MATCH_ROOMS_REFRESH})},renderItem:function(e){return c.createElement(zi,{key:"chat-room-card-"+e,room:n[e]})}}))}}]),n}(c.Component),$i=$n((function(e){return Yn.a.create({noMatchesText:{color:e.text,letterSpacing:.5,fontSize:18,lineHeight:24,textAlign:"center"}})})),ec=Zi(Object(er.l)(Xi));function tc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var nc=function(e){zn()(n,e);var t=tc(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.profile,r=Lr()(e,["children","profile"]),o=r.title||(n?(n.firstName[0]+n.lastName[0]).toUpperCase():void 0),a=n&&n.avatarUrl?{source:{uri:n.avatarUrl}}:{};return c.createElement(er.a,Fn()({},r,{title:o},a),t)}}]),n}(c.Component),rc=$n((function(e){return Yn.a.create({wrapper:{backgroundColor:e.background,flexDirection:"row",alignItems:"center",paddingHorizontal:15,paddingBottom:10,height:100},wrapperBlur:{backgroundColor:"transparent",position:"absolute",top:0,left:0,right:0},wrapperNoShadow:{shadowColor:"transparent",elevation:0},backButton:{width:40,height:40,marginRight:5,justifyContent:"center",alignItems:"center"},backButtonIcon:{fontSize:28},avatarContainer:{backgroundColor:e.accentSecondary,borderWidth:1,borderColor:e.componentBorder},avatarTitle:{color:e.textWhite},title:{flex:1,color:e.text,fontWeight:"600",fontSize:20},rightButton:{width:36,height:36,justifyContent:"center",alignItems:"center",borderRadius:50,marginLeft:8},rightIcon:{fontSize:22}})})),oc=n(784);function ac(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ic=Object(br.b)((function(e){return{user:e.profile.user}})),cc=function(e){zn()(n,e);var t=ac(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"back",value:function(){vn("MainScreen")}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.theme,o=n.insets,a=n.user,i=n.rightButtons,s=n.backButton,l=n.noAvatar,u=n.noShadow,f=n.noSettingsButton,p=n.blur,d=n.overrideAvatar,h=n.overrideTitle,m=n.wrapperStyle,g=n.titleStyle,y=n.color,v=rc(r),b=(this.props.route||(null==(e=this.props.scene)?void 0:e.route)||{name:"undef"}).name,S=Sn(b),E=y||r.text,O=this.props.buttonBackgroundColor||r.cardBackground,C=p?oc.a:Zn.a,R=p?{tint:"dark"===r.id?"dark":"default",intensity:ur}:{};return c.createElement(C,Fn()({style:[{paddingTop:o.top},v.wrapper,p?v.wrapperBlur:{},u?v.wrapperNoShadow:{},m]},R),s&&c.createElement(Qn.a,{style:v.backButton,onPress:function(){return t.back()}},c.createElement(fo.a,{style:[v.backButtonIcon,{color:E}],name:"arrow-back"})),!l&&(d||c.createElement(nc,{profile:null==a?void 0:a.profile,rounded:!0,size:40,containerStyle:v.avatarContainer,titleStyle:v.avatarTitle,activeOpacity:.75,onPress:function(){return yn("MyProfileScreen")}})),c.createElement(Jn.a,{style:[v.title,{marginLeft:12,color:E},g],numberOfLines:1},h||S),null==i?void 0:i.map((function(e,t){return c.createElement(e,{key:"header-button-"+b.toLowerCase()+"-"+t,buttonStyle:[v.rightButton,{backgroundColor:O}],iconStyle:[v.rightIcon,{color:E}]})})),!f&&c.createElement(Qn.a,{style:[v.rightButton,{backgroundColor:O}],onPress:function(){return yn("SettingsScreen")}},c.createElement(fo.a,{name:"settings",style:v.rightIcon,color:E})))}}]),n}(c.Component),sc=ic(Object(er.l)(cc));function lc(e){var t=Object(ea.d)();return c.createElement(sc,Fn()({insets:t},e))}function uc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var fc=Object(br.b)((function(e){var t,n;return{activeRoom:e.messaging.activeRoom,profileId:null==(t=e.profile.user)||null==(n=t.profile)?void 0:n.id}})),pc=function(e){zn()(n,e);var t=uc(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.activeRoom,r=e.profileId,o=Lr()(e,["theme","activeRoom","profileId"]),a=dc(t),i=rc(t);if(n){var s=n.users.filter((function(e){return e._id!=r}))[0];return c.createElement(lc,Fn()({},o,{backButton:!0,blur:!0,overrideAvatar:c.createElement(Xa.c,{avatarStyle:i.avatarContainer,user:s,onPress:function(){return yn("ProfileScreen",{id:s._id})}}),overrideTitle:s.name,titleStyle:a.name}))}return c.createElement(c.Fragment,null)}}]),n}(c.Component),dc=$n((function(){return Yn.a.create({name:{fontSize:18,fontWeight:"600"}})})),hc=fc(Object(er.l)(pc));function mc(e){return c.createElement(hc,e)}var gc=n(301),yc=n(129),vc=n(302);function bc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Sc=Object(br.b)((function(e){return{activeRoom:e.messaging.activeRoom,localChatUser:e.messaging.localChatUser,connected:e.messaging.socketState.connected,connecting:e.messaging.socketState.connecting}})),Ec=function(e){zn()(n,e);var t=bc(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).ref=c.createRef(),e}return Ut()(n,[{key:"connectToRoom",value:function(){var e=this.props.route,t=this.props.dispatch;if(e.params){var n=e.params.roomId;if(n){var r=jn.getState().messaging.matchRooms[n];r?t(Zt(r)):t(function(e){return function(t,n){var r,o,a;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.token,t.next=3,u.a.awrap(I("rooms/"+e,"GET",{},{},r));case 3:if((o=t.sent).status!==v.OK){t.next=9;break}return a=o.data,t.abrupt("return",M(a));case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),null,null,null,Promise)}}(n)).then((function(e){e&&t(Zt(e))}))}}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.connected,r=t.connecting,o=t.dispatch;n?this.connectToRoom():r||o(Kt()),this.props.navigation.addListener("blur",(function(){return e.onBlur()})),this.props.navigation.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"onBlur",value:function(){var e,t=this.props,n=t.dispatch,r=t.activeRoom;r&&n((e=r,Wt.leaveRoom(e),{type:Ft.LEAVE_ROOM}))}},{key:"onFocus",value:function(){var e=this.props.activeRoom;e&&e.messages.length<12&&this.fetchEarlier()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activeRoom,r=t.connected;!e.connected&&r&&this.connectToRoom(),!e.activeRoom&&n&&1==n.messagePagination.page&&this.fetchEarlier()}},{key:"fetchEarlier",value:function(){var e,t=this.props,n=t.dispatch,r=t.activeRoom;r&&!r.messagePagination.fetching&&n((e=r,function(t,n){var r,o,a,i,c,s,l,f,p,d,h,m;return u.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(r=n(),o=r.messaging,a=o.socketState.connected,i=o.localChatUser,c=r.auth.token,!(s=e.messagePagination).fetching&&s.canFetchMore){g.next=6;break}return g.abrupt("return");case 6:if(!a||!i){g.next=19;break}return t(rn(e)),l=e.messages.length>0?e.messages[e.messages.length-1].createdAt.toJSON():void 0,g.next=11,u.a.awrap(I("rooms/"+e.id+"/messages","GET",{page:s.page,limit:12,beforeDate:l},{},c));case 11:if(f=g.sent,p=function(t){var n=e.users.find((function(e){return e._id===t.senderId}));return n?N(n,t):void 0},f.status!==v.OK){g.next=19;break}return h=(d=f).data.map(p).filter((function(e){return void 0!==e})),m=d.meta.currentPage<d.meta.totalPages,t(an(e,h,m)),g.abrupt("return");case 19:t(on(e));case 20:case"end":return g.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.localChatUser,o=t.dispatch,a=Rc(n),i=this.props.activeRoom,s=c.createElement(c.Fragment,null);if(i&&r){var l=Object.keys(i.writing).find((function(e){return!0===i.writing[e]})),u=l?i.users.find((function(e){return e._id==l})):void 0,f={};i.messages.length>0&&i.users.forEach((function(e){e._id!=r._id&&e.lastMessageSeenId&&(f[e.lastMessageSeenId]?f[e.lastMessageSeenId].push(e):f[e.lastMessageSeenId]=[e])})),s=c.createElement(Xa.d,{ref:this.ref,messages:i.messages,user:r,renderSend:function(e){return c.createElement(Xa.g,Fn()({},e,{containerStyle:a.sendContainer}),c.createElement(fo.a,{name:"send",style:a.send}))},renderBubble:function(e){return c.createElement(Xa.b,Fn()({},e,{renderTicks:function(e){return c.createElement(Zn.a,{style:a.messageTicksContainer},e.received&&c.createElement(fo.a,{name:"check",style:a.messageTick}),e.sent&&c.createElement(fo.a,{name:"check",style:a.messageTick}))},textStyle:{left:a.bubbleTextLeft,right:a.bubbleTextRight},wrapperStyle:{left:a.bubbleWrapperLeft,right:a.bubbleWrapperRight}}))},renderMessage:function(e){var t=e.currentMessage?f[e.currentMessage._id]:void 0;return t?c.createElement(Zn.a,null,c.createElement(Xa.f,Fn()({},e,{containerStyle:{right:{marginBottom:0},left:{}}})),c.createElement(Zn.a,{style:a.messageReadContainer},t.map((function(e){return c.createElement(Xa.c,{key:"read-message-"+e._id,user:e,avatarStyle:a.messageReadAvatar,textStyle:a.messageReadAvatarText})})))):c.createElement(Xa.f,e)},renderInputToolbar:function(e){return c.createElement(Xa.e,Fn()({},e,{containerStyle:a.inputToolbarContainer,primaryStyle:a.inputToolbarPrimary}))},renderFooter:function(){return c.createElement(Oc,{userWriting:u,theme:n})},renderActions:function(e){return c.createElement(Cc,{actionsProps:e,theme:n})},onInputTextChanged:function(e){e.length>0&&Wt.setWriting(i)},onSend:function(e){e.forEach((function(e){return o($t(e._id+"",e.text,e.createdAt))}))},loadEarlier:i.messagePagination.canFetchMore&&i.messagePagination.fetching,isLoadingEarlier:i.messagePagination.fetching,onLoadEarlier:function(){e.fetchEarlier()},timeFormat:"HH:mm",listViewProps:{onEndReached:function(){return e.fetchEarlier()}},textInputProps:{autoFocus:!1,style:a.textInput,multiline:!0},minInputToolbarHeight:65})}return c.createElement(ir,null,c.createElement(Zn.a,{style:a.container},s))}}]),n}(c.Component);function Oc(e){var t=e.userWriting,n=e.theme;return t?c.createElement(Zn.a,{style:{height:50,paddingTop:10}},c.createElement(Xa.f,{key:"isWriting",user:t,showUserAvatar:!0,position:"left",renderAvatar:function(e){return c.createElement(Xa.c,Fn()({},e,{user:t}))},renderBubble:function(e){return c.createElement(Xa.b,Fn()({},e,{wrapperStyle:{left:{backgroundColor:"transparent"},right:{}},renderCustomView:function(){return c.createElement(vc.a,{dotColor:n.textLight,dotAmplitude:3,dotSpeed:.16,dotMargin:8,dotRadius:4,dotX:20,dotY:-25})}}))}})):c.createElement(c.Fragment,null)}function Cc(e){var t=e.actionsProps,n=e.theme,r=Rc(n);return c.createElement(c.Fragment,null,C&&c.createElement(Xa.a,Fn()({},t,{containerStyle:r.actionContainer,icon:function(){return c.createElement(fo.a,{style:r.actionIcon,name:"photo-camera"})},options:{"Send a picture":function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(gc.a({mediaTypes:yc.a.Images,allowsEditing:!0,aspect:[1,1]}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}}})),C&&c.createElement(Xa.a,Fn()({},t,{containerStyle:r.actionContainer,icon:function(){return c.createElement(fo.a,{style:r.actionIcon,name:"build"})},options:{"Spam Lorem Ipsum":function(){var e,t,n,r,o;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:for("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dosum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?",e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dosum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?".split(" "),t=0;t<e.length;)n=1+Math.min(Math.floor(12*Math.random()),e.length-1-t),r=e.slice(t,t+n).join(" "),o=Xa.d.defaultProps.messageIdGenerator(),jn.dispatch($t(o,r,new Date)),t+=n;case 4:case"end":return a.stop()}}),null,null,null,Promise)}}})))}var Rc=$n((function(e){return Yn.a.create({container:{flex:1,width:"100%"},inputToolbarContainer:{justifyContent:"center",borderTopWidth:0,backgroundColor:e.background},inputToolbarPrimary:{alignItems:"flex-end"},textInput:{backgroundColor:e.cardBackground,borderRadius:20,marginVertical:10,marginHorizontal:20,paddingHorizontal:15,paddingTop:10,paddingBottom:10,fontSize:15,flex:1,alignItems:"center",alignSelf:"flex-end",color:e.text},send:{fontSize:30,color:e.accent},sendContainer:{height:45,justifyContent:"center",marginVertical:10,marginRight:10},actionContainer:{height:45,justifyContent:"center"},actionIcon:{fontSize:28,width:28,height:28,color:e.text},bubbleWrapperLeft:{backgroundColor:e.chatBubble},bubbleWrapperRight:{},bubbleTextLeft:{color:e.text},bubbleTextRight:{},messageReadContainer:{flexDirection:"row",justifyContent:"flex-end",paddingRight:8,paddingTop:2,paddingBottom:8},messageReadAvatar:{width:20,height:20},messageReadAvatarText:{fontSize:12},messageTicksContainer:{marginRight:4,minWidth:15},messageTick:{fontSize:14,color:e.textWhite}})})),wc=Sc(Object(er.l)(Ec)),Tc=Object(Hn.a)(),Pc=function(){return c.createElement(Tc.Navigator,{headerMode:"screen"},c.createElement(Tc.Screen,{name:"ChatRoomsScreen",component:ec,options:{title:bn("ChatRoomsScreen"),headerShown:!0,header:function(e){return c.createElement(lc,e)}}}),c.createElement(Tc.Screen,{name:"ChatScreen",options:function(){return{headerShown:!1,title:bn("ChatScreen")}}},(function(e){return c.createElement(c.Fragment,null,c.createElement(wc,e),c.createElement(mc,e))})))};function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ic(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var jc=function(e){zn()(n,e);var t=Ic(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"fetchPostEmbed",value:function(e){var t,n,r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return"https://graph.facebook.com/v9.0/instagram_oembed","80cd0bc3c132ad645a15d234ccd841bd",t="https://graph.facebook.com/v9.0/instagram_oembed?url="+("https://www.instagram.com/p/"+e+"/")+"&access_token=80cd0bc3c132ad645a15d234ccd841bd",n={Accept:"application/json","Content-Type":"application/json"},console.log(t),o.next=8,u.a.awrap(fetch(t,{method:"GET",headers:n}));case 8:return r=o.sent,o.abrupt("return",r);case 10:case"end":return o.stop()}}),null,null,null,Promise)}},{key:"fetchEmbed",value:function(){this.fetchPostEmbed("CJQ-ZX_rZb8").then((function(e){return console.log(JSON.stringify(e))}))}},{key:"render",value:function(){var e=this.props.theme,t=Dc(e);return c.createElement(ir,null,c.createElement(Zn.a,{style:t.container},c.createElement(d.a,{style:t.icon,name:"heart"}),c.createElement(Jn.a,{style:t.title},"Thank you for participating in the alpha program."),c.createElement(Zn.a,{style:t.separator}),c.createElement(Jn.a,{style:[t.alphaText,{fontWeight:"bold"}]},"Found a bug or have some feedback for us or ideas for the app?"),c.createElement(Jn.a,{style:t.alphaText},"Get in touch with us on Slack and we would be happy to discuss it with you!"),c.createElement(Ka,{style:t.logoutButton})))}}]),n}(c.Component),Dc=$n((function(e){return Yn.a.create({container:{flex:1,width:"100%",padding:50,alignItems:"center",justifyContent:"center"},title:xc({width:"100%",textAlign:"center",fontSize:24,color:e.text},sr),alphaText:{width:"100%",textAlign:"left",fontSize:16,color:e.text,marginVertical:10},icon:{color:e.accent,fontSize:48,paddingBottom:20},separator:{marginVertical:30,height:1,opacity:.1,width:"100%",backgroundColor:e.text},logoutButton:{marginTop:80}})})),_c=Object(er.l)(jc);function Ac(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Lc=function(e){zn()(n,e);var t=Ac(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Ut()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.profile,r=e.onBlock,o=Lr()(e,["theme","profile","onBlock"]),a=Fc(t);return s.a.createElement(ka,Fn()({ref:this.modalRef},o,{renderContent:function(e){return n?s.a.createElement(s.a.Fragment,null,s.a.createElement(Jn.a,{style:a.text},ee.a.t("block.warning",{firstname:n.firstName,lastname:n.lastName})),s.a.createElement(Zn.a,{style:a.actionButtonsWrapper},s.a.createElement(co,{text:ee.a.t("cancel"),onPress:function(){return e()},skin:"rounded-hollow",style:a.actionButton,textStyle:a.actionText}),s.a.createElement(co,{text:ee.a.t("block.action"),onPress:function(){e(),jn.dispatch(kt(n.id)),r&&r()},skin:"rounded-filled",style:[a.actionButton,a.redBackground],textStyle:a.actionText}))):s.a.createElement(s.a.Fragment,null)}}))}}]),n}(s.a.Component),Fc=$n((function(e){return Yn.a.create({actionButtonsWrapper:{width:"100%",flexDirection:"row",marginTop:20},actionButton:{flex:1,marginHorizontal:10,marginVertical:0},actionText:{fontSize:16},redBackground:{backgroundColor:e.error},text:{fontSize:16,textAlign:"justify",color:e.text}})})),Mc=Object(er.l)(Lc),Nc=n(153);function Bc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Hc=function(e){zn()(n,e);var t=Bc(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.university,n=e.containerStyle,r=e.flagSize,o=e.flagEmoji,a=Lr()(e,["university","containerStyle","flagSize","flagEmoji"]);return c.createElement(Zn.a,{style:[{flexDirection:"row",alignItems:"center"},n]},t&&c.createElement(c.Fragment,null,c.createElement(Nc.c,{countryCode:t.country,flagSize:r||18,withEmoji:o||!1}),c.createElement(Jn.a,Fn()({},a,{style:[{marginLeft:-5},a.style]}),ee.a.t("universities."+t.key))))}}]),n}(c.Component);function Uc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Vc=function(e){zn()(n,e);var t=Uc(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.label,r=e.removable,o=e.onRemove,a=e.containerStyle,i=e.chipStyle,s=e.textStyle;return c.createElement(er.h,null,(function(e){var l=e.theme,u=Gc(l);return c.createElement(Zn.a,{style:[u.container,a]},t.map((function(e,t){return c.createElement(zc,{key:"chips-"+t+"-"+e,text:n?n(e):"string"===typeof e?e:JSON.stringify(e),removable:r,onRemove:function(){o&&o(e)},chipStyle:i,textStyle:s})})))}))}}]),n}(c.Component),zc=Object(er.l)((function(e){var t=e.text,n=e.removable,r=e.onRemove,o=e.theme,a=e.chipStyle,i=e.textStyle,s=Gc(o);return c.createElement(Zn.a,{style:[s.chip,a]},c.createElement(Jn.a,{style:[s.chipText,n?{marginRight:20}:{},i],numberOfLines:1},t),n&&c.createElement(Qn.a,{style:s.chipRemoveButton,onPress:function(){r&&r()}},c.createElement(fo.a,{name:"close",style:s.chipRemoveIcon})))})),Gc=$n((function(e){return Yn.a.create({container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},chip:{flexDirection:"row",alignItems:"center",backgroundColor:e.accentSlight,paddingVertical:6,paddingHorizontal:10,borderRadius:20,marginRight:4,marginBottom:4},chipText:{fontSize:14,color:e.textBlack},chipRemoveButton:{position:"absolute",right:0,width:32,height:32,alignItems:"center",justifyContent:"center"},chipRemoveIcon:{fontSize:22,color:e.textBlack}})})),Wc=Vc,qc=n(35);function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}function Qc(e){var t=e.onFocus,n=e.onBlur;return Object(qc.useFocusEffect)(c.useCallback((function(){return t&&t(),function(){n&&n()}}),[])),null}var Zc=function(e){zn()(n,e);var t=Jc(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).offset=new Wo.c.Value(0),r.state={animating:!1},r}return Ut()(n,[{key:"setAnimating",value:function(e){var t=this;if(e!==this.state.animating&&(this.setState(Yc(Yc({},this.state),{},{animating:e})),e)){!function e(n){Wo.c.timing(t.offset,{toValue:n?12.5:-12.5,duration:400,easing:Wo.a.inOut(Wo.a.circle)}).start((function(){Wo.c.timing(t.offset,{toValue:0,duration:400,easing:Wo.a.linear}).start((function(){t.state.animating&&(n?setTimeout((function(){return e(!n)}),1e3):e(!n))}))}))}(!0)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.direction,r=t.style,o=t.iconStyle,a="horizontal"===n?"gesture-swipe-horizontal":void 0;return c.createElement(Zn.a,{style:[r]},c.createElement(Qc,{onFocus:function(){return e.setAnimating(!0)},onBlur:function(){return e.setAnimating(!1)}}),c.createElement(Wo.c.View,{style:{left:this.offset}},a&&c.createElement(po.a,{name:a,style:o})))}}]),n}(c.Component);function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function es(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ts={sideMargin:15,verticalSpacing:10,borderRadius:20},ns=function(e){zn()(n,e);var t=es(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).cardRef=c.createRef(),r.state={expanded:!1,height:new Wo.c.Value(rs),animating:!1},r.layout={x:0,y:0,width:0,height:0},r}return Ut()(n,[{key:"expand",value:function(){var e=this;this.setState($c($c({},this.state),{},{animating:!0})),Wo.c.timing(this.state.height,{toValue:os,duration:200,easing:Wo.a.elastic(1)}).start(),setTimeout((function(){return e.setState($c($c({},e.state),{},{animating:!1,expanded:!0}))}),200)}},{key:"collapse",value:function(){var e=this;this.setState($c($c({},this.state),{},{animating:!0,expanded:!1})),Wo.c.timing(this.state.height,{toValue:rs,duration:100,easing:Wo.a.out(Wo.a.linear)}).start(),setTimeout((function(){return e.setState($c($c({},e.state),{},{animating:!1}))}),100)}},{key:"hide",value:function(e,t){var n;null==(n=this.cardRef.current)||n.collapse(e,t)}},{key:"toggleExpanded",value:function(){this.state.expanded?this.collapse():(this.expand(),this.props.onExpand&&this.props.onExpand(this.layout))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.profile,o=t.showSwipeTip,a=this.state,i=a.expanded,s=a.animating,l=a.height,u=as(n),f=je.find((function(e){return e.key==r.university})),p=r.firstName+" "+r.lastName,d={chipStyle:u.chip};return c.createElement(fi,{ref:this.cardRef,looks:ts,wrapperProps:{onLayout:function(t){e.layout=t.nativeEvent.layout}},useNativeAnimations:"web"!==mn.a.OS,friction:1,leftThreshold:100,rightThreshold:100,onSwipeableRightWillOpen:function(){e.hide((function(){e.props.onSwipeLeft&&e.props.onSwipeLeft()}),!1)},onSwipeableLeftWillOpen:function(){e.hide((function(){e.props.onSwipeRight&&e.props.onSwipeRight()}),!0)},renderRightActions:function(){return c.createElement(si,{side:"right",looks:ts,fullCardWidth:!0,contentStyle:u.swipeActionContentRight},c.createElement(Jn.a,{style:u.swipeActionText},ee.a.t("matching.actionHide")))},renderLeftActions:function(){return c.createElement(si,{side:"left",looks:ts,fullCardWidth:!0,contentStyle:u.swipeActionContentLeft},c.createElement(Jn.a,{style:u.swipeActionText},ee.a.t("matching.actionLike")))},onPress:function(){return e.toggleExpanded()}},c.createElement(Wo.c.View,{style:[u.cardContent,{height:l}]},c.createElement(Zn.a,{style:u.collapsedContent},c.createElement(Zn.a,{style:u.avatarContainer},c.createElement(nc,{profile:r,size:120,rounded:!0,containerStyle:u.avatar})),c.createElement(Zn.a,{style:u.infoContainer},c.createElement(Jn.a,{style:u.name},p),f&&c.createElement(Hc,{style:u.infoText,university:f}),c.createElement(Jn.a,{style:u.infoText},ee.a.t("genders."+r.gender),", ",ee.a.t("allRoles."+r.type),"student"==r.type?" ("+ee.a.t("degrees."+r.degree)+")":"")),o&&c.createElement(Zc,{direction:"horizontal",style:u.swipeTip,iconStyle:u.swipeTipIcon})),(i||s)&&c.createElement(Zn.a,{style:u.expandedContent},c.createElement(Jn.a,{style:u.expandedSectionTitle},ee.a.t("spokenLanguages")),c.createElement(Wc,Fn()({items:r.languages,label:function(e){return ee.a.t("languageNames."+e.code)+("native"!=e.level?" ("+e.level.toUpperCase()+")":"")}},d)),c.createElement(Jn.a,{style:u.expandedSectionTitle},ee.a.t("offers")),c.createElement(Wc,Fn()({items:r.profileOffers,label:function(e){return ee.a.t("allOffers."+e.offerId+".name")}},d)),c.createElement(Mc,{profile:r,activator:function(e){return c.createElement(Qn.a,{style:u.blockButton,onPress:function(){return e()}},c.createElement(fo.a,{style:u.blockButtonIcon,name:"block"}))},onBlock:function(){return e.hide()}}))))}}]),n}(c.Component),rs=(Object(er.l)((function(e){var t=e.theme;return c.createElement(Zn.a,{style:as(t).separator})})),150),os=360,as=$n((function(e){return Yn.a.create({swipeActionContentRight:{backgroundColor:e.accentTernary,alignItems:"center",justifyContent:"flex-end",padding:20},swipeActionContentLeft:{backgroundColor:e.accentSlight,alignItems:"center",padding:20},swipeActionText:$c({fontSize:24,letterSpacing:2,textTransform:"uppercase"},cr),cardContent:{padding:10},collapsedContent:{flexDirection:"row"},avatarContainer:{justifyContent:"center"},avatar:{backgroundColor:e.accentSecondary},infoContainer:{flex:1,flexDirection:"column",justifyContent:"center",paddingLeft:10},name:{fontSize:22,letterSpacing:.8,marginBottom:5,flexShrink:1,color:e.text},infoText:{fontSize:16,letterSpacing:.5,color:e.textLight,flexShrink:1},swipeTip:{position:"absolute",top:0,right:5},swipeTipIcon:{fontSize:22,color:e.textLight},separator:{height:1,width:"100%",backgroundColor:"#000",opacity:.1,alignSelf:"center",marginBottom:5},expandedContent:{flex:1},chip:{paddingHorizontal:5,paddingVertical:2,flexGrow:1,justifyContent:"center"},expandedSectionTitle:$c($c({},sr),{},{fontSize:14,textTransform:"uppercase",letterSpacing:1,marginTop:5,color:e.text}),blockButton:{position:"absolute",bottom:0,right:0},blockButtonIcon:{fontSize:30,color:e.error}})})),is=Object(er.l)(ns);function cs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ss=Object(br.b)((function(e){return{profiles:e.matching.fetchedProfiles,fetchingProfiles:e.matching.profilesPagination.fetching,currentPage:e.matching.profilesPagination.page}})),ls=function(e){zn()(n,e);var t=cs(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).scrollerRef=c.createRef(),e}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.profiles,r=t.theme,o=t.fetchingProfiles,a=t.currentPage,i=t.navigation,s=t.dispatch,l=us(r);return c.createElement(ir,null,c.createElement(Yi,{ref:this.scrollerRef,navigation:i,fetchLimit:8,fetchMore:function(){return s((function(e,t){var n,r,o,a,i,c,s,l,f,p,d,h;return u.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(c=function(e){return 0==e.length?void 0:e},n=t(),r=n.auth.token,o=n.matching,a=o.filters,(i=o.profilesPagination).canFetchMore||console.log("Cannot fetch more profiles"),!i.fetching&&i.canFetchMore){m.next=5;break}return m.abrupt("return");case 5:return e({type:vt.FETCH_PROFILES_BEGIN}),s=Object.keys(a.offers).filter((function(e){return!0===a.offers[e]})),l={universities:c(a.universities),spokenLanguages:c(a.languages),degrees:c(a.degrees),types:c(a.types),offers:c(s)},m.next=10,u.a.awrap(I("profiles","GET",Et({page:i.page,limit:8},l),{},r));case 10:(f=m.sent).status===v.OK?(d=(p=f).data.map(A),h=p.meta.currentPage<p.meta.totalPages,e(Ct(d,h))):e(Ot());case 12:case"end":return m.stop()}}),null,null,null,Promise)}))},fetching:o,currentPage:a,items:n,id:function(e){return e.id},noResultsComponent:c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:l.noResultsText1},ee.a.t("matching.noResults")),c.createElement(Jn.a,{style:l.noResultsText2},ee.a.t("matching.noResultsAdvice"))),refresh:function(){return s(Rt())},renderItem:function(t,r){return c.createElement(is,{key:"match-profile-card-"+t.id,profile:t,onExpand:function(t){var n,r=null==(n=e.scrollerRef.current)?void 0:n.scrollViewRef.current;r&&r.scrollTo({y:t.y-100,animated:!0})},onSwipeRight:function(){return s((e=t.id,function(t,n){var r,o,a,i,c,s;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return r=n().auth.token,l.next=3,u.a.awrap(I("matching/like","POST",{},{toProfileId:e},r,!0));case 3:(o=l.sent).status===v.OK&&(a=o.data,c=(i=a).status,s=i.roomId,t(wt(e,c,s)));case 5:case"end":return l.stop()}}),null,null,null,Promise)}));var e},onSwipeLeft:function(){return s((e=t.id,function(t,n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,u.a.awrap(I("matching/decline","POST",{},{toProfileId:e},r,!0));case 3:o.sent.status===v.OK&&t(Tt(e));case 5:case"end":return o.stop()}}),null,null,null,Promise)}));var e},onHidden:function(){return r()},showSwipeTip:t.id==n[0].id})},itemsContainerStyle:{paddingTop:100,paddingBottom:25},progressViewOffset:100}))}}]),n}(c.Component),us=$n((function(e){return Yn.a.create({noResultsText1:{fontSize:20,letterSpacing:.75,color:e.text,marginVertical:5},noResultsText2:{fontSize:16,letterSpacing:.5,color:e.text}})})),fs=ss(Object(er.l)(ls));function ps(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ds=function(e){zn()(n,e);var t=ps(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.backButton,n=e.blur,r=Lr()(e,["backButton","blur"]);return c.createElement(lc,Fn()({},r,{backButton:t||!1,blur:n,rightButtons:[function(e){var t=e.buttonStyle,n=e.iconStyle;return c.createElement(Qn.a,{style:t,onPress:function(){return yn("MatchFilteringScreen")}},c.createElement(d.a,{name:"sliders",style:n}))},function(e){var t=e.buttonStyle,n=e.iconStyle;return c.createElement(Qn.a,{style:t,onPress:function(){return yn("MatchHistoryScreen")}},c.createElement(fo.a,{name:"history",style:n}))}]}))}}]),n}(c.Component);function hs(e){return c.createElement(ds,e)}var ms=n(96),gs=n(544);function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ss=Object(br.b)((function(e){return{locale:e.settings.userSettings.locale}})),Es=function(e){zn()(n,e);var t=bs(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).tempSelected=[],r.state={items:new Map,open:!1,dropdownWrapperHeight:0},r}return Ut()(n,[{key:"updateItems",value:function(){var e,t=this,n=this.props.locale;if(!this.state.items.has(n)||(null==(e=this.state.items.get(n))?void 0:e.length)!=this.props.values.length){var r=new Map(this.state.items);r.set(n,this.props.values.map((function(e){return{value:e,label:t.props.genLabel?ee.a.t(t.props.genLabel(e)):e}}))),this.setState(vs(vs({},this.state),{},{items:r}))}}},{key:"componentDidMount",value:function(){this.updateItems()}},{key:"componentDidUpdate",value:function(e){e.locale==this.props.locale&&e.values.length==this.props.values.length||this.updateItems()}},{key:"open",value:function(){this.tempSelected=this.props.selected||[],this.setState(vs(vs({},this.state),{},{open:!0}))}},{key:"close",value:function(){this.setState(vs(vs({},this.state),{},{open:!1})),this.apply()}},{key:"apply",value:function(){this.props.onChange&&this.props.onChange(this.tempSelected)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.locale,o=t.selected,a=(t.onChange,t.genLabel),i=t.placeholder,s=t.multipleText,l=t.searchablePlaceholder,u=t.showChips,f=t.single,p=Lr()(t,["theme","locale","selected","onChange","genLabel","placeholder","multipleText","searchablePlaceholder","showChips","single"]),d=pi(n),h=o||[],m=this.state.items.get(r)||[];return c.createElement(Zn.a,p,c.createElement(Zn.a,null,c.createElement(Qn.a,{onPress:function(){return e.open()},style:d.openButton},c.createElement(Jn.a,{style:d.openButtonText},ee.a.t("picker.callToAction").replace("%d",h.length.toString()))),u&&c.createElement(Wc,{items:h,label:function(e){return a?ee.a.t(a(e)):e},containerStyle:d.chipContainer,removable:!0,onRemove:function(t){e.tempSelected=e.tempSelected.filter((function(e){return e!==t})),e.apply()}}),c.createElement(Zn.a,null)),this.state.open&&c.createElement(ka,{visible:this.state.open,onHide:function(){return e.close()},modalViewStyle:{height:150+40*m.length,maxHeight:"70%",overflow:"hidden",paddingHorizontal:0,paddingVertical:0},renderContent:function(){return c.createElement(c.Fragment,null,c.createElement(Zn.a,{style:d.dropdownWrapper,onLayout:function(t){e.setState(vs(vs({},e.state),{},{dropdownWrapperHeight:t.nativeEvent.layout.height}))}},c.createElement(gs.a,{items:m,multiple:!f,searchable:!0,defaultValue:o,onChangeItem:function(t){e.tempSelected=t},placeholder:i,multipleText:s,searchablePlaceholder:l,scrollViewProps:{keyboardShouldPersistTaps:"handled"},isVisible:!0,showArrow:!1,dropDownMaxHeight:e.state.dropdownWrapperHeight-10,selectedLabelStyle:{display:"none"},style:d.dropdownStyle,itemStyle:d.dropdownItemStyle,activeItemStyle:d.dropdownActiveItemStyle,activeLabelStyle:d.dropdownActiveLabelStyle,labelStyle:d.dropdownLabelStyle})),c.createElement(Qn.a,{onPress:function(){return e.close()},style:d.okButton},c.createElement(Jn.a,{style:d.okButtonText},"OK")))}}))}}]),n}(c.Component);Es.defaultProps={items:[],showSelected:!0,selected:[]};var Os=Ss(Object(er.l)(Es));function Cs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Rs=[],ws=function(e){zn()(n,e);var t=Cs(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"componentDidMount",value:function(){0==Rs.length&&(Rs=je.map((function(e){return e.key})))}},{key:"render",value:function(){var e=this.props,t=e.universities,n=e.onChange,r=Lr()(e,["universities","onChange"]);return c.createElement(Os,Fn()({values:Rs,genLabel:function(e){return"universities."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:ee.a.t("universitiesPicker.placeholder"),multipleText:ee.a.t("universitiesPicker.multiple"),searchablePlaceholder:ee.a.t("universitiesPicker.searchPlaceholder")},r))}}]),n}(c.Component);function Ts(e,t){return e?{containerStyle:{backgroundColor:"transparent",height:28,borderWidth:0,marginHorizontal:0,marginBottom:5,flexDirection:"row",justifyContent:"space-evenly"},innerBorderStyle:{width:0},buttonContainerStyle:{marginHorizontal:5,flex:0},buttonStyle:{paddingHorizontal:10},textStyle:{color:t.textLight,opacity:.5,fontSize:15,flexShrink:1},selectedButtonStyle:{backgroundColor:"transparent",borderColor:t.accent,borderBottomWidth:.5},selectedTextStyle:{color:t.text,opacity:1}}:{containerStyle:{height:35,marginLeft:0,marginRight:0,borderColor:t.componentBorder},innerBorderStyle:{color:t.componentBorder},buttonStyle:{backgroundColor:t.cardBackground},textStyle:{color:t.text},selectedButtonStyle:{backgroundColor:t.accent},disabledStyle:{backgroundColor:t.cardBackground},disabledSelectedStyle:{backgroundColor:t.background},disabledSelectedTextStyle:{fontWeight:"bold"}}}var Ps=Object(er.l)((function(e){var t=Be.map((function(e){return ee.a.t("degrees."+e)})),n=e.theme,r=e.style,o=e.degrees,a=e.noButtonVariant,i=e.onSelect,s=Lr()(e,["theme","style","degrees","noButtonVariant","onSelect"]),l=Ts(a||!1,n);return c.createElement(er.d,Fn()({onPress:function(e){i&&i(("object"==typeof e?e:[e]).map((function(e){return Be[e]})))},selectMultiple:!0,selectedIndexes:o.map((function(e){return Be.indexOf(e)})),buttons:t},l,{containerStyle:[l.containerStyle,r],buttonContainerStyle:[l.buttonContainerStyle,{marginHorizontal:2}],buttonStyle:[l.buttonStyle,{paddingHorizontal:0}]},s))}));function ks(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var xs=ct,Is=function(e){zn()(n,e);var t=ks(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.languages,n=e.onChange,r=e.multiple,o=Lr()(e,["languages","onChange","multiple"]);return c.createElement(Os,Fn()({single:!r,values:xs,genLabel:function(e){return"languageNames."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:ee.a.t("languagePicker.placeholderMultiple"),multipleText:ee.a.t("languagePicker.multiple"),searchablePlaceholder:ee.a.t("languagePicker.searchPlaceholder")},o))}}]),n}(c.Component);var js=Object(er.l)((function(e){var t=e.theme,n=e.roles,r=e.noButtonVariant,o=e.onSelect,a=Lr()(e,["theme","roles","noButtonVariant","onSelect"]),i=Ue.map((function(e){return ee.a.t("allRoles."+e)}));return c.createElement(er.d,Fn()({onPress:function(e){o&&o(("object"==typeof e?e:[e]).map((function(e){return Ue[e]})))},selectMultiple:!0,selectedIndexes:n.map((function(e){return Ue.indexOf(e)})),buttons:i},Ts(r||!1,t),a))}));function Ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var _s=function(e){zn()(n,e);var t=Ds(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.containerStyle,r=t.category,o=t.theme,a=t.textStyle,i=t.iconProps,s=t.iconSize,l=t.fontSize,u=As(o),f="onboarding.offers"+(r[0].toUpperCase()+r.slice(1))+".title",p=$o("offers.categories."+r,(function(){return e.forceUpdate()})),d=s||75;return c.createElement(Zn.a,{style:[u.container,n]},c.createElement(p,Fn()({width:d,height:d},i)),c.createElement(ha,{text:ee.a.t(f),textStyle:a,fontSize:l}))}}]),n}(c.Component),As=$n((function(){return Yn.a.create({container:{flexDirection:"row",alignItems:"center",marginLeft:-10}})})),Ls=Object(er.l)(_s);function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ns(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Bs=Object(br.b)((function(e){return{offers:e.profile.offers,filters:e.matching.filters}})),Hs=Object(er.l)((function(e){var t=e.theme;return c.createElement(Zn.a,{style:zs(t).separator})})),Us=c.createRef(),Vs=function(e){zn()(n,e);var t=Ns(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={localFilters:{offers:{},universities:[],degrees:[],languages:[],types:[]}},r.haveFiltersChanged=!1,r}return Ut()(n,[{key:"updateLocalOfferFilters",value:function(e,t){this.haveFiltersChanged=!0,this.setState(Ms(Ms({},this.state),{},{localFilters:Ms(Ms({},this.state.localFilters),{},{offers:Ms(Ms({},this.state.localFilters.offers),{},p()({},e,t))})}))}},{key:"updateLocalFilters",value:function(e){this.haveFiltersChanged=!0,this.setState(Ms(Ms({},this.state),{},{localFilters:Ms(Ms({},this.state.localFilters),e)}))}},{key:"resetLocalFilters",value:function(){this.updateLocalFilters({offers:{},universities:[],degrees:[],languages:[],types:[]})}},{key:"applyFilters",value:function(){var e;this.haveFiltersChanged&&this.props.dispatch((e=this.state.localFilters,{type:vt.SET_FILTERS,filters:e}))}},{key:"componentDidMount",value:function(){this.updateLocalFilters(this.props.filters),this.haveFiltersChanged=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.offers,o=this.state.localFilters,a=zs(n),i=Object.values(ht).map((function(t){return c.createElement(Zn.a,{key:t,style:a.sectionContainer},c.createElement(Hs,null),c.createElement(Ls,{category:t,iconSize:60,fontSize:24}),r.filter((function(e){return e.category==t})).map((function(t){return c.createElement(Zn.a,{key:t.id,style:a.entryContainer},c.createElement(Jn.a,{style:a.entryLabel},ee.a.t("allOffers."+t.id+".name")),c.createElement(ms.a,{value:o.offers[t.id]||!1,onValueChange:function(n){return e.updateLocalOfferFilters(t.id,n)}}))})))}));return c.createElement(ir,null,c.createElement(xo.a,{style:a.scroll,contentContainerStyle:a.scrollContainer},c.createElement(Qn.a,{style:a.resetButton,onPress:function(){return e.resetLocalFilters()}},c.createElement(Jn.a,{style:a.resetButtonText},ee.a.t("matching.filtering.buttonReset")),c.createElement(fo.a,{name:"refresh",style:a.resetButtonIcon})),c.createElement(Zn.a,{style:a.sectionContainer},c.createElement(Jn.a,{style:a.sectionTitle},ee.a.t("matching.filtering.sectionGeneral")),c.createElement(Zn.a,{style:a.entryContainer},c.createElement(Jn.a,{style:a.entryLabel},ee.a.t("university")),c.createElement(Zn.a,{style:a.entryControls},c.createElement(ws,{universities:o.universities,showChips:!1,onChange:function(t){return e.updateLocalFilters({universities:t})}}),c.createElement(Gs,{onPress:function(){return e.updateLocalFilters({universities:[]})}}))),c.createElement(Zn.a,{style:a.entryContainer},c.createElement(Jn.a,{style:a.entryLabel},ee.a.t("spokenLanguages")),c.createElement(Zn.a,{style:a.entryControls},c.createElement(Is,{multiple:!0,languages:o.languages,showChips:!1,onChange:function(t){return e.updateLocalFilters({languages:t})}}),c.createElement(Gs,{onPress:function(){return e.updateLocalFilters({languages:[]})}}))),c.createElement(Zn.a,{style:a.twoLineEntryContainer},c.createElement(Jn.a,{style:a.entryLabel},ee.a.t("profileTypes")),c.createElement(js,{roles:o.types,onSelect:function(t){return e.updateLocalFilters({types:t})},noButtonVariant:!0})),-1!=o.types.indexOf("student")&&c.createElement(Zn.a,{style:a.twoLineEntryContainer},c.createElement(Jn.a,{style:a.entryLabel},ee.a.t("levelOfStudy")),c.createElement(Ps,{degrees:o.degrees,onSelect:function(t){return e.updateLocalFilters({degrees:t})},style:{width:"100%"},noButtonVariant:!0}))),i))}}]),n}(c.Component),zs=$n((function(e){return Yn.a.create({scroll:{width:"100%"},scrollContainer:{flexDirection:"column",padding:40,width:"100%"},sectionContainer:{width:"100%"},sectionTitle:{fontSize:20,letterSpacing:1,marginBottom:5,color:e.text},entryContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},twoLineEntryContainer:{flexDirection:"column"},entryLabel:{fontSize:16,marginVertical:7,marginRight:10,color:e.textLight},entryControls:{flexDirection:"row",alignItems:"center",marginVertical:2},separator:{height:1,width:"100%",backgroundColor:"rgba(0, 0, 0, 0.1)",alignSelf:"center",marginVertical:15},resetButton:{width:"100%",maxWidth:200,paddingVertical:7,marginBottom:20,backgroundColor:e.accentSlight,flexDirection:"row",justifyContent:"center",alignItems:"center",alignSelf:"center",borderRadius:10,elevation:1},resetButtonText:{fontSize:14,textTransform:"uppercase",letterSpacing:1,color:e.textBlack},resetButtonIcon:{fontSize:16,color:e.textBlack,marginLeft:4}})})),Gs=Object(er.l)((function(e){var t=e.theme,n=e.onPress;return c.createElement(Qn.a,{onPress:n},c.createElement(fo.a,{name:"close",style:{fontSize:28,color:t.text}}))})),Ws=Bs(Object(er.l)((function(e){return c.createElement(Vs,Fn()({ref:Us},e))})));function qs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ks=function(e){zn()(n,e);var t=qs(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"back",value:function(){var e=this.props.navigation;e.canGoBack()&&e.goBack()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.insets,o=t.scene,a=t.navigation,i=Ys(n),s=rc(n),l=Sn(o.route.name);return c.createElement(Zn.a,{style:[{paddingTop:r.top},s.wrapper]},c.createElement(Qn.a,{style:{paddingVertical:10},onPress:function(){return e.back()}},c.createElement(fo.a,{name:"close",style:i.actionIcon})),c.createElement(Jn.a,{style:[s.title,{textAlign:"center"}],numberOfLines:1},l),c.createElement(Qn.a,{style:{paddingVertical:10},onPress:function(){Us.current&&Us.current.applyFilters(),a.navigate("TabMatchingScreen"),jn.dispatch(Rt())}},c.createElement(fo.a,{name:"check",style:i.actionIcon})))}}]),n}(c.Component),Ys=$n((function(e){return Yn.a.create({actionIcon:{fontSize:32,color:e.text}})})),Js=Object(er.l)(Ks);function Qs(e){return c.createElement(Js,e)}function Zs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Xs=function(e){zn()(n,e);var t=Zs(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.status,o=n.theme,a=n.containerStyle,i=n.textStyle,s=n.iconStyle,l=$s(o),u=ee.a.t("matching.history.status."+r);switch(r){case gt.Blocked:e=fo.a,t="block";break;case gt.Declined:e=fo.a,t="thumb-down";break;case gt.Matched:e=fo.a,t="people";break;case gt.Requested:e=fo.a,t="thumb-up"}return c.createElement(Zn.a,{style:[l.container,a]},c.createElement(e,{style:[l.icon,s],name:t}),c.createElement(Jn.a,{style:[l.text,i]},u))}}]),n}(c.Component),$s=$n((function(){return Yn.a.create({container:{flexDirection:"row",alignItems:"center"},icon:{marginRight:5,paddingTop:2},text:{fontSize:20}})})),el=Object(er.l)(Xs);function tl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var nl={sideMargin:10,borderRadius:10,minHeight:100},rl=function(e){zn()(n,e);var t=tl(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).swipeableCardRef=c.createRef(),e.reportFormRef=c.createRef(),e.blockModalRef=c.createRef(),e}return Ut()(n,[{key:"getActions",value:function(e){var t=this,n=this.props,r=n.theme,o=n.item,a=o.id,i=o.status,c=jn.dispatch,s={icon:"report",text:ee.a.t("matching.history.actions.report"),backgroundColor:r.error,color:r.textWhite,onPress:function(){var e;return null==(e=t.reportFormRef.current)?void 0:e.open()}},l={icon:"block",text:ee.a.t("matching.history.actions.block"),backgroundColor:r.error,color:r.textWhite,onPress:function(){var e;return null==(e=t.blockModalRef.current)?void 0:e.show()}},u={icon:"close",text:ee.a.t("matching.history.actions.cancel."+i),backgroundColor:r.accent,color:r.textWhite,onPress:function(){e(),c(_t(a))}};return i===gt.Blocked?[s,u]:[s,l,u]}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.item,o=ol(n),a=r.profile,i=je.find((function(e){return e.key==a.university})),s=a.firstName+" "+a.lastName;return c.createElement(c.Fragment,null,c.createElement(fi,{ref:this.swipeableCardRef,looks:nl,rightThreshold:100,overshootRight:!1,rightActions:function(t){return c.createElement(ci,{id:r.profile.id+"-"+r.status,looks:nl,side:"right",actions:e.getActions(t),buttonStyle:o.actionButton})}},c.createElement(Zn.a,{style:o.cardContent},c.createElement(Zn.a,{style:o.avatarContainer},c.createElement(nc,{profile:a,size:60,rounded:!0,containerStyle:o.avatar,onPress:function(){return yn("ProfileScreen",{id:a.id})}})),c.createElement(Zn.a,{style:o.infoContainer},c.createElement(Jn.a,{style:o.name},s),i&&c.createElement(Hc,{flagSize:14,flagEmoji:!0,style:[o.infoText,{marginLeft:-10}],university:i}),c.createElement(el,{status:r.status,textStyle:o.infoText,iconStyle:o.infoText})),c.createElement(po.a,{name:"gesture-swipe-left",style:o.swipeLeftIcon}))),c.createElement(Mi,{ref:this.reportFormRef,entityType:Si.PROFILE_ENTITY,entity:a,onSubmit:function(){var t;return null==(t=e.swipeableCardRef.current)?void 0:t.resetSwipe()}}),c.createElement(Mc,{ref:this.blockModalRef,profile:a,onBlock:function(){var t;return null==(t=e.swipeableCardRef.current)?void 0:t.collapse()}}))}}]),n}(c.Component),ol=$n((function(e){return Yn.a.create({cardContent:{flexDirection:"row",padding:10},avatarContainer:{justifyContent:"center",alignItems:"center"},avatar:{backgroundColor:e.accentSecondary},infoContainer:{flex:1,flexDirection:"column",justifyContent:"space-between",paddingLeft:10},name:{fontSize:18,letterSpacing:.8,color:e.text},infoText:{fontSize:15,letterSpacing:.5,color:e.textLight,flexShrink:1},swipeLeftIcon:{color:e.text,opacity:.25,fontSize:20},actionButton:{paddingHorizontal:5}})})),al=Object(er.l)(rl);function il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var cl=function(e){zn()(n,e);var t=il(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).updateTimeout=null,e}return Ut()(n,[{key:"onChange",value:function(e){var t=this,n=this.props,r=n.bufferDelay,o=n.onBufferedUpdate;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((function(){t.updateTimeout=null,o&&o(e)}),r)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.bufferDelay,t.onBufferedUpdate,t.onChangeText),r=Lr()(t,["bufferDelay","onBufferedUpdate","onChangeText"]);return c.createElement(er.g,Fn()({onChangeText:function(t){n&&n(t),e.onChange(t)}},r))}}]),n}(c.Component);function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var fl=Object(br.b)((function(e){return{historyItems:e.matching.historyItems,fetchingHistory:e.matching.historyPagination.fetching,currentPage:e.matching.historyPagination.page,historyFilters:e.matching.historyFilters}})),pl=function(e){zn()(n,e);var t=ul(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={search:""},r}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.historyItems,r=t.theme,o=t.historyFilters,a=t.fetchingHistory,i=t.currentPage,s=t.navigation,l=t.dispatch,f=this.state.search,d=hl(r),h=bt;return c.createElement(ir,null,c.createElement(Zn.a,{style:d.filtersContainer},h.map((function(e){return c.createElement(dl,{theme:r,key:"match-history-filter-"+e,filterKey:e,selected:o[e],onPress:function(){l(function(e){return{type:vt.SET_HISTORY_FILTERS,filters:e}}(p()({},e,!o[e]))),l(It())}})}))),c.createElement(cl,{onBufferedUpdate:function(){return l(It())},bufferDelay:250,placeholder:ee.a.t("search"),onChangeText:function(t){return e.setState(ll(ll({},e.state),{},{search:t}))},value:f,containerStyle:d.searchBarContainer,inputContainerStyle:d.searchBarInputContainer,inputStyle:d.searchBarInput}),c.createElement(Yi,{navigation:s,fetchLimit:12,fetchMore:function(){return l(function(e){return function(t,n){var r,o,a,i,c,s,l,f,p;return u.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(r=n(),o=r.auth.token,a=r.matching,i=a.historyPagination,c=a.historyFilters,!i.fetching&&i.canFetchMore){d.next=3;break}return d.abrupt("return");case 3:return t({type:vt.FETCH_HISTORY_BEGIN}),d.next=6,u.a.awrap(I("matching/history","GET",{page:i.page,limit:12,status:Object.keys(c).filter((function(e){return c[e]})),search:e},{},o,!0));case 6:(s=d.sent).status===v.OK?(f=(l=s).data.map(B),p=l.meta.currentPage<l.meta.totalPages,t(xt(f,p))):t({type:vt.FETCH_HISTORY_FAILURE});case 8:case"end":return d.stop()}}),null,null,null,Promise)}}(f))},fetching:a,currentPage:i,items:n,id:function(e){return e.id},noResultsComponent:c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:d.noResultsText1},ee.a.t("matching.history.noResults")),c.createElement(Jn.a,{style:d.noResultsText2},ee.a.t("matching.history.noResultsAdvice"))),refresh:function(){return l(It())},refreshOnFocus:!0,renderItem:function(e,t){return c.createElement(al,{key:"history-card-"+e.id+"-"+e.status,item:e,onHidden:t})}}))}}]),n}(c.Component);function dl(e){var t=e.theme,n=e.selected,r=e.filterKey,o=e.onPress,a=hl(t);return c.createElement(er.c,{onPress:o,title:ee.a.t("matching.history.status."+r),containerStyle:a.filterButtonContainer,buttonStyle:[a.filterButton,n?a.filterButtonSelected:{}],titleStyle:[a.filterLabel,n?a.filterLabelSelected:{}],raised:!1})}var hl=$n((function(e){return Yn.a.create({topBar:{flexBasis:90,paddingTop:40,paddingHorizontal:20,width:"100%"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:20,height:1,width:"100%"},filtersIcon:{paddingHorizontal:5,fontSize:26,color:e.textLight},headerContainer:{flexDirection:"row",paddingRight:10},noResultsText1:{fontSize:20,letterSpacing:.75,color:e.text,marginVertical:5},noResultsText2:{fontSize:16,letterSpacing:.5,color:e.text},filtersContainer:{width:"100%",marginVertical:10,flexDirection:"row"},filterButtonContainer:{flex:1,marginHorizontal:15,borderRadius:25},filterButton:{height:40,backgroundColor:e.cardBackground},filterButtonSelected:{backgroundColor:e.accent},filterLabel:{color:e.text,fontSize:14,textTransform:"uppercase",letterSpacing:.6},filterLabelSelected:{color:e.textWhite,fontWeight:"600"},filterIcon:{fontSize:18,color:e.text,marginRight:4},filterIconSelected:{color:e.textWhite},searchBarContainer:{width:"100%",marginBottom:5,paddingVertical:0,paddingHorizontal:15,backgroundColor:"transparent",borderTopWidth:0,borderBottomWidth:0},searchBarInputContainer:{height:40,backgroundColor:e.cardBackground,elevation:2,borderRadius:25},searchBarInput:{fontSize:14}})})),ml=fl(Object(er.l)(pl)),gl=Object(Hn.a)(),yl=function(){return c.createElement(gl.Navigator,null,c.createElement(gl.Screen,{name:"TabMatchingScreen",options:function(){return{headerShown:!1,title:bn("TabMatchingScreen")}}},(function(e){return c.createElement(c.Fragment,null,c.createElement(fs,e),c.createElement(hs,Fn()({blur:!0},e)))})),c.createElement(gl.Screen,{name:"MatchFilteringScreen",component:Ws,options:{headerShown:!0,title:bn("MatchFilteringScreen"),header:Qs}}),c.createElement(gl.Screen,{name:"MatchHistoryScreen",component:ml,options:{headerShown:!0,title:bn("MatchHistoryScreen"),header:function(e){return c.createElement(lc,Fn()({backButton:!0},e))}}}))},vl=n(357);function bl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Sl=function(e){zn()(n,e);var t=bl(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.insets.bottom,r=Lr()(e,["theme","insets"]),o=El(t);return c.createElement(oc.a,{style:o.blurViewStyle,tint:"dark"===t.id?"dark":"default",intensity:fr},c.createElement(vl.a,Fn()({},r,{activeTintColor:t.accent,style:[o.tabBar,{paddingBottom:n}],tabStyle:o.tab,iconStyle:o.icon,showLabel:!1})))}}]),n}(c.Component),El=$n((function(){return Yn.a.create({blurViewStyle:{position:"absolute",bottom:0,left:0,right:0},tabBar:{borderTopWidth:0,elevation:0,backgroundColor:"transparent"},tab:{flexDirection:"column",justifyContent:"center"},icon:{flex:1}})}));function Ol(e){var t=e.name,n=e.color;return c.createElement(fo.a,{size:26,name:t,color:n})}var Cl=function(e){var t=Object(ea.d)();return c.createElement(er.h,null,(function(n){return c.createElement(Sl,Fn()({insets:t},n,e))}))},Rl=Object(Ua.a)();var wl=Object(Hn.a)(),Tl=function(){return c.createElement(wl.Navigator,{screenOptions:{header:lc}},c.createElement(wl.Screen,{name:"TabHomeScreen",component:_c,options:{title:bn("TabHomeScreen")}}))},Pl=Object(Hn.a)(),kl=function(){return c.createElement(Pl.Navigator,{screenOptions:{header:lc}},c.createElement(Pl.Screen,{name:"TabNotificationsScreen",component:Za,options:{title:bn("TabNotificationsScreen")}}))},xl=Object(er.l)((function(){return c.createElement(Rl.Navigator,{initialRouteName:"TabHome",tabBar:function(e){return c.createElement(Cl,e)}},c.createElement(Rl.Screen,{name:"TabHome",component:Tl,options:{tabBarIcon:function(e){return c.createElement(Ol,Fn()({name:"home"},e))}}}),c.createElement(Rl.Screen,{name:"TabMatching",component:yl,options:{tabBarIcon:function(e){return c.createElement(Ol,Fn()({name:"contacts"},e))}}}),c.createElement(Rl.Screen,{name:"TabMessaging",component:Pc,options:function(e){var t=e.route;return{tabBarVisible:"ChatScreen"!==Object(qc.getFocusedRouteNameFromRoute)(t),tabBarIcon:function(e){return c.createElement(Ol,Fn()({name:"message"},e))}}}}),c.createElement(Rl.Screen,{name:"TabNotifications",component:kl,options:{tabBarIcon:function(e){return c.createElement(Ol,Fn()({name:"notifications"},e))}}}))}));function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dl=$n((function(e){return Yn.a.create({wavyHeader:{height:200},header:{marginBottom:20},slideScrollView:{width:"100%",marginBottom:80},slideContentWrapper:{width:"75%",flexDirection:"column",alignSelf:"center",paddingTop:150},slideNavWrapper:{width:"100%",flexDirection:"row",justifyContent:"space-around",alignItems:"center",position:"absolute",bottom:20},navButton:{padding:10},navButtonIcon:{fontSize:40,color:e.text},finishButtonText:{fontSize:20},title:jl(jl({},cr),{},{fontSize:40,letterSpacing:1.75,marginBottom:20,color:e.text}),subtitle:{fontSize:18,textAlign:"justify",letterSpacing:.4,lineHeight:25,color:e.textLight}})})),_l=$n((function(){return Yn.a.create({categoryTitleText:{}})}));var Al=Object(er.l)((function(e){var t=Ge.map((function(e){return ee.a.t("genders."+e)})),n=e.theme,r=e.genders,o=e.noButtonVariant,a=e.onSelect,i=Lr()(e,["theme","genders","noButtonVariant","onSelect"]);return c.createElement(er.d,Fn()({onPress:function(e){a&&a(("object"==typeof e?e:[e]).map((function(e){return Ge[e]})))},selectMultiple:!0,selectedIndexes:r.map((function(e){return Ge.indexOf(e)})),buttons:t},Ts(o||!1,n),i))})),Ll=$n((function(){return Yn.a.create({text:{textAlign:"justify",paddingVertical:10},container:{alignContent:"center",borderRadius:4,width:void 0,maxWidth:240,paddingHorizontal:10}})}));function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Bl=function(e){zn()(n,e);var t=Nl(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={height:void 0},r}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.state.height,n=this.props,r=n.theme,o=n.text,a=Ll(r);return s.a.createElement(er.j,{popover:s.a.createElement(Jn.a,{style:a.text,onLayout:function(t){e.setState(Ml(Ml({},e.state),{},{height:t.nativeEvent.layout.height}))}},o),backgroundColor:r.accentSlight,containerStyle:a.container,height:t},this.props.children)}}]),n}(s.a.Component),Hl=Object(er.l)(Bl);function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Gl=function(e){zn()(n,e);var t=zl(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"offerValueChange",value:function(e){var t=this.props.onChange;t&&t(Vl(Vl({},this.props.value),e))}},{key:"setAllValues",value:function(e){this.offerValueChange(yt(this.props.offer,e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.offer,o=t.value,a=t.style,i=Wl(n),c=[];r.allowChooseGender&&(o.allowFemale&&c.push("female"),o.allowMale&&c.push("male"),o.allowOther&&c.push("other"));var l=[];r.allowChooseProfileType&&(o.allowStaff&&l.push("staff"),o.allowStudent&&l.push("student"));var u=(!r.allowChooseGender||c.length>0)&&(!r.allowInterRole||l.length>0);return s.a.createElement(Zn.a,{style:[i.wrapper,a]},s.a.createElement(Zn.a,{style:i.titleWrapper},s.a.createElement(er.e,{checked:u,onPress:function(){return e.setAllValues(!u)},containerStyle:i.checkboxContainer}),s.a.createElement(Qn.a,{style:i.offerNameTouchable,onPress:function(){return e.setAllValues(!u)}},s.a.createElement(Jn.a,{style:i.offerName},ee.a.t("allOffers."+r.id+".name"))),s.a.createElement(Hl,{text:ee.a.t("allOffers."+r.id+".help")},s.a.createElement(fo.a,{style:i.helpIcon,name:"help"}))),u&&s.a.createElement(Zn.a,{style:i.buttonsWrapper},r.allowChooseGender&&s.a.createElement(Al,{noButtonVariant:!0,genders:c,onSelect:function(t){return e.offerValueChange({allowFemale:-1!=t.indexOf("female"),allowMale:-1!=t.indexOf("male"),allowOther:-1!=t.indexOf("other")})}}),r.allowChooseProfileType&&s.a.createElement(js,{noButtonVariant:!0,roles:l,onSelect:function(t){return e.offerValueChange({allowStaff:-1!=t.indexOf("staff"),allowStudent:-1!=t.indexOf("student")})}})))}}]),n}(s.a.Component),Wl=$n((function(e){return Yn.a.create({wrapper:{flexDirection:"column",alignItems:"flex-start"},titleWrapper:{flexDirection:"row",alignItems:"center"},offerNameTouchable:{flex:1},offerName:{textTransform:"uppercase",letterSpacing:1,color:e.text},helpIcon:{fontSize:20,marginLeft:5,color:e.textLight},buttonsWrapper:{width:"100%"},checkboxContainer:{padding:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:5}})})),ql=Object(er.l)(Gl);function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jl(e,t,n,r){return e.filter((function(e){return e.category==t})).map((function(e,t){return c.createElement(ql,{key:t,offer:e,value:n.offerValues[e.id]||yt(e),onChange:function(t){return r(function(e,t){return{type:W.SET_ONBOARDING_OFFER_VALUE,id:e,value:t}}(e.id,t))},style:{marginVertical:20}})}))}function Ql(e){var t=function(e){var t={type:e.type,firstName:e.firstname,lastName:e.lastname,gender:e.gender,birthdate:e.birthdate.toJSON(),nationality:e.nationality,languages:e.languages,interests:e.interestIds.map((function(e){return{id:e}})),profileOffers:Object.values(e.offerValues),educationFields:e.educationFields.map((function(e){return{id:e}}))};return"student"==e.type?Yl(Yl({},t),{},{degree:e.degree}):"staff"==e.type?Yl(Yl({},t),{},{staffRoles:Object.keys(e.staffRoles).filter((function(t){return e.staffRoles[t]})).map((function(e){return{id:e}}))}):null}(e);t&&jn.dispatch(Y(t))}function Zl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Xl=function(e){zn()(n,e);var t=Zl(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.subtitle,o=t.index,a=t.hideNavNext,i=t.hasNext,s=t.handleSubmit,l=t.next,u=t.containerStyle,f=t.noKeyboardAvoidance,p=t.theme,h=Dl(p),m=o>0,g=$o("background.onboarding",(function(){return e.forceUpdate()})),y=Go.a.get("screen"),v=y.width,b=y.height;return c.createElement(ir,null,c.createElement(Zn.a,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:1,zIndex:0}},c.createElement(g,{preserveAspectRatio:"true",viewBox:"50 50 "+1.25*v+" "+1.25*b,style:{width:v,height:b}})),c.createElement(xo.a,{style:h.slideScrollView,contentContainerStyle:[u,h.slideContentWrapper]},c.createElement(Io.a,{behavior:"position",keyboardVerticalOffset:70,enabled:!f},c.createElement(Zn.a,{style:h.header},n&&"string"===typeof n&&c.createElement(Jn.a,{style:h.title},n),n&&"string"!==typeof n&&n,r&&c.createElement(Jn.a,{style:h.subtitle},r)),this.props.children)),c.createElement(Zn.a,{style:h.slideNavWrapper},m&&c.createElement(Qn.a,{style:h.navButton,onPress:function(){return e.props.previous()}},c.createElement(d.a,{style:h.navButtonIcon,name:"arrow-circle-left"})),!m&&c.createElement(Qn.a,{style:h.navButton,onPress:function(){return e.quitOnboarding()}},c.createElement(d.a,{style:h.navButtonIcon,name:"arrow-circle-left"})),!a&&i&&c.createElement(Qn.a,{style:h.navButton,onPress:function(){s?s():i&&l()}},c.createElement(d.a,{style:h.navButtonIcon,name:"arrow-circle-right"})),!i&&c.createElement(Qn.a,{style:h.navButton,onPress:function(){s&&s(),Ql(jn.getState().auth.onboarding)}},c.createElement(Jn.a,{style:h.finishButtonText},ee.a.t("onboarding.submit")))))}},{key:"quitOnboarding",value:function(){g.a.alert(ee.a.t("onboarding.quit.title"),ee.a.t("onboarding.quit.text"),[{text:ee.a.t("onboarding.quit.cancel"),style:"cancel"},{text:ee.a.t("onboarding.quit.yes"),onPress:function(){return jn.dispatch(ge())},style:"destructive"}])}}]),n}(c.Component),$l=Object(er.l)(Xl);function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var nu=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding}})),ru=Ne.c().shape({firstname:Qe,lastname:Ze}),ou=function(e){zn()(n,e);var t=tu(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).lastNameInputRef=c.createRef(),e}return Ut()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.firstname!=n.firstname||t.lastname!=n.lastname}},{key:"submit",value:function(e){Dr.a.dismiss(),this.props.dispatch(Re(e)),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.onboardingState;return c.createElement(_r.a,{initialValues:r,validationSchema:ru,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,a=t.errors,i=t.touched,s=t.handleChange,l=t.handleBlur,u=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({field:e,value:o[e],error:a[e],touched:i[e],handleChange:s,handleBlur:l},function(e){return{wrapperStyle:{width:"100%",marginVertical:10},style:{width:"100%",height:60,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary},errorStyle:{borderBottomWidth:2,borderBottomColor:e.error},validStyle:{borderBottomWidth:2,borderBottomColor:e.okay},inputStyle:{fontSize:20,color:e.text},inputFocusedStyle:"web"===mn.a.OS?{backgroundColor:"transparent",outline:"none"}:{}}}(n))};return c.createElement($l,Fn()({title:ee.a.t("onboarding.name.title"),subtitle:ee.a.t("onboarding.name.subtitle"),handleSubmit:r},e.props),c.createElement(Zr,Fn()({},u("firstname"),{label:ee.a.t("firstname"),autoCompleteType:"name",enablesReturnKeyAutomatically:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.lastNameInputRef.current)?void 0:t.focus()}})),c.createElement(Zr,Fn()({},u("lastname"),{ref:e.lastNameInputRef,label:ee.a.t("lastname"),autoCompleteType:"name",enablesReturnKeyAutomatically:!0,returnKeyType:"done",onSubmitEditing:function(){return r()}})))}))}}]),n}(c.Component),au=nu(Object(er.l)(ou));var iu=Object(er.l)((function(e){var t=Ge.map((function(e){return ee.a.t("genders."+e)})),n=e.gender,r=e.disabled,o=Ts(!1,e.theme);return c.createElement(er.d,Fn()({onPress:function(t){e.onSelect&&e.onSelect(Ge[t])},selectedIndex:void 0!==n&&null!==n?Ge.indexOf(n):-1,buttons:t,disabled:r},o))}));function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var uu=function(e){zn()(n,e);var t=lu(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={open:void 0===e.open||e.open},r}return Ut()(n,[{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&this.showModal(),e.open&&!this.props.open&&this.hideModal()}},{key:"showModal",value:function(){this.state.open||this.setState(su(su({},this.state),{},{open:!0}))}},{key:"hideModal",value:function(){this.state.open&&(this.setState(su(su({},this.state),{},{open:!1})),void 0!==this.props.onHide&&this.props.onHide())}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state.open,r=fu(t);return c.createElement(Nc.d,{countryCode:this.props.nationality||"FR",filterProps:{placeholder:ee.a.t("search")},withFlag:!0,withFilter:!0,withEmoji:!1,onSelect:function(t){e.props.onSelect&&e.props.onSelect(t.cca2)},onClose:function(){return e.hideModal()},translation:ee.a.t("countryPickerLanguageCode"),visible:n,containerButtonStyle:r.pickerContainerButton,theme:"dark"===t.id?Nc.a:Nc.b})}}]),n}(c.Component),fu=$n((function(){return Yn.a.create({pickerContainerButton:{display:"none"}})})),pu=Object(er.l)(uu),du=n(83);function hu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var mu=function(e){zn()(n,e);var t=hu(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={countryName:""},r.updateCountryName(),r}return Ut()(n,[{key:"updateCountryName",value:function(){var e=this,t=this.props.countryCode,n=ee.a.t("countryPickerLanguageCode");Object(du.d)({countryCode:t,translation:n}).then((function(t){e.setState({countryName:t.countryName})}))}},{key:"componentDidUpdate",value:function(e){this.props.countryCode!=e.countryCode&&this.updateCountryName()}},{key:"render",value:function(){var e=this.props,t=e.countryCode,n=Lr()(e,["countryCode"]),r=this.state.countryName,o=this.props.flagSize||20;return c.createElement(Zn.a,{style:{flexDirection:"row"}},c.createElement(Nc.c,{countryCode:t,flagSize:o,withEmoji:!1}),c.createElement(Jn.a,n,r))}}]),n}(c.Component);function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var bu=function(e){zn()(n,e);var t=vu(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={open:!1},r}return Ut()(n,[{key:"showModal",value:function(){this.state.open||this.setState(yu(yu({},this.state),{},{open:!0}))}},{key:"hideModal",value:function(){this.state.open&&(this.setState(yu(yu({},this.state),{},{open:!1})),this.props.onHide&&this.props.onHide())}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSelect,r=t.onHide,o=t.nationality,a=t.theme,i=this.state.open,s=Su(a);return c.createElement(Zn.a,{style:s.wrapper},c.createElement(Qn.a,{style:[s.button,o?s.buttonOk:{}],onPress:function(){return e.showModal()}},o&&c.createElement(mu,{countryCode:o,style:s.nationality})),c.createElement(pu,{nationality:this.props.nationality,open:i,onSelect:function(e){n&&n(e)},onHide:function(){e.hideModal(),r&&r()}}))}}]),n}(c.Component),Su=$n((function(e){return Yn.a.create({wrapper:{width:"100%"},button:{width:"100%",height:60,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",justifyContent:"center"},buttonOk:{borderBottomColor:e.okay},nationality:{fontSize:20,color:e.text}})})),Eu=Object(er.l)(bu),Ou=n(550);function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Tu=Object(br.b)((function(e){return{locale:e.settings.userSettings.locale}})),Pu=function(e){zn()(n,e);var t=wu(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).selectRef=c.createRef(),r.state={items:new Map,open:!1,tempSelected:e.selected||[],width:0},r}return Ut()(n,[{key:"updateItems",value:function(){var e,t=this,n=this.props.locale;if(!this.state.items.has(n)||(null==(e=this.state.items.get(n))?void 0:e.length)!=this.props.values.length){var r=new Map(this.state.items);r.set(n,this.props.values.map((function(e){return{id:e.id,label:t.props.genSectionLabel?ee.a.t(t.props.genSectionLabel(e.id)):e.id,children:e.items.map((function(e){return{id:e,label:t.props.genLabel?ee.a.t(t.props.genLabel(e)):e}}))}}))),this.setState(Ru(Ru({},this.state),{},{items:r}))}}},{key:"componentDidMount",value:function(){this.updateItems()}},{key:"componentDidUpdate",value:function(e){e.locale==this.props.locale&&e.values.length==this.props.values.length||this.updateItems()}},{key:"open",value:function(){this.selectRef.current&&this.selectRef.current._toggleSelector(),this.setState(Ru(Ru({},this.state),{},{open:!0,tempSelected:this.props.selected||this.state.tempSelected}))}},{key:"close",value:function(e){this.state.open&&this.selectRef.current&&this.selectRef.current._toggleSelector(),this.setState(Ru(Ru({},this.state),{},{open:!1,tempSelected:e?this.state.tempSelected:this.props.selected||[]})),e&&this.apply(this.state.tempSelected)}},{key:"apply",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.locale,o=t.selected,a=t.genLabel,i=t.searchablePlaceholder,s=t.showChips,l=(t.onChange,Lr()(t,["theme","locale","selected","genLabel","searchablePlaceholder","showChips","onChange"])),u=this.state,f=u.tempSelected,p=u.width,d=pi(n),h=Iu(n),m=xu(n),g=o||[],y=this.state.items.get(r)?c.createElement(Ou.a,{ref:this.selectRef,items:this.state.items.get(r),onSelectedItemsChange:function(t){return e.setState(Ru(Ru({},e.state),{},{tempSelected:t}))},selectedItems:f,uniqueKey:"id",displayKey:"label",subKey:"children",onCancel:function(){return e.close(!1)},onConfirm:function(){return e.close(!0)},IconRenderer:fo.a,icons:void 0,showDropDowns:!0,readOnlyHeadings:!0,showChips:!1,showCancelButton:!0,selectedIconOnLeft:!0,animateDropDowns:!1,hideSelect:!0,noResultsComponent:c.createElement(Jn.a,{style:m.noResultsText},ee.a.t("noResultsFound")),searchIconComponent:c.createElement(fo.a,{name:"search",style:m.searchIcon}),confirmText:ee.a.t("apply"),searchPlaceholderText:i,colors:{primary:n.accent,cancel:n.error,success:n.okay,text:n.text,subText:n.textLight,searchPlaceholderTextColor:n.textLight,selectToggleTextColor:n.error,itemBackground:n.cardBackground,subItemBackground:n.cardBackground},confirmFontFamily:lr,itemFontFamily:lr,searchTextFontFamily:lr,subItemFontFamily:lr,styles:Ru(Ru({},h),"web"===mn.a.OS?{modalWrapper:{width:p},container:[h.container,{width:p}]}:{})}):c.createElement(c.Fragment,null);return c.createElement(Zn.a,Fn()({},l,{style:{position:"relative"},onLayout:function(t){return e.setState(Ru(Ru({},e.state),{},{width:t.nativeEvent.layout.width}))}}),c.createElement(Zn.a,null,c.createElement(Qn.a,{onPress:function(){return e.open()},style:d.openButton},c.createElement(Jn.a,{style:d.openButtonText},ee.a.t("picker.callToAction").replace("%d",g.length.toString()))),s&&c.createElement(Wc,{items:g,label:function(e){return a?ee.a.t(a(e)):e},containerStyle:d.chipContainer,removable:!0,onRemove:function(t){var n=e.state.tempSelected.filter((function(e){return e!==t}));e.setState(Ru(Ru({},e.state),{},{tempSelected:n})),e.apply(n)}})),("android"===mn.a.OS||"ios"===mn.a.OS)&&c.createElement(Zn.a,null,y),"web"===mn.a.OS&&this.state.open&&y)}}]),n}(c.Component);Pu.defaultProps={items:[],showSelected:!0,selected:[]};var ku,xu=$n((function(e){return Yn.a.create({noResultsText:{textAlign:"center",color:e.text,fontSize:16,marginVertical:20},searchIcon:{fontSize:26,marginHorizontal:10,color:e.textLight}})})),Iu=$n((function(e){return Yn.a.create({container:Ru({backgroundColor:e.cardBackground},"web"===mn.a.OS?{position:"fixed",top:50,bottom:50,alignSelf:"center",borderWidth:0,maxWidth:700,maxHeight:600,boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.1)"}:{}),scrollView:Ru({paddingVertical:10},"web"===mn.a.OS?{overflowY:"auto"}:{}),searchBar:{backgroundColor:e.background},searchTextInput:{color:e.text},toggleIcon:{backgroundColor:e.cardBackground},subItem:{borderRadius:4,marginVertical:2},selectedItem:{backgroundColor:e.background},itemText:Ru(Ru({},sr),{},{letterSpacing:1.5,fontSize:14,lineHeight:18,textTransform:"uppercase"}),subItemText:{marginLeft:5},separator:{marginVertical:8}})})),ju=Tu(Object(er.l)(Pu));!function(e){e.GPQ="generic-programmes-qualifications",e.EDU="education",e.AH="arts-humanities",e.SSJI="social-sciences-journalism-information",e.BAL="business-administration-law",e.NSMS="natural-sciences-mathematics-statistics",e.ICT="information-communication-technologies",e.EMC="engineering-manufacturing-construction",e.AFFV="agriculture-forestry-fisheries-veterinary",e.HW="health-welfare",e.SER="services"}(ku||(ku={}));var Du,_u=Object.values(ku);!function(e){e[e["basic-programmes-qualifications"]=0]="basic-programmes-qualifications",e[e["literacy-numeracy"]=1]="literacy-numeracy",e[e["personal-skills-development"]=2]="personal-skills-development",e[e.education=3]="education",e[e.arts=4]="arts",e[e.humanities=5]="humanities",e[e.languages=6]="languages",e[e["social-behavioural-sciences"]=7]="social-behavioural-sciences",e[e["journalism-information"]=8]="journalism-information",e[e["business-administration"]=9]="business-administration",e[e.law=10]="law",e[e["biological-related-sciences"]=11]="biological-related-sciences",e[e.environment=12]="environment",e[e["physical-sciences"]=13]="physical-sciences",e[e["mathematics-statistics"]=14]="mathematics-statistics",e[e["information-communication-technologies"]=15]="information-communication-technologies",e[e["engineering-engineering-trades"]=16]="engineering-engineering-trades",e[e["manufacturing-processing"]=17]="manufacturing-processing",e[e["architecture-construction"]=18]="architecture-construction",e[e.agriculture=19]="agriculture",e[e.forestry=20]="forestry",e[e.fisheries=21]="fisheries",e[e.veterinary=22]="veterinary",e[e.health=23]="health",e[e["personal-services"]=24]="personal-services",e[e["hygiene-occupational-health-services"]=25]="hygiene-occupational-health-services",e[e["security-services"]=26]="security-services",e[e["transport-services"]=27]="transport-services"}(Du||(Du={}));var Au=[{id:"basic-programmes-qualifications",category:ku.GPQ,subCategory:Du["basic-programmes-qualifications"]},{id:"literacy-numeracy",category:ku.GPQ,subCategory:Du["literacy-numeracy"]},{id:"personal-skills-development",category:ku.GPQ,subCategory:Du["personal-skills-development"]},{id:"education-science",category:ku.EDU,subCategory:Du.education},{id:"training-for-pre-school-teachers",category:ku.EDU,subCategory:Du.education},{id:"teacher-training-without-subject-specialisation",category:ku.EDU,subCategory:Du.education},{id:"teacher-training-with-subject-specialisation",category:ku.EDU,subCategory:Du.education},{id:"audio-visual-techniques-media-production",category:ku.AH,subCategory:Du.arts},{id:"fashion-interior-industrial-design",category:ku.AH,subCategory:Du.arts},{id:"fine-arts",category:ku.AH,subCategory:Du.arts},{id:"handicrafts",category:ku.AH,subCategory:Du.arts},{id:"music-performing-arts",category:ku.AH,subCategory:Du.arts},{id:"religion-theology",category:ku.AH,subCategory:Du.humanities},{id:"history-archaeology",category:ku.AH,subCategory:Du.humanities},{id:"philosophy-ethics",category:ku.AH,subCategory:Du.humanities},{id:"language-acquisition",category:ku.AH,subCategory:Du.languages},{id:"literature-linguistics",category:ku.AH,subCategory:Du.languages},{id:"economics",category:ku.SSJI,subCategory:Du["social-behavioural-sciences"]},{id:"political-sciences-civics",category:ku.SSJI,subCategory:Du["social-behavioural-sciences"]},{id:"psychology",category:ku.SSJI,subCategory:Du["social-behavioural-sciences"]},{id:"sociology-cultural-studies",category:ku.SSJI,subCategory:Du["social-behavioural-sciences"]},{id:"journalism-reporting",category:ku.SSJI,subCategory:Du["journalism-information"]},{id:"library-information-archival-studies",category:ku.SSJI,subCategory:Du["journalism-information"]},{id:"accounting-taxation",category:ku.BAL,subCategory:Du["business-administration"]},{id:"finance-banking-insurance",category:ku.BAL,subCategory:Du["business-administration"]},{id:"management-administration",category:ku.BAL,subCategory:Du["business-administration"]},{id:"marketing-advertising",category:ku.BAL,subCategory:Du["business-administration"]},{id:"secretarial-office-work",category:ku.BAL,subCategory:Du["business-administration"]},{id:"wholesale-retail-sales",category:ku.BAL,subCategory:Du["business-administration"]},{id:"work-skills",category:ku.BAL,subCategory:Du["business-administration"]},{id:"law",category:ku.BAL,subCategory:Du.law},{id:"biology",category:ku.NSMS,subCategory:Du["biological-related-sciences"]},{id:"biochemistry",category:ku.NSMS,subCategory:Du["biological-related-sciences"]},{id:"environmental-sciences",category:ku.NSMS,subCategory:Du.environment},{id:"natural-environments-wildlife",category:ku.NSMS,subCategory:Du.environment},{id:"chemistry",category:ku.NSMS,subCategory:Du["physical-sciences"]},{id:"earth-sciences",category:ku.NSMS,subCategory:Du["physical-sciences"]},{id:"physics",category:ku.NSMS,subCategory:Du["physical-sciences"]},{id:"mathematics",category:ku.NSMS,subCategory:Du["mathematics-statistics"]},{id:"statistics",category:ku.NSMS,subCategory:Du["mathematics-statistics"]},{id:"computer-use",category:ku.ICT,subCategory:Du["information-communication-technologies"]},{id:"database-network-design-administration",category:ku.ICT,subCategory:Du["information-communication-technologies"]},{id:"software-applications-development-analysis",category:ku.ICT,subCategory:Du["information-communication-technologies"]},{id:"chemical-engineering-processes",category:ku.EMC,subCategory:Du["engineering-engineering-trades"]},{id:"environmental-protection-technology",category:ku.EMC,subCategory:Du["engineering-engineering-trades"]},{id:"electricity-energy",category:ku.EMC,subCategory:Du["engineering-engineering-trades"]},{id:"electronics-automation",category:ku.EMC,subCategory:Du["engineering-engineering-trades"]},{id:"mechanics-metal-trades",category:ku.EMC,subCategory:Du["engineering-engineering-trades"]},{id:"motor-vehicles-ships-aircraft",category:ku.EMC,subCategory:Du["engineering-engineering-trades"]},{id:"food-processing",category:ku.EMC,subCategory:Du["manufacturing-processing"]},{id:"materials",category:ku.EMC,subCategory:Du["manufacturing-processing"]},{id:"textiles",category:ku.EMC,subCategory:Du["manufacturing-processing"]},{id:"mining-extraction",category:ku.EMC,subCategory:Du["manufacturing-processing"]},{id:"architecture-town-planning",category:ku.EMC,subCategory:Du["architecture-construction"]},{id:"building-civil-engineering",category:ku.EMC,subCategory:Du["architecture-construction"]},{id:"crop-livestock-production",category:ku.AFFV,subCategory:Du.agriculture},{id:"horticulture",category:ku.AFFV,subCategory:Du.agriculture},{id:"forestry",category:ku.AFFV,subCategory:Du.forestry},{id:"fisheries",category:ku.AFFV,subCategory:Du.fisheries},{id:"veterinary",category:ku.AFFV,subCategory:Du.veterinary},{id:"dental-studies",category:ku.HW,subCategory:Du.health},{id:"medicine",category:ku.HW,subCategory:Du.health},{id:"nursing-midwifery",category:ku.HW,subCategory:Du.health},{id:"medical-diagnostic-treatment-technology",category:ku.HW,subCategory:Du.health},{id:"therapy-rehabilitation",category:ku.HW,subCategory:Du.health},{id:"pharmacy",category:ku.HW,subCategory:Du.health},{id:"traditional-complementary-medicine-therapy",category:ku.HW,subCategory:Du.health},{id:"domestic-services",category:ku.SER,subCategory:Du["personal-services"]},{id:"hair-beauty-services",category:ku.SER,subCategory:Du["personal-services"]},{id:"hotel-restaurants-catering",category:ku.SER,subCategory:Du["personal-services"]},{id:"sports",category:ku.SER,subCategory:Du["personal-services"]},{id:"travel-tourism-leisure",category:ku.SER,subCategory:Du["personal-services"]},{id:"community-sanitation",category:ku.SER,subCategory:Du["hygiene-occupational-health-services"]},{id:"occupational-health-safety",category:ku.SER,subCategory:Du["hygiene-occupational-health-services"]},{id:"military-defence",category:ku.SER,subCategory:Du["security-services"]},{id:"protection-of-persons-property",category:ku.SER,subCategory:Du["security-services"]},{id:"transport-services",category:ku.SER,subCategory:Du["transport-services"]}],Lu={};_u.forEach((function(e){return Lu[e]={id:e,items:[]}})),Au.forEach((function(e){return Lu[e.category].items.push(e.id)}));var Fu=Object.values(Lu);function Mu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Nu=function(e){zn()(n,e);var t=Mu(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.fields,n=e.onChange,r=Lr()(e,["fields","onChange"]);return c.createElement(ju,Fn()({values:Fu,genLabel:function(e){return"educationFields."+e},genSectionLabel:function(e){return"educationFieldCategories."+e},selected:t,onChange:function(e){n&&n(e)},searchablePlaceholder:ee.a.t("educationFieldsPicker.searchPlaceholder")},r))}}]),n}(c.Component);function Bu(e){var t=e.date,n=Lr()(e,["date"]);if(t){var r=ee.a.t("months."+t.getMonth()),o=t.getDate()+""+" "+r+" "+t.getFullYear();return c.createElement(Jn.a,n,o)}return c.createElement(c.Fragment,null)}function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var zu=function(e,t,n,r,o){return{autoCorrect:!1,clearTextOnFocus:!0,keyboardType:"number-pad",returnKeyType:r?"next":"done",value:t,maxLength:n,onSubmitEditing:function(){var e;r&&(null==(e=r.current)||e.focus())},onChangeText:function(t){var a,i;(t=t.replace(/\D+/g,""),o&&o(t),t.length==n)&&(r?null==(a=r.current)||a.focus():null==(i=e.current)||i.blur())}}},Gu=function(e){zn()(n,e);var t=Vu(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).input1Ref=c.createRef(),r.input2Ref=c.createRef(),r.input3Ref=c.createRef(),r.state=r.deriveStateFromDate(e.date),r}return Ut()(n,[{key:"componentDidUpdate",value:function(e){this.props.date!=e.date&&this.setState(Uu(Uu({},this.state),this.deriveStateFromDate(this.props.date)))}},{key:"focus",value:function(){var e;null==(e=this.input1Ref.current)||e.focus()}},{key:"validDate",value:function(){var e=this.state,t=e.year,n=e.month,r=e.day;if(t.length>=4&&n.length>0&&r.length>0){try{var o=parseInt(t),a=parseInt(n)-1,i=parseInt(r);if(o>0&&a>=0&&a<12&&i>0&&i<=31){var c=new Date(o,a,i),s=this.getError(c);return s?{error:s}:{date:c}}}catch(l){}return{error:"validation.date.invalid"}}return this.state.touched?{error:"validation.date.invalid"}:{}}},{key:"getError",value:function(e){var t=this.props,n=t.minimumDate,r=t.maximumDate;return r&&e>r?"validation.date.tooYoung":n&&e<n?"validation.date.invalid":void 0}},{key:"deriveStateFromDate",value:function(e){var t=null==e?void 0:e.getFullYear(),n=null==e?void 0:e.getMonth(),r=null==e?void 0:e.getDate();return{year:void 0===t?"":t+"",month:void 0===n?"":n+1+"",day:void 0===r?"":r+"",touched:void 0!==e,error:e?this.getError(e):void 0}}},{key:"set",value:function(e){var t=this,n=this.props.onChange;this.setState(Uu(Uu({},this.state),e),(function(){if(n){var e=t.validDate(),r=e.date,o=e.error;(r||o)&&(n(r,o),t.setState(Uu(Uu({},t.state),{},{touched:!0,error:o})))}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputStyle,r=t.containerStyle,o=t.autoFocus,a=t.theme,i=this.state,s=i.year,l=i.month,u=i.day,f=i.touched,p=i.error,d=Wu(a),h=f&&!p?this.props.inputStyleValid:{};return c.createElement(Zn.a,{style:[d.container,r]},c.createElement(Fr.a,Fn()({},zu(this.input1Ref,u,2,this.input2Ref,(function(t){return e.set({day:t})})),{ref:this.input1Ref,style:[d.input,d.inputDay,n,h],blurOnSubmit:!1,returnKeyType:"next",placeholder:"Day",autoFocus:o})),c.createElement(Fr.a,Fn()({},zu(this.input2Ref,l,2,this.input3Ref,(function(t){return e.set({month:t})})),{ref:this.input2Ref,style:[d.input,d.inputMonth,n,h],blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.input3Ref.current)?void 0:t.focus()},returnKeyType:"next",placeholder:"Month"})),c.createElement(Fr.a,Fn()({},zu(this.input3Ref,s,4,void 0,(function(t){return e.set({year:t})})),{ref:this.input3Ref,style:[d.input,d.inputYear,n,h],returnKeyType:"done",placeholder:"Year"})))}}]),n}(c.Component),Wu=$n((function(e){return Yn.a.create({container:{flex:1,width:"100%",flexDirection:"row"},input:{borderWidth:1,borderColor:e.componentBorder,paddingHorizontal:6},inputDay:{flex:1},inputMonth:{flex:1,marginLeft:10},inputYear:{flex:2,marginLeft:10}})})),qu=Object(er.l)(Gu);function Ku(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Yu=new Date(1920,0,0),Ju=new Date(Date.now());Ju.setFullYear(Ju.getFullYear()-16);var Qu=function(e){zn()(n,e);var t=Ku(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).dateInputRef=c.createRef(),e}return Ut()(n,[{key:"focus",value:function(){var e;null==(e=this.dateInputRef.current)||e.focus()}},{key:"render",value:function(){var e=this.props;return c.createElement(qu,Fn()({ref:this.dateInputRef,minimumDate:Yu,maximumDate:Ju},e))}}]),n}(c.Component),Zu=Object(er.l)(Qu);function Xu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var $u=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding}})),ef=Ne.c().shape({birthdate:Xe,gender:$e,nationality:et}),tf=function(e){zn()(n,e);var t=Xu(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.birthdate!=n.birthdate||t.gender!=n.gender||t.nationality!=n.nationality||t.educationFields!=n.educationFields}},{key:"submit",value:function(e){e.birthdate&&e.gender&&e.nationality&&(this.props.next(),this.props.dispatch(Re({birthdate:e.birthdate,gender:e.gender,nationality:e.nationality})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onboardingState,r=t.theme,o=nf(r);return c.createElement(_r.a,{initialValues:n,validationSchema:ef,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,a=t.errors,i=t.touched,s=t.setFieldValue,l=t.setFieldError,u=t.setFieldTouched;return c.createElement($l,Fn()({title:ee.a.t("onboarding.personalInfo.title"),handleSubmit:n,noKeyboardAvoidance:!0},e.props),c.createElement(Hr,null,ee.a.t("dateOfBirth")),c.createElement(Zu,{inputStyle:o.dateTextInput,inputStyleValid:o.dateTextInputValid,onChange:function(e,t){t?l("birthdate",t):s("birthdate",e),u("birthdate",!0)}}),r.birthdate&&!a.birthdate&&c.createElement(Bu,{style:o.birthdateText,date:r.birthdate}),i.birthdate&&c.createElement(Gr,{error:a.birthdate}),c.createElement(Hr,{style:{marginTop:30}},ee.a.t("nationality")),c.createElement(Eu,{nationality:r.nationality||void 0,onSelect:function(e){return s("nationality",e)}}),i.nationality&&c.createElement(Gr,{error:a.nationality}),c.createElement(Hr,{style:{marginTop:30}},ee.a.t("gender")),c.createElement(iu,{gender:r.gender,onSelect:function(e){return s("gender",e)}}),i.gender&&c.createElement(Gr,{error:a.gender}),c.createElement(Hr,{style:{marginTop:30}},ee.a.t("fieldsOfEducation")),c.createElement(Nu,{fields:r.educationFields,onChange:function(e){return s("educationFields",e)},showChips:!0}))}))}}]),n}(c.Component),nf=$n((function(e){return Yn.a.create({dateTextInput:{height:44,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",fontSize:18,color:e.text},dateTextInputValid:{borderBottomColor:e.okay},birthdateText:{textAlign:"right",marginTop:4,fontSize:12}})})),rf=$u(Object(er.l)(tf));function of(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var af=function(e){zn()(n,e);var t=of(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.level,r=e.theme,o=e.buttonStyle,a=cf(r);return c.createElement(bi,{values:He,label:function(e){return ee.a.t("languageLevels."+e)},selected:n?[n]:[],valueStyle:a.value,buttonStyle:[a.button,o],onSelect:function(e){e.length>0&&t&&t(e[0])}})}}]),n}(c.Component),cf=$n((function(e){return Yn.a.create({button:{width:75,height:40,alignItems:"center"},value:{letterSpacing:.5,fontSize:16,color:e.text}})})),sf=Object(er.l)(af);function lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lf(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ff(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var pf=function(e){zn()(n,e);var t=ff(n);function n(e){var r;Bt()(this,n),r=t.call(this,e);var o=e.languages||[];return r.state={languages:o},r}return Ut()(n,[{key:"onChange",value:function(e){this.setState(uf(uf({},this.state),{},{languages:e}));var t=e.filter((function(e){return!e.level})).length>0;this.props.onChange&&this.props.onChange(e.filter((function(e){return e.code&&e.level})).map((function(e){return e})),t)}},{key:"removeRow",value:function(e){e>=0&&e<this.state.languages.length&&this.onChange(this.state.languages.filter((function(t,n){return n!==e})))}},{key:"setLanguages",value:function(e){var t=new Map(this.state.languages.map((function(e){return[e.code,e.level]}))),n=e.map((function(e){return{code:e,level:t.get(e)}}));this.onChange(n),this.setState(uf(uf({},this.state),{},{languages:n}))}},{key:"setLanguageLevel",value:function(e,t){var n=this.state.languages.map((function(n,r){return r===e?uf(uf({},n),{},{level:t}):n}));this.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.style,o=this.state.languages,a=df(n),i=o.map((function(t,n){return c.createElement(Zn.a,{key:"spoken-languages-input-"+t.code,style:a.rowContainer},c.createElement(Jn.a,{style:a.languageLabel},ee.a.t("languageNames."+t.code)),c.createElement(sf,{level:t.level,buttonStyle:a.levelPicker,onChange:function(t){return e.setLanguageLevel(n,t)}}),c.createElement(fo.a,{onPress:function(){return e.removeRow(n)},style:a.deleteIcon,name:"delete"}))}));return c.createElement(Zn.a,{style:r},c.createElement(Is,{multiple:!0,languages:o.map((function(e){return e.code||""})),style:a.languagePicker,onChange:function(t){t.length>8&&g.a.alert("You cannot select more than 8 languages"),e.setLanguages(t.slice(0,8))},showChips:!1}),i)}}]),n}(c.Component),df=$n((function(e){return Yn.a.create({rowContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center"},deleteIcon:{fontSize:24,color:e.error,paddingHorizontal:4},languagePicker:{},languageLabel:{fontSize:16,color:e.text,flexGrow:1},levelPicker:{marginHorizontal:5}})})),hf=Object(er.l)(pf);function mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mf(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var vf=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding}})),bf=Ne.c().shape({languages:nt}),Sf=vf(function(e){zn()(n,e);var t=yf(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={hasErrors:!1},r}return Ut()(n,[{key:"submit",value:function(e){this.state.hasErrors||(this.props.dispatch(Re({languages:e.languages})),this.props.next())}},{key:"render",value:function(){var e=this,t=this.props.onboardingState,n=this.state.hasErrors;return c.createElement(_r.a,{initialValues:t,validationSchema:bf,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,a=t.touched,i=t.setFieldValue;return c.createElement($l,Fn()({title:ee.a.t("onboarding.language.title"),handleSubmit:r},e.props),c.createElement(Hr,{style:{marginBottom:6}},ee.a.t("spokenLanguages")),c.createElement(hf,{languages:o.languages,onChange:function(t,n){i("languages",t),e.setState(gf(gf({},e.state),{},{hasErrors:n}))}}),a.languages&&n&&c.createElement(Gr,{error:"validation.language.specifyLevel",style:{marginBottom:0,marginTop:10}}),a.languages&&!n&&0==o.languages.length&&c.createElement(Gr,{error:"validation.language.atLeastOne",style:{marginBottom:0,marginTop:10}}))}))}}]),n}(c.Component));function Ef(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Of=Object(br.b)((function(e){return{allInterests:e.profile.interests}})),Cf=[],Rf=Of(function(e){zn()(n,e);var t=Ef(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"componentDidMount",value:function(){0==Cf.length&&this.updateValues()}},{key:"componentDidUpdate",value:function(e){e.allInterests.length!=this.props.allInterests.length&&this.updateValues()}},{key:"updateValues",value:function(){Cf=this.props.allInterests.map((function(e){return e.id})),this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.interests,n=e.onChange,r=Lr()(e,["interests","onChange"]);return c.createElement(Os,Fn()({values:Cf,genLabel:function(e){return"interestNames."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:ee.a.t("interestsPicker.placeholder"),multipleText:ee.a.t("interestsPicker.multiple"),searchablePlaceholder:ee.a.t("interestsPicker.searchPlaceholder")},r))}}]),n}(c.Component));function wf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Tf=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding}})),Pf=Ne.c().shape({interestIds:rt}),kf=Tf(function(e){zn()(n,e);var t=wf(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.interestIds!=n.interestIds}},{key:"submit",value:function(e){this.props.dispatch(Re({interestIds:e.interestIds})),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props.onboardingState;return c.createElement(_r.a,{initialValues:t,validationSchema:Pf,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,o=t.errors,a=t.touched,i=t.setFieldValue;return c.createElement($l,Fn()({title:ee.a.t("onboarding.interests.title"),handleSubmit:n},e.props),c.createElement(Hr,{style:{marginBottom:6}},ee.a.t("chooseInterests")),c.createElement(Rf,{interests:r.interestIds,onChange:function(e){i("interestIds",e)},showChips:!0}),a.interestIds&&c.createElement(Gr,{error:o.interestIds}))}))}}]),n}(c.Component));function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Df=function(e){zn()(n,e);var t=jf(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"submit",value:function(e){jn.dispatch(Re(e)),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props.theme,n=_f(t);return c.createElement($l,Fn()({title:ee.a.t("onboarding.role.title"),hideNavNext:!0},this.props),c.createElement(Qn.a,{style:n.roleButton,onPress:function(){return e.submit({type:"student"})}},c.createElement(fo.a,{name:"school",style:n.roleButtonIconStudent}),c.createElement(Jn.a,{style:n.roleButtonTextStudent},ee.a.t("allRoles.student"))),c.createElement(Qn.a,{style:n.roleButton,onPress:function(){return e.submit({type:"staff"})}},c.createElement(fo.a,{name:"group",style:n.roleButtonIconStaff}),c.createElement(Jn.a,{style:n.roleButtonTextStaff},ee.a.t("allRoles.staff"))))}}]),n}(c.Component),_f=$n((function(e){var t=e.accent,n=e.okay,r=Yn.a.create({roleButtonText:If(If({},cr),{},{fontSize:40,letterSpacing:1.75}),roleButtonIcon:{fontSize:50,marginRight:15}});return Yn.a.create({roleButton:{height:100,flexDirection:"row",alignItems:"center"},roleButtonTextStaff:If(If({},r.roleButtonText),{},{color:n}),roleButtonTextStudent:If(If({},r.roleButtonText),{},{color:t}),roleButtonIconStaff:If(If({},r.roleButtonIcon),{},{color:n}),roleButtonIconStudent:If(If({},r.roleButtonIcon),{},{color:t})})})),Af=Object(er.l)(Df);function Lf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ff=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),Mf=function(e){zn()(n,e);var t=Lf(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,o=e.theme,a=_l(o),i=ht.Discover;return c.createElement($l,Fn()({title:c.createElement(Ls,{category:i,textStyle:a.categoryTitleText,fontSize:24}),subtitle:ee.a.t("onboarding.offersDiscover.subtitle")},this.props),Jl(n,i,t,r))}}]),n}(c.Component),Nf=Ff(Object(er.l)(Mf));function Bf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Hf=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),Uf=function(e){zn()(n,e);var t=Bf(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,o=e.theme,a=_l(o),i=ht.Collaborate;return c.createElement($l,Fn()({title:c.createElement(Ls,{category:i,textStyle:a.categoryTitleText,fontSize:24}),subtitle:ee.a.t("onboarding.offersCollaborate.subtitle")},this.props),Jl(n,i,t,r))}}]),n}(c.Component),Vf=Hf(Object(er.l)(Uf));function zf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Gf=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),Wf=function(e){zn()(n,e);var t=zf(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,o=e.theme,a=_l(o),i=ht.Meet;return c.createElement($l,Fn()({title:c.createElement(Ls,{category:i,textStyle:a.categoryTitleText,fontSize:24}),subtitle:ee.a.t("onboarding.offersMeet.subtitle")},this.props),Jl(n,i,t,r))}}]),n}(c.Component),qf=Gf(Object(er.l)(Wf));function Kf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Yf=function(e){zn()(n,e);var t=Kf(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this,t=Be.map((function(e){return ee.a.t("degrees."+e)})),n=this.props,r=n.degree,o=Ts(!1,n.theme);return c.createElement(er.d,Fn()({onPress:function(t){e.props.onUpdate&&e.props.onUpdate(-1==t?void 0:Be[t])},selectedIndex:r?Be.indexOf(r):-1,buttons:t},o))}}]),n}(c.Component),Jf=Object(er.l)(Yf);function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var $f=Object(br.b)((function(e){return{onboardingState:e.auth.onboarding}})),ep=Ne.c().shape({degree:tt}),tp=function(e){zn()(n,e);var t=Xf(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"submit",value:function(e){this.props.dispatch(Re(e)),this.props.next()}},{key:"studentRender",value:function(){var e=this,t=this.props,n=t.onboardingState,r=t.theme,o=np(r);return c.createElement(_r.a,{initialValues:n,validationSchema:ep,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,a=t.errors,i=t.touched,s=t.setFieldValue;return c.createElement($l,Fn()({title:ee.a.t("onboarding.roleSpecific1.student.title"),handleSubmit:n},e.props),c.createElement(Hr,{style:o.label},ee.a.t("levelOfStudy")),c.createElement(Jf,{degree:r.degree,onUpdate:function(e){return s("degree",e)}}),i.degree&&c.createElement(Gr,{error:a.degree}))}))}},{key:"staffRender",value:function(){var e=this.props,t=e.theme,n=e.onboardingState,r=e.dispatch,o=rp(t),a=n.staffRoles,i=Object.values(a).some((function(e){return!0===e})),s=function(e,t){return r(Re({staffRoles:Zf(Zf({},a),{},p()({},e,t))}))},l=Ve.map((function(e,n){return c.createElement(Qn.a,{key:n,style:o.button,activeOpacity:.6,onPress:function(){return s(e,!a[e])}},c.createElement(fo.a,{name:ze[n],style:o.buttonIcon}),c.createElement(Jn.a,{style:o.buttonText},ee.a.t("staffRoles."+e)),c.createElement(ms.a,{value:a[e],thumbColor:t.accent,trackColor:{true:t.accentTernary,false:t.accentSlight},onValueChange:function(t){return s(e,t)}}))}));return c.createElement($l,Fn()({title:ee.a.t("onboarding.roleSpecific1.staff.title"),hideNavNext:!i},this.props),l)}},{key:"render",value:function(){var e=this.props.onboardingState;return c.createElement(c.Fragment,null,"student"===e.type&&this.studentRender(),"staff"===e.type&&this.staffRender())}}]),n}(c.Component),np=$n((function(){return Yn.a.create({label:{marginTop:30}})})),rp=$n((function(e){return Yn.a.create({button:{height:60,flexDirection:"row",alignItems:"center"},buttonText:Zf(Zf({},cr),{},{fontSize:25,letterSpacing:1.25,color:e.text,flexGrow:1}),buttonIcon:{fontSize:30,marginRight:10,color:e.accent}})})),op=$f(Object(er.l)(tp));function ap(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ip=function(e){zn()(n,e);var t=ap(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=Lr()(e,["theme"]),r=cp(t);return s.a.createElement(ka,Fn()({},n,{renderContent:function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Jn.a,{style:r.text},ee.a.t("legal.modal.disclaimer1"),"\n\n",ee.a.t("legal.modal.disclaimer2")),s.a.createElement(Zn.a,{style:r.actionButtonsWrapper},s.a.createElement(co,{text:ee.a.t("cancel"),onPress:function(){return e()},skin:"rounded-hollow",style:r.actionButton,textStyle:r.actionText}),s.a.createElement(co,{text:ee.a.t("legal.decline"),onPress:function(){e(),yn("LoginScreen")},skin:"rounded-filled",style:[r.actionButton,r.redBackground],textStyle:r.actionText})))}}))}}]),n}(s.a.Component),cp=$n((function(e){return Yn.a.create({actionButtonsWrapper:{width:"100%",flexDirection:"row",marginTop:20},actionButton:{flex:1,marginHorizontal:10,marginVertical:0},actionText:{fontSize:16},redBackground:{backgroundColor:e.error},text:{fontSize:16,textAlign:"justify"}})})),sp=Object(er.l)(ip);var lp=function(e){var t=e.text,n=Lr()(e,["text"]);return c.createElement(Jn.a,Fn()({},n,{style:[n?n.style:{},{color:"#2e78b7"}]}),t)};function up(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var fp=function(e){zn()(n,e);var t=up(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.title,r=e.text,o=e.next,a=Lr()(e,["theme","title","text","next"]),i=pp(t);return c.createElement($l,Fn()({title:n,hideNavNext:!0,next:o},a),c.createElement(Jn.a,{style:i.legalText},r),c.createElement(Jn.a,{style:i.readMoreText},ee.a.t("legal.readMore")[0],c.createElement(lp,{onPress:function(){return console.log("press")},text:ee.a.t("legal.readMore")[1]}),ee.a.t("legal.readMore")[2]),c.createElement(Zn.a,{style:i.actionsWrapper},c.createElement(sp,{activator:function(e){return c.createElement(Qn.a,{style:i.actionButton,onPress:e},c.createElement(Jn.a,{style:i.actionButtonTextDecline},ee.a.t("legal.decline")),c.createElement(fo.a,{name:"close",style:i.actionButtonTextDecline}))}}),c.createElement(Qn.a,{style:i.actionButton,onPress:function(){return o()}},c.createElement(Jn.a,{style:i.actionButtonTextAccept},ee.a.t("legal.accept")),c.createElement(fo.a,{name:"check",style:i.actionButtonTextAccept}))))}}]),n}(c.Component),pp=$n((function(e){return Yn.a.create({actionsWrapper:{flexDirection:"row",justifyContent:"space-around"},actionButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:20},actionButtonTextDecline:{fontSize:16,paddingHorizontal:2,textTransform:"uppercase",letterSpacing:1,color:e.error},actionButtonTextAccept:{fontSize:16,paddingHorizontal:2,textTransform:"uppercase",letterSpacing:1,color:e.okay},readMoreText:{fontSize:16,lineHeight:20,textAlign:"justify",marginVertical:30,letterSpacing:.4,color:e.textLight},legalText:{textAlign:"justify",fontSize:16,lineHeight:22,color:e.text}})})),dp=Object(er.l)(fp);function hp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}function mp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}function gp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var yp={OnboardingNameScreen:au,OnboardingPersonalInfoScreen:rf,OnboardingLanguageScreen:Sf,OnboardingInterestsScreen:kf,OnboardingRoleScreen:Af,OnboardingRoleSpecificScreen:op,OnboardingOffersScreen1:Nf,OnboardingOffersScreen2:Vf,OnboardingOffersScreen3:qf,OnboardingLegalScreen1:function(e){zn()(n,e);var t=hp(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){return c.createElement(dp,Fn()({title:ee.a.t("onboarding.legal1.title"),text:ee.a.t("onboarding.legal1.text")},this.props))}}]),n}(c.Component),OnboardingLegalScreen2:function(e){zn()(n,e);var t=mp(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){return c.createElement(dp,Fn()({title:ee.a.t("onboarding.legal2.title"),text:ee.a.t("onboarding.legal2.text")},this.props))}}]),n}(c.Component),OnboardingLegalScreen3:function(e){zn()(n,e);var t=gp(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){return c.createElement(dp,Fn()({title:ee.a.t("onboarding.legal3.title"),text:ee.a.t("onboarding.legal3.text")},this.props))}}]),n}(c.Component)},vp=["OnboardingNameScreen","OnboardingLegalScreen1","OnboardingLegalScreen2","OnboardingLegalScreen3","OnboardingPersonalInfoScreen","OnboardingLanguageScreen","OnboardingInterestsScreen","OnboardingRoleScreen","OnboardingRoleSpecificScreen","OnboardingOffersScreen1","OnboardingOffersScreen2","OnboardingOffersScreen3"];function bp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Sp=Object(jr.a)(),Ep=vp.map((function(e,t){var n=yp[e],r=t<vp.length-1,o=function(){r&&yn(vp[t+1])},a=function(){t>0&&yn(vp[t-1])},i=function(e){zn()(s,e);var i=bp(s);function s(){return Bt()(this,s),i.apply(this,arguments)}return Ut()(s,[{key:"render",value:function(){return c.createElement(n,{next:o,previous:a,index:t,hasNext:r})}}]),s}(c.Component);return c.createElement(Sp.Screen,{key:t,name:e,component:i,options:{title:bn(e)}})}));function Op(){return c.createElement(Sp.Navigator,{initialRouteName:vp[0],tabBarOptions:{showLabel:!1,showIcon:!1},tabBar:function(){return c.createElement(c.Fragment,null)},springConfig:{stiffness:500,damping:2e3,mass:5},swipeEnabled:!1,lazy:!0,lazyPreloadDistance:0},Ep)}function Cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cp(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Tp=function(e){zn()(n,e);var t=wp(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props.theme,t=Pp(e);return c.createElement(Zn.a,{style:t.container},c.createElement(d.a,{style:t.icon,name:"home"}),c.createElement(Jn.a,{style:t.title},ee.a.t("onboarding.profileCreated")),c.createElement(Zn.a,{style:t.separator}),c.createElement(Qn.a,{style:t.button,onPress:function(){return yn("MainScreen")}},c.createElement(Jn.a,{style:t.buttonText},ee.a.t("onboarding.getStarted"))))}}]),n}(c.Component),Pp=$n((function(e){return Yn.a.create({container:{flex:1,width:"100%",alignItems:"center",justifyContent:"center",backgroundColor:e.background},title:{width:"85%",textAlign:"center",fontSize:20,letterSpacing:.5,color:e.text},icon:{color:e.text,fontSize:40,marginVertical:20},separator:{marginVertical:30,height:1,width:"80%",backgroundColor:e.cardBackground},button:{marginVertical:20,padding:5,borderBottomWidth:.75,borderBottomColor:e.textLight},buttonText:Rp(Rp({},cr),{},{fontSize:20,letterSpacing:1.5,textTransform:"uppercase",color:e.text})})})),kp=Object(er.l)(Tp);function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xp(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Dp=function(e){zn()(n,e);var t=jp(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={loading:!1},r}return Ut()(n,[{key:"onPress",value:function(){var e=this;this.state.loading||(this.setState(Ip(Ip({},this.state),{},{loading:!0})),this.props.onPress().then((function(){return e.setState(Ip(Ip({},e.state),{},{loading:!1}))})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.style,o=t.textStyle,a=t.loadingIndicatorStyle,i=t.color,s=t.theme,l=this.state.loading;return c.createElement(Qn.a,Fn()({accessibilityRole:"button",accessibilityLabel:n},{onPress:l?void 0:function(){return e.onPress()}},{style:r}),l&&c.createElement(vr.a,{color:i||s.accentTernary,style:[{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"},a]}),c.createElement(Jn.a,{style:[{opacity:l?0:1},o]},n))}}]),n}(c.Component),_p=Object(er.l)(Dp);function Ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ap(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ap(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Mp=function(e){zn()(n,e);var t=Fp(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"getRoomId",value:function(){var e=this.props.route.params;return e&&e.roomId||null}},{key:"chat",value:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:(e=this.getRoomId())?En(e):yn("TabMessaging");case 2:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.props.theme,n=Np(t);return c.createElement(ir,null,c.createElement(Zn.a,{style:n.container},c.createElement(Jn.a,{style:n.title},ee.a.t("matching.success.title")),c.createElement(Zn.a,{style:n.separator}),c.createElement(_p,{text:ee.a.t("matching.success.chat"),textStyle:n.actionText,style:n.actionButton,onPress:function(){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(e.chat());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)}}),c.createElement(Qn.a,{style:[n.actionButton,{backgroundColor:t.actionNeutral}],onPress:function(){return yn("TabMatchingScreen")}},c.createElement(Jn.a,{style:n.actionText},ee.a.t("matching.success.continue")))))}}]),n}(c.Component),Np=$n((function(e){return Yn.a.create({container:{flex:1,width:"100%",alignItems:"center",justifyContent:"center",backgroundColor:e.okay},title:Lp(Lp({width:"100%",textAlign:"center"},cr),{},{fontSize:32,color:e.text,letterSpacing:1,textTransform:"uppercase"}),separator:{marginVertical:30,height:1,width:"80%",backgroundColor:e.cardBackground,opacity:.3},actionButton:{backgroundColor:e.accent,paddingHorizontal:30,paddingVertical:10,marginVertical:20,borderRadius:20},actionText:{color:e.textWhite,fontSize:18,letterSpacing:1,textTransform:"uppercase"}})})),Bp=Object(er.l)(Mp),Hp=n(262);function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Gp=Ne.c().shape({password:qe,passwordRepeat:Ke}),Wp=function(e){zn()(n,e);var t=zp(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).pwdRepeatRef=c.createRef(),r.state={submitting:!1},r}return Ut()(n,[{key:"submit",value:function(e){var t=this,n=this.props,r=n.token,o=n.onSuccessfulSubmit;this.setState(Vp(Vp({},this.state),{},{submitting:!0})),r?jn.dispatch(function(e,t){return function(n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(I("auth/password/reset","POST",{},{token:e,password:t}));case 2:if((r=o.sent).status!=v.OK){o.next=8;break}return n(Oe()),o.abrupt("return",{success:!0});case 8:return o.abrupt("return",{success:!1,errors:re(r)});case 9:case"end":return o.stop()}}),null,null,null,Promise)}}(r,e.password)).then((function(n){var r=n.success,a=n.errors;if(r&&o&&o(e),a&&a.fields){var i=a.fields;Object.keys(i).forEach((function(e){return t.setFieldError&&t.setFieldError(e,te(i[e]))}))}t.setState({remoteErrors:a,submitting:!1})})):this.setState({remoteErrors:{general:"error.reset_password_no_token",fields:{}},submitting:!1})}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state,r=n.remoteErrors,o=n.submitting,a=qp(t);return c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:a.title},ee.a.t("resetPassword.title")),c.createElement(_r.a,{initialValues:{password:"",passwordRepeat:""},validationSchema:Gp,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(n){var i=n.handleSubmit,s=n.values,l=n.errors,u=n.touched,f=n.handleChange,p=n.handleBlur,d=n.setFieldError,h=Vp({handleChange:f,handleBlur:p},$r(t,15));return e.setFieldError=d,c.createElement(c.Fragment,null,c.createElement(Zr,Fn()({field:"password",placeholder:ee.a.t("password"),error:l.password,value:s.password,touched:u.password,isPassword:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdRepeatRef.current)?void 0:t.focus()}},h)),c.createElement(Fr.a,{style:{width:1,height:1}}),c.createElement(Zr,Fn()({ref:e.pwdRepeatRef,field:"passwordRepeat",placeholder:ee.a.t("passwordRepeat"),error:l.passwordRepeat,value:s.passwordRepeat,touched:u.passwordRepeat,isPassword:!0,returnKeyType:"done"},h)),c.createElement(ro,{error:oe(r)}),c.createElement(uo,{onPress:function(){return i()},style:a.button,skin:"rounded-filled",text:ee.a.t("resetPassword.button"),submitting:o}))})))}}]),n}(c.Component),qp=$n((function(e){return Yn.a.create({title:{width:"100%",fontSize:22,color:e.text,marginBottom:20},button:{marginTop:30}})})),Kp=Object(er.l)(Wp);function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Zp=function(e){zn()(n,e);var t=Qp(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={},r}return Ut()(n,[{key:"componentDidMount",value:function(){var e=this.props.route.params;e&&e.token&&this.setState(Jp(Jp({},this.state),{},{token:e.token}))}},{key:"render",value:function(){var e=this.state.token;return c.createElement(ir,null,c.createElement(Fo,null,c.createElement(Kp,{token:e})))}}]),n}(c.Component),Xp=Object(er.l)(Zp);function $p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ed=function(e){zn()(n,e);var t=$p(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props.theme,t=td(e);return c.createElement(ir,null,c.createElement(Zn.a,{style:t.container},c.createElement(d.a,{name:"envelope-o",style:t.mailIcon}),c.createElement(Jn.a,{style:t.description},ee.a.t("resetPassword.instructions"))))}}]),n}(c.Component),td=$n((function(e){return Yn.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},description:{fontSize:16,textAlign:"center",color:e.text},mailIcon:{marginVertical:30,fontSize:50,color:e.text}})})),nd=Object(er.l)(ed);function rd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var od=function(e){zn()(n,e);var t=rd(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props.theme,t=ad(e);return c.createElement(ir,null,c.createElement(Zn.a,{style:t.container},c.createElement(Jn.a,{style:t.successText},ee.a.t("resetPassword.success")),c.createElement(co,{text:ee.a.t("login"),icon:c.createElement(po.a,{name:"login",style:t.buttonIcon}),onPress:function(){return yn("LoginScreen")},skin:"rounded-filled",style:t.button})))}}]),n}(c.Component),ad=$n((function(e){return Yn.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},successText:{fontSize:18,lineHeight:40,textAlign:"center",color:e.text},button:{marginTop:30},buttonIcon:{fontSize:20,color:e.textWhite,marginLeft:4}})})),id=Object(er.l)(od);var cd=$n((function(){return Yn.a.create({container:{height:35,marginLeft:0,marginRight:0}})})),sd=Object(er.l)((function(e){var t=e.role,n=e.onSelect,r=e.theme,o=Lr()(e,["role","onSelect","theme"]),a=cd(r),i=Ts(!1,r),s=Ue.map((function(e){return ee.a.t("allRoles."+e)}));return c.createElement(er.d,Fn()({onPress:function(e){n&&n(Ue[e])},selectedIndex:Ue.indexOf(t),buttons:s,containerStyle:a.container},i,o))}));var ld=$n((function(e){return Yn.a.create({button:{height:40,alignItems:"center"},value:{letterSpacing:.5,fontSize:16,color:e.text},icon:{fontSize:20,marginRight:6}})})),ud=Object(er.l)((function(e){var t=e.staffRoles,n=e.multiple,r=e.atLeastOne,o=e.buttonStyle,a=e.onChange,i=e.theme,s=ld(i);return c.createElement(bi,{values:Ve,label:function(e){return ee.a.t("staffRoles."+e)},icon:function(e,t){return c.createElement(fo.a,{name:ze[t],style:s.icon})},selected:t,valueStyle:s.value,buttonStyle:[s.button,o],onSelect:function(e){a&&a(e)},multiple:n,atLeastOne:r})}));function fd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var pd=function(e){zn()(n,e);var t=fd(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).ensurePermission=function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"===mn.a.OS){n.next=14;break}return n.next=3,u.a.awrap(wn.d(wn.a));case 3:if(e=n.sent,"granted"===(t=e.status)){n.next=14;break}return n.t0=u.a,n.next=9,u.a.awrap(wn.c(wn.a));case 9:return n.t1=n.sent.status,n.next=12,n.t0.awrap.call(n.t0,n.t1);case 12:return t=n.sent,n.abrupt("return","granted"===t);case 14:return n.abrupt("return",!0);case 15:case"end":return n.stop()}}),null,null,null,Promise)},e.showPicker=function(){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.ensurePermission()){r.next=13;break}return r.prev=2,r.next=5,u.a.awrap(gc.a({mediaTypes:yc.a.Images,allowsEditing:!0,aspect:[1,1],quality:.75}));case 5:(t=r.sent).cancelled||(n=t,e.props.onPictureSelected&&e.props.onPictureSelected(n)),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),console.error("Could not get image. Check console for error."),console.log(r.t0);case 13:case"end":return r.stop()}}),null,null,[[2,9]],Promise)},e}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props.theme,n=dd(t);return c.createElement(Qn.a,{style:n.button,onPress:function(){return e.showPicker()}},c.createElement(fo.a,{style:n.buttonIcon,name:"edit"}))}}]),n}(c.Component),dd=$n((function(e){return Yn.a.create({button:{position:"absolute",bottom:0,right:0,borderRadius:20,padding:4,backgroundColor:e.cardBackground,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2},buttonIcon:{fontSize:20,color:e.text}})})),hd=Object(er.l)(pd);function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var vd=function(e){zn()(n,e);var t=yd(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).renderModalContent=function(e){var t=r.props,n=t.label,o=t.renderInput,a=t.oneLine,i=r.state,s=i.value,l=i.error,u=bd(a)(e);return c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:u.modalLabel},n),o&&s?o(s,l,(function(e,t){return r.onChange(e,t)})):c.createElement(c.Fragment,null),c.createElement(Jn.a,{style:u.modalErrorText},l?ee.a.t(l):""),c.createElement(Zn.a,{style:u.modalButtonsContainer},c.createElement(co,{onPress:function(){return r.apply()},style:u.modalButton,text:ee.a.t("apply"),skin:"rounded-filled"}),c.createElement(co,{onPress:function(){return r.setModal(!1)},style:u.modalButton,text:ee.a.t("cancel"),skin:"rounded-hollow"})))},r.state={modalOpen:!1,error:null,value:e.initialValue},r}return Ut()(n,[{key:"setModal",value:function(e){var t=this.props.initialValue;this.setState(gd(gd({},this.state),{},{modalOpen:e,value:t,error:null}))}},{key:"setError",value:function(e){this.setState(gd(gd({},this.state),{},{error:e}))}},{key:"onChange",value:function(e,t){var n=this;void 0===t&&(t=this.state.error),this.setState(gd(gd({},this.state),{},{value:e,error:t}),(function(){return n.validate()}))}},{key:"validate",value:function(){var e=this.props.validator;if(!e)return!0;try{return e.validateSync(this.state.value),this.setError(null),!0}catch(t){return this.setError(t.errors[0]),!1}}},{key:"apply",value:function(){this.validate()&&(this.props.apply&&this.state.value&&this.props.apply(this.state.value),this.setModal(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.icon,o=t.display,a=t.overrideModal,i=t.noModal,s=t.style,l=t.locked,u=t.oneLine,f=t.blank,p=t.onPress,d=t.onModalShown,h=Lr()(t,["label","icon","display","overrideModal","noModal","style","locked","oneLine","blank","onPress","onModalShown"]),m=this.state.modalOpen,g=function(){d&&d()};return c.createElement(er.h,null,(function(t){var d=t.theme,y=bd(u)(d);return c.createElement(c.Fragment,null,c.createElement(Qn.a,Fn()({style:[y.cardWrapper,s],activeOpacity:.9,disabled:i&&!p,onPress:function(){i?p&&p():l||e.setModal(!0)}},h),c.createElement(Zn.a,{style:y.cardContent},c.createElement(Zn.a,{style:y.cardLabelContainer},!f&&r,c.createElement(Jn.a,{style:y.cardLabel},!f&&n)),c.createElement(Zn.a,null,!f&&void 0!==o&&o,!f&&void 0===o&&e.props.children)),!i&&c.createElement(Zn.a,{style:y.rightIconContainer},c.createElement(fo.a,{name:l?"lock":"keyboard-arrow-right",size:l?30:40,style:y.rightIcon}))),!i&&c.createElement(c.Fragment,null,void 0!==a&&m&&a((function(){return e.setModal(!1)})),void 0===a&&m&&c.createElement(ka,{visible:m,modalViewStyle:y.modalContent,animationType:"slide",renderContent:function(){return e.renderModalContent(d)},onShow:g,onHide:function(){return e.setModal(!1)}})))}))}}]),n}(c.Component),bd=function(e){return $n((function(t){return Yn.a.create({modalContent:{alignItems:"flex-start",paddingHorizontal:20},modalErrorText:{fontSize:12,color:t.error},modalLabel:{color:t.textLight,textTransform:"uppercase",letterSpacing:1.5,fontSize:13,marginBottom:12},modalButtonsContainer:{flexDirection:"column",width:"100%"},modalButton:{marginVertical:0,marginTop:15},cardWrapper:{width:"100%",flexDirection:"row",backgroundColor:t.cardBackground,paddingHorizontal:10,justifyContent:"space-evenly",paddingVertical:15,minHeight:e?0:80,borderRadius:10},cardContent:gd(gd({flex:1,flexDirection:e?"row":"column"},e?{alignItems:"center"}:{}),{},{justifyContent:"space-between"}),cardLabelContainer:{flexDirection:"row",alignItems:"center",marginBottom:e?0:10},cardLabel:{color:t.textLight,textTransform:"uppercase",letterSpacing:1,fontSize:11},rightIconContainer:{justifyContent:"center"},rightIcon:{color:t.textLight}})}))},Sd=vd;function Ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ed(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Rd=function(e){zn()(n,e);var t=Cd(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={enlarged:!1},r}return Ut()(n,[{key:"showEnlarged",value:function(){this.setState(Od(Od({},this.state),{},{enlarged:!0}))}},{key:"hideEnlarged",value:function(){this.setState(Od(Od({},this.state),{},{enlarged:!1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.children,o=t.profile,a=Lr()(t,["theme","children","profile"]),i=this.state.enlarged,s=wd(n);return c.createElement(c.Fragment,null,c.createElement(nc,Fn()({profile:o},a,a.source||null!=o&&o.avatarUrl?{onPress:function(){a.onPress&&a.onPress(),e.showEnlarged()}}:{}),r),c.createElement(ka,{visible:i,onHide:function(){return e.hideEnlarged()},fullWidth:!0,noBackground:!0,backdropOpacity:.5,modalViewStyle:s.modal,renderContent:function(){return c.createElement(nc,{profile:o,source:a.source,containerStyle:s.enlargedAvatarContainer,avatarStyle:s.enlargedAvatar,activeOpacity:.8,onPress:function(){return e.hideEnlarged()},rounded:!0})}}))}}]),n}(c.Component),wd=$n((function(){return Yn.a.create({modal:{aspectRatio:1,paddingHorizontal:20,paddingVertical:20,maxWidth:400,maxHeight:400},enlargedAvatar:{borderRadius:300},enlargedAvatarContainer:{width:"100%",height:"100%"}})})),Td=Object(er.l)(Rd),Pd=n(356),kd=n.n(Pd);function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Dd=["M0,160L48,154.7C96,149,192,139,288,165.3C384,192,480,256,576,245.3C672,235,768,149,864,101.3C960,53,1056,43,1152,64C1248,85,1344,139,1392,165.3L1440,192L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,224L48,197.3C96,171,192,117,288,128C384,139,480,213,576,218.7C672,224,768,160,864,144C960,128,1056,160,1152,181.3C1248,203,1344,213,1392,218.7L1440,224L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,96L48,106.7C96,117,192,139,288,160C384,181,480,203,576,213.3C672,224,768,224,864,192C960,160,1056,96,1152,85.3C1248,75,1344,117,1392,138.7L1440,160L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,192L48,197.3C96,203,192,213,288,197.3C384,181,480,139,576,122.7C672,107,768,117,864,128C960,139,1056,149,1152,133.3C1248,117,1344,75,1392,53.3L1440,32L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,128L48,138.7C96,149,192,171,288,160C384,149,480,107,576,122.7C672,139,768,213,864,202.7C960,192,1056,96,1152,64C1248,32,1344,64,1392,80L1440,96L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,64L48,90.7C96,117,192,171,288,170.7C384,171,480,117,576,96C672,75,768,85,864,101.3C960,117,1056,139,1152,160C1248,181,1344,203,1392,213.3L1440,224L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,160L48,154.7C96,149,192,139,288,122.7C384,107,480,85,576,96C672,107,768,149,864,138.7C960,128,1056,64,1152,53.3C1248,43,1344,85,1392,106.7L1440,128L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,32L60,69.3C120,107,240,181,360,186.7C480,192,600,128,720,90.7C840,53,960,43,1080,48C1200,53,1320,75,1380,85.3L1440,96L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,128L60,117.3C120,107,240,85,360,64C480,43,600,21,720,64C840,107,960,213,1080,250.7C1200,288,1320,256,1380,240L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,288L60,245.3C120,203,240,117,360,101.3C480,85,600,139,720,176C840,213,960,235,1080,240C1200,245,1320,235,1380,229.3L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,96L60,117.3C120,139,240,181,360,181.3C480,181,600,139,720,138.7C840,139,960,181,1080,202.7C1200,224,1320,224,1380,224L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,160L48,181.3C96,203,192,245,288,261.3C384,277,480,267,576,224C672,181,768,107,864,106.7C960,107,1056,181,1152,202.7C1248,224,1344,192,1392,176L1440,160L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"],_d=function(e){zn()(n,e);var t=jd(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={waveTop:-1,wavePatternIdx:Math.floor(Math.random()*Dd.length)},r}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.color,o=t.children,a=this.state.waveTop,i=this.props.wavePattern||Dd[this.state.wavePatternIdx];return console.log(this.state.wavePatternIdx),s.a.createElement(s.a.Fragment,null,s.a.createElement(Zn.a,{style:[{backgroundColor:r,width:"100%",zIndex:10},n],onLayout:function(t){var n=t.nativeEvent.layout,r=n.y,o=n.height;e.setState(Id(Id({},e.state),{},{waveTop:r+o}))}},o),-1!==a&&s.a.createElement(Zn.a,{style:{position:"absolute",top:a,width:"100%",height:100,zIndex:10}},s.a.createElement(kd.a,{viewBox:"0 20 1440 320"},s.a.createElement(Pd.Path,{fill:r,d:i}))))}}]),n}(s.a.Component);function Ad(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}function Ld(){return c.createElement(Zn.a,{style:{height:25}})}var Fd=function(e){zn()(n,e);var t=Ad(n);function n(){var e;Bt()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).birthDateInputRef=c.createRef(),e}return Ut()(n,[{key:"onFieldChanged",value:function(e){void 0!==this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.user,o=Nd(n),a=r&&r.profile?r.profile.firstName+" "+r.profile.lastName:"",i=null==r?void 0:r.profile,s=c.createElement(c.Fragment,null,c.createElement(Sd,{blank:!r,label:ee.a.t("emailAddress"),initialValue:null==r?void 0:r.email,display:r&&c.createElement(Jn.a,{style:o.cardText},r.email)||void 0,locked:!0}),c.createElement(Ld,null),c.createElement(Sd,{blank:!r,label:ee.a.t("dateOfBirth"),initialValue:null==i?void 0:i.birthdate,display:i&&c.createElement(Bu,{style:o.cardText,date:i.birthdate}),renderInput:function(t,n,r){return c.createElement(Zu,{ref:e.birthDateInputRef,date:t,containerStyle:o.birthdateInputContainer,inputStyle:o.birthdateInput,onChange:function(e,n){r(e||t,n||null)}})},onModalShown:function(){var t;return null==(t=e.birthDateInputRef.current)?void 0:t.focus()},apply:function(t){return e.onFieldChanged({birthdate:t})}}),c.createElement(Ld,null),c.createElement(Sd,{blank:!r,label:ee.a.t("nationality"),initialValue:null==i?void 0:i.nationality,display:i&&c.createElement(mu,{style:o.cardText,countryCode:i.nationality}),overrideModal:i&&function(t){return c.createElement(pu,{nationality:i.nationality,onSelect:function(t){return e.onFieldChanged({nationality:t})},onHide:t})}}),c.createElement(Ld,null),c.createElement(Sd,{blank:!r,label:ee.a.t("gender"),initialValue:null==i?void 0:i.gender,display:i&&c.createElement(iu,{gender:i.gender,onSelect:function(t){return e.onFieldChanged({gender:t})}}),noModal:!0}),c.createElement(Ld,null),c.createElement(Sd,{blank:!r,label:ee.a.t("profileType"),initialValue:null==i?void 0:i.type,display:i&&c.createElement(c.Fragment,null,c.createElement(sd,{role:i.type,disabled:!0}),"staff"==i.type&&c.createElement(ud,{staffRoles:i.staffRoles,onChange:function(t){return e.onFieldChanged({staffRoles:t})},multiple:!0,atLeastOne:!0,buttonStyle:o.staffRoleButton}),"student"==i.type&&c.createElement(Jf,{degree:i.degree,onUpdate:function(t){return e.onFieldChanged({degree:t})}})),noModal:!0}),c.createElement(Ld,null),c.createElement(Sd,{blank:!r,label:ee.a.t("fieldsOfEducation"),initialValue:null==i?void 0:i.educationFields,display:c.createElement(Nu,{fields:null==i?void 0:i.educationFields,onChange:function(t){return e.onFieldChanged({educationFields:t})},showChips:!0}),noModal:!0}),c.createElement(Ld,null),c.createElement(Sd,{blank:!r,label:ee.a.t("interests"),initialValue:null==i?void 0:i.interests,display:i&&c.createElement(Rf,{interests:i.interests,onChange:function(t){return e.onFieldChanged({interests:t})},showChips:!0}),noModal:!0}),c.createElement(Ld,null),c.createElement(Sd,{blank:!r,label:ee.a.t("spokenLanguages"),initialValue:null==i?void 0:i.languages,validator:nt,display:i&&c.createElement(Wc,{items:null==i?void 0:i.languages,label:function(e){return ee.a.t("languageNames."+e.code)+" ("+ee.a.t("languageLevels."+e.level)+")"}}),renderInput:function(e,t,n){return c.createElement(hf,{languages:e,onChange:function(e){return n(e)},style:{width:"100%"}})},apply:function(t){return e.onFieldChanged({languages:t})}}),c.createElement(Ld,null),c.createElement(Md,{category:ht.Discover,profileOffers:null==i?void 0:i.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}),c.createElement(Ld,null),c.createElement(Md,{category:ht.Collaborate,profileOffers:null==i?void 0:i.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}),c.createElement(Ld,null),c.createElement(Md,{category:ht.Meet,profileOffers:null==i?void 0:i.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}));return c.createElement(c.Fragment,null,c.createElement(_d,{style:o.header,color:n.accent},c.createElement(Td,{profile:null==r?void 0:r.profile,size:140,rounded:!0,containerStyle:o.avatarContainer,activeOpacity:.8},r&&c.createElement(hd,{onPictureSelected:function(e){var t;jn.dispatch((t=e,function(e,n){var r,o,a,i,c,s,l,f,p,d,h;return u.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return r=n().auth.token,m.next=3,u.a.awrap(I("common/signedUrl","GET",{mimeType:"image/jpeg"},{},r));case 3:if(o=m.sent,a=function(){return e({type:H.SET_AVATAR_FAILURE})},o.status!==v.OK){m.next=31;break}return i=o.data,s=(c=i).fileName,l=c.s3Url,m.prev=8,m.t0=u.a,m.next=12,u.a.awrap(fetch(t.uri));case 12:return m.t1=m.sent.blob(),m.next=15,m.t0.awrap.call(m.t0,m.t1);case 15:return f=m.sent,m.next=18,u.a.awrap(fetch(l,{method:"PUT",body:f}));case 18:return m.next=20,u.a.awrap(I("profiles/avatar","POST",{},{fileName:s},r));case 20:(p=m.sent).status===v.OK?(d=p.data,h=d.avatar,e((g=h,{type:H.SET_AVATAR_SUCCESS,avatarUrl:g}))):a(),m.next=29;break;case 24:m.prev=24,m.t2=m.catch(8),console.error(m.t2),console.error("An unexpected error occured with a request to the avatar bucket."),a();case 29:m.next=32;break;case 31:a();case 32:case"end":return m.stop()}var g}),null,null,[[8,24]],Promise)}))}})),c.createElement(Jn.a,{style:o.name},a),r&&c.createElement(Hc,{containerStyle:o.universityContainer,style:o.university,university:_e(r.email)})),c.createElement(Fo,{contentStyle:o.content},c.createElement(Jn.a,{style:o.title},ee.a.t("myProfile")),s,!r&&c.createElement(vr.a,{size:"large",color:n.accent})))}}]),n}(c.Component),Md=Object(br.b)((function(e){return{offers:e.profile.offers,offerIdToCategory:e.profile.offerIdToCategory}}))((function(e){var t=e.category,n=e.profileOffers,r=e.onApply,o=e.offers,a=e.offerIdToCategory,i=e.theme,s=(null==n?void 0:n.filter((function(e){return a.get(e.offerId)==t})))||[];return c.createElement(Sd,{blank:!n,label:ee.a.t("offerCategories."+t),initialValue:n,display:s.length>0?c.createElement(Wc,{items:s,label:function(e){return ee.a.t("allOffers."+e.offerId+".name")}}):c.createElement(Jn.a,{style:{color:i.textLight}},ee.a.t("profile.noOffersSelected")),renderInput:function(e,n,r){return c.createElement(c.Fragment,null,o.filter((function(e){return e.category==t})).map((function(t){return c.createElement(ql,{key:"profile-"+t.id,offer:t,value:e.find((function(e){return e.offerId==t.id}))||yt(t),onChange:function(n){var o=e.filter((function(e){return e.offerId!=t.id})).concat([n]);r(o)},style:{marginVertical:10,width:"100%"}})})))},apply:function(e){return r(e)}})})),Nd=$n((function(e){return Yn.a.create({header:{alignItems:"center"},name:{fontSize:30,color:e.textWhite,marginTop:15},university:{fontSize:14,color:e.textWhite},universityContainer:{marginVertical:5},avatarContainer:{backgroundColor:e.accentSecondary,borderColor:e.cardBackground,borderWidth:2},avatarAccessory:{width:40,height:40,borderRadius:20,borderWidth:0,borderColor:"transparent",shadowRadius:0,textShadowRadius:0,color:"#444"},content:{width:"90%",paddingTop:85,marginBottom:40},title:{fontSize:22,color:e.text,marginBottom:20,width:"100%"},cardText:{color:e.text},staffRoleButton:{marginTop:10},birthdateInputContainer:{marginTop:20,marginBottom:50},birthdateInput:{height:50,fontSize:16,borderRadius:10,backgroundColor:e.cardBackground,color:e.text}})})),Bd=Object(er.l)(Fd);function Hd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ud=Object(br.b)((function(e){return{user:e.profile.user}})),Vd=function(e){zn()(n,e);var t=Hd(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"onFocus",value:function(){this.props.dispatch((function(e,t){var n,r,o,a;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t().auth.token,i.next=3,u.a.awrap(I("auth/me","GET",{},{},n));case 3:(r=i.sent).status===v.OK&&(o=r.data,a=F(o),e(Z(a)));case 5:case"end":return i.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.dispatch;return c.createElement(ir,null,c.createElement(Bd,{user:t,onChange:function(e){return n(function(e){return function(t,n){var r,o,a,i,c;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=n().auth.token,i=null==(r=n().profile.user)||null==(o=r.profile)?void 0:o.type,c=L(e,i),s.next=5,u.a.awrap(I("profiles","PATCH",{},c,a));case 5:s.sent.status===v.OK?t(q(e)):t({type:H.PROFILE_SET_FIELDS_FAILURE});case 7:case"end":return s.stop()}}),null,null,null,Promise)}}(e))}}))}}]),n}(c.Component),zd=Ud(Object(er.l)(Vd));function Gd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Wd=function(e){zn()(n,e);var t=Gd(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.gender,n=e.containerStyle,r=e.iconStyle,o=e.theme,a=Lr()(e,["gender","containerStyle","iconStyle","theme"]),i="female"===t?"female":"male"===t?"male":void 0;return c.createElement(Zn.a,{style:[{flexDirection:"row",alignItems:"center"},n]},i&&c.createElement(d.a,{name:i,size:24,color:o.textLight,style:r}),c.createElement(Jn.a,Fn()({},a,{style:[{marginLeft:i?10:0},a.style]}),ee.a.t("genders."+t)))}}]),n}(c.Component),qd=Object(er.l)(Wd);function Kd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}function Yd(){return c.createElement(Zn.a,{style:{height:25}})}var Jd=function(e){zn()(n,e);var t=Kd(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.profile,r=e.actionBar,o=Zd(t),a=n?n.firstName+" "+n.lastName:"",i=n?je.find((function(e){return e.key===n.university})):void 0,s=c.createElement(c.Fragment,null,c.createElement(Sd,{blank:!n,label:ee.a.t("dateOfBirth"),display:n?c.createElement(Bu,{style:o.cardText,date:n.birthdate}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(Yd,null),c.createElement(Sd,{blank:!n,label:ee.a.t("nationality"),display:n?c.createElement(mu,{style:o.cardText,countryCode:n.nationality}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(Yd,null),c.createElement(Sd,{blank:!n,label:ee.a.t("gender"),display:n?c.createElement(qd,{style:o.cardText,gender:n.gender}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(Yd,null),c.createElement(Sd,{blank:!n,label:ee.a.t("profileType"),display:n?c.createElement(c.Fragment,null,c.createElement(Jn.a,{style:o.cardText},ee.a.t("allRoles."+n.type)),"staff"==n.type&&c.createElement(c.Fragment,null,n.staffRoles.map((function(e){return c.createElement(Jn.a,{key:"profile-staff-role-"+e},ee.a.t("staffRoles."+e))}))),"student"==n.type&&c.createElement(Jn.a,{style:o.cardText},ee.a.t("degrees."+n.degree))):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(Yd,null),c.createElement(Sd,{blank:!n,label:ee.a.t("fieldsOfEducation"),display:n?c.createElement(Wc,{items:n.educationFields,label:function(e){return ee.a.t("educationFields."+e)}}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(Yd,null),c.createElement(Sd,{blank:!n,label:ee.a.t("interests"),display:n?c.createElement(Wc,{items:n.interests,label:function(e){return ee.a.t("interestNames."+e)}}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(Yd,null),c.createElement(Sd,{blank:!n,label:ee.a.t("spokenLanguages"),display:n?c.createElement(Wc,{items:n.languages,label:function(e){return ee.a.t("languageNames."+e.code)+" ("+ee.a.t("languageLevels."+e.level)+")"}}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(Yd,null),c.createElement(Qd,{category:ht.Discover,profileOffers:(null==n?void 0:n.profileOffers)||null}),c.createElement(Yd,null),c.createElement(Qd,{category:ht.Collaborate,profileOffers:(null==n?void 0:n.profileOffers)||null}),c.createElement(Yd,null),c.createElement(Qd,{category:ht.Meet,profileOffers:(null==n?void 0:n.profileOffers)||null}));return c.createElement(c.Fragment,null,c.createElement(_d,{style:o.header,color:t.accent},c.createElement(Td,{profile:n||void 0,size:120,rounded:!0,containerStyle:o.avatarContainer,activeOpacity:.8}),!n&&c.createElement(vr.a,{size:"large",color:t.textWhite,style:o.loadingIndicator}),c.createElement(Jn.a,{style:o.name},a),c.createElement(Hc,{containerStyle:o.universityContainer,style:o.university,university:i||null}),r),c.createElement(xo.a,{style:o.scrollWrapper,contentContainerStyle:o.formWrapper,keyboardShouldPersistTaps:"handled"},s))}}]),n}(c.Component),Qd=Object(br.b)((function(e){return{offerIdToCategory:e.profile.offerIdToCategory}}))(Object(er.l)((function(e){var t=e.category,n=e.profileOffers,r=e.offerIdToCategory,o=e.theme,a=(null==n?void 0:n.filter((function(e){return r.get(e.offerId)==t})))||[],i=Zd(o);return c.createElement(Sd,{blank:!n,label:ee.a.t("offerCategories."+t),display:a.length>0?c.createElement(Wc,{items:a,label:function(e){return ee.a.t("allOffers."+e.offerId+".name")}}):c.createElement(Jn.a,{style:i.cardText},ee.a.t("profile.noOffersSelected")),noModal:!0})}))),Zd=$n((function(e){return Yn.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},buttonSend:{flex:1,backgroundColor:e.accent,marginLeft:6},header:{alignItems:"center"},scrollWrapper:{width:"100%"},formWrapper:{width:"90%",maxWidth:600,alignSelf:"center",paddingTop:80,paddingBottom:20},loadingIndicator:{position:"absolute",left:0,right:0,top:140},name:{fontSize:24,color:e.textWhite,marginTop:10,height:30},university:{fontSize:14,color:e.textWhite},universityContainer:{height:25},avatarContainer:{borderColor:e.cardBackground,borderWidth:2,backgroundColor:e.accentSecondary},cardText:{color:e.text}})})),Xd=Object(er.l)(Jd);function $d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$d(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function th(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var nh=function(e){zn()(n,e);var t=th(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={block:!1},r}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.profile,o=t.roomId,a=t.onSubmit,i=Lr()(t,["theme","profile","roomId","onSubmit"]),c=this.state.block,l=rh(n);return s.a.createElement(ka,Fn()({},i,{renderContent:function(t){return r?s.a.createElement(s.a.Fragment,null,s.a.createElement(Jn.a,{style:l.text},ee.a.t("unmatch.text",{firstname:r.firstName,lastname:r.lastName})),s.a.createElement(Jn.a,{style:l.text},ee.a.t("unmatch.blockQuestion",{firstname:r.firstName,lastname:r.lastName})),s.a.createElement(Qn.a,{style:l.blockTouchable,onPress:function(){return e.setState(eh(eh({},e.state),{},{block:!c}))}},s.a.createElement(er.e,{containerStyle:l.checkboxContainer,checked:c,onPress:function(){return e.setState(eh(eh({},e.state),{},{block:!c}))}}),s.a.createElement(Jn.a,{style:l.text},ee.a.t("block.action"))),s.a.createElement(Zn.a,{style:l.actionButtonsWrapper},s.a.createElement(co,{text:ee.a.t("cancel"),onPress:function(){return t()},skin:"rounded-hollow",style:l.actionButton,textStyle:l.actionText}),s.a.createElement(co,{text:ee.a.t("unmatch.action"),onPress:function(){t(),o&&jn.dispatch(_t(o)),c&&jn.dispatch(kt(r.id)),a&&a(c)},skin:"rounded-filled",style:[l.actionButton,l.redBackground],textStyle:l.actionText}))):s.a.createElement(s.a.Fragment,null)}}))}}]),n}(s.a.Component),rh=$n((function(e){return Yn.a.create({text:{fontSize:16,textAlign:"justify",color:e.text},blockTouchable:{width:"100%",marginTop:5,flexDirection:"row",alignItems:"center"},checkboxContainer:{padding:0,marginLeft:0,marginRight:5},actionButtonsWrapper:{width:"100%",flexDirection:"row",marginTop:20},actionButton:{flex:1,marginHorizontal:7,marginVertical:0},actionText:{fontSize:16},redBackground:{backgroundColor:e.error}})})),oh=Object(er.l)(nh);function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ah(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ch=Object(er.l)((function(e){var t=e.text,n=e.icon,r=e.onPress,o=e.blank,a=e.theme,i=sh(a);return c.createElement(Qn.a,{style:i.button,activeOpacity:.75,onPress:o?void 0:r},n&&c.createElement(Zn.a,{style:[i.buttonTop,o?i.buttonTopBlank:{}]},!o&&c.createElement(fo.a,{name:n,style:i.buttonTopIcon})),c.createElement(Jn.a,{style:i.buttonText},t))})),sh=$n((function(e){return Yn.a.create({container:{width:"100%",flexDirection:"row",justifyContent:"center",marginTop:20},button:{width:75,marginHorizontal:10,flexDirection:"column",alignItems:"center",justifyContent:"center"},buttonText:ih({fontSize:12,textTransform:"uppercase",letterSpacing:.5,color:e.textWhite},sr),buttonTop:{fontSize:24,width:36,height:36,justifyContent:"center",alignItems:"center",borderRadius:60,marginBottom:5,backgroundColor:"#fff4"},buttonTopBlank:{opacity:.4,backgroundColor:"transparent",borderColor:e.textWhite,borderWidth:1},buttonTopIcon:{fontSize:24,color:e.textInverted}})})),lh=Object(er.l)((function(e){var t,n=e.profile,r=e.isMatched,o=e.roomId,a=e.theme,i=sh(a),s=c.createElement(Mc,{profile:n,activator:function(e){return c.createElement(ch,{blank:!n,text:ee.a.t("profile.action.block"),icon:"block",onPress:e})}}),l=c.createElement(Mi,{entity:n,entityType:Si.PROFILE_ENTITY,activator:function(e){return c.createElement(ch,{blank:!n,text:ee.a.t("profile.action.report"),icon:"report",onPress:e})}});if(r){var u=c.createElement(ch,{blank:!n,text:ee.a.t("profile.action.chat"),icon:"chat",onPress:function(){return o&&En(o)}}),f=c.createElement(c.Fragment,null),p=c.createElement(oh,{profile:n,roomId:o,onSubmit:function(e){e&&vn()},activator:function(e){return c.createElement(ch,{blank:!n,text:ee.a.t("profile.action.unmatch"),icon:"close",onPress:e})}});t=c.createElement(c.Fragment,null,u,f,p,l)}else t=c.createElement(c.Fragment,null,s,l);return c.createElement(Zn.a,{style:i.container},t)}));function uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ph(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var dh=Object(br.b)((function(){return{}})),hh=function(e){zn()(n,e);var t=ph(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={profile:null,isMatched:!1,roomId:null},r}return Ut()(n,[{key:"getRouteParams",value:function(){var e=this.props.route.params;return e||{}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;this.props.navigation.addListener("focus",(function(){var n=e.getRouteParams().id;!n||e.state.profile&&e.state.profile.id===n||t(function(e){return function(t,n){var r,o,a,i;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n().auth.token,c.next=3,u.a.awrap(I("profiles/"+e,"GET",{},{},r,!0));case 3:if((o=c.sent).status!==v.OK){c.next=9;break}return a=o.data,i=D(D({},s=a),{},{profile:A(s.profile)}),t(X(i)),c.abrupt("return",i);case 9:return c.abrupt("return",null);case 10:case"end":return c.stop()}var s}),null,null,null,Promise)}}(n)).then((function(t){if(t){var n=t.profile,r=t.isMatched,o=t.roomId;e.setState(fh(fh({},e.state),{},{profile:n,isMatched:r,roomId:o}))}else e.setState(fh(fh({},e.state),{},{profile:null,isMatched:!1,roomId:null}))}))}))}},{key:"render",value:function(){var e=this.state,t=e.profile,n=e.isMatched,r=e.roomId;return c.createElement(ir,null,c.createElement(Xd,{profile:t,actionBar:c.createElement(lh,{profile:t,isMatched:n,roomId:r})}))}}]),n}(c.Component),mh=dh(Object(er.l)(hh));function gh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var yh=function(e){zn()(n,e);var t=gh(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.locale,r=e.theme,o=e.buttonStyle,a=e.valueStyle,i=vh(r);return c.createElement(bi,{values:at,label:function(e){return ee.a.t("locales."+e)},selected:n?[n]:[],valueStyle:[i.value,a],buttonStyle:o,onSelect:function(e){e.length>0&&t&&t(e[0])}})}}]),n}(c.Component),vh=$n((function(e){return Yn.a.create({value:{letterSpacing:.5,fontSize:16,color:e.text}})})),bh=Object(er.l)(yh),Sh=n(34);function Eh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Oh=function(e){zn()(n,e);var t=Eh(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.imageKey,r=Lr()(t,["imageKey"]),o=Xo(n,(function(){return e.forceUpdate()}));return o?c.createElement(Sh.a,Fn()({source:o},r)):c.createElement(c.Fragment,null)}}]),n}(c.Component),Ch=["auth","cache","settings"];function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Th(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Ph=Object(br.b)((function(e){return{cookies:e.settings.userSettings.cookies}})),kh=function(e){zn()(n,e);var t=Th(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={cookies:e.cookies},r}return Ut()(n,[{key:"onShow",value:function(){var e=this.props.cookies,t=this.state.cookies;Object.keys(e).some((function(n){return e[n]!=t[n]}))&&this.setState(wh(wh({},this.state),{},{cookies:this.props.cookies}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=Lr()(t,["theme"]),o=this.state.cookies,a=xh(n),i=this.state.cookies,c=function(t){return e.setState(wh(wh({},e.state),{},{cookies:wh(wh({},o),{},p()({},t,!i[t]))}))};return s.a.createElement(ka,Fn()({},r,{modalViewStyle:[{paddingHorizontal:20,alignItems:"flex-start"},r.modalViewStyle],onShow:function(){e.onShow(),r.onShow&&r.onShow()},renderContent:function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Jn.a,{style:a.title},"Cookies"),s.a.createElement(Jn.a,{style:a.text},"We offer you the ability to choose what information will be stored on your device when using SEA-EU Around."),Ch.map((function(e){return s.a.createElement(Zn.a,{style:a.preferenceRow,key:"cookie-preference-"+e},s.a.createElement(Qn.a,{style:a.preferenceRowButton,onPress:function(){return c(e)}},s.a.createElement(er.e,{checked:i[e],containerStyle:a.checkBoxContainer,onPress:function(){return c(e)}}),s.a.createElement(Jn.a,{style:a.preferenceName},ee.a.t("cookies.preferences."+e+".name"))),s.a.createElement(Jn.a,{style:a.preferenceDescription},ee.a.t("cookies.preferences."+e+".description")))})),s.a.createElement(Zn.a,{style:a.actions},s.a.createElement(co,{text:ee.a.t("save"),onPress:function(){t(),jn.dispatch(xe(o))},skin:"rounded-filled",textStyle:a.buttonText,style:a.button}),s.a.createElement(co,{text:ee.a.t("cancel"),onPress:function(){t(),e.setState(wh(wh({},e.state),{},{cookies:e.props.cookies}))},skin:"rounded-hollow",textStyle:a.buttonText,style:a.button})))}}))}}]),n}(s.a.Component),xh=$n((function(e){return Yn.a.create({title:{fontSize:20,textAlign:"left",marginBottom:10,color:e.text},text:{fontSize:14,lineHeight:18,textAlign:"justify",color:e.text},preferenceRow:{marginTop:10},preferenceRowButton:{flexDirection:"row",alignItems:"center"},checkBoxContainer:{marginLeft:0,marginRight:5,paddingLeft:0,paddingRight:0,paddingVertical:0},preferenceName:{fontSize:16,color:e.text},preferenceDescription:{fontSize:14,color:e.textLight},actions:{flexDirection:"row",marginTop:20,width:"100%",maxWidth:350},button:{flex:1,height:40,marginHorizontal:10,marginVertical:0},buttonText:{fontSize:16}})})),Ih=Ph(Object(er.l)(kh));function jh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Dh=Object(br.b)((function(e){return{settings:e.settings.userSettings}})),_h=0,Ah=function(e){zn()(n,e);var t=jh(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.settings,r=e.dispatch,o=Fh(t);return c.createElement(ir,null,c.createElement(xo.a,{style:o.scroll,contentContainerStyle:o.container},c.createElement(Lh,{theme:t,title:ee.a.t("settings.sections.general")},c.createElement(Sd,{style:o.card,label:ee.a.t("settings.language"),icon:c.createElement(d.a,{name:"language",style:o.cardIcon}),oneLine:!0,display:c.createElement(bh,{locale:n.locale,onChange:function(e){"fr"==e&&g.a.alert("Disclaimer","The application has not been translated to french yet."),r(Pe(e))},buttonStyle:o.localeButton,valueStyle:o.localButtonValue}),noModal:!0}),c.createElement(Sd,{style:o.card,label:ee.a.t("settings.darkTheme"),icon:c.createElement(po.a,{name:"theme-light-dark",style:o.cardIcon}),oneLine:!0,onPress:function(){return r(Te())},display:c.createElement(ms.a,{value:"dark"===n.theme,onValueChange:function(){return r(Te())}}),noModal:!0}),c.createElement(Sd,{style:o.card,label:ee.a.t("settings.logOut"),icon:c.createElement(po.a,{name:"logout",style:o.cardIcon}),oneLine:!0,display:c.createElement(co,{text:ee.a.t("settings.logOut"),onPress:function(){return r(ge())},skin:"rounded-filled",textStyle:o.cardButtonText,style:[o.oneLineCardButton,o.redBackground]}),noModal:!0}),c.createElement(Sd,{style:o.card,label:ee.a.t("settings.customizeCookies"),icon:c.createElement(po.a,{name:"cookie",style:o.cardIcon}),oneLine:!0,overrideModal:function(e){return c.createElement(Ih,{visible:!0,onHide:e})}})),c.createElement(Lh,{theme:t,title:ee.a.t("settings.sections.about"),icon:{name:"info",color:t.accent}},c.createElement(Sd,{style:o.card,label:ee.a.t("settings.version"),oneLine:!0,onPress:function(){7===++_h&&(_h=0,g.a.alert("Insert easter egg here")),setTimeout((function(){return _h=Math.max(0,_h-1)}),3e3)},display:c.createElement(Jn.a,{style:o.infoText},S),noModal:!0}),c.createElement(Sd,{style:o.card,label:ee.a.t("settings.termsOfService"),oneLine:!0,onPress:function(){return g.a.alert("Not implemented")},display:c.createElement(Jn.a,{style:o.infoText},""),noModal:!0}),c.createElement(Sd,{style:o.card,label:ee.a.t("settings.reportABug"),icon:c.createElement(fo.a,{name:"bug-report",style:o.cardIcon}),oneLine:!0,onPress:function(){return g.a.alert("Not implemented")},display:c.createElement(Jn.a,{style:o.infoText},""),noModal:!0})),c.createElement(Lh,{theme:t,title:ee.a.t("settings.sections.danger"),icon:{name:"warning",color:t.warn}},c.createElement(Sd,{style:[o.card,{height:100}],label:ee.a.t("settings.deleteAccount"),display:c.createElement(co,{text:ee.a.t("settings.deleteMyAccount"),onPress:function(){return yn("DeleteAccountScreen")},skin:"rounded-filled",style:[o.cardButton,o.redBackground],textStyle:o.cardButtonText}),noModal:!0})),c.createElement(Zn.a,{style:o.logosContainer},c.createElement(Oh,{imageKey:"logos.sea-eu-around.small",resizeMode:"contain",style:[o.logo,o.logoSeaEuAround]}),c.createElement(Oh,{imageKey:"logos.erasmusLeft",resizeMode:"contain",style:[o.logo,o.logoErasmus]}))))}}]),n}(c.Component),Lh=function(e){zn()(n,e);var t=jh(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,r=e.theme,o=e.children,a=Fh(r);return c.createElement(Zn.a,{style:a.section},c.createElement(Zn.a,{style:a.sectionTitleContainer},n&&c.createElement(fo.a,{name:n.name,color:n.color,style:a.sectionIcon}),c.createElement(Jn.a,{style:a.sectionTitle},t)),o)}}]),n}(c.Component),Fh=$n((function(e){return Yn.a.create({scroll:{flex:1,width:"100%"},container:{width:"100%",maxWidth:700,alignSelf:"center",paddingTop:10,paddingBottom:50,paddingHorizontal:20},section:{paddingVertical:10,justifyContent:"flex-start"},sectionTitleContainer:{flexDirection:"row",alignItems:"center",marginBottom:10},sectionTitle:{textTransform:"uppercase",letterSpacing:1,fontSize:11,color:e.textLight},sectionIcon:{fontSize:16,marginRight:5},card:{marginVertical:6,height:60},cardIcon:{marginRight:6,padding:0,fontSize:18,color:e.textLight},localeButton:{height:30},localButtonValue:{fontSize:14,marginHorizontal:10},cardButton:{height:42,marginVertical:0},oneLineCardButton:{width:120,height:40,marginVertical:0},cardButtonText:{fontSize:16},redBackground:{backgroundColor:e.error},infoText:{color:e.text,fontSize:16},logosContainer:{},logo:{marginTop:30,width:"100%"},logoErasmus:{height:40},logoSeaEuAround:{height:60}})})),Mh=Dh(Object(er.l)(Ah));function Nh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Bh=function(e){zn()(n,e);var t=Nh(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props.theme,t=Hh(e);return c.createElement(ir,null,c.createElement(Zn.a,{style:t.container},c.createElement(Jn.a,{style:t.successText},ee.a.t("deleteAccount.success1")),c.createElement(Jn.a,{style:t.successText},ee.a.t("deleteAccount.success2")),c.createElement(co,{text:ee.a.t("deleteAccount.leave"),icon:c.createElement(po.a,{name:"logout",style:t.buttonIcon}),onPress:function(){return jn.dispatch(ge())},skin:"rounded-filled",style:t.button})))}}]),n}(c.Component),Hh=$n((function(e){return Yn.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},successText:{fontSize:18,lineHeight:25,marginTop:20,textAlign:"center",color:e.text},button:{marginTop:30,backgroundColor:e.error},buttonIcon:{fontSize:20,color:e.textWhite,marginLeft:5}})})),Uh=Object(er.l)(Bh);function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Wh=Ne.c().shape({password:Je}),qh=function(e){zn()(n,e);var t=Gh(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={submitting:!1},r}return Ut()(n,[{key:"submit",value:function(e){var t,n=this,r=this.props.onSuccessfulSubmit;this.setState(zh(zh({},this.state),{},{submitting:!0})),jn.dispatch((t=e.password,function(e,n){var r,o;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().auth.token,a.next=3,u.a.awrap(I("users","DELETE",{},{password:t},r,!0));case 3:if((o=a.sent).status!=v.NO_CONTENT){a.next=9;break}return e(Ce()),a.abrupt("return",{success:!0});case 9:return a.abrupt("return",{success:!1,errors:re(o)});case 10:case"end":return a.stop()}}),null,null,null,Promise)})).then((function(t){var o=t.success,a=t.errors;if(o&&r&&r(e),a&&a.fields){var i=a.fields;Object.keys(i).forEach((function(e){return n.setFieldError&&n.setFieldError(e,te(i[e]))}))}n.setState({remoteErrors:a,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state,r=n.remoteErrors,o=n.submitting,a=Kh(t);return c.createElement(c.Fragment,null,c.createElement(Zn.a,{style:a.titleWrapper},c.createElement(Jn.a,{style:a.title},ee.a.t("deleteAccount.title")),c.createElement(fo.a,{name:"warning",style:a.warningIcon}),c.createElement(Jn.a,{style:a.warning},ee.a.t("deleteAccount.warning"))),c.createElement(_r.a,{initialValues:{password:""},validationSchema:Wh,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(n){var i=n.handleSubmit,s=n.values,l=n.errors,u=n.touched,f=n.handleChange,p=n.handleBlur,d=n.setFieldError,h=zh({handleChange:f,handleBlur:p},$r(t,15));return e.setFieldError=d,c.createElement(c.Fragment,null,c.createElement(Zr,Fn()({field:"password",placeholder:ee.a.t("password"),error:l.password,value:s.password,touched:u.password,label:ee.a.t("deleteAccount.inputLabel"),isPassword:!0},h)),c.createElement(ro,{error:oe(r)}),c.createElement(uo,{onPress:function(){return i()},style:a.button,skin:"rounded-filled",text:ee.a.t("deleteAccount.button"),submitting:o}))})))}}]),n}(c.Component),Kh=$n((function(e){return Yn.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},warning:{fontSize:16,color:e.text,textAlign:"justify"},warningIcon:{color:e.warn,fontSize:32,marginTop:20},button:{backgroundColor:e.error,marginTop:30}})})),Yh=Object(er.l)(qh);function Jh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var Qh=function(e){zn()(n,e);var t=Jh(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){return c.createElement(ir,null,c.createElement(Fo,null,c.createElement(Yh,null)))}}]),n}(c.Component),Zh=Object(er.l)(Qh);function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var em,tm=Object(Hn.a)(),nm=!1,rm=void 0;function om(){var e,t=null==(e=gn.current)?void 0:e.getCurrentRoute();if(t){var n=T.find((function(e){return e===t.name})),r=rm&&T.find((function(e){return e===rm}));!r&&n&&jn.dispatch(Kt()),r&&!n&&jn.dispatch(Yt()),rm=t.name}}function am(e){var t=jn.getState(),n=jn.dispatch,r=t.messaging.socketState.connected;"active"!==em&&"active"===e&&(T.find((function(e){return e===rm}))&&!r&&n(Kt()));"active"===em&&"active"!==e&&r&&n(Yt()),em=e}var im=Object(er.l)((function(e){var t=e.theme,n=e.initialRoute,r=e.onReady,o=nm?rm:n;nm=!0;var a={dark:"dark"===t.id,colors:$h($h({},("dark"===t.id?Mn.a:Nn.a).colors),{},{background:t.background})};return c.createElement(Bn.a,{ref:gn,linking:Ir,theme:a,onReady:function(){Hp.a.addEventListener("change",am),om(),r&&r()},onStateChange:om},c.createElement(tm.Navigator,{screenOptions:{headerShown:!1},initialRouteName:o},c.createElement(tm.Screen,{name:"LoginScreen",component:Ha}),c.createElement(tm.Screen,{name:"ForgotPasswordEmailSentScreen",component:nd,options:{title:bn("ForgotPasswordEmailSentScreen")}}),c.createElement(tm.Screen,{name:"ValidationEmailSentScreen",component:xr,options:{title:bn("ValidationEmailSentScreen")}}),c.createElement(tm.Screen,{name:"ValidateEmailScreen",component:Rr,options:{title:bn("ValidateEmailScreen")}}),c.createElement(tm.Screen,{name:"ResetPasswordScreen",component:Xp,options:{title:bn("ResetPasswordScreen")}}),c.createElement(tm.Screen,{name:"ResetPasswordSuccessScreen",component:id,options:{title:bn("ResetPasswordSuccessScreen")}}),c.createElement(tm.Screen,{name:"MainScreen",component:xl}),c.createElement(tm.Screen,{name:"MyProfileScreen",component:zd,options:{headerShown:!0,title:bn("MyProfileScreen"),header:function(e){return c.createElement(lc,Fn()({},e,{backButton:!0,noAvatar:!0,noShadow:!0,buttonBackgroundColor:t.accent,wrapperStyle:{backgroundColor:t.accent},color:t.textWhite}))}}}),c.createElement(tm.Screen,{name:"ProfileScreen",component:mh,options:{headerShown:!0,title:bn("ProfileScreen"),header:function(e){return c.createElement(lc,Fn()({},e,{backButton:!0,noShadow:!0,buttonBackgroundColor:t.accent,wrapperStyle:{backgroundColor:t.accent},color:t.textWhite}))}}}),c.createElement(tm.Screen,{name:"SettingsScreen",component:Mh,options:{headerShown:!0,title:bn("SettingsScreen"),header:function(e){return c.createElement(lc,Fn()({},e,{backButton:!0,noSettingsButton:!0}))}}}),c.createElement(tm.Screen,{name:"DeleteAccountScreen",component:Zh,options:{headerShown:!0,title:bn("DeleteAccountScreen"),header:function(e){return c.createElement(lc,Fn()({},e,{backButton:!0}))}}}),c.createElement(tm.Screen,{name:"DeleteAccountSuccessScreen",component:Uh,options:{title:bn("DeleteAccountSuccessScreen")}}),c.createElement(tm.Screen,{name:"OnboardingScreen",component:Op}),c.createElement(tm.Screen,{name:"OnboardingSuccessfulScreen",component:kp,options:{title:bn("OnboardingSuccessfulScreen")}}),c.createElement(tm.Screen,{name:"NotFoundScreen",component:yr,options:{title:bn("NotFoundScreen")}}),c.createElement(tm.Screen,{name:"MatchSuccessScreen",component:Bp,options:{headerShown:!1,cardStyleInterpolator:"ios"==mn.a.OS?Un.a.forVerticalIOS:Un.a.forFadeFromBottomAndroid,title:bn("MatchSuccessScreen")}})))}));function cm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var sm=Object(br.b)((function(e){return{currentTheme:e.settings.userSettings.theme}}))(function(e){zn()(n,e);var t=cm(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.currentTheme;return s.a.createElement(er.i,{key:n,theme:Xn[n]},t)}}]),n}(s.a.Component)),lm=n(545),um={LoginScreen:"light",SignupScreen:"light",ForgotPasswordScreen:"light"};function fm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var pm=function(e){zn()(n,e);var t=fm(n);function n(){return Bt()(this,n),t.apply(this,arguments)}return Ut()(n,[{key:"getThemeOverride",value:function(){var e,t,n=null==(e=gn.current)||null==(t=e.getCurrentRoute())?void 0:t.name;return um[n]}},{key:"componentDidMount",value:function(){var e=this,t=gn.current;t&&t.addListener("state",(function(){var t=e.getThemeOverride();t!==e.previousThemeOverride&&e.forceUpdate(),e.previousThemeOverride=t}))}},{key:"render",value:function(){var e="dark"==this.props.theme.id?"light":"dark";return c.createElement(lm.StatusBar,{style:this.getThemeOverride()||e})}}]),n}(c.Component),dm=Object(er.l)(pm);function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn()(e);if(t){var o=Kn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn()(this,n)}}var ym=Object(br.b)((function(e){return{cookies:e.settings.userSettings.cookies,consentDate:e.settings.userSettings.cookieConsentDate}})),vm=function(e){zn()(n,e);var t=gm(n);function n(e){var r;return Bt()(this,n),(r=t.call(this,e)).state={showCustomize:!1},r}return Ut()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.consentDate,o=this.state.showCustomize,a=bm(n);return On(r)?s.a.createElement(s.a.Fragment,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(ka,{visible:!o,animationType:"slide",fullWidth:!0,bottom:!0,nonDismissable:!0,modalViewStyle:a.modalView,renderContent:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Jn.a,{style:a.cookieText},ee.a.t("cookies.bannerText")),s.a.createElement(Zn.a,{style:a.actions},s.a.createElement(co,{text:ee.a.t("cookies.acceptAll"),onPress:function(){return jn.dispatch((function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(xe({auth:!0,cache:!0,settings:!0}));case 1:case"end":return t.stop()}}),null,null,null,Promise)}))},style:a.action,textStyle:a.actionText,skin:"rounded-filled"}),s.a.createElement(co,{text:ee.a.t("cookies.customize"),onPress:function(){return e.setState(mm(mm({},e.state),{},{showCustomize:!0}))},style:a.action,textStyle:a.actionText,skin:"rounded-hollow"})))}}),s.a.createElement(Ih,{visible:o,onHide:function(){return e.setState(mm(mm({},e.state),{},{showCustomize:!1}))}}))}}]),n}(s.a.Component),bm=$n((function(e){return Yn.a.create({modalView:{paddingHorizontal:20,paddingVertical:20,justifyContent:"center"},cookieText:{fontSize:14,lineHeight:20,color:e.text,textAlign:"justify"},actions:{flexDirection:"row",marginTop:20,width:"100%",maxWidth:350},action:{flex:1,height:40,marginHorizontal:10,marginVertical:0},actionText:{fontSize:16}})})),Sm=ym(Object(er.l)(vm));t.default=Object(i.a)((function(){er.k.platform.web||(er.k.platform.web={primary:"#2089dc",secondary:"#ca71eb",grey:"#393e42",searchBg:"#303337",success:"#52c41a",error:"#ff190c",warning:"#faad14"});var e=function(){var e=c.useState(!1),t=a()(e,2),r=t[0],o=t[1];c.useEffect((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m.b(),e=jn.dispatch,t.next=5,u.a.awrap(e((function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(G("offers"));case 2:I("offers","GET",(t=n.sent)?{updatedAt:t.updatedAt}:{}).then((function(n){if(n.status===v.OK){var r=n.data;if(t){var o=0==r.length;e(J(o?t.data:r,o))}else e(J(r))}}));case 5:case"end":return n.stop()}}),null,null,null,Promise)})));case 5:return t.next=7,u.a.awrap(e((function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(G("interests"));case 2:I("interests","GET",(t=n.sent)?{updatedAt:t.updatedAt}:{}).then((function(n){if(n.status===v.OK){var r=n.data;if(t){var o=0==r.length;e(Q(o?t.data:r,o))}else e(Q(r))}}));case 5:case"end":return n.stop()}}),null,null,null,Promise)})));case 7:return t.next=9,u.a.awrap(h.b(_n(_n({},d.a.font),{},{Raleway:n(714),RalewayThin:n(715),RalewayLight:n(716),RalewaySemiBold:n(717),RalewayBold:n(718)})));case 9:return G("cookieConsentDate").then((function(e){G("cookies").then((function(t){if(e&&t){var n=new Date(e.data);jn.dispatch(ke(t.data,n))}else jn.dispatch(ke({auth:!0,cache:!0,settings:!0},new Date))}))})),G("theme").then((function(e){e&&jn.dispatch(we(e.data,!0))})),G("locale").then((function(e){e&&jn.dispatch(Pe(e.data,!0))})),t.next=14,u.a.awrap(e((function(e){var t,n,r,o,a;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,u.a.awrap(ce());case 2:if(!(t=i.sent)){i.next=16;break}return n=t.token,i.next=7,u.a.awrap(I("auth/me","GET",{},{},n));case 7:if((r=i.sent).status!=v.OK){i.next=15;break}return o=r.data,a=F(o),e(de(n,a,!0)),i.abrupt("return",a);case 15:e(he());case 16:return i.abrupt("return",void 0);case 17:case"end":return i.stop()}}),null,null,null,Promise)})));case 14:An=t.sent,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.warn(t.t0);case 20:return t.prev=20,o(!0),m.a(),t.finish(20);case 24:case"end":return t.stop()}}),null,null,[[0,17,20,24]],Promise)}()}),[]);var i=void 0;return An&&(i=An.onboarded?"MainScreen":"OnboardingScreen"),{isLoadingComplete:r,initialRoute:i}}(),t=e.isLoadingComplete,r=e.initialRoute;ee.a.translations=ot,ee.a.locale=it(),ee.a.fallbacks=!0,Tn()&&(Rn.setNotificationHandler({handleNotification:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!1});case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),Rn.addNotificationReceivedListener((function(e){console.log("Notification received:"),console.log(e.request.content)})),Rn.addNotificationResponseReceivedListener((function(e){console.log("Notification response received:");var t=e.notification.request.content.data;t.roomId&&En(t.roomId)})),"android"===mn.a.OS&&Rn.setNotificationChannelAsync("default",{name:"default",importance:Rn.AndroidImportance.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}));var o=Object(c.useState)(!1),i=a()(o,2),l=i[0],f=i[1];return t?s.a.createElement(ea.b,null,s.a.createElement(br.a,{store:jn},s.a.createElement(sm,null,s.a.createElement(im,{onReady:function(){return f(!0)},initialRoute:r}),l&&s.a.createElement(dm,null),s.a.createElement(Sm,null)))):null}))}},[[567,1,2]]]);
//# sourceMappingURL=app.86fc5f92.chunk.js.map
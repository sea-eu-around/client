(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{525:function(e,t,n){n(526),e.exports=n(720)},526:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},565:function(e,t){},674:function(e,t,n){e.exports=n.p+"./fonts/Raleway-VariableFont_wght.ttf"},720:function(e,t,n){"use strict";n.r(t);var r,a=n(735),o=n(0),i=n.n(o),c=n(14),s=n.n(c),l=n(9),u=n.n(l),f=n(25),p=n.n(f),d=n(444),h=n(736),m=n(346),g=n(100),y=n(304);!function(e){e.Staging="STAGING",e.Production="PRODUCTION"}(r||(r={}));var b=y.a.manifest.extra,v=y.a.manifest.version,E=y.a.manifest.scheme,S=b.TARGET,O=b.DEBUG,C=b.CLIENT_URL,R=(b.SERVER_HOST,b.SERVER_URL),w=["ChatScreen","IndividualMessagingTab","GroupMessagingTab","MessagingScreen"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return t+"="+function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})).join(","):encodeURIComponent(t)}(e[t])})).join("&");return 0==t.length?t:"?"+t}function k(e){var t,n,r,a,o,i,c,l,u,f=arguments;return s.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=f.length>1&&void 0!==f[1]?f[1]:"GET",n=f.length>2&&void 0!==f[2]?f[2]:{},r=f.length>3&&void 0!==f[3]?f[3]:{},a=f.length>4&&void 0!==f[4]?f[4]:void 0,o=f.length>5&&void 0!==f[5]&&f[5],i={Accept:"application/json","Content-Type":"application/json"},void 0===a){p.next=14;break}if(null!==a){p.next=13;break}return console.error("Cannot authentify request to "+e+" : no auth token available."),g.a.alert("A request could not be authenticated."),p.abrupt("return",{errorType:"error.no-auth",description:"Endpoint requires authentication",status:401});case 13:i.Authorization="Bearer "+a.accessToken;case 14:return c=x(n),l=null,p.prev=16,o&&(console.log("Sending request: "+t+" /"+e+c),console.log("  headers: "+JSON.stringify(i)),console.log("  body   : "+JSON.stringify(r))),p.next=20,s.a.awrap(fetch(R+"/"+e+c,T({method:t,headers:i},"GET"==t?{}:{body:JSON.stringify(r)})));case 20:return l=p.sent,p.t0=T,p.t1=T,p.t2={},p.next=26,s.a.awrap(l.json());case 26:return p.t3=p.sent,p.t4=(0,p.t1)(p.t2,p.t3),p.t5={},p.t6={status:l.status},u=(0,p.t0)(p.t4,p.t5,p.t6),o&&(console.log("Response from endpoint "+e+":"),console.log(u)),p.abrupt("return",u);case 35:return p.prev=35,p.t7=p.catch(16),console.error("An unexpected error occured with a request to "+e+". Method = "+t+", authToken = "+a+", params="+JSON.stringify(n)+", body="+JSON.stringify(r)),console.error(p.t7),console.error("Response received from server:",l),p.abrupt("return",{errorType:"error.unknown",description:"A client-side exception was raised.",status:400});case 41:case"end":return p.stop()}}),null,null,[[16,35]],Promise)}var j;function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){return e?e.filter((function(e){return e.allowFemale||e.allowMale||e.allowOther||e.allowStaff||e.allowStudent})):[]}function A(e){var t,n=D(D({},e),{},{avatarUrl:e.avatar,birthdate:new Date(e.birthdate),educationFields:(e.educationFields||[]).map((function(e){return e.id})),profileOffers:e.profileOffers||[],interests:(e.interests||[]).map((function(e){return e.id})),languages:e.languages||[]});if("staff"===e.type){var r=e;t=D(D({},n),{},{staffRoles:(r.staffRoles||[]).map((function(e){return e.id}))})}else{var a=e;t=D(D({},n),{},{degree:a.degree})}return t}function L(e,t){var n,r,a,o,i=D(D({},e),{},{type:t,birthdate:null==(n=e.birthdate)?void 0:n.toJSON(),educationFields:null==(r=e.educationFields)?void 0:r.map((function(e){return{id:e}})),interests:null==(a=e.interests)?void 0:a.map((function(e){return{id:e}})),profileOffers:e.profileOffers?_(e.profileOffers):void 0});if("staff"===t){var c=e;o=D(D({},i),{},{staffRoles:(c.staffRoles||[]).map((function(e){return{id:e}}))})}else{var s=e;o=D(D({},i),{},{degree:s.degree})}return o}function F(e){return D(D({},e),{},{profile:e.profile?A(e.profile):void 0})}function M(e){var t=e.profiles.map((function(e){return{_id:e.id,name:e.firstName+" "+e.lastName,avatar:e.avatar||"",lastMessageSeenId:e.lastMessageSeenId,lastMessageSeenDate:e.lastMessageSeenDate?new Date(e.lastMessageSeenDate):null}})),n=null;if(e.lastMessage){var r=e.lastMessage,a=t.find((function(e){return e._id==r.senderId}));a&&(n=B(a,r))}return D(D({},e),{},{users:t,messages:[],lastMessage:n,writing:{},messagePagination:{page:1,canFetchMore:!0,fetching:!1}})}function B(e,t){return D(D({},t),{},{_id:t.id,createdAt:new Date(t.updatedAt),user:e})}!function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.ALREADY_REPORTED=208]="ALREADY_REPORTED",e[e.IM_USED=226]="IM_USED",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.SWITCH_PROXY=306]="SWITCH_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.LOOP_DETECTED=508]="LOOP_DETECTED",e[e.NOT_EXTENDED=510]="NOT_EXTENDED",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"}(j||(j={}));var N,U=n(160);function H(e,t){console.log("Updating cache entry for '"+e+"'.");var n={updatedAt:(new Date).toJSON(),data:t};U.a.setItem(e,JSON.stringify(n))}function V(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(U.a.getItem(e));case 2:return t=n.sent,n.abrupt("return",!!t&&JSON.parse(t));case 4:case"end":return n.stop()}}),null,null,null,Promise)}!function(e){e.LOAD_USER_PROFILE="PROFILE/LOAD_USER_PROFILE",e.LOAD_PROFILE_OFFERS="LOAD_PROFILE_OFFERS",e.LOAD_PROFILE_OFFERS_SUCCESS="LOAD_PROFILE_OFFERS_SUCCESS",e.LOAD_PROFILE_INTERESTS="LOAD_PROFILE_INTERESTS",e.LOAD_PROFILE_INTERESTS_SUCCESS="LOAD_PROFILE_INTERESTS_SUCCESS",e.PROFILE_SET_FIELDS_SUCCESS="PROFILE/SET_FIELDS_SUCCESS",e.PROFILE_SET_FIELDS_FAILURE="PROFILE/SET_FIELDS_FAILURE",e.PROFILE_CREATE="PROFILE/CREATE",e.PROFILE_CREATE_SUCCESS="PROFILE/CREATE_SUCCESS",e.FETCH_USER_SUCCESS="PROFILE/FETCH_USER_SUCCESS",e.FETCH_PROFILE_SUCCESS="PROFILE/FETCH_PROFILE_SUCCESS",e.SET_AVATAR="PROFILE/SET_AVATAR",e.SET_AVATAR_SUCCESS="PROFILE/SET_AVATAR_SUCCESS",e.SET_AVATAR_FAILURE="PROFILE/SET_AVATAR_FAILURE"}(N||(N={}));var G,z=function(e){return{type:N.PROFILE_SET_FIELDS_SUCCESS,fields:e}},W=function(e){return{type:N.PROFILE_CREATE_SUCCESS,profile:e}},q=function(e){return function(t,n){var r,a,o,i;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n().auth.token,c.next=3,s.a.awrap(k("profiles","POST",{},e,r));case 3:(a=c.sent).status===j.CREATED&&(o=a.data,i=A(o),t(W(i)));case 5:case"end":return c.stop()}}),null,null,null,Promise)}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:N.LOAD_PROFILE_OFFERS_SUCCESS,offers:e,fromCache:t}},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:N.LOAD_PROFILE_INTERESTS_SUCCESS,interests:e,fromCache:t}},J=function(e){return{type:N.FETCH_USER_SUCCESS,user:e}},Q=function(e){return{type:N.FETCH_PROFILE_SUCCESS,profile:e}},X=n(12),Z=n.n(X),$=function(e){return Z.a.t(e,{defaultValue:e})},ee=function(e){var t=e.code,n=e.description;return"missing"==Z.a.t(t,{defaultValue:"missing"})?n:t};function te(e){if(e.status!=j.OK){var t=e,n=t.errorType,r=t.description,a={general:ee({code:n,description:r}),fields:{}};return e.status==j.UNPROCESSABLE_ENTITY&&e.errors.forEach((function(e){return a.fields[e.property]=ee(e.codes[0])})),a}}function ne(e){return e?Object.keys(e.fields).length>0?void 0:e.general:void 0}function re(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(U.a.getItem("auth"));case 2:return e=t.sent,t.abrupt("return",!!e&&JSON.parse(e));case 4:case"end":return t.stop()}}),null,null,null,Promise)}!function(e){e.REGISTER_BEGIN="AUTH/REGISTER_BEGIN",e.REGISTER_SUCCESS="AUTH/REGISTER_SUCCESS",e.REGISTER_FAILURE="AUTH/REGISTER_FAILURE",e.LOG_IN_SUCCESS="AUTH/LOG_IN_SUCCESS",e.LOG_IN_FAILURE="AUTH/LOG_IN_FAILURE",e.LOG_OUT="AUTH/LOG_OUT",e.VALIDATE_ACCOUNT="AUTH/VALIDATE_ACCOUNT",e.VALIDATE_ACCOUNT_SUCCESS="AUTH/VALIDATE_ACCOUNT_SUCCESS",e.VALIDATE_ACCOUNT_FAILURE="AUTH/VALIDATE_ACCOUNT_FAILURE",e.SET_ONBOARDING_VALUES="AUTH/SET_ONBOARDING_VALUES",e.SET_ONBOARDING_OFFER_VALUE="AUTH/SET_ONBOARDING_OFFER_VALUE",e.FORGOT_PASSWORD_FAILURE="AUTH/FORGOT_PASSWORD_FAILURE",e.FORGOT_PASSWORD_SUCCESS="AUTH/FORGOT_PASSWORD_SUCCESS",e.RESET_PASSWORD_SUCCESS="AUTH/RESET_PASSWORD_SUCCESS",e.DELETE_ACCOUNT_SUCCESS="AUTH/DELETE_ACCOUNT_SUCCESS"}(G||(G={}));var ae=function(e,t){return{type:G.REGISTER_BEGIN,email:e,password:t}},oe=function(e,t){return function(n,r){var a,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n(ae(e,t)),a=r().settings.userSettings.locale,i.next=4,s.a.awrap(k("auth/register","POST",{},{email:e,password:t,locale:a}));case 4:if((o=i.sent).status!=j.OK){i.next=11;break}return n(ie(o.data)),i.abrupt("return",{success:!0});case 11:return n(ce()),i.abrupt("return",{success:!1,errors:te(o)});case 13:case"end":return i.stop()}}),null,null,null,Promise)}},ie=function(e){return{type:G.REGISTER_SUCCESS,user:e}},ce=function(){return{type:G.REGISTER_FAILURE}},se=function(e,t,n){return{type:G.LOG_IN_SUCCESS,token:e,user:t,usingCachedCredentials:n}},le=function(){return{type:G.LOG_IN_FAILURE}},ue=function(e,t){return function(n){var r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(k("auth/login","POST",{},{email:e,password:t}));case 2:if((r=o.sent).status!=j.OK){o.next=9;break}return a=r.data,n(se(a.token,F(a.user),!1)),o.abrupt("return",{success:!0});case 9:return n(le()),o.abrupt("return",{success:!1,errors:te(r)});case 11:case"end":return o.stop()}}),null,null,null,Promise)}},fe=function(){return{type:G.LOG_OUT}},pe=function(e){return function(t){var n,r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(k("auth/verify","POST",{},{token:e}));case 2:(n=o.sent).status==j.OK?(r=n.data,a=r.email,t(de(a))):t(he());case 4:case"end":return o.stop()}}),null,null,null,Promise)}},de=function(e){return{type:G.VALIDATE_ACCOUNT_SUCCESS,email:e}},he=function(){return{type:G.VALIDATE_ACCOUNT_FAILURE}},me=function(e){return{type:G.FORGOT_PASSWORD_SUCCESS,email:e}},ge=function(){return{type:G.FORGOT_PASSWORD_FAILURE}},ye=function(){return{type:G.RESET_PASSWORD_SUCCESS}},be=function(){return{type:G.DELETE_ACCOUNT_SUCCESS}},ve=function(e){return{type:G.SET_ONBOARDING_VALUES,values:e}},Ee=n(195),Se=[{key:"univ-cadiz",domain:"uca.es",country:"ES"},{key:"univ-brest",domain:"univ-brest.fr",country:"FR"},{key:"univ-gdansk",domain:"ug.edu.pl",country:"PL"},{key:"univ-malta",domain:"um.edu.mt",country:"MT"},{key:"univ-kiel",domain:"kms.uni-kiel.de",country:"DE"},{key:"univ-split",domain:"unist.hr",country:"HR"}];function Oe(e){var t=e.split("@")[0].split("."),n=function(e){return 0==e.length?e:e[0].toUpperCase()+e.slice(1)};return t.length>=2?{firstname:n(t[0]),lastname:n(t[1])}:null}function Ce(e){var t=e.split("@");if(t.length>0){var n=t[1].trim();return Se.find((function(e){return e.domain==n}))||null}return null}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe={authenticated:!1,token:null,validated:!1,registerEmail:"",validatedEmail:null,onboarded:!1,onboarding:{firstname:"",lastname:"",birthdate:null,gender:null,nationality:null,type:null,degree:null,staffRoles:{},languages:[],offerValues:{},interestIds:[],educationFields:[]}},Te=n(513),xe=n(42),ke=["bsc1","bsc2","bsc3","m1","m2","phd"],je=["a1","a2","b1","b2","c1","c2","native"],Ie=["student","staff"],De=["teaching","research","administration","technical","other"],_e=["school","library-books","account-balance","build","help"],Ae=["male","female","other"],Le=xe.e().required("validation.required").email("validation.email.invalid"),Fe=xe.e().required("validation.required").min(8,"validation.password.tooShort").matches(/(?=.*\d)/,"validation.password.noDigit").matches(/(?=.*[a-z])/,"validation.password.noLowerCase").matches(/(?=.*[A-Z])/,"validation.password.noUpperCase").matches(/(?=.*[#@$!%*?&])/,"validation.password.noSymbol"),Me=xe.e().required("validation.required").oneOf([xe.d("password")],"validation.password.repeatWrong"),Be=xe.e().required("validation.required").email("validation.email.invalid"),Ne=xe.e().required("validation.required"),Ue=xe.e().trim().required("validation.required"),He=xe.e().trim().required("validation.required"),Ve=xe.b().nullable().required("validation.required"),Ge=xe.e().nullable().required("validation.required"),ze=xe.e().nullable().required("validation.required"),We=xe.e().oneOf(ke,"validation.required"),qe=xe.a().required("validation.addAtLeastOne"),Ke=xe.a().required("validation.addAtLeastOne"),Ye={en:{locales:{en:"English",fr:"French"},welcome:"Welcome",picker:{callToAction:"Select (%d selected)"},login:"Log in",tabsignin:"Log in",tabsignup:"Sign up",emailAddress:"Email address",password:"Password",passwordRepeat:"Repeat password",send:"Send",forgotPassword:"Forgot Password",newPassword:"New Password",forgotPasswordExplanation:"Enter the email address associated with your account below. Instructions for choosing a new password will be sent shortly.",cancel:"Cancel",ok:"OK",signupWelcome:"We can't wait for you to join our community!\n\nJust one more step.",firstname:"First name",lastname:"Last name",noResultsFound:"No results found",tos:{modal:{disclaimer1:"Please understand that you will not be able to use our services if you decide to decline the terms of service.",disclaimer2:"Declining will abort the profile creation process."},decline:"Decline",accept:"Accept",readMore:["Read more about our terms of service ","here","."]},privacy:{readMore:["Read more about our privacy policy ","here","."]},emailNotificationsLabel:"Send me useful notifications by email.",emailValidation:{validating:"Validating",success:["Your account has been validated! You may now ","log in"]},createAccount:"Create account",validation:{required:"Required field.",atLeastOne:"Please select at least one.",addAtLeastOne:"Please add at least one.",email:{invalid:"Please provide a valid email address.",invalidDomain:"Your email address must match one of our partner universities."},password:{tooShort:"Your password must have at least 8 characters.",noDigit:"Your password must contain at least one digit.",noUpperCase:"Your password must contain at least one upper case character.",noLowerCase:"Your password must contain at least one lower case character.",noSymbol:"Your password must contain at least one symbol (#@$!%*?&).",repeatWrong:"These passwords don't match."},language:{atLeastOne:"Please select at least one language.",specifyLevel:"Please specify a level for your languages."}},error:{error_user_not_verified:"This account's email address has not been verified yet.",user_not_found:"User not found.",email_or_password_incorrect:"Incorrect email or password.",reset_password_no_token:"Could not fulfill this request.",unique:{user:{email:"This email address is already in use."}},validation:{email:{is_email:"Please provide a valid email address."}}},pageNotFound:"404: Page not found.",pageDoesntExist:"This page doesn't exist.",goHome:"Go to home screen",tabs:{home:"Home",matching:"Matching",messaging:"Messaging",notifications:"Notifications"},myProfile:"My Profile",editProfile:"Edit profile",educationFieldsPicker:{placeholder:"Select fields",searchPlaceholder:"Search",multiple:"%d selected"},educationFieldCategories:{"generic-programmes-qualifications":"Generic programmes and qualifications",education:"Education","arts-humanities":"Arts and humanities","social-sciences-journalism-information":"Social sciences, journalism and information","business-administration-law":"Business, administration and law","natural-sciences-mathematics-statistics":"Natural sciences, mathematics and statistics","information-communication-technologies":"Information and Communication Technologies (ICTs)","engineering-manufacturing-construction":"Engineering, manufacturing and construction","agriculture-forestry-fisheries-veterinary":"Agriculture, forestry, fisheries and veterinary","health-welfare":"Health and welfare",services:"Services"},educationFields:{"basic-programmes-qualifications":"Basic programmes and qualifications","literacy-numeracy":"Literacy and numeracy","personal-skills-development":"Personal skills and development","education-science":"Education science","training-for-pre-school-teachers":"Training for pre-school teachers","teacher-training-without-subject-specialisation":"Teacher training without subject specialisation","teacher-training-with-subject-specialisation":"Teacher training with subject specialisation","audio-visual-techniques-media-production":"Audio-visual techniques and media production","fashion-interior-industrial-design":"Fashion, interior and industrial design","fine-arts":"Fine arts",handicrafts:"Handicrafts","music-performing-arts":"Music and performing arts","religion-theology":"Religion and theology","history-archaeology":"History and archaeology","philosophy-ethics":"Philosophy and ethics","language-acquisition":"Language acquisition","literature-linguistics":"Literature and linguistics",economics:"Economics","political-sciences-civics":"Political sciences and civics",psychology:"Psychology","sociology-cultural-studies":"Sociology and cultural studies","journalism-reporting":"Journalism and reporting","library-information-archival-studies":"Library, information and archival studies","accounting-taxation":"Accounting and taxation","finance-banking-insurance":"Finance, banking and insurance","management-administration":"Management and administration","marketing-advertising":"Marketing and advertising","secretarial-office-work":"Secretarial and office work","wholesale-retail-sales":"Wholesale and retail sales","work-skills":"Work skills",law:"Law",biology:"Biology",biochemistry:"Biochemistry","environmental-sciences":"Environmental sciences","natural-environments-wildlife":"Natural environments and wildlife",chemistry:"Chemistry","earth-sciences":"Earth sciences",physics:"Physics",mathematics:"Mathematics",statistics:"Statistics","computer-use":"Computer use","database-network-design-administration":"Database and network design and administration","software-applications-development-analysis":"Software and applications development and analysis","chemical-engineering-processes":"Chemical engineering and processes","environmental-protection-technology":"Environmental protection technology","electricity-energy":"Electricity and energy","electronics-automation":"Electronics and automation","mechanics-metal-trades":"Mechanics and metal trades","motor-vehicles-ships-aircraft":"Motor vehicles, ships and aircraft","food-processing":"Food processing",materials:"Materials (glass, paper, plastic and wood)",textiles:"Textiles (clothes, footwear and leather)","mining-extraction":"Mining and extraction","architecture-town-planning":"Architecture and town planning","building-civil-engineering":"Building and civil engineering","crop-livestock-production":"Crop and livestock production",horticulture:"Horticulture",forestry:"Forestry",fisheries:"Fisheries",veterinary:"Veterinary","dental-studies":"Dental studies",medicine:"Medicine","nursing-midwifery":"Nursing and midwifery","medical-diagnostic-treatment-technology":"Medical diagnostic and treatment technology","therapy-rehabilitation":"Therapy and rehabilitation",pharmacy:"Pharmacy","traditional-complementary-medicine-therapy":"Traditional and complementary medicine and therapy","domestic-services":"Domestic services","hair-beauty-services":"Hair and beauty services","hotel-restaurants-catering":"Hotel, restaurants and catering",sports:"Sports","travel-tourism-leisure":"Travel, tourism and leisure","community-sanitation":"Community sanitation","occupational-health-safety":"Occupational health and safety","military-defence":"Military and defence","protection-of-persons-property":"Protection of persons and property","transport-services":"Transport services"},levelOfStudy:"Level of study",degrees:{bsc1:"BSc1",bsc2:"BSc2",bsc3:"BSc3",m1:"M1",m2:"M2",phd:"PhD"},nationality:"Nationality",university:"University",search:"Search",selectCountry:"Select country",countryPickerLanguageCode:"common",profileType:"Type",profileTypes:"Types",allRoles:{student:"Student",staff:"Staff"},staffRoles:{teaching:"Teaching",research:"Research",administration:"Administration",technical:"Technical",other:"Other"},gender:"Gender",genders:{male:"Male",female:"Female",other:"Other"},dateOfBirth:"Date of birth",months:{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},fieldsOfEducation:"Fields of education",apply:"Apply",universities:{"univ-cadiz":"University of C\xe1diz","univ-brest":"University of Bretagne Occidentale","univ-gdansk":"University of Gda\u0144sk","univ-malta":"University of Malta","univ-kiel":"University of Kiel","univ-split":"University of Split"},universitiesPicker:{placeholder:"Select universities",searchPlaceholder:"Search",multiple:"%d selected"},logOut:"Log out",onboarding:{name:{title:"Welcome",subtitle:"Before we start, we need to know a little bit more about you to ensure the best possible recommendations."},personalInfo:{title:"Profile"},language:{title:"Languages"},interests:{title:"Interests"},role:{title:"I am a..."},roleSpecific1:{student:{title:"Student information"},staff:{title:"Staff roles"}},offersMeet:{title:"Meet",subtitle:"Meet up with new friends in real life."},offersDiscover:{title:"Discover",subtitle:"Find out about other cultures."},offersCollaborate:{title:"Collaborate",subtitle:"Find people to work on projects, academic or not."},tos:{title:"Terms of service",subtitle:"I am aware that I am entering a space of intercultural exchange and I am committed to caring and respectful exchanges with other members. My name and surname will be visible by other users."},privacy:{title:"Privacy policy",subtitle:"I am entering a university community. I agree to provide some personal data, that will not be shared with anyone but the SEA-EU Around community."},submit:"Submit",getStarted:"Get Started",profileCreated:"Welcome! Your profile is now created."},spokenLanguages:"Spoken languages",languagePicker:{placeholderSingle:"Language",placeholderMultiple:"Select languages",searchPlaceholder:"Search for languages",multiple:"%d selected"},languageLevelPicker:{placeholder:"Level"},languageLevels:{a1:"A1",a2:"A2",b1:"B1",b2:"B2",c1:"C1",c2:"C2",native:"Native"},languageNames:{aa:"Afar",ab:"Abkhazian",ae:"Avestan",af:"Afrikaans",ak:"Akan",am:"Amharic",an:"Aragonese",ar:"Arabic",as:"Assamese",av:"Avaric",ay:"Aymara",az:"Azerbaijani",ba:"Bashkir",be:"Belarusian",bg:"Bulgarian",bh:"Bihari languages",bi:"Bislama",bm:"Bambara",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",ca:"Catalan / Valencian",ce:"Chechen",ch:"Chamorro",co:"Corsican",cr:"Cree",cs:"Czech",cu:"Old Bulgarian / Church Slavic / Slavonic",cv:"Chuvash",cy:"Welsh",da:"Danish",de:"German",dv:"Divehi / Dhivehi / Maldivian",dz:"Dzongkha",ee:"Ewe",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",ff:"Fulah",fi:"Finnish",fj:"Fijian",fo:"Faroese",fr:"French",fy:"Western Frisian",ga:"Irish",gd:"Scottish Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",gv:"Manx",ha:"Hausa",he:"Hebrew",hi:"Hindi",ho:"Hiri Motu",hr:"Croatian",ht:"Haitian Creole",hu:"Hungarian",hy:"Armenian",hz:"Herero",ia:"Interlingua",id:"Indonesian",ie:"Interlingue / Occidental",ig:"Igbo",ii:"Sichuan Yi / Nuosu",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",ka:"Georgian",kg:"Kongo",ki:"Kikuyu / Gikuyu",kj:"Kuanyama / Kwanyama",kk:"Kazakh",kl:"Kalaallisut / Greenlandic",km:"Central Khmer",kn:"Kannada",ko:"Korean",kr:"Kanuri",ks:"Kashmiri",ku:"Kurdish",kv:"Komi",kw:"Cornish",ky:"Kirghiz / Kyrgyz",la:"Latin",lb:"Luxembourgish / Letzeburgesch",lg:"Ganda",li:"Limburgan / Limburger / Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",mg:"Malagasy",mh:"Marshallese",mi:"Maori",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mr:"Marathi",ms:"Malay",mt:"Maltese",my:"Burmese",na:"Nauru",nb:"Norwegian Bokm\xe5l",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nl:"Dutch / Flemish",nn:"Norwegian Nynorsk",no:"Norwegian",nr:"South Ndebele",nv:"Navajo / Navaho",ny:"Chichewa / Chewa / Nyanja",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Oriya",os:"Ossetian / Ossetic",pa:"Punjabi / Panjabi",pi:"Pali",pl:"Polish",ps:"Pashto / Pushto",pt:"Portuguese",qu:"Quechua",rc:"Reunionese",rm:"Romansh",rn:"Rundi",ro:"Romanian / Moldavian",ru:"Russian",rw:"Kinyarwanda",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sg:"Sango",sh:"Serbo-Croatian",si:"Sinhala / Sinhalese",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",ss:"Swati",st:"Southern Sotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga (Tonga Islands)",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur / Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Walloon",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang / Chuang",zh:"Chinese",zu:"Zulu"},interests:"Interests",chooseInterests:"Choose interests",interestsPicker:{placeholder:"Select interests",searchPlaceholder:"Search",multiple:"%d selected"},interestNames:{"language-exchange":"Language exchange","second-hand-apparel":"Second hand apparel","board-games":"Board games","road-trips":"Road trips",tango:"Tango",sneakers:"Sneakers",sports:"Sports",baking:"Baking",tarot:"Tarot",art:"Art",tea:"Tea",picnicking:"Picnicking",motorcycles:"Motorcycles",parties:"Parties",shopping:"Shopping",couchsurfing:"Couch-surfing",netflix:"Netflix",cooking:"Cooking",vegan:"Vegan",brunch:"Brunch","motor-sports":"Motor sports","grab-a-drink":"Grab a drink","working-out":"Working out","start-ups":"Start ups","street-food":"Street food","craft-beer":"Craft beer","amateur-cook":"Amateur cook","happy-hour":"Happy hour","vintage-fashion":"Vintage fashion","walking-my-dog":"Walking my dog","second-hand-shopping":"Second hand shopping",politics:"Politics",bbq:"BBQ",surfing:"Surfing",spirituality:"Spirituality",gardening:"Gardening",astrology:"Astrology",climbing:"Climbing",tennis:"Tennis",writer:"Writer",comedy:"Comedy",wine:"Wine",diy:"Diy",coffee:"Coffee",sailing:"Sailing",music:"Music",cycling:"Cycling",activism:"Activism",trivia:"Trivia",travel:"Travel",instagram:"Instagram",museum:"Museum",karaoke:"Karaoke",fashion:"Fashion",blogging:"Blogging",yoga:"Yoga",investing:"Investing",petanque:"Petanque",theater:"Theater",environmentalism:"Environmentalism",crossfit:"Crossfit",dancing:"Dancing",hiking:"Hiking",running:"Running",golf:"Golf",photography:"Photography",vlogging:"Vlogging",volunteering:"Volunteering",tattoos:"Tattoos",outdoors:"Outdoors",esports:"Esports",snowboarding:"Snowboarding",athlete:"Athlete",extrovert:"Extrovert",podcasts:"Podcasts",walking:"Walking",vegetarian:"Vegetarian",reading:"Reading",movies:"Movies",foodie:"Foodie",soccer:"Soccer",skiing:"Skiing",sushi:"Sushi",introvert:"Introvert",skateboarder:"Skateboarder",festivals:"Festivals",fishing:"Fishing",swimming:"Swimming",expositions:"Expositions",gamer:"Gamer",piano:"Piano","foodie-tour":"Foodie Tour","dog-lover":"Dog Lover","cat-lover":"Cat Lover"},offerCategories:{meet:"Meet",discover:"Discover",collaborate:"Collaborate"},offers:"Offers",allOffers:{"grab-a-drink":{name:"Grab a drink",help:"I am open to having a drink with the people I meet on this platform."},"provide-a-couch":{name:"Provide a couch",help:"I am open to letting someone sleep on my couch."},"do-a-campus-tour":{name:"Do a campus tour",help:"I am open to helping someone visit my campus."},"help-on-a-project":{name:"Help on a project",help:"I am open to helping someone work on a project."},"look-for-collaborators":{name:"Look for collaborators",help:"I am looking for collaborators for a project."},"answer-questions":{name:"Answer questions",help:"I can give information about my university or answer to general questions."},"talk-a-bit":{name:"Talk a bit",help:"I would like to get to know new people."},"chat-to-practice":{name:"Chat to practice",help:"I would not mind chatting with other users who would like to improve their language skills"},"language-tandem":{name:"Language tandem",help:"I am willing to join a language tandem to help others learn one of my languages."}},block:{warning:"Are you sure you want to block this user? You and {{firstname}} will not be able to find each other anymore.",action:"Block"},resetPassword:{instructions:"To choose a new password, click the link in the email we just sent you.",title:"Please choose a new password",button:"Send",success:"Your password has been updated."},deleteAccount:{title:"Delete your account",warning:"Please be aware that this action is irreversible. Your account and all associated data will be deleted within six months.",button:"Delete",success1:"Your request has been received and will be processed shortly.",success2:"We are sorry to see you go.",leave:"Leave",inputLabel:"Enter password to confirm"},messaging:{tabIndividual:"Matches",tabGroup:"Groups",noMatches:"It appears that you haven't matched with anyone yet. :("},matching:{noResults:"No results found",noResultsAdvice:"Perhaps try removing some filters",filtering:{sectionGeneral:"General",buttonReset:"Reset"},actionLike:"Like",actionHide:"Hide",success:{title:"It's a match !",chat:"Start chatting",continue:"Keep scrolling"}},profile:{noOffersSelected:"No offers selected."},screenTitles:{suffix:" - SEA-EU Around",LoginForm:"Login",ForgotPassword:"Forgot Password",TabSignup:"Sign up",OnboardingNameScreen:"Welcome",OnboardingPersonalInfoScreen:"Profile",OnboardingLanguageScreen:"Profile",OnboardingInterestsScreen:"Profile",OnboardingRoleScreen:"Profile",OnboardingRoleSpecificScreen:"Profile",OnboardingOffersScreen1:"Discover",OnboardingOffersScreen2:"Collaborate",OnboardingOffersScreen3:"Meet",OnboardingTosScreen:"Terms of Service",OnboardingPrivacyScreen:"Privacy Policy",MessagingScreen:"Messages",IndividualMessagingTab:"Messages",GroupMessagingTab:"Groups",ChatScreen:"Chat",TabHomeScreen:"Home",TabMatchingScreen:"Match",MatchFilteringScreen:"Filters",TabNotificationsScreen:"Notifications",MyProfileScreen:"Profile",ProfileScreen:"Profile",SettingsScreen:"Settings",DeleteAccountScreen:"Delete Account",DeleteAccountSuccessScreen:"Account Deleted",ValidationEmailSentScreen:"Validate your account",ValidateEmailScreen:"Validate your account",ResetPasswordScreen:"Reset your password",ResetPasswordSuccessScreen:"Password reset",OnboardingSuccessfulScreen:"Successful registration",NotFoundScreen:"Not Found",MatchSuccessScreen:"Match!",ForgotPasswordEmailSentScreen:"Forgot password"},settings:{sections:{general:"General",danger:"Danger zone",about:"About"},language:"Language",darkTheme:"Dark theme",deleteAccount:"Delete Account",deleteMyAccount:"Delete my account",version:"Version",termsOfService:"Terms of Service",reportABug:"Report a Bug",logOut:"Log out",developedBy:"Developed by"}},fr:{locales:{en:"Anglais",fr:"Fran\xe7ais"},welcome:"Bienvenue",login:"Connexion",signup:"Inscription",emailAddress:"Adresse email",password:"Mot de passe",forgotPassword:"Mot de passe oubli\xe9",countryPickerLanguageCode:"fra"}},Je=["en","fr"];function Qe(){return Je.find((function(e){return e==Te.a}))||"en"}var Xe,Ze=["hr","en","fr","de","mt","pl","es","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","dv","dz","ee","el","eo","et","eu","fa","ff","fi","fj","fo","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","ps","pt","qu","rc","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"];!function(e){e.SET_THEME="SETTINGS/SET_THEME",e.TOGGLE_THEME="SETTINGS/TOGGLE_THEME",e.SET_LOCALE="SETTINGS/SET_LOCALE"}(Xe||(Xe={}));var $e=function(){return{type:Xe.TOGGLE_THEME}};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){var t=Ye,n=t[e].languageNames||t.en.languageNames;return Ze.map((function(e){return{label:n[e]||"Missing translation ("+e+")",value:e}}))}var rt={userSettings:{theme:"light",locale:Qe()},localizedLanguageItems:nt(Qe())};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it,ct={user:null,offers:[],offerIdToCategory:new Map,interests:[]};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_FILTERS="MATCHING/SET_FILTERS",e.SET_OFFER_FILTER="MATCHING/SET_OFFER_FILTER",e.FETCH_PROFILES_BEGIN="MATCHING/FETCH_PROFILES_BEGIN",e.FETCH_PROFILES_SUCCESS="MATCHING/FETCH_PROFILES_SUCCESS",e.FETCH_PROFILES_FAILURE="MATCHING/FETCH_PROFILES_FAILURE",e.FETCH_PROFILES_REFRESH="MATCHING/FETCH_PROFILES_REFRESH",e.LIKE_PROFILE_SUCCESS="MATCHING/LIKE_PROFILE_SUCCESS",e.DISLIKE_PROFILE_SUCCESS="MATCHING/DISLIKE_PROFILE_SUCCESS",e.BLOCK_PROFILE_SUCCESS="MATCHING/BLOCK_PROFILE_SUCCESS",e.FETCH_MY_MATCHES_BEGIN="MATCHING/FETCH_MY_MATCHES_BEGIN",e.FETCH_MY_MATCHES_FAILURE="MATCHING/FETCH_MY_MATCHES_FAILURE",e.FETCH_MY_MATCHES_SUCCESS="MATCHING/FETCH_MY_MATCHES_SUCCESS"}(it||(it={}));var ut=function(){return{type:it.FETCH_PROFILES_FAILURE}},ft=function(e,t){return{type:it.FETCH_PROFILES_SUCCESS,profiles:e,canFetchMore:t}},pt=function(){return{type:it.FETCH_PROFILES_REFRESH}},dt=function(e,t,n){return{type:it.LIKE_PROFILE_SUCCESS,profileId:e,matchStatus:t,roomId:n}},ht=function(e){return{type:it.DISLIKE_PROFILE_SUCCESS,profileId:e}},mt=function(e){return{type:it.BLOCK_PROFILE_SUCCESS,profileId:e}};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt,vt={filters:{offers:{},universities:[],degrees:[],languages:[],types:[]},fetchedProfiles:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1},myMatches:[],fetchingMyMatches:!1},Et=n(5),St=n.n(Et),Ot=n(6),Ct=n.n(Ot),Rt=n(440),wt=n.n(Rt),Pt=R+"/chat",Tt=new(function(){function e(){St()(this,e),this.socket=null,this.connectCallbacks=[],this.writingTimeout=null,this.lastSentWritingState=!1,this.connecting=!1,this.connected=!1}return Ct()(e,[{key:"consumeConnectCallbacks",value:function(e){this.connectCallbacks.forEach((function(t){return t(e)})),this.connectCallbacks=[]}},{key:"registerListeners",value:function(e){var t=this;this.socket&&(this.socket.on("connect",(function(){console.log("[ChatSocket] connected"),t.consumeConnectCallbacks(!0),t.connecting=!1,t.connected=!0})),this.socket.on("connect_failed",(function(){console.log("[ChatSocket] connect_failed")})),this.socket.on("connect_error",(function(){console.log("[ChatSocket] connect_error")})),this.socket.on("close",(function(){t.connecting=!1,t.connected=!1,console.log("[ChatSocket] close")})),this.socket.on("error",(function(){console.log("[ChatSocket]","Error.")})),this.socket.on("exception",(function(e){console.log("[ChatSocket] <----","Exception",JSON.stringify(e))})),this.socket.on("disconnect",(function(){t.connecting=!1,t.connected=!1,console.log("[ChatSocket] disconnected")})),this.socket.on("receiveMessage",(function(t){return e.onMessageReceived(t)})),this.socket.on("readMessage",(function(t){return e.onMessageRead(t)})),this.socket.on("isWriting",(function(t){return e.onWritingStateChange(t)})))}},{key:"emit",value:function(e,t){var n;console.log("[ChatSocket] ----\x3e '"+e+"' - payload: "+JSON.stringify(t)),null==(n=this.socket)||n.emit(e,t)}},{key:"sendWritingState",value:function(e,t){this.lastSentWritingState=t,this.emit("isWriting",{roomId:e.id,state:t})}},{key:"refreshWritingTimeout",value:function(e){var t=this;null!==this.writingTimeout&&(clearTimeout(this.writingTimeout),this.writingTimeout=null),this.writingTimeout=setTimeout((function(){t.sendWritingState(e,!1)}),1e3)}},{key:"connect",value:function(e,t,n){var r=this;console.log("Connecting to",Pt),n&&this.connectCallbacks.push(n),this.connecting||(this.connecting=!0,this.socket?this.socket.connect():(console.log("[ChatSocket] ----\x3e Authenticating - token =",e.accessToken),this.socket=wt()(Pt,{query:{authorization:e.accessToken},reconnectionDelay:2e3,reconnectionAttempts:3}),this.registerListeners(t)),setTimeout((function(){r.connected||(r.connecting=!1,r.consumeConnectCallbacks(!1))}),6500))}},{key:"joinRoom",value:function(e){this.emit("joinRoom",{roomId:e.id}),e.lastMessage&&this.readMessage(e.id,e.lastMessage._id,e.lastMessage.createdAt.toJSON())}},{key:"leaveRoom",value:function(e){this.emit("leaveRoom",{roomId:e.id})}},{key:"sendMessage",value:function(e,t,n){this.emit("sendMessage",{roomId:e,id:t,text:n})}},{key:"readMessage",value:function(e,t,n){this.emit("readMessage",{roomId:e,messageId:t,date:n})}},{key:"setWriting",value:function(e){this.refreshWritingTimeout(e),!1===this.lastSentWritingState&&this.sendWritingState(e,!0)}},{key:"disconnect",value:function(){this.socket&&this.socket.disconnect()}}]),e}());!function(e){e.FETCH_MATCH_ROOMS_BEGIN="MESSAGING/FETCH_MATCH_ROOMS_BEGIN",e.FETCH_MATCH_ROOMS_FAILURE="MESSAGING/FETCH_MATCH_ROOMS_FAILURE",e.FETCH_MATCH_ROOMS_SUCCESS="MESSAGING/FETCH_MATCH_ROOMS_SUCCESS",e.FETCH_MATCH_ROOMS_REFRESH="MESSAGING/FETCH_MATCH_ROOMS_REFRESH",e.CONNECT_TO_CHAT_BEGIN="MESSAGING/CONNECT_TO_CHAT_BEGIN",e.CONNECT_TO_CHAT_FAILURE="MESSAGING/CONNECT_TO_CHAT_FAILURE",e.CONNECT_TO_CHAT_SUCCESS="MESSAGING/CONNECT_TO_CHAT_SUCCESS",e.DISCONNECT_FROM_CHAT="MESSAGING/DISCONNECT_FROM_CHAT",e.JOIN_CHAT_ROOM_BEGIN="MESSAGING/JOIN_CHAT_ROOM_BEGIN",e.JOIN_CHAT_ROOM_FAILURE="MESSAGING/JOIN_CHAT_ROOM_FAILURE",e.JOIN_CHAT_ROOM_SUCCESS="MESSAGING/JOIN_CHAT_ROOM_SUCCESS",e.LEAVE_ROOM="MESSAGING/LEAVE_ROOM",e.SEND_MESSAGE_FAILURE="MESSAGING/SEND_MESSAGE_FAILURE",e.SEND_MESSAGE_SUCCESS="MESSAGING/SEND_MESSAGE_SUCCESS",e.RECEIVE_MESSAGE="MESSAGING/RECEIVE_MESSAGE",e.RECEIVE_WRITING_STATE="MESSAGING/RECEIVE_WRITING_STATE",e.READ_MESSAGE="MESSAGING/READ_MESSAGE",e.FETCH_EARLIER_MESSAGES_BEGIN="MESSAGING/FETCH_EARLIER_MESSAGES_BEGIN",e.FETCH_EARLIER_MESSAGES_FAILURE="MESSAGING/FETCH_EARLIER_MESSAGES_FAILURE",e.FETCH_EARLIER_MESSAGES_SUCCESS="MESSAGING/FETCH_EARLIER_MESSAGES_SUCCESS"}(bt||(bt={}));var xt=function(e,t){return{type:bt.FETCH_MATCH_ROOMS_SUCCESS,rooms:e,canFetchMore:t}},kt=function(e){return function(t,n){var r,a,o,i,c;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:r=n().messaging.socketState,a=r.connected,o=r.connecting,i=n().auth.token,c=function(){t({type:bt.CONNECT_TO_CHAT_FAILURE}),e&&e(!1)},a?e&&e(!0):o||(i?(t({type:bt.CONNECT_TO_CHAT_BEGIN}),Tt.connect(i,{onMessageReceived:function(e){var r=n().messaging.activeRoom;r&&e.roomId==r.id&&Tt.readMessage(r.id,e.id,e.updatedAt),t(Lt(e))},onMessageRead:function(e){return t(Mt(e))},onWritingStateChange:function(e){return t(Ft(e))}},(function(n){n?(t({type:bt.CONNECT_TO_CHAT_SUCCESS}),e&&e(!0)):c()}))):c());case 4:case"end":return s.stop()}}),null,null,null,Promise)}},jt=function(e){return{type:bt.JOIN_CHAT_ROOM_BEGIN,room:e}},It=function(e){return{type:bt.JOIN_CHAT_ROOM_SUCCESS,room:e}},Dt=function(e){return function(t,n){var r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:r=n().messaging,a=r.socketState.connected,r.activeRoom||!a?t({type:bt.JOIN_CHAT_ROOM_FAILURE}):(t(jt(e)),Tt.joinRoom(e),t(It(e)));case 2:case"end":return o.stop()}}),null,null,null,Promise)}},_t=function(e){return{type:bt.SEND_MESSAGE_SUCCESS,message:e}},At=function(e,t,n){return function(r,a){var o,i,c,l;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:o=a().messaging,i=o.socketState.connected,c=o.activeRoom,l=o.localChatUser,i&&c&&l?(r(_t({_id:e,createdAt:n,user:l,text:t,sent:!1})),Tt.sendMessage(c.id,e,t)):r({type:bt.SEND_MESSAGE_FAILURE});case 2:case"end":return s.stop()}}),null,null,null,Promise)}},Lt=function(e){return{type:bt.RECEIVE_MESSAGE,message:e}},Ft=function(e){return{type:bt.RECEIVE_WRITING_STATE,payload:e}},Mt=function(e){return{type:bt.READ_MESSAGE,payload:e}},Bt=function(e){return{type:bt.FETCH_EARLIER_MESSAGES_BEGIN,room:e}},Nt=function(e){return{type:bt.FETCH_EARLIER_MESSAGES_FAILURE,room:e}},Ut=function(e,t,n){return{type:bt.FETCH_EARLIER_MESSAGES_SUCCESS,room:e,messages:t,canFetchMore:n}},Ht=function(e){return function(t,n){var r,a,o;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.token,t.next=3,s.a.awrap(k("rooms/"+e,"GET",{},{},r,!0));case 3:if((a=t.sent).status!==j.OK){t.next=9;break}return o=a.data,t.abrupt("return",M(o));case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),null,null,null,Promise)}};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt={matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1},socketState:{connected:!1,connecting:!1},activeRoom:null,localChatUser:null};function Wt(e){return{_id:e.id,name:e.firstName+" "+e.lastName,avatar:e.avatarUrl||"",lastMessageSeenDate:null,lastMessageSeenId:null}}function qt(e,t,n){var r=e.activeRoom&&e.activeRoom.id==n.id?n:e.activeRoom;if(t){var a=e.matchRoomsOrdered.filter((function(e){return e!==n.id}));return Gt(Gt({},e),{},{matchRooms:Gt(Gt({},e.matchRooms),{},u()({},n.id,n)),matchRoomsOrdered:[n.id].concat(a),activeRoom:r})}return Gt(Gt({},e),{},{matchRooms:Gt(Gt({},e.matchRooms),{},u()({},n.id,n)),activeRoom:r})}var Kt,Yt=n(441);!function(e){e.Discover="discover",e.Collaborate="collaborate",e.Meet="meet"}(Kt||(Kt={}));var Jt,Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t&&e.allowChooseGender,r=t&&e.allowChooseProfileType;return{offerId:e.id,allowFemale:n,allowMale:n,allowOther:n,allowStudent:r,allowStaff:r}};!function(e){e.Declined="declined",e.Blocked="blocked",e.Matched="matched",e.Requested="requested"}(Jt||(Jt={}));var Xt=n(13),Zt=o.createRef();function $t(e,t){var n;null==(n=Zt.current)||n.navigate(e,t)}function en(e){return Z.a.t("screenTitles."+e)+Z.a.t("screenTitles.suffix")}function tn(e){return Z.a.t("screenTitles."+e)}var nn=Object(Ee.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.REGISTER_BEGIN:var n=t,r=n.email;return we(we({},e),{},{registerEmail:r});case G.REGISTER_SUCCESS:var a=t,o=a.user,i=o.verificationToken,c=o.onboarded;return we(we({},e),{},{verificationToken:i,onboarded:c});case G.VALIDATE_ACCOUNT_SUCCESS:var s=t,l=s.email;return we(we({},e),{},{validated:!0,validatedEmail:l});case G.VALIDATE_ACCOUNT_FAILURE:return we(we({},e),{},{validated:!1});case G.LOG_IN_SUCCESS:var f=t,p=f.token,d=f.user,h=d.onboarded,m=d.email,g=we({},e.onboarding);if(!h){var y=Oe(m);y&&(g.firstname=y.firstname,g.lastname=y.lastname)}return we(we({},e),{},{authenticated:!0,token:p,onboarded:h,onboarding:g});case G.LOG_OUT:return we(we({},e),{},{token:null,authenticated:!1,validated:!1,validatedEmail:null,onboarded:!1});case G.SET_ONBOARDING_VALUES:var b=t,v=b.values;return we(we({},e),{},{onboarding:we(we({},e.onboarding),v)});case G.SET_ONBOARDING_OFFER_VALUE:var E=t,S=E.id,O=E.value;return we(we({},e),{},{onboarding:we(we({},e.onboarding),{},{offerValues:we(we({},e.onboarding.offerValues),{},u()({},S,O))})});case N.PROFILE_CREATE_SUCCESS:return we(we({},e),{},{onboarded:!0,onboarding:{firstname:"",lastname:"",birthdate:null,gender:null,nationality:null,type:null,degree:null,staffRoles:{},languages:[],offerValues:{},interestIds:[],educationFields:[]}});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe.SET_THEME:var n=t,r=n.theme;return tt(tt({},e),{},{userSettings:tt(tt({},e.userSettings),{},{theme:r})});case Xe.TOGGLE_THEME:var a="light"==e.userSettings.theme?"dark":"light";return tt(tt({},e),{},{userSettings:tt(tt({},e.userSettings),{},{theme:a})});case Xe.SET_LOCALE:var o=t,i=o.locale;return tt(tt({},e),{},{localizedLanguageItems:nt(i),userSettings:tt(tt({},e.userSettings),{},{locale:i})});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.LOG_IN_SUCCESS:var n=t,r=n.user;return ot(ot({},e),{},{user:r});case N.PROFILE_SET_FIELDS_SUCCESS:if(e.user){var a=t,o=a.fields;return o.profileOffers&&(o.profileOffers=_(o.profileOffers)),ot(ot({},e),{},{user:ot(ot({},e.user),{},{profile:e.user.profile?ot(ot({},e.user.profile),o):void 0})})}return ot({},e);case N.PROFILE_CREATE_SUCCESS:var i=t,c=i.profile;return e.user?ot(ot({},e),{},{user:ot(ot({},e.user),{},{profile:c})}):e;case N.LOAD_PROFILE_OFFERS_SUCCESS:var s=t,l=s.offers,u=new Map(l.map((function(e){return[e.id,e.category]})));return ot(ot({},e),{},{offers:l,offerIdToCategory:u});case N.LOAD_PROFILE_INTERESTS_SUCCESS:var f=t,p=f.interests;return p.sort((function(e,t){return e.id>t.id?1:-1})),ot(ot({},e),{},{interests:p});case N.FETCH_USER_SUCCESS:var d=t,h=d.user;return ot(ot({},e),{},{user:h});case N.SET_AVATAR_SUCCESS:var m=t,g=m.avatarUrl;return null===e.user?ot({},e):ot(ot({},e),{},{user:ot(ot({},e.user),{},{profile:e.user.profile?ot(ot({},e.user.profile),{},{avatarUrl:g}):void 0})});case G.LOG_OUT:return ot(ot({},e),{},{user:null});default:return e}},matching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it.SET_OFFER_FILTER:var n=t,r=n.offerId,a=n.value;return yt(yt({},e),{},{filters:yt(yt({},e.filters),{},{offers:yt(yt({},e.filters.offers),{},u()({},r,a))})});case it.SET_FILTERS:var o=t,i=o.filters;return yt(yt({},e),{},{filters:yt(yt({},e.filters),i)});case it.FETCH_PROFILES_BEGIN:return yt(yt({},e),{},{profilesPagination:yt(yt({},e.profilesPagination),{},{fetching:!0})});case it.FETCH_PROFILES_FAILURE:return yt(yt({},e),{},{profilesPagination:yt(yt({},e.profilesPagination),{},{fetching:!1,canFetchMore:!1})});case it.FETCH_PROFILES_SUCCESS:var c=t,s=c.profiles,l=c.canFetchMore,f=e.profilesPagination;return yt(yt({},e),{},{fetchedProfiles:e.fetchedProfiles.concat(s),profilesPagination:yt(yt({},f),{},{fetching:!1,page:f.page+1,canFetchMore:l})});case it.FETCH_PROFILES_REFRESH:return yt(yt({},e),{},{fetchedProfiles:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1}});case it.FETCH_MY_MATCHES_BEGIN:return yt(yt({},e),{},{fetchingMyMatches:!0});case it.FETCH_MY_MATCHES_FAILURE:return yt(yt({},e),{},{fetchingMyMatches:!1});case it.FETCH_MY_MATCHES_SUCCESS:var p=t,d=p.profiles;return yt(yt({},e),{},{myMatches:d,fetchingMyMatches:!1});case it.LIKE_PROFILE_SUCCESS:var h=t,m=h.profileId;return yt(yt({},e),{},{fetchedProfiles:e.fetchedProfiles.filter((function(e){return e.id!=m}))});case it.DISLIKE_PROFILE_SUCCESS:var g=t,y=g.profileId;return yt(yt({},e),{},{fetchedProfiles:e.fetchedProfiles.filter((function(e){return e.id!=y}))});case it.BLOCK_PROFILE_SUCCESS:var b=t,v=b.profileId;return yt(yt({},e),{},{fetchedProfiles:e.fetchedProfiles.filter((function(e){return e.id!=v}))});case G.LOG_OUT:return yt(yt({},e),{},{filters:{offers:{},universities:[],degrees:[],languages:[],types:[]},fetchedProfiles:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1},myMatches:[],fetchingMyMatches:!1});default:return e}},messaging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.LOG_IN_SUCCESS:var n=t,r=n.user;return r.profile?Gt(Gt({},e),{},{localChatUser:Wt(r.profile)}):Gt({},e);case N.FETCH_USER_SUCCESS:var a=t,o=a.user;return o.profile?Gt(Gt({},e),{},{localChatUser:Wt(o.profile)}):Gt({},e);case N.PROFILE_CREATE_SUCCESS:var i=t,c=i.profile;return Gt(Gt({},e),{},{localChatUser:Wt(c)});case bt.FETCH_MATCH_ROOMS_BEGIN:return Gt(Gt({},e),{},{matchRoomsPagination:Gt(Gt({},e.matchRoomsPagination),{},{fetching:!0})});case bt.FETCH_MATCH_ROOMS_FAILURE:return Gt(Gt({},e),{},{matchRoomsPagination:Gt(Gt({},e.matchRoomsPagination),{},{fetching:!1,canFetchMore:!1})});case bt.FETCH_MATCH_ROOMS_SUCCESS:var s=t,l=s.rooms,f=s.canFetchMore,p=e.matchRoomsPagination,d=Gt({},e.matchRooms);return l.forEach((function(e){return d[e.id]=e})),Gt(Gt({},e),{},{matchRooms:d,matchRoomsOrdered:e.matchRoomsOrdered.concat(l.map((function(e){return e.id}))),matchRoomsPagination:Gt(Gt({},p),{},{fetching:!1,page:p.page+1,canFetchMore:f})});case bt.FETCH_MATCH_ROOMS_REFRESH:return Gt(Gt({},e),{},{matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1}});case bt.CONNECT_TO_CHAT_BEGIN:return Gt(Gt({},e),{},{socketState:{connected:!1,connecting:!0}});case bt.CONNECT_TO_CHAT_FAILURE:return Gt(Gt({},e),{},{socketState:{connected:!1,connecting:!1}});case bt.CONNECT_TO_CHAT_SUCCESS:return Gt(Gt({},e),{},{socketState:{connected:!0,connecting:!1}});case bt.DISCONNECT_FROM_CHAT:return Gt(Gt({},e),{},{socketState:{connected:!1,connecting:!1}});case bt.JOIN_CHAT_ROOM_SUCCESS:var h=t,m=h.room;return Gt(Gt({},e),{},{activeRoom:m});case bt.LEAVE_ROOM:return Gt(Gt({},e),{},{activeRoom:null});case bt.SEND_MESSAGE_SUCCESS:var g=t,y=g.message;return e.activeRoom?qt(e,!0,Gt(Gt({},e.activeRoom),{},{messages:[y].concat(e.activeRoom.messages),lastMessage:y})):e;case bt.RECEIVE_MESSAGE:var b=t,v=b.message,E=e.matchRooms[v.roomId];if(E){var S=(E=Gt({},E)).messages.find((function(e){return e._id===v.id}));if(S){var O=Gt(Gt({},S),{},{sent:!0,text:v.text});E.messages=E.messages.map((function(e){return e._id===v.id?O:e})),(!E.lastMessage||O.createdAt>=E.lastMessage.createdAt)&&(E.lastMessage=O)}else{var C=E.users.find((function(e){return e._id==v.senderId}));if(C){var R=B(C,v);E.messages=[R].concat(E.messages),E.lastMessage=R,E.writing[v.senderId]=!1}}return qt(e,!0,E)}return e;case bt.RECEIVE_WRITING_STATE:var w=t.payload,P=w.profileId,T=w.roomId;if(e.localChatUser&&e.localChatUser._id===P)return e;var x=e.matchRooms[T];return x?qt(e,!1,Gt(Gt({},x),{},{writing:Gt(Gt({},x.writing),{},u()({},P,w.state))})):e;case bt.READ_MESSAGE:var k=t.payload,j=k.roomId,I=k.date,D=k.messageId,_=k.profileId,A=e.matchRooms[j];return A?qt(e,!1,Gt(Gt({},A),{},{users:A.users.map((function(e){return e._id==_?Gt(Gt({},e),{},{lastMessageSeenDate:new Date(I),lastMessageSeenId:D}):e}))})):e;case bt.FETCH_EARLIER_MESSAGES_BEGIN:var L=t,F=L.room;return qt(e,!1,Gt(Gt({},F),{},{messagePagination:Gt(Gt({},F.messagePagination),{},{fetching:!0})}));case bt.FETCH_EARLIER_MESSAGES_FAILURE:var M=t,U=M.room;return qt(e,!1,Gt(Gt({},U),{},{messagePagination:Gt(Gt({},U.messagePagination),{},{fetching:!1,canFetchMore:!1})}));case bt.FETCH_EARLIER_MESSAGES_SUCCESS:var H=t,V=H.room,z=H.messages,W=H.canFetchMore,q=V.messagePagination;return qt(e,!1,Gt(Gt({},V),{},{messages:V.messages.concat(z),messagePagination:Gt(Gt({},q),{},{fetching:!1,page:q.page+1,canFetchMore:W})}));case G.LOG_OUT:return Gt(Gt({},e),{},{activeRoom:null,matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1},localChatUser:null});default:return e}}}),rn=Object(Ee.a)(Yt.a,(function(){return function(e){return function(t){switch(t.type){case G.LOG_IN_SUCCESS:var n=t,r=n.token,a=n.user;n.usingCachedCredentials||function(e,t){var n={email:e,token:t};U.a.setItem("auth",JSON.stringify(n))}(a.email,r);break;case G.LOG_OUT:case G.LOG_IN_FAILURE:U.a.removeItem("auth")}e(t)}}}),(function(){return function(e){return function(t){switch(t.type){case N.LOAD_PROFILE_INTERESTS_SUCCESS:var n=t,r=n.interests;n.fromCache||(console.log("Updating the interests cache."),H("interests",r));break;case N.LOAD_PROFILE_OFFERS_SUCCESS:var a=t,o=a.offers;a.fromCache||(console.log("Updating the offers cache."),H("offers",o))}e(t)}}}),(function(){return function(e){return function(t){switch(console.log(t.type),t.type){case N.PROFILE_CREATE_SUCCESS:$t("OnboardingSuccessfulScreen");break;case G.LOG_IN_SUCCESS:$t(t.user.onboarded?"MainScreen":"OnboardingScreen");break;case G.LOG_OUT:$t("LoginScreen");break;case G.REGISTER_SUCCESS:$t("ValidationEmailSentScreen");break;case G.VALIDATE_ACCOUNT_SUCCESS:break;case G.FORGOT_PASSWORD_SUCCESS:$t("ForgotPasswordEmailSentScreen");break;case G.RESET_PASSWORD_SUCCESS:return void $t("ResetPasswordSuccessScreen");case it.LIKE_PROFILE_SUCCESS:var n=t,r=n.matchStatus,a=n.roomId;r==Jt.Matched&&$t("MatchSuccessScreen",{roomId:a})}e(t)}}})),an=Object(Ee.d)(nn,rn);function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=!1;var ln=n(10),un=n.n(ln),fn=n(434),pn=n(422),dn=n(169),hn=n(399),mn=n(172),gn=n(7),yn=n.n(gn),bn=n(8),vn=n.n(bn),En=n(2),Sn=n.n(En),On=n(4),Cn=n(11),Rn=n(19),wn=n(3),Pn={light:{id:"light",text:"#000",textWhite:"#fff",textBlack:"#000",textLight:"#666",textInverted:"#fff",background:"#fafafa",cardBackground:"#ffffff",accent:"#003da5",accentSlight:"#ccd8ea",accentSecondary:"#009ace",accentTernary:"#fbe122",tint:"#2f95dc",error:"#ff4a6a",actionNeutral:"#555555",okay:"#00b16a",warn:"#eecc00",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",componentBorder:"#eee",chatBubble:"#ededed"},dark:{id:"dark",text:"#fff",textWhite:"#fff",textBlack:"#000",textLight:"#ccc",textInverted:"#111",background:"#333",cardBackground:"#3d3d3d",accent:"#009ace",accentSlight:"#ccd8ea",accentSecondary:"#003da5",accentTernary:"#fbe122",tint:"#fff",error:"#f9819d",actionNeutral:"#777",okay:"#00b16a",warn:"#eecc00",tabIconDefault:"#ccc",tabIconSelected:"#fff",componentBorder:"#555",chatBubble:"#333"}};function Tn(e){var t={};return Object.values(Pn).forEach((function(n){return t[n.id]=e(n)})),function(e){return t[e.id]}}var xn=n(16);function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Dn=function(e){yn()(n,e);var t=In(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=_n(e);return o.createElement(wn.a,{style:t.wrapper},o.createElement(wn.a,{style:t.container},this.props.children))}}]),n}(o.Component),_n=Tn((function(e){return On.a.create({wrapper:{flex:1,backgroundColor:e.background,justifyContent:"center",flexDirection:"row"},container:jn({flex:1,alignItems:"center"},"web"===Xt.a.OS?{maxWidth:1e3}:{})})})),An=Object(xn.h)(Dn),Ln="android"==Xt.a.OS?{fontFamily:"sans-serif-thin"}:{fontWeight:"100"},Fn="android"==Xt.a.OS?{fontFamily:"sans-serif-light"}:{fontWeight:"200"},Mn="web"==Xt.a.OS?{fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", sans-serif'}:{};function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Hn=function(e){yn()(n,e);var t=Un(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.navigation,n=e.theme,r=Vn(n);return o.createElement(An,null,o.createElement(wn.a,{style:r.container},o.createElement(Cn.a,{style:r.title},Z.a.t("pageNotFound")),o.createElement(Cn.a,{style:r.subtitle},Z.a.t("pageDoesntExist")),o.createElement(Rn.a,{onPress:function(){return t.replace("LoginScreen")},style:r.link},o.createElement(Cn.a,{style:r.linkText},Z.a.t("goHome")))))}}]),n}(o.Component),Vn=Tn((function(e){return On.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",padding:20},title:Nn(Nn({fontSize:48},Fn),{},{textAlign:"center",color:e.text}),subtitle:{fontSize:20,marginTop:50,color:e.text},link:{paddingVertical:10},linkText:{fontSize:16,color:"#2e78b7"}})})),Gn=Object(xn.h)(Hn),zn=n(49),Wn=n(28);function qn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Kn=Object(Wn.b)((function(e){return{validated:e.auth.validated}})),Yn=function(e){yn()(n,e);var t=qn(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=an.getState().auth.verificationToken;if(O&&S==r.Staging&&t)e(pe(t));else if(this.props.route.params){var n=this.props.route.params.token;n&&e(pe(n))}}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.validated,r=Jn(t);return o.createElement(An,null,o.createElement(wn.a,{style:r.container},!n&&o.createElement(o.Fragment,null,o.createElement(Cn.a,{style:r.title},Z.a.t("emailValidation.validating")),o.createElement(zn.a,{size:"large",color:t.accentSecondary})),n&&o.createElement(o.Fragment,null,o.createElement(Cn.a,{style:r.successText},Z.a.t("emailValidation.success")[0],o.createElement(Cn.a,{onPress:function(){return function(e,t){var n=function(){return $t(t)};if("web"==Xt.a.OS){var r=E+"://"+e;window.location.replace(r),console.log("window.location.replace("+r+")"),setTimeout(n,5e3)}else n()}("login","TabSignin")},style:{color:t.accent}},Z.a.t("emailValidation.success")[1])))))}}]),n}(o.Component),Jn=Tn((function(e){return On.a.create({container:{flex:1,width:"75%",justifyContent:"center",alignItems:"center"},title:{fontSize:20,marginVertical:20,textAlign:"center",color:e.text},successText:{fontSize:18,lineHeight:40,textAlign:"center",color:e.text}})})),Qn=Kn(Object(xn.h)(Yn));function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Zn=Object(Wn.b)((function(e){return{registerEmail:e.auth.registerEmail}})),$n=function(e){yn()(n,e);var t=Xn(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.registerEmail,n=e.theme,r=er(n);return o.createElement(An,null,o.createElement(wn.a,{style:r.container},o.createElement(d.a,{name:"envelope-o",style:r.mailIcon}),o.createElement(Cn.a,{style:r.description},"To validate your account, click the link in the email we just sent to"),o.createElement(Cn.a,{style:r.email},t),O&&o.createElement(Rn.a,{onPress:function(){return $t("ValidateEmailScreen")}},o.createElement(Cn.a,{style:{marginVertical:30,textAlign:"center",fontSize:16,color:"blue"}},"debug: click here"))))}}]),n}(o.Component),er=Tn((function(e){return On.a.create({container:{flex:1,width:"75%",justifyContent:"center",alignItems:"center"},description:{fontSize:16,textAlign:"center",color:e.text},mailIcon:{marginVertical:30,fontSize:50,color:e.text},email:{fontSize:16,fontWeight:"bold",color:e.text,width:"100%",textAlign:"center"}})})),tr=Zn(Object(xn.h)($n)),nr={prefixes:[n(511).a("/"),C,E+"://"],config:{screens:{LoginScreen:{screens:{TabSignin:{screens:{LoginForm:"login",ForgotPassword:"forgot-password"}},TabSignup:"signup"}},ForgotPasswordEmailSentScreen:"password-email-sent",ValidationEmailSentScreen:"validation-sent",MainScreen:{screens:{TabHome:{screens:{TabHomeScreen:"home"}},TabMatching:{screens:{TabMatchingScreen:"match",MAtchFilteringScren:"match/filters"}},TabMessaging:{screens:{IndividualMessagingTab:"messaging",GroupMessagingTab:"messaging/group"}},TabNotifications:{screens:{TabNotificationsScreen:"notifications"}}}},ValidateEmailSentScreen:"validate/success",ValidateEmailScreen:"validate/:token",ResetPasswordScreen:"reset-password/:token",ResetPasswordSuccessScreen:"password-reset",MyProfileScreen:"profile",ProfileScreen:"profile/:id",SettingsScreen:"settings",DeleteAccountScreen:"delete-account",DeleteAccountSuccessScreen:"account-deleted",ChatScreen:"chat/:roomId",OnboardingScreen:{screens:{OnboardingNameScreen:"onboarding/name",OnboardingPersonalInfoScreen:"onboarding/info",OnboardingLanguageScreen:"onboarding/language",OnboardingInterestsScreen:"onboarding/interests",OnboardingRoleScreen:"onboarding/role/1",OnboardingRoleSpecificScreen:"onboarding/role/2",OnboardingOffersScreen1:"onboarding/offers/1",OnboardingOffersScreen2:"onboarding/offers/2",OnboardingOffersScreen3:"onboarding/offers/3",OnboardingTosScreen:"onboarding/tos",OnboardingPrivacyScreen:"onboarding/privacy"}},OnboardingSuccessfulScreen:"onboarding/success",MatchSuccessScreen:"match/success",NotFoundScreen:"*"}}},rr=n(733),ar=n(32),or=n(35),ir=n(21),cr=n(737);function sr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var lr=function(e){yn()(n,e);var t=sr(n);function n(){var e;St()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).height=new ir.c.Value(0),e}return Ct()(n,[{key:"getCollapsedHeight",value:function(){return 50+this.props.insets.top}},{key:"getFullHeight",value:function(){return.25*ar.a.get("window").height+this.props.insets.top}},{key:"componentDidMount",value:function(){var e=this;this.height.setValue(this.getFullHeight()),or.a.addListener("keyboardDidShow",(function(){ir.c.timing(e.height,{toValue:e.getCollapsedHeight(),duration:50,easing:ir.a.ease}).start()})),or.a.addListener("keyboardDidHide",(function(){ir.c.timing(e.height,{toValue:e.getFullHeight(),duration:0,easing:ir.a.ease}).start()}))}},{key:"onPress",value:function(e,t){var n=this.props.navigation,r=t==this.props.state.index,a=n.emit({type:"tabPress",target:e.key,canPreventDefault:!0});r||a.defaultPrevented||n.navigate(e.name)}},{key:"onLongPress",value:function(e){this.props.navigation.emit({type:"tabLongPress",target:e.key})}},{key:"render",value:function(){var e=this,t=this.props,n=t.state,r=t.descriptors,a=t.position,o=t.theme,c=ur(o);return i.a.createElement(ir.c.View,{style:[c.tabBarWrapper,{height:this.height}]},i.a.createElement(wn.a,{style:c.tabBar},n.routes.map((function(t,o){var s=r[t.key].options,l=Z.a.t(t.name.toLowerCase()),u=n.index===o,f=n.routes.map((function(e,t){return t})),p=ir.c.interpolate(a,{inputRange:f,outputRange:f.map((function(e){return e===o?.15:0}))});return i.a.createElement(wn.a,{key:o,style:c.tabButton},i.a.createElement(ir.c.View,{style:[c.tabButtonBg,{opacity:p}]}),i.a.createElement(Rn.a,{accessibilityRole:"button",accessibilityLabel:s.tabBarAccessibilityLabel,testID:s.tabBarTestID,onPress:function(){return e.onPress(t,o)},onLongPress:function(){return e.onLongPress(t)}},i.a.createElement(Cn.a,{style:[c.tabButtonText,u?c.tabButtonTextFocused:{}]},l)))}))))}}]),n}(i.a.Component),ur=Tn((function(e){return On.a.create({tabBarWrapper:{backgroundColor:e.accent,alignItems:"center",justifyContent:"flex-end",shadowColor:"#000",shadowOffset:{width:0,height:6},shadowOpacity:.37,shadowRadius:7.49,elevation:12},tabBar:{width:"100%",maxWidth:420,height:48,flexDirection:"row"},tabButton:{flex:1},tabButtonBg:{position:"absolute",width:"100%",height:"100%",backgroundColor:e.accentSecondary},tabButtonText:{fontSize:18,lineHeight:48,letterSpacing:1,textTransform:"capitalize",textAlign:"center",color:"white"},tabButtonTextFocused:{fontWeight:"bold"},waveImageStyle:{position:"absolute",bottom:0,padding:0,margin:0,maxWidth:"100%",width:"100%",height:200}})})),fr=Object(cr.e)(Object(xn.h)(lr)),pr=n(64),dr=n(15),hr=n.n(dr),mr=n(44);function gr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var yr=function(e){yn()(n,e);var t=gr(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.style,r=hr()(e,["theme","style"]),a=br(t);return o.createElement(Cn.a,un()({},r,{style:[a.text,n]}),this.props.children)}}]),n}(o.Component),br=Tn((function(e){return On.a.create({text:{color:e.textLight,textTransform:"uppercase",letterSpacing:1,fontSize:12}})})),vr=Object(xn.h)(yr);function Er(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Sr=function(e){yn()(n,e);var t=Er(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.style,r=e.error,a=hr()(e,["theme","style","error"]),i=Or(t),c=r?"string"===typeof r?r:r[0]:null;return o.createElement(Cn.a,un()({},a,{style:[i.text,n]}),c?$(c):"")}}]),n}(o.Component),Or=Tn((function(e){return On.a.create({text:{fontSize:12,marginTop:2,marginBottom:-12,color:e.error}})})),Cr=Object(xn.h)(Sr);function Rr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var wr=function(e){yn()(n,e);var t=Rr(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).inputRef=i.a.createRef(),r.state={focused:!1},r}return Ct()(n,[{key:"focus",value:function(){var e;null==(e=this.inputRef.current)||e.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.showErrorText,r=t.style,a=t.wrapperStyle,o=t.error,c=t.value,s=t.label,l=t.untouched,u=t.errorStyle,f=t.validStyle,p=t.focusedStyle,d=t.errorTextStyle,h=t.labelStyle,m=t.onBlur,g=t.onFocus,y=hr()(t,["showErrorText","style","wrapperStyle","error","value","label","untouched","errorStyle","validStyle","focusedStyle","errorTextStyle","labelStyle","onBlur","onFocus"]),b=n&&!l&&o;return i.a.createElement(wn.a,{style:[a,{width:"100%",flexDirection:"column",position:"relative",paddingBottom:b?0:6}]},s&&i.a.createElement(vr,{style:h},s),i.a.createElement(mr.a,un()({ref:this.inputRef,style:[r,this.state.focused?p:{},l?{}:o?u:c.length>0?f:{}],onBlur:function(t){m&&m(t),e.setState({focused:!1})},onFocus:function(t){g&&g(t),e.setState({focused:!0})},value:c},y)),b&&i.a.createElement(Cr,{style:d,error:o}))}}]),n}(i.a.Component);wr.defaultProps={untouched:!1,style:[],wrapperStyle:[],errorStyle:[],validStyle:[],focusedStyle:[],errorTextStyle:[],labelStyle:[]};var Pr=wr;function Tr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var xr={keyboardType:"email-address",autoCompleteType:"email",textContentType:"emailAddress",autoCapitalize:"none",autoCorrect:!1},kr={secureTextEntry:!0,autoCompleteType:"password",textContentType:"password",autoCapitalize:"none",autoCorrect:!1},jr=function(e){yn()(n,e);var t=Tr(n);function n(){var e;St()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputRef=i.a.createRef(),e}return Ct()(n,[{key:"focus",value:function(){var e;null==(e=this.inputRef.current)||e.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.field,r=t.touched,a=t.handleChange,o=t.handleBlur,c=t.error,s=t.onBlur,l=t.onChangeText,u=t.isEmail,f=t.isPassword,p=hr()(t,["field","touched","handleChange","handleBlur","error","onBlur","onChangeText","isEmail","isPassword"]);return i.a.createElement(Pr,un()({ref:this.inputRef,error:r?c:void 0,untouched:!r,onChangeText:function(e){l&&l(e),a(n)(e)},onBlur:function(t){s&&s(t),o(e.props.field)(t)}},u?xr:{},f?kr:{},p))}}]),n}(i.a.Component);jr.defaultProps={showErrorText:!0,handleChange:function(){},handleBlur:function(){}};var Ir=Tn((function(){return On.a.create({inputErrorText:{fontSize:12,marginTop:2,marginBottom:-12},inputRow:{flexDirection:"row",justifyContent:"center",width:"100%"},actionRow:{flexDirection:"row",justifyContent:"center",width:"100%",marginTop:25},buttonMajor:{justifyContent:"center",height:55,borderRadius:8,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},buttonMajorText:{color:"white",textAlign:"center",fontSize:16,letterSpacing:1,textTransform:"uppercase"}})}));function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="web"===Xt.a.OS?{outline:"none"}:null,r=On.a.create({textInputWrapper:{width:"100%",marginVertical:t},textInput:{width:"100%",height:60,paddingHorizontal:20,borderRadius:5,borderWidth:0,backgroundColor:e.accentSlight,color:e.textBlack},textInputError:{borderBottomWidth:2,borderBottomColor:e.error},textInputValid:{borderBottomWidth:2,borderBottomColor:e.okay},label:{marginBottom:4}});return{placeholderTextColor:"#222",wrapperStyle:r.textInputWrapper,style:r.textInput,errorStyle:r.textInputError,validStyle:r.textInputValid,labelStyle:r.label,focusedStyle:n}}var _r=Tn((function(e){return On.a.create({versionInfoContainer:{position:"absolute",flexDirection:"column",bottom:5,left:5},versionText:{color:e.textLight},versionDisclaimerContainer:{flexDirection:"row",alignItems:"center"},versionDisclaimerIcon:{color:e.error},debugContainer:{flexDirection:"row",alignItems:"center",marginVertical:10},debugTitle:{fontWeight:"bold",width:75,fontSize:16,color:e.textLight,letterSpacing:.8},debugButton:{padding:6},debugButtonText:{fontSize:16,color:e.error},toggleThemeContainer:{position:"absolute",bottom:0,right:0},toggleThemeButton:{width:48,height:48,justifyContent:"center",alignItems:"center"},toggleThemeIcon:{fontSize:26,color:e.textLight},erasmusLogo:{width:"100%",height:40,marginTop:40}})}));function Ar(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Lr=function(e){yn()(n,e);var t=Ar(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.theme,r=e.style,a=hr()(e,["error","theme","style"]),i=Fr(n);return o.createElement(o.Fragment,null,t&&t.length>0&&o.createElement(wn.a,un()({style:[i.wrapper,r]},a),o.createElement(Cn.a,{style:i.text},t?$(t):"")))}}]),n}(o.Component),Fr=Tn((function(e){return On.a.create({wrapper:{marginTop:5},text:{fontSize:14,color:e.error,textAlign:"center"}})})),Mr=Object(xn.h)(Lr);function Br(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Nr=function(e){yn()(n,e);var t=Br(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.submitting,n=e.onPress,r=e.text,a=e.icon,i=e.style,c=e.textStyle,s=e.loadingIndicatorStyle,l=e.theme;return o.createElement(Rn.a,un()({accessibilityRole:"button",accessibilityLabel:r},{onPress:t?void 0:n},{style:[{flexDirection:"row",alignItems:"center"},i]}),t&&o.createElement(zn.a,{color:l.accentTernary,style:s}),!t&&o.createElement(o.Fragment,null,o.createElement(Cn.a,{style:c},r),a))}}]),n}(o.Component),Ur=Object(xn.h)(Nr),Hr=n(469);function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Wr=xe.c().shape({email:Be,password:Ne}),qr=Object(Wn.b)((function(e){return{validatedEmail:e.auth.validatedEmail}})),Kr=function(e){yn()(n,e);var t=zr(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).pwdInputRef=o.createRef(),r.setFieldValue=null,r.state={submitting:!1},r}return Ct()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.validatedEmail;this.setFieldValue&&t&&e.validatedEmail!=t&&this.setFieldValue("email",t)}},{key:"submit",value:function(e){var t=this;this.setState(Gr(Gr({},this.state),{},{submitting:!0})),this.props.dispatch(ue(e.email,e.password)).then((function(n){var r=n.success,a=n.errors;if(r&&t.props.onSuccessfulSubmit&&t.props.onSuccessfulSubmit(e),a&&a.fields){var o=a.fields;Object.keys(o).forEach((function(e){return t.setFieldError&&t.setFieldError(e,$(o[e]))}))}t.setState({remoteErrors:a,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.navigation,a=this.state,i=a.remoteErrors,c=a.submitting,s=Yr(n),l=Ir(n);return o.createElement(pr.a,{initialValues:{email:"",password:""},validationSchema:Wr,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var a=t.handleSubmit,u=t.values,f=t.errors,p=t.touched,d=t.handleChange,h=t.handleBlur,m=t.setFieldValue,g=t.setFieldError,y=Gr({handleChange:d,handleBlur:h},Dr(n,15));return e.setFieldValue=m,e.setFieldError=g,o.createElement(o.Fragment,null,o.createElement(jr,un()({field:"email",placeholder:Z.a.t("emailAddress"),accessibilityLabel:Z.a.t("emailAddress"),error:f.email,value:u.email,touched:p.email,isEmail:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdInputRef.current)?void 0:t.focus()}},y)),o.createElement(jr,un()({ref:e.pwdInputRef,field:"password",placeholder:Z.a.t("password"),accessibilityLabel:Z.a.t("password"),error:f.password,value:u.password,touched:p.password,isPassword:!0,returnKeyType:"done"},y)),o.createElement(Mr,{error:ne(i)}),o.createElement(wn.a,{style:l.actionRow},o.createElement(Ur,{onPress:function(){return a()},style:[l.buttonMajor,s.loginButton],textStyle:l.buttonMajorText,text:Z.a.t("login"),icon:o.createElement(Hr.a,{name:"login",style:s.loginButtonIcon}),submitting:c})),o.createElement(Rn.a,{accessibilityRole:"link",accessibilityLabel:Z.a.t("forgotPassword"),onPress:function(){return r.navigate("ForgotPassword")},style:s.forgotPwdLink},o.createElement(Cn.a,{style:s.forgotPasswordText},Z.a.t("forgotPassword"))))}))}}]),n}(o.Component),Yr=Tn((function(e){return On.a.create({loginButton:{width:"60%",backgroundColor:e.accent},loginButtonIcon:{color:e.textWhite,fontSize:20,marginLeft:5},forgotPwdLink:{height:48,justifyContent:"center",marginTop:20,padding:8},forgotPasswordText:{fontSize:14,letterSpacing:.5,color:e.textLight,textAlign:"center"}})})),Jr=qr(Object(xn.h)(Kr));function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var $r=xe.c().shape({email:Be}),ea=function(e){yn()(n,e);var t=Zr(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={submitting:!1},r}return Ct()(n,[{key:"submit",value:function(e){var t=this,n=e.email;this.setState(Xr(Xr({},this.state),{},{submitting:!0})),an.dispatch(function(e){return function(t){var n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(k("auth/password/forgot","POST",{},{email:e}));case 2:if((n=r.sent).status!=j.OK){r.next=8;break}return t(me(e)),r.abrupt("return",{success:!0});case 8:return t(ge()),r.abrupt("return",{success:!1,errors:te(n)});case 10:case"end":return r.stop()}}),null,null,null,Promise)}}(n)).then((function(e){var n=e.errors;if(n&&n.fields){var r=n.fields;Object.keys(r).forEach((function(e){return t.setFieldError&&t.setFieldError(e,$(r[e]))}))}t.setState({remoteErrors:n,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.navigation,a=this.state,i=a.remoteErrors,c=a.submitting,s=ta(n),l=Ir(n);return o.createElement(o.Fragment,null,o.createElement(wn.a,{style:s.titleWrapper},o.createElement(Cn.a,{style:s.title},Z.a.t("newPassword")),o.createElement(Cn.a,{style:s.description},Z.a.t("forgotPasswordExplanation"))),o.createElement(pr.a,{initialValues:{email:""},validationSchema:$r,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var a=t.handleSubmit,u=t.values,f=t.errors,p=t.touched,d=t.handleChange,h=t.handleBlur,m=t.setFieldError,g=Xr({handleChange:d,handleBlur:h},Dr(n));return e.setFieldError=m,o.createElement(o.Fragment,null,o.createElement(jr,un()({field:"email",placeholder:Z.a.t("emailAddress"),error:f.email,value:u.email,touched:p.email,isEmail:!0},g)),o.createElement(Mr,{error:ne(i)}),o.createElement(wn.a,{style:l.actionRow},o.createElement(Rn.a,{accessibilityRole:"button",accessibilityLabel:Z.a.t("cancel"),onPress:function(){return r.goBack()},style:[l.buttonMajor,s.buttonCancel]},o.createElement(Cn.a,{style:l.buttonMajorText},Z.a.t("cancel"))),o.createElement(Ur,{onPress:function(){return a()},style:[l.buttonMajor,s.buttonSend],textStyle:l.buttonMajorText,text:Z.a.t("send"),submitting:c})))})))}}]),n}(o.Component),ta=Tn((function(e){return On.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},description:{textAlign:"justify",fontSize:16,marginTop:10,color:e.textLight},buttonSend:{flex:1,backgroundColor:e.accent,marginLeft:6},buttonCancel:{flex:1,backgroundColor:e.actionNeutral,marginRight:6}})})),na=Object(xn.h)(ea),ra=n(466),aa=n(33);var oa=function(){return o.createElement(o.Fragment,null)},ia={},ca=null,sa=null;function la(e,t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="logos.erasmusLeft"===e.t0?3:4;break;case 3:return e.abrupt("return",n.e(8).then(n.t.bind(null,745,7)));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}function ua(e,t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="logos.erasmusLeft"===e.t0?3:4;break;case 3:return e.abrupt("return",n.e(9).then(n.t.bind(null,746,7)));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}function fa(e,t){var r=an.getState().settings.userSettings;if(ca==r.locale&&sa==r.theme||(ia={}),ca=r.locale,sa=r.theme,ia[e])return ia[e];var a=function(n){ia[e]=n.default,t()};return("en"===ca?la:ua)(sa,e).then((function(t){null===t?function(e,t){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=t,r.next="offers.categories.discover"===r.t0?3:"offers.categories.meet"===r.t0?4:"offers.categories.collaborate"===r.t0?5:"logos.junior-atlantique"===r.t0?6:"logos.sea-eu-around.small"===r.t0?7:8;break;case 3:return r.abrupt("return",n.e(4).then(n.bind(null,738)));case 4:return r.abrupt("return",n.e(5).then(n.bind(null,739)));case 5:return r.abrupt("return",n.e(3).then(n.bind(null,740)));case 6:return r.abrupt("return","light"===e?n.e(7).then(n.t.bind(null,741,7)):n.e(6).then(n.t.bind(null,742,7)));case 7:return r.abrupt("return",n.e(10).then(n.t.bind(null,743,7)));case 8:return r.abrupt("return",n.e(11).then(n.t.bind(null,744,7)));case 9:case"end":return r.stop()}}),null,null,null,Promise)}(sa,e).then((function(e){return a(e)})):a(t)})),0}function pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var da=function(e){yn()(n,e);var t=pa(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.imageKey,r=hr()(t,["imageKey"]),a=fa(n,(function(){return e.forceUpdate()}));return a?o.createElement(aa.a,un()({source:a},r)):o.createElement(o.Fragment,null)}}]),n}(o.Component),ha=n(34),ma=n(93);function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ba(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var va=function(e){yn()(n,e);var t=ba(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).keyboardShown=!1,r.state={height:0},r}return Ct()(n,[{key:"componentDidMount",value:function(){var e=this;or.a.addListener("keyboardDidShow",(function(){e.keyboardShown=!0})),or.a.addListener("keyboardDidHide",(function(){return e.keyboardShown=!1}))}},{key:"render",value:function(){var e=this,t=this.state.height;return o.createElement(ha.a,{keyboardShouldPersistTaps:"always",style:{flex:1,width:"100%"},contentContainerStyle:{justifyContent:"center",alignItems:"center",minHeight:t},onLayout:function(t){e.keyboardShown||e.setState(ya(ya({},e.state),{},{height:t.nativeEvent.layout.height}))}},o.createElement(ma.a,{behavior:"padding",style:{flex:1,width:"75%",maxWidth:300,justifyContent:"center",alignItems:"center"}},this.props.children))}}]),n}(o.Component),Ea=Object(xn.h)(va);function Sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Oa=function(e){yn()(n,e);var t=Sa(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.navigation,r=_r(t);return o.createElement(An,null,o.createElement(Ea,null,o.createElement(Jr,{navigation:n}),o.createElement(da,{resizeMode:"contain",style:r.erasmusLogo,imageKey:"logos.erasmusLeft"}),O&&o.createElement(wn.a,{style:r.debugContainer},o.createElement(Cn.a,{style:r.debugTitle},"[DEBUG]"),o.createElement(Rn.a,{style:r.debugButton,onPress:function(){return $t("MainScreen")}},o.createElement(Cn.a,{style:r.debugButtonText},"access")),o.createElement(Cn.a,{style:r.debugButtonText}," | "),o.createElement(Rn.a,{style:r.debugButton,onPress:function(){an.dispatch((function(e,t){var n,r,a,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=Math.round(1e3*Math.random()),r="test"+n+".test@univ-brest.fr",a="PASSword$1",i.next=5,s.a.awrap(e(oe(r,a)));case 5:if(!(o=t().auth.verificationToken)){i.next=13;break}return i.next=9,s.a.awrap(e(pe(o)));case 9:return i.next=11,s.a.awrap(e(ue(r,a)));case 11:return i.next=13,s.a.awrap(e(q({type:"staff",birthdate:"2002-11-12T07:21:22.110Z",firstName:"Kevin"+n,lastName:"Test",gender:"male",languages:[{code:"fr",level:"native"},{code:"en",level:"c1"}],nationality:"FR",interests:[{id:"baking"},{id:"art"},{id:"brunch"}],profileOffers:[{offerId:"provide-a-couch",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!1,allowStudent:!0},{offerId:"grab-a-drink",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!1,allowStudent:!0},{offerId:"talk-a-bit",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!0,allowStudent:!0}],educationFields:[],staffRoles:[{id:"research"},{id:"teaching"}]})));case 13:case"end":return i.stop()}}),null,null,null,Promise)}))}},o.createElement(Cn.a,{style:r.debugButtonText},"register")),o.createElement(Cn.a,{style:r.debugButtonText}," | "),o.createElement(Rn.a,{style:r.debugButton,onPress:function(){return $t("OnboardingScreen")}},o.createElement(Cn.a,{style:r.debugButtonText},"on-boarding")))),o.createElement(wn.a,{style:r.versionInfoContainer},o.createElement(Cn.a,{style:r.versionText},o.createElement(Cn.a,{style:{fontWeight:"bold"}},"Version:"),o.createElement(Cn.a,null," ",v)),o.createElement(wn.a,{style:r.versionDisclaimerContainer},o.createElement(ra.a,{style:r.versionDisclaimerIcon,name:"warning",size:16}),o.createElement(Cn.a,{style:r.versionText}," This is an alpha version"))),o.createElement(wn.a,{style:r.toggleThemeContainer},o.createElement(Rn.a,{style:r.toggleThemeButton,onPress:function(){return an.dispatch($e())}},o.createElement(Hr.a,{style:r.toggleThemeIcon,name:"theme-light-dark",color:"black"}))))}}]),n}(o.Component),Ca=function(e){yn()(n,e);var t=Sa(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.navigation;return o.createElement(An,null,o.createElement(Ea,null,o.createElement(na,{navigation:e})))}}]),n}(o.Component),Ra=Object(xn.h)(Oa),wa=Object(xn.h)(Ca);function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ka=xe.c().shape({email:Le,password:Fe,passwordRepeat:Me}),ja=function(e){yn()(n,e);var t=xa(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).pwdField1Ref=o.createRef(),r.pwdField2Ref=o.createRef(),r.state={submitting:!1},r}return Ct()(n,[{key:"submit",value:function(e){var t=this;this.setState(Ta(Ta({},this.state),{},{submitting:!0})),an.dispatch(oe(e.email,e.password)).then((function(n){var r=n.success,a=n.errors;if(r&&t.props.onSuccessfulSubmit&&t.props.onSuccessfulSubmit(e),a&&a.fields){var o=a.fields;Object.keys(o).forEach((function(e){return t.setFieldError&&t.setFieldError(e,$(o[e]))}))}t.setState({remoteErrors:a,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state,r=n.remoteErrors,a=n.submitting,i=Ia(t),c=Ir(t);return o.createElement(o.Fragment,null,o.createElement(wn.a,{style:i.titleWrapper},o.createElement(Cn.a,{style:i.title},Z.a.t("signupWelcome"))),o.createElement(pr.a,{initialValues:{email:"",password:"",passwordRepeat:""},validationSchema:ka,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(n){var s=n.handleSubmit,l=n.values,u=n.errors,f=n.touched,p=n.handleChange,d=n.handleBlur,h=n.setFieldError,m=Ta({handleChange:p,handleBlur:d},Dr(t,15));return e.setFieldError=h,o.createElement(o.Fragment,null,o.createElement(jr,un()({field:"email",placeholder:Z.a.t("emailAddress"),accessibilityLabel:Z.a.t("emailAddress"),error:u.email,value:l.email,touched:f.email,isEmail:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdField1Ref.current)?void 0:t.focus()}},m)),o.createElement(jr,un()({ref:e.pwdField1Ref,field:"password",placeholder:Z.a.t("password"),accessibilityLabel:Z.a.t("password"),error:u.password,value:l.password,touched:f.password,isPassword:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdField2Ref.current)?void 0:t.focus()}},m)),o.createElement(mr.a,{style:{width:1,height:1}}),o.createElement(jr,un()({ref:e.pwdField2Ref,field:"passwordRepeat",placeholder:Z.a.t("passwordRepeat"),accessibilityLabel:Z.a.t("passwordRepeat"),error:u.passwordRepeat,value:l.passwordRepeat,touched:f.passwordRepeat,isPassword:!0,returnKeyType:"done"},m)),o.createElement(Mr,{error:ne(r)}),o.createElement(wn.a,{style:c.actionRow},o.createElement(Ur,{onPress:function(){return s()},style:[c.buttonMajor,i.createAccountButton],textStyle:c.buttonMajorText,text:Z.a.t("createAccount"),submitting:a})))})))}}]),n}(o.Component),Ia=Tn((function(e){return On.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},inlineInputs:{flex:1},inlineInputLeft:{marginRight:5},inlineInputRight:{marginLeft:5},createAccountButton:{width:"60%",backgroundColor:e.accent}})})),Da=Object(xn.h)(ja);function _a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Aa=function(e){yn()(n,e);var t=_a(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){return o.createElement(An,null,o.createElement(Ea,null,o.createElement(Da,null)))}}]),n}(o.Component),La=Object(xn.h)(Aa),Fa=Object(hn.a)(),Ma=Object(rr.a)(),Ba=function(){return o.createElement(Ma.Navigator,{tabBar:function(e){return o.createElement(fr,e)}},o.createElement(Ma.Screen,{name:"TabSignin"},(function(){return o.createElement(Fa.Navigator,null,o.createElement(Fa.Screen,{name:"LoginForm",component:Ra,options:{headerShown:!1,title:en("LoginForm")}}),o.createElement(Fa.Screen,{name:"ForgotPassword",component:wa,options:{headerShown:!1,title:en("ForgotPassword")}}))})),o.createElement(Ma.Screen,{name:"TabSignup",component:La,options:{title:en("TabSignup")}}))},Na=n(734),Ua=n(512);function Ha(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Va=Object(Wn.b)(),Ga=function(e){yn()(n,e);var t=Ha(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.theme,r=e.onLogOut,a=e.style,i=za(n);return o.createElement(Rn.a,{onPress:function(){t(fe()),r&&r()}},o.createElement(Cn.a,{style:[i.text,a]},Z.a.t("logOut")))}}]),n}(o.Component),za=Tn((function(e){return On.a.create({text:{fontSize:20,color:e.error}})})),Wa=Va(Object(xn.h)(Ga));function qa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ka=function(e){yn()(n,e);var t=qa(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=Ya(e);return o.createElement(An,null,o.createElement(wn.a,{style:t.container},o.createElement(Ua.a,{style:t.constructionIcon,name:"hard-hat"}),o.createElement(Cn.a,{style:t.title},"Under construction"),o.createElement(wn.a,{style:t.separator}),o.createElement(Wa,{style:t.logoutButton})))}}]),n}(o.Component),Ya=Tn((function(e){return On.a.create({container:{flex:1,width:"100%",alignItems:"center",justifyContent:"center"},title:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",color:e.text},constructionIcon:{color:"#eecc00",fontSize:40},separator:{marginVertical:30,height:1,width:"80%",backgroundColor:e.cardBackground},logoutButton:{marginVertical:20}})})),Ja=Object(xn.h)(Ka),Qa=n(135),Xa=n(18),Za=n(170),$a=n(52);function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ro=function(e){yn()(n,e);var t=no(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={modalVisible:e.visible||!1},r}return Ct()(n,[{key:"componentDidUpdate",value:function(e){e.visible&&!this.props.visible&&this.setModalVisible(!1),!e.visible&&this.props.visible&&this.setModalVisible(!0)}},{key:"setModalVisible",value:function(e){this.setState(to(to({},this.state),{},{modalVisible:e})),!e&&this.props.onHide&&this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.modalViewStyle,a=this.state.modalVisible;return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onClick:function(){return e.setModalVisible(!1)},style:{position:"fixed",width:"100%",height:"100%",left:0,top:0,backgroundColor:"rgba(0,0,0,0.05)",cursor:"pointer"}}),i.a.createElement("div",{style:to({position:"absolute",left:0,right:0,margin:"auto",width:"50%",maxWidth:300,borderRadius:3,padding:"20px 30px",alignItems:"center",boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.05)",backgroundColor:n.background},r)},this.props.renderContent((function(){return e.setModalVisible(!1)})))))}}]),n}(i.a.Component),ao=Object(xn.h)(ro);function oo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var io=function(e){yn()(n,e);var t=oo(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.profile,r=e.onBlock,a=hr()(e,["theme","profile","onBlock"]),o=co(t);return i.a.createElement(ao,un()({},a,{renderContent:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Cn.a,{style:o.text},Z.a.t("block.warning",{firstname:n.firstName,lastname:n.lastName})),i.a.createElement(wn.a,{style:o.actionButtonsWrapper},i.a.createElement($a.a,{style:[o.actionButton,o.actionButtonCancel],onPress:function(){return e()}},i.a.createElement(Cn.a,{style:o.actionText},Z.a.t("cancel"))),i.a.createElement($a.a,{style:[o.actionButton,o.actionButtonDecline],onPress:function(){e(),r&&r()}},i.a.createElement(Cn.a,{style:o.actionText},Z.a.t("block.action")))))}}))}}]),n}(i.a.Component),co=Tn((function(e){return On.a.create({actionButtonsWrapper:{width:"100%",flexDirection:"row",marginTop:20,justifyContent:"space-evenly"},actionButton:{width:110,maxWidth:"40%",borderRadius:3,paddingVertical:10,elevation:2},actionButtonCancel:{backgroundColor:e.accentSecondary},actionButtonDecline:{backgroundColor:e.error},actionText:{fontWeight:"bold",textAlign:"center",color:e.textWhite},text:{fontSize:16,textAlign:"justify",color:e.text}})})),so=Object(xn.h)(io),lo=n(147);function uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var fo=function(e){yn()(n,e);var t=uo(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.university,n=e.containerStyle,r=hr()(e,["university","containerStyle"]);return o.createElement(wn.a,{style:[{flexDirection:"row"},n]},t&&o.createElement(o.Fragment,null,o.createElement(lo.c,{countryCode:t.country,flagSize:18,withEmoji:!1}),o.createElement(Cn.a,un()({},r,{style:[{marginLeft:-5},r.style]}),Z.a.t("universities."+t.key))))}}]),n}(o.Component);function po(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ho=function(e){yn()(n,e);var t=po(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.profile,r=hr()(e,["children","profile"]),a=n?(n.firstName[0]+n.lastName[0]).toUpperCase():"",i=n&&n.avatarUrl?{uri:n.avatarUrl}:void 0;return o.createElement(xn.a,un()({},r,{source:r.source||i,title:r.title||a}),t)}}]),n}(o.Component);function mo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var go=function(e){yn()(n,e);var t=mo(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.label,r=e.removable,a=e.onRemove,i=e.containerStyle,c=e.chipStyle,s=e.textStyle;return o.createElement(xn.e,null,(function(e){var l=e.theme,u=bo(l);return o.createElement(wn.a,{style:[u.container,i]},t.map((function(e,t){return o.createElement(yo,{key:"chips-"+t+"-"+e,text:n?n(e):"string"===typeof e?e:JSON.stringify(e),removable:r,onRemove:function(){a&&a(e)},chipStyle:c,textStyle:s})})))}))}}]),n}(o.Component),yo=Object(xn.h)((function(e){var t=e.text,n=e.removable,r=e.onRemove,a=e.theme,i=e.chipStyle,c=e.textStyle,s=bo(a);return o.createElement(wn.a,{style:[s.chip,i]},o.createElement(Cn.a,{style:[s.chipText,c]},t),n&&o.createElement(Rn.a,{style:s.chipRemoveButton,onPress:function(){r&&r()}},o.createElement(ra.a,{name:"close",style:s.chipRemoveIcon})))})),bo=Tn((function(e){return On.a.create({container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},chip:{flexDirection:"row",alignItems:"center",backgroundColor:e.accentSlight,paddingVertical:4,paddingHorizontal:10,borderRadius:20,marginRight:4,marginBottom:4},chipText:{fontSize:14,color:e.textBlack},chipRemoveButton:{padding:2},chipRemoveIcon:{fontSize:22,color:e.textBlack}})})),vo=go;function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Co=function(e){yn()(n,e);var t=Oo(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={expanded:!1,height:new ir.c.Value(Ro),blockModalOpen:!1,animating:!1},r.layout={x:0,y:0,width:0,height:0},r}return Ct()(n,[{key:"expand",value:function(){var e=this;this.setState(So(So({},this.state),{},{animating:!0})),ir.c.timing(this.state.height,{toValue:wo,duration:200,easing:ir.a.elastic(1)}).start(),setTimeout((function(){return e.setState(So(So({},e.state),{},{animating:!1,expanded:!0}))}),200)}},{key:"collapse",value:function(){var e=this;this.setState(So(So({},this.state),{},{animating:!0,expanded:!1})),ir.c.timing(this.state.height,{toValue:Ro,duration:100,easing:ir.a.out(ir.a.linear)}).start(),setTimeout((function(){return e.setState(So(So({},e.state),{},{animating:!1}))}),100)}},{key:"hide",value:function(e){var t=this,n=this.state.expanded?160:120;this.setState(So(So({},this.state),{},{animating:!0,expanded:!1})),ir.c.timing(this.state.height,{toValue:0,duration:n,easing:ir.a.linear}).start(),setTimeout((function(){e&&e(),t.props.onHidden&&t.props.onHidden()}),n)}},{key:"toggleExpanded",value:function(){this.state.expanded?this.collapse():(this.expand(),this.props.onExpand&&this.props.onExpand(this.layout))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.profile,a=t.style,i=this.state,c=i.expanded,l=i.animating,u=i.height,f=i.blockModalOpen,p=Po(n),d=Se.find((function(e){return e.key==r.university})),h=r.firstName+" "+r.lastName,m={chipStyle:p.chip};return o.createElement(ir.c.View,{style:[p.wrapper,a,{height:u}],onLayout:function(t){e.layout=t.nativeEvent.layout}},o.createElement(Za.a,{containerStyle:p.swipeableContainer,childrenContainerStyle:p.swipeable,useNativeAnimations:"web"!==Xt.a.OS,friction:1,onSwipeableRightWillOpen:function(){e.hide(),e.props.onSwipeLeft&&e.props.onSwipeLeft()},onSwipeableLeftWillOpen:function(){e.hide(),e.props.onSwipeRight&&e.props.onSwipeRight()},leftThreshold:100,rightThreshold:100,renderRightActions:function(){return o.createElement(Xa.a.View,{style:[p.swipeAction,p.swipeActionRight]},o.createElement(wn.a,{style:[p.swipeActionContent,p.swipeActionContentRight]},o.createElement(Cn.a,{style:p.swipeActionText},Z.a.t("matching.actionHide"))))},renderLeftActions:function(){return o.createElement(wn.a,{style:[p.swipeAction,p.swipeActionLeft]},o.createElement(wn.a,{style:[p.swipeActionContent,p.swipeActionContentLeft]},o.createElement(Cn.a,{style:p.swipeActionText},Z.a.t("matching.actionLike"))))}},o.createElement(Rn.a,{onPress:function(){return e.toggleExpanded()},activeOpacity:.75,style:p.touchable},o.createElement(wn.a,{style:p.collapsedContent},o.createElement(wn.a,{style:p.avatarContainer},o.createElement(ho,{profile:r,size:120,rounded:!0,containerStyle:p.avatar})),o.createElement(wn.a,{style:p.infoContainer},o.createElement(Cn.a,{style:p.name},h),d&&o.createElement(fo,{style:p.infoText,university:d}),o.createElement(Cn.a,{style:p.infoText},Z.a.t("genders."+r.gender),", ",Z.a.t("allRoles."+r.type),"student"==r.type?" ("+Z.a.t("degrees."+r.degree)+")":""))),(c||l)&&o.createElement(wn.a,{style:p.expandedContent},o.createElement(Cn.a,{style:p.expandedSectionTitle},Z.a.t("spokenLanguages")),o.createElement(vo,un()({items:r.languages,label:function(e){return Z.a.t("languageNames."+e.code)+("native"!=e.level?" ("+e.level.toUpperCase()+")":"")}},m)),o.createElement(Cn.a,{style:p.expandedSectionTitle},Z.a.t("offers")),o.createElement(vo,un()({items:r.profileOffers,label:function(e){return Z.a.t("allOffers."+e.offerId+".name")}},m)),o.createElement(Rn.a,{style:p.blockButton,onPress:function(){return e.setState(So(So({},e.state),{},{blockModalOpen:!0}))}},o.createElement(ra.a,{style:p.blockButtonIcon,name:"block"})),o.createElement(so,{profile:r,visible:f,onHide:function(){return e.setState(So(So({},e.state),{},{blockModalOpen:!1}))},onBlock:function(){e.hide((function(){return an.dispatch((e=r.id,function(t,n){var r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().auth.token,a.next=3,s.a.awrap(k("matching/block","POST",{},{toProfileId:e},r,!0));case 3:a.sent.status===j.OK&&t(mt(e));case 5:case"end":return a.stop()}}),null,null,null,Promise)}));var e}))}})))))}}]),n}(o.Component),Ro=(Object(xn.h)((function(e){var t=e.theme;return o.createElement(wn.a,{style:Po(t).separator})})),180),wo=400,Po=Tn((function(e){return On.a.create({wrapper:{width:"100%",overflow:"hidden"},swipeableContainer:{width:"100%",paddingHorizontal:15,paddingVertical:10},swipeable:{width:"100%",borderRadius:10,elevation:1,padding:10,overflow:"hidden",backgroundColor:e.cardBackground},touchable:{width:"100%",height:"100%",flexDirection:"column"},swipeAction:{width:"100%",marginHorizontal:15,marginVertical:10},swipeActionLeft:{paddingRight:30},swipeActionRight:{paddingLeft:30},swipeActionContent:{padding:20,borderRadius:10,justifyContent:"center",width:"100%",height:"100%"},swipeActionContentRight:{backgroundColor:e.accentTernary,alignItems:"flex-end"},swipeActionContentLeft:{backgroundColor:e.accentSlight},swipeActionText:So({fontSize:24,letterSpacing:2,textTransform:"uppercase"},Ln),separator:{height:1,width:"100%",backgroundColor:"#000",opacity:.1,alignSelf:"center",marginBottom:5},collapsedContent:{flexDirection:"row",height:Ro-20-20},avatarContainer:{justifyContent:"center"},avatar:{backgroundColor:e.accentSecondary},infoContainer:{flex:1,flexDirection:"column",justifyContent:"center",paddingLeft:10},name:{fontSize:22,letterSpacing:.8,marginBottom:5,flexShrink:1,color:e.text},infoText:{fontSize:16,letterSpacing:.5,color:e.textLight,flexShrink:1},expandedContent:{flex:1},chip:{paddingHorizontal:5,paddingVertical:2,flexGrow:1,justifyContent:"center"},expandedSectionTitle:So(So({},Fn),{},{fontSize:14,textTransform:"uppercase",letterSpacing:1,marginTop:5,color:e.text}),actionContainer:{flexDirection:"column",flex:1,justifyContent:"flex-end"},blockButton:{position:"absolute",bottom:0,right:0},blockButtonIcon:{fontSize:30,color:e.error}})})),To=Object(xn.h)(Co);function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Io=Object(Wn.b)((function(e){return{profiles:e.matching.fetchedProfiles,fetchingProfiles:e.matching.profilesPagination.fetching,justRefreshed:1==e.matching.profilesPagination.page}})),Do=function(e){yn()(n,e);var t=jo(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).scrollViewRef=o.createRef(),r.state={hiddenIds:{}},r}return Ct()(n,[{key:"fetchMore",value:function(){var e=this.props,t=e.fetchingProfiles,n=e.navigation,r=e.dispatch;!t&&n.isFocused()&&r((function(e,t){var n,r,a,o,i,c,l,u,f,p,d,h;return s.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(c=function(e){return 0==e.length?void 0:e},n=t(),r=n.auth.token,a=n.matching,o=a.filters,!(i=a.profilesPagination).fetching&&i.canFetchMore){m.next=4;break}return m.abrupt("return");case 4:return e({type:it.FETCH_PROFILES_BEGIN}),l=Object.keys(o.offers).filter((function(e){return!0===o.offers[e]})),u={universities:c(o.universities),spokenLanguages:c(o.languages),degrees:c(o.degrees),types:c(o.types),offers:c(l)},m.next=9,s.a.awrap(k("profiles","GET",lt({page:i.page,limit:8},u),{},r));case 9:(f=m.sent).status===j.OK?(d=(p=f).data.map(A),h=p.meta.currentPage<p.meta.totalPages,e(ft(d,h))):e(ut());case 11:case"end":return m.stop()}}),null,null,null,Promise)}))}},{key:"hideProfile",value:function(e){this.setState(ko(ko({},this.state),{},{hiddenIds:ko(ko({},this.state.hiddenIds),{},u()({},e.id,!0))}))}},{key:"componentDidMount",value:function(){0==this.props.profiles.length-Object.keys(this.state.hiddenIds).length&&this.fetchMore()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.navigation.isFocused()&&(this.props.profiles.filter((function(e){return!t.state.hiddenIds[e.id]})).length<8&&this.fetchMore(),!e.justRefreshed&&this.props.justRefreshed&&this.setState(ko(ko({},this.state),{},{hiddenIds:{}})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.profiles,r=t.theme,a=t.fetchingProfiles,i=t.dispatch,c=this.state.hiddenIds,l=_o(r),u=n.filter((function(e){return!c[e.id]})).map((function(t){return o.createElement(To,{key:t.id,profile:t,onExpand:function(t){var n=e.scrollViewRef.current;n&&n.scrollTo({y:t.y,animated:!0})},onSwipeRight:function(){return i((e=t.id,function(t,n){var r,a,o,i,c,l;return s.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=n().auth.token,u.next=3,s.a.awrap(k("matching/like","POST",{},{toProfileId:e},r,!0));case 3:(a=u.sent).status===j.OK&&(o=a.data,c=(i=o).status,l=i.roomId,t(dt(e,c,l)));case 5:case"end":return u.stop()}}),null,null,null,Promise)}));var e},onSwipeLeft:function(){return i((e=t.id,function(t,n){var r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().auth.token,a.next=3,s.a.awrap(k("matching/decline","POST",{},{toProfileId:e},r,!0));case 3:a.sent.status===j.OK&&t(ht(e));case 5:case"end":return a.stop()}}),null,null,null,Promise)}));var e},onHidden:function(){return e.hideProfile(t)}})}));return o.createElement(An,null,o.createElement(ha.a,{ref:this.scrollViewRef,style:l.scroller,refreshControl:o.createElement(Qa.a,{refreshing:a,onRefresh:function(){return an.dispatch(pt())}}),onScroll:function(t){var n=t.nativeEvent,r=n.layoutMeasurement,a=n.contentOffset;n.contentSize.height-a.y-r.height<50&&e.fetchMore()}},o.createElement(wn.a,{style:l.matchContainer},u,o.createElement(wn.a,{style:l.loadingIndicatorContainer},a&&n.length>0&&o.createElement(zn.a,{size:"large",color:r.accentSecondary})),!a&&0==u.length&&o.createElement(wn.a,{style:l.noResultsContainer},o.createElement(Cn.a,{style:l.noResultsText1},Z.a.t("matching.noResults")),o.createElement(Cn.a,{style:l.noResultsText2},Z.a.t("matching.noResultsAdvice"))))))}}]),n}(o.Component),_o=Tn((function(e){return On.a.create({topBar:{flexBasis:90,paddingTop:40,paddingHorizontal:20,width:"100%"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:20,height:1,width:"100%"},scroller:{width:"100%"},matchContainer:{flex:1,borderStyle:"solid",borderColor:"red",borderWidth:0},loadingIndicatorContainer:{marginVertical:10,height:50},filtersIcon:{paddingHorizontal:5,fontSize:26,color:e.textLight},headerContainer:{flexDirection:"row",paddingRight:10},noResultsContainer:{flex:1,alignItems:"center"},noResultsText1:{fontSize:20,letterSpacing:.75,color:e.text,marginVertical:5},noResultsText2:{fontSize:16,letterSpacing:.5,color:e.text}})})),Ao=Io(Object(xn.h)(Do)),Lo=n(92),Fo=n(501),Mo=Tn((function(e){return On.a.create({overlay:{width:"90%",maxHeight:"70%",overflow:"hidden",paddingHorizontal:0,paddingVertical:0},dropdownWrapper:{flex:1},dropdownStyle:{backgroundColor:"#fafafa"},dropdownItemStyle:{justifyContent:"flex-start"},dropdownActiveItemStyle:{},dropdownActiveLabelStyle:{color:e.accentSecondary},dropdownLabelStyle:{fontSize:16},okButton:{width:"100%",height:50,alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:e.accent},okButtonText:{fontSize:20,color:e.textWhite},openButton:{width:"100%",height:30,alignItems:"center",justifyContent:"center",paddingVertical:20,paddingHorizontal:20,borderWidth:1,borderStyle:"solid",borderRadius:2,backgroundColor:e.background,borderColor:e.componentBorder},openButtonText:{fontSize:14,color:e.text},chipContainer:{marginTop:10}})}));function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ho=Object(Wn.b)((function(e){return{locale:e.settings.userSettings.locale}})),Vo=function(e){yn()(n,e);var t=Uo(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).tempSelected=[],r.state={items:new Map,open:!1,dropdownWrapperHeight:0},r}return Ct()(n,[{key:"updateItems",value:function(){var e,t=this,n=this.props.locale;if(!this.state.items.has(n)||(null==(e=this.state.items.get(n))?void 0:e.length)!=this.props.values.length){var r=new Map(this.state.items);r.set(n,this.props.values.map((function(e){return{value:e,label:t.props.genLabel?Z.a.t(t.props.genLabel(e)):e}}))),this.setState(No(No({},this.state),{},{items:r}))}}},{key:"componentDidMount",value:function(){this.updateItems()}},{key:"componentDidUpdate",value:function(e){e.locale==this.props.locale&&e.values.length==this.props.values.length||this.updateItems()}},{key:"open",value:function(){this.tempSelected=this.props.selected||[],this.setState(No(No({},this.state),{},{open:!0}))}},{key:"close",value:function(){this.setState(No(No({},this.state),{},{open:!1})),this.apply()}},{key:"apply",value:function(){this.props.onChange&&this.props.onChange(this.tempSelected)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.locale,a=t.selected,i=(t.onChange,t.genLabel),c=t.placeholder,s=t.multipleText,l=t.searchablePlaceholder,u=t.showChips,f=t.single,p=hr()(t,["theme","locale","selected","onChange","genLabel","placeholder","multipleText","searchablePlaceholder","showChips","single"]),d=Mo(n),h=a||[],m=this.state.items.get(r)||[];return o.createElement(wn.a,p,o.createElement(wn.a,null,o.createElement(Rn.a,{onPress:function(){return e.open()},style:d.openButton},o.createElement(Cn.a,{style:d.openButtonText},Z.a.t("picker.callToAction").replace("%d",h.length.toString()))),u&&o.createElement(vo,{items:h,label:function(e){return i?Z.a.t(i(e)):e},containerStyle:d.chipContainer,removable:!0,onRemove:function(t){e.tempSelected=e.tempSelected.filter((function(e){return e!==t})),e.apply()}}),o.createElement(wn.a,null)),this.state.open&&o.createElement(xn.d,{overlayStyle:[d.overlay,{height:150+40*m.length}],isVisible:this.state.open,onRequestClose:function(){return e.close()},onBackdropPress:function(){return e.close()}},o.createElement(o.Fragment,null,o.createElement(wn.a,{style:d.dropdownWrapper,onLayout:function(t){e.setState(No(No({},e.state),{},{dropdownWrapperHeight:t.nativeEvent.layout.height}))}},o.createElement(Fo.a,{items:m,multiple:!f,searchable:!0,defaultValue:a,onChangeItem:function(t){e.tempSelected=t},placeholder:c,multipleText:s,searchablePlaceholder:l,scrollViewProps:{keyboardShouldPersistTaps:"handled"},isVisible:!0,showArrow:!1,dropDownMaxHeight:this.state.dropdownWrapperHeight-10,selectedLabelStyle:{display:"none"},style:d.dropdownStyle,itemStyle:d.dropdownItemStyle,activeItemStyle:d.dropdownActiveItemStyle,activeLabelStyle:d.dropdownActiveLabelStyle,labelStyle:d.dropdownLabelStyle})),o.createElement(wn.a,null,o.createElement(Rn.a,{onPress:function(){return e.close()},style:d.okButton},o.createElement(Cn.a,{style:d.okButtonText},"OK"))))))}}]),n}(o.Component);Vo.defaultProps={items:[],showSelected:!0,selected:[]};var Go=Ho(Object(xn.h)(Vo));function zo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Wo=[],qo=function(e){yn()(n,e);var t=zo(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"componentDidMount",value:function(){0==Wo.length&&(Wo=Se.map((function(e){return e.key})))}},{key:"render",value:function(){var e=this.props,t=e.universities,n=e.onChange,r=hr()(e,["universities","onChange"]);return o.createElement(Go,un()({values:Wo,genLabel:function(e){return"universities."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:Z.a.t("universitiesPicker.placeholder"),multipleText:Z.a.t("universitiesPicker.multiple"),searchablePlaceholder:Z.a.t("universitiesPicker.searchPlaceholder")},r))}}]),n}(o.Component);function Ko(e,t){return e?{containerStyle:{backgroundColor:"transparent",height:28,borderWidth:0,marginHorizontal:0,marginBottom:5,flexDirection:"row",justifyContent:"space-evenly"},innerBorderStyle:{width:0},buttonContainerStyle:{marginHorizontal:5,flex:0},buttonStyle:{paddingHorizontal:10},textStyle:{color:t.textLight,opacity:.5,fontSize:15,flexShrink:1},selectedButtonStyle:{backgroundColor:"transparent",borderColor:t.accent,borderBottomWidth:.5},selectedTextStyle:{color:t.text,opacity:1}}:{containerStyle:{height:35,marginLeft:0,marginRight:0,borderColor:t.componentBorder},innerBorderStyle:{color:t.componentBorder},buttonStyle:{backgroundColor:t.cardBackground},textStyle:{color:t.text},selectedButtonStyle:{backgroundColor:t.accent},disabledStyle:{backgroundColor:t.cardBackground},disabledSelectedStyle:{backgroundColor:t.background},disabledSelectedTextStyle:{fontWeight:"bold"}}}var Yo=Object(xn.h)((function(e){var t=ke.map((function(e){return Z.a.t("degrees."+e)})),n=e.theme,r=e.style,a=e.degrees,i=e.noButtonVariant,c=e.onSelect,s=hr()(e,["theme","style","degrees","noButtonVariant","onSelect"]),l=Ko(i||!1,n);return o.createElement(xn.b,un()({onPress:function(e){c&&c(("object"==typeof e?e:[e]).map((function(e){return ke[e]})))},selectMultiple:!0,selectedIndexes:a.map((function(e){return ke.indexOf(e)})),buttons:t},l,{containerStyle:[l.containerStyle,r],buttonContainerStyle:[l.buttonContainerStyle,{marginHorizontal:2}],buttonStyle:[l.buttonStyle,{paddingHorizontal:0}]},s))}));function Jo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Qo=Ze,Xo=function(e){yn()(n,e);var t=Jo(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.languages,n=e.onChange,r=e.multiple,a=hr()(e,["languages","onChange","multiple"]);return o.createElement(Go,un()({single:!r,values:Qo,genLabel:function(e){return"languageNames."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:Z.a.t("languagePicker.placeholderMultiple"),multipleText:Z.a.t("languagePicker.multiple"),searchablePlaceholder:Z.a.t("languagePicker.searchPlaceholder")},a))}}]),n}(o.Component);var Zo=Object(xn.h)((function(e){var t=e.theme,n=e.roles,r=e.noButtonVariant,a=e.onSelect,i=hr()(e,["theme","roles","noButtonVariant","onSelect"]),c=Ie.map((function(e){return Z.a.t("allRoles."+e)}));return o.createElement(xn.b,un()({onPress:function(e){a&&a(("object"==typeof e?e:[e]).map((function(e){return Ie[e]})))},selectMultiple:!0,selectedIndexes:n.map((function(e){return Ie.indexOf(e)})),buttons:c},Ko(r||!1,t),i))}));function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ti(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ni=function(e){yn()(n,e);var t=ti(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.containerStyle,r=t.category,a=t.theme,i=t.textStyle,c=t.iconProps,s=t.iconSize,l=ri(a),u="onboarding.offers"+(r[0].toUpperCase()+r.slice(1))+".title",f=function(e,t){var n=fa(e,t);return 0===n?oa:n}("offers.categories."+r,(function(){return e.forceUpdate()})),p=s||75;return o.createElement(wn.a,{style:[l.container,n]},o.createElement(f,un()({width:p,height:p},c)),o.createElement(wn.a,{style:l.textContainer},o.createElement(wn.a,{style:l.underline}),o.createElement(Cn.a,{style:[l.text,i]},Z.a.t(u))))}}]),n}(o.Component),ri=Tn((function(e){return On.a.create({container:{flexDirection:"row",alignItems:"center",marginLeft:-10},textContainer:{alignItems:"center"},text:ei({fontSize:24,fontFamily:"raleway",fontWeight:"bold",color:e.accent,paddingHorizontal:8,zIndex:2},"dark"===e.id?{textShadowColor:"rgba(0, 0, 0, 0.6)",textShadowOffset:{width:0,height:1},textShadowRadius:1}:{}),underline:{position:"absolute",bottom:2,width:"100%",height:12,backgroundColor:e.accentTernary,zIndex:1}})})),ai=Object(xn.h)(ni);function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ci(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var si=Object(Wn.b)((function(e){return{offers:e.profile.offers,filters:e.matching.filters}})),li=Object(xn.h)((function(e){var t=e.theme;return o.createElement(wn.a,{style:pi(t).separator})})),ui=o.createRef(),fi=function(e){yn()(n,e);var t=ci(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={localFilters:{offers:{},universities:[],degrees:[],languages:[],types:[]}},r.haveFiltersChanged=!1,r}return Ct()(n,[{key:"updateLocalOfferFilters",value:function(e,t){this.haveFiltersChanged=!0,this.setState(ii(ii({},this.state),{},{localFilters:ii(ii({},this.state.localFilters),{},{offers:ii(ii({},this.state.localFilters.offers),{},u()({},e,t))})}))}},{key:"updateLocalFilters",value:function(e){this.haveFiltersChanged=!0,this.setState(ii(ii({},this.state),{},{localFilters:ii(ii({},this.state.localFilters),e)}))}},{key:"resetLocalFilters",value:function(){this.updateLocalFilters({offers:{},universities:[],degrees:[],languages:[],types:[]})}},{key:"applyFilters",value:function(){var e;this.haveFiltersChanged&&this.props.dispatch((e=this.state.localFilters,{type:it.SET_FILTERS,filters:e}))}},{key:"componentDidMount",value:function(){this.updateLocalFilters(this.props.filters),this.haveFiltersChanged=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.offers,a=this.state.localFilters,i=pi(n),c=Object.values(Kt).map((function(t){return o.createElement(wn.a,{key:t,style:i.sectionContainer},o.createElement(li,null),o.createElement(ai,{category:t,iconSize:60}),r.filter((function(e){return e.category==t})).map((function(t){return o.createElement(wn.a,{key:t.id,style:i.entryContainer},o.createElement(Cn.a,{style:i.entryLabel},Z.a.t("allOffers."+t.id+".name")),o.createElement(Lo.a,{value:a.offers[t.id]||!1,onValueChange:function(n){return e.updateLocalOfferFilters(t.id,n)}}))})))}));return o.createElement(An,null,o.createElement(ha.a,{contentContainerStyle:i.scrollContainer},o.createElement(Rn.a,{style:i.resetButton,onPress:function(){return e.resetLocalFilters()}},o.createElement(Cn.a,{style:i.resetButtonText},Z.a.t("matching.filtering.buttonReset")),o.createElement(ra.a,{name:"refresh",style:i.resetButtonIcon})),o.createElement(wn.a,{style:i.sectionContainer},o.createElement(Cn.a,{style:i.sectionTitle},Z.a.t("matching.filtering.sectionGeneral")),o.createElement(wn.a,{style:i.entryContainer},o.createElement(Cn.a,{style:i.entryLabel},Z.a.t("university")),o.createElement(wn.a,{style:i.entryControls},o.createElement(qo,{universities:a.universities,showChips:!1,onChange:function(t){return e.updateLocalFilters({universities:t})}}),o.createElement(di,{onPress:function(){return e.updateLocalFilters({universities:[]})}}))),o.createElement(wn.a,{style:i.entryContainer},o.createElement(Cn.a,{style:i.entryLabel},Z.a.t("spokenLanguages")),o.createElement(wn.a,{style:i.entryControls},o.createElement(Xo,{multiple:!0,languages:a.languages,showChips:!1,onChange:function(t){return e.updateLocalFilters({languages:t})}}),o.createElement(di,{onPress:function(){return e.updateLocalFilters({languages:[]})}}))),o.createElement(wn.a,{style:i.twoLineEntryContainer},o.createElement(Cn.a,{style:i.entryLabel},Z.a.t("profileTypes")),o.createElement(Zo,{roles:a.types,onSelect:function(t){return e.updateLocalFilters({types:t})},noButtonVariant:!0})),-1!=a.types.indexOf("student")&&o.createElement(wn.a,{style:i.twoLineEntryContainer},o.createElement(Cn.a,{style:i.entryLabel},Z.a.t("levelOfStudy")),o.createElement(Yo,{degrees:a.degrees,onSelect:function(t){return e.updateLocalFilters({degrees:t})},style:{width:"100%"},noButtonVariant:!0}))),c))}}]),n}(o.Component),pi=Tn((function(e){return On.a.create({scrollContainer:{flexDirection:"column",padding:40},sectionContainer:{width:"100%"},sectionTitle:{fontSize:20,letterSpacing:1,marginBottom:5,color:e.text},entryContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},twoLineEntryContainer:{flexDirection:"column"},entryLabel:{fontSize:16,marginVertical:7,marginRight:10,color:e.textLight},entryControls:{flexDirection:"row",alignItems:"center",marginVertical:2},separator:{height:1,width:"100%",backgroundColor:"rgba(0, 0, 0, 0.1)",alignSelf:"center",marginVertical:15},resetButton:{width:"100%",maxWidth:200,paddingVertical:7,marginBottom:20,backgroundColor:e.accentSlight,flexDirection:"row",justifyContent:"center",alignItems:"center",alignSelf:"center",borderRadius:4,elevation:1},resetButtonText:{fontSize:14,textTransform:"uppercase",letterSpacing:1,color:e.textBlack},resetButtonIcon:{fontSize:16,color:e.textBlack,marginLeft:4}})})),di=Object(xn.h)((function(e){var t=e.theme,n=e.onPress;return o.createElement(Rn.a,{onPress:n},o.createElement(ra.a,{name:"close",style:{fontSize:28,color:t.text}}))})),hi=si(Object(xn.h)((function(e){return o.createElement(fi,un()({ref:ui},e))}))),mi=n(72);function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var vi=Object(Wn.b)((function(e){return{localChatUser:e.messaging.localChatUser}})),Ei=function(e){yn()(n,e);var t=bi(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={height:new ir.c.Value(Oi)},r.layout={x:0,y:0,width:0,height:0},r}return Ct()(n,[{key:"hide",value:function(e){var t=this;ir.c.timing(this.state.height,{toValue:0,duration:120,easing:ir.a.linear}).start(),setTimeout((function(){e&&e(),t.props.onHidden&&t.props.onHidden()}),120)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.room,a=t.style,i=t.onPress,c=t.localChatUser,s=this.state.height,l=Ri(n),u=r.users.find((function(e){return e._id===(null==c?void 0:c._id)})),f=r.users.filter((function(e){return e._id!==(null==c?void 0:c._id)}))[0],p=o.createElement(o.Fragment,null);if(r.lastMessage){var d=r.lastMessage.createdAt,h=u&&u.lastMessageSeenDate&&(u.lastMessageSeenDate>=d||u.lastMessageSeenId==r.lastMessage._id),m=function(e){return(e+"").padStart(2,"0")};p=o.createElement(o.Fragment,null,o.createElement(Cn.a,{style:[l.lastMessageText,h?{}:l.lastMessageTextNew],numberOfLines:1},r.lastMessage.user.name.split(" ")[0],": ",r.lastMessage.text),o.createElement(Cn.a,{style:l.lastMessageTime},m(d.getHours()),":",m(d.getMinutes())))}else p=o.createElement(Cn.a,{style:l.noMessageText,numberOfLines:1},2===r.users.length?"Say hi to "+f.name+"!":"Say hi");return o.createElement(ir.c.View,{style:[l.wrapper,a,{height:s}],onLayout:function(t){e.layout=t.nativeEvent.layout}},o.createElement(Za.a,{containerStyle:l.swipeableContainer,childrenContainerStyle:l.swipeable,onSwipeableRightWillOpen:function(){},rightThreshold:100,overshootRight:!1,renderRightActions:function(){return o.createElement(Xa.a.View,{style:l.swipeAction},o.createElement(wn.a,{style:l.swipeActionContent},o.createElement(Si,{icon:"notifications-off",color:"#ccc"}),o.createElement(Si,{icon:"report",color:n.warn}),o.createElement(Si,{icon:"close",color:n.error})))}},o.createElement(Rn.a,{onPress:function(){i&&i(),$t("ChatScreen",{roomId:r.id})},activeOpacity:.75,style:l.touchable},o.createElement(wn.a,{style:l.avatarContainer},o.createElement(mi.c,{avatarStyle:l.avatar,user:f})),o.createElement(wn.a,{style:l.infoContainer},o.createElement(Cn.a,{style:l.name},f.name),o.createElement(wn.a,{style:l.lastMessage},p)))))}}]),n}(o.Component),Si=Object(xn.h)((function(e){var t=e.icon,n=e.color,r=e.onPress,a=e.theme,i=Ri(a);return o.createElement(Rn.a,{onPress:r,style:[i.swipeActionButton,{backgroundColor:n}]},o.createElement(ra.a,{style:i.swipeActionButtonIcon,name:t}))})),Oi=75,Ci=Oi-10,Ri=Tn((function(e){return On.a.create({wrapper:{width:"100%",overflow:"hidden"},swipeableContainer:{width:"100%",paddingHorizontal:15,paddingVertical:5},swipeable:{width:"100%",borderRadius:4,elevation:1,padding:10,backgroundColor:e.cardBackground},touchable:{width:"100%",height:"100%",flexDirection:"row"},swipeAction:{width:3*Ci,marginLeft:-17,marginRight:15,marginVertical:5},swipeActionContent:{flexDirection:"row",borderTopRightRadius:4,borderBottomRightRadius:4,justifyContent:"center",width:"100%",height:"100%",backgroundColor:e.accentSecondary},swipeActionText:yi({fontSize:24,letterSpacing:2},Ln),swipeActionButton:{width:Ci,justifyContent:"center",alignItems:"center",flex:1},swipeActionButtonIcon:{color:e.textWhite,fontSize:22},avatarContainer:{justifyContent:"center"},avatar:{backgroundColor:e.accentSecondary,width:45,height:45,borderRadius:50},infoContainer:{flex:1,flexDirection:"column",justifyContent:"center",paddingLeft:10},name:{fontSize:18,letterSpacing:.5,color:e.text},lastMessage:{flexDirection:"row",justifyContent:"space-between",overflow:"hidden"},noMessageText:{color:e.textLight,fontSize:14,flex:1},lastMessageText:{color:e.text,fontSize:14,flex:1},lastMessageTextNew:{fontWeight:"bold"},lastMessageTime:{color:e.textLight,fontSize:14}})})),wi=vi(Object(xn.h)(Ei));function Pi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ti=Object(Wn.b)((function(e){return{rooms:e.messaging.matchRooms,roomIds:e.messaging.matchRoomsOrdered,fetchingRooms:e.messaging.matchRoomsPagination.fetching}})),xi=function(e){yn()(n,e);var t=Pi(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"fetchMore",value:function(){var e,t=this.props,n=t.fetchingRooms,r=t.dispatch;n||r((function(t,n){var r,a,o,i,c,l,u;return s.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(r=n(),a=r.auth.token,!(o=r.messaging.matchRoomsPagination).fetching&&o.canFetchMore){f.next=5;break}return f.abrupt("return");case 5:return t({type:bt.FETCH_MATCH_ROOMS_BEGIN}),f.next=8,s.a.awrap(k("rooms","GET",{page:o.page,limit:10,search:e},{},a,!0));case 8:(i=f.sent).status===j.OK?(l=(c=i).data.map(M),u=c.meta.currentPage<c.meta.totalPages,t(xt(l,u))):t({type:bt.FETCH_MATCH_ROOMS_FAILURE});case 10:case"end":return f.stop()}}),null,null,null,Promise)}))}},{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"onFocus",value:function(){this.props.roomIds.length<10&&this.fetchMore()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.roomIds;e.navigation.isFocused()&&t.length<10&&this.fetchMore()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rooms,a=t.roomIds,i=t.fetchingRooms,c=t.dispatch,s=ki(n);return o.createElement(An,null,o.createElement(ha.a,{style:s.scroll,contentContainerStyle:s.scrollContent,refreshControl:o.createElement(Qa.a,{refreshing:i,onRefresh:function(){return c({type:bt.FETCH_MATCH_ROOMS_REFRESH})}}),onScroll:function(t){var n=t.nativeEvent,r=n.layoutMeasurement,a=n.contentOffset;n.contentSize.height-a.y-r.height<50&&e.fetchMore()}},a.map((function(e){return o.createElement(wi,{key:e,room:r[e]})})),!i&&0==a.length&&o.createElement(wn.a,{style:s.noMatchesContainer},o.createElement(Cn.a,{style:s.noMatchesText},Z.a.t("messaging.noMatches")))))}}]),n}(o.Component),ki=Tn((function(e){return On.a.create({scroll:{width:"100%"},scrollContent:{paddingTop:20,paddingBottom:40},noMatchesContainer:{width:"80%",alignSelf:"center",marginVertical:40},noMatchesText:{color:e.text,letterSpacing:.5,fontSize:18,lineHeight:24,textAlign:"center"},searchBarContainer:{width:"90%",marginBottom:10},searchBarInputContainer:{height:45,backgroundColor:e.cardBackground,elevation:2}})})),ji=Ti(Object(xn.h)(xi));function Ii(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Di=Object(Wn.b)((function(){return{}})),_i=function(e){yn()(n,e);var t=Ii(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=Ai(e);return o.createElement(An,null,o.createElement(wn.a,{style:t.wrapper},o.createElement(Cn.a,{style:t.text},"Not implemented")))}}]),n}(o.Component),Ai=Tn((function(e){return On.a.create({wrapper:{flex:1,justifyContent:"center"},text:{color:e.text}})})),Li=Di(Object(xn.h)(_i)),Fi=Tn((function(e){return On.a.create({wrapper:{backgroundColor:e.background,paddingHorizontal:5,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2},wrapperNoShadow:{shadowColor:"transparent",elevation:0},container:{flexDirection:"row",alignItems:"center",height:60,paddingHorizontal:10},backButton:{width:40,height:40,marginRight:5,justifyContent:"center",alignItems:"center"},backButtonIcon:{fontSize:28},avatarContainer:{backgroundColor:e.accent,borderWidth:1,borderColor:e.componentBorder},avatarTitle:{color:e.textWhite},title:{flex:1,color:e.text,fontWeight:"normal",fontSize:20},rightButton:{paddingHorizontal:5,paddingVertical:5},rightIcon:{fontSize:26}})}));function Mi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Bi=Object(Wn.b)((function(e){return{user:e.profile.user}})),Ni=function(e){yn()(n,e);var t=Mi(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"back",value:function(){!function(e){var t=Zt.current;t&&(t.canGoBack()?t.goBack():e&&t.navigate(e))}("MainScreen")}},{key:"pressAvatar",value:function(){$t("MyProfileScreen")}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.backButton,a=t.rightButtons,i=t.wrapperStyle,c=t.color,s=t.noShadow,l=t.noSettingsButton,u=t.noAvatar,f=t.user,p=t.insets,d=t.scene,h=Fi(n),m=tn(d.route.name),g=c||n.text;return o.createElement(wn.a,{style:[{paddingTop:p.top},h.wrapper,s?h.wrapperNoShadow:{},i]},o.createElement(wn.a,{style:h.container},r&&o.createElement(Rn.a,{style:h.backButton,onPress:function(){return e.back()}},o.createElement(ra.a,{style:[h.backButtonIcon,{color:g}],name:"arrow-back"})),!u&&o.createElement(ho,{profile:null==f?void 0:f.profile,rounded:!0,size:40,containerStyle:h.avatarContainer,titleStyle:h.avatarTitle,activeOpacity:.75,onPress:function(){return e.pressAvatar()}}),o.createElement(Cn.a,{style:[h.title,{marginLeft:12,color:g}],numberOfLines:1},m),null==a?void 0:a.map((function(e,t){return o.createElement(e,{key:"header-button-"+d.route.key+"-"+t,buttonStyle:h.rightButton,iconStyle:[h.rightIcon,{color:g}]})})),!l&&o.createElement(Rn.a,{style:h.rightButton,onPress:function(){return $t("SettingsScreen")}},o.createElement(ra.a,{name:"settings",style:h.rightIcon,color:g}))))}}]),n}(o.Component),Ui=Bi(Object(xn.h)(Ni));function Hi(e){return o.createElement(Ui,e)}var Vi=Object(hn.a)(),Gi=Object(rr.a)(),zi=function(e){return o.createElement(xn.e,null,(function(t){var n=t.theme,r=Fi(n);return o.createElement(Hi,un()({},e,{wrapperStyle:[r.wrapperNoShadow,{backgroundColor:n.cardBackground}]}))}))},Wi=function(){return o.createElement(Vi.Navigator,{screenOptions:{header:zi}},o.createElement(Vi.Screen,{name:"MessagingScreen"},(function(){return o.createElement(Gi.Navigator,{initialRouteName:"IndividualMessagingTab"},o.createElement(Gi.Screen,{name:"IndividualMessagingTab",options:{tabBarLabel:Z.a.t("messaging.tabIndividual"),title:en("IndividualMessagingTab")},component:ji}),o.createElement(Gi.Screen,{name:"GroupMessagingTab",options:{tabBarLabel:Z.a.t("messaging.tabGroup"),title:en("GroupMessagingTab")},component:Li}))})))};function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ji=function(e){yn()(n,e);var t=Yi(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=Qi(e);return o.createElement(An,null,o.createElement(wn.a,{style:t.container},o.createElement(d.a,{style:t.icon,name:"heart"}),o.createElement(Cn.a,{style:t.title},"Thank you for participating in the alpha program."),o.createElement(wn.a,{style:t.separator}),o.createElement(Cn.a,{style:[t.alphaText,{fontWeight:"bold"}]},"Found a bug or have some feedback for us or ideas for the app?"),o.createElement(Cn.a,{style:t.alphaText},"Get in touch with us on Slack and we would be happy to discuss it with you!"),o.createElement(Wa,{style:t.logoutButton})))}}]),n}(o.Component),Qi=Tn((function(e){return On.a.create({container:{flex:1,width:"100%",padding:50,alignItems:"center",justifyContent:"center"},title:Ki({width:"100%",textAlign:"center",fontSize:24,color:e.text},Fn),alphaText:{width:"100%",textAlign:"left",fontSize:16,color:e.text,marginVertical:10},icon:{color:e.accent,fontSize:48,paddingBottom:20},separator:{marginVertical:30,height:1,opacity:.1,width:"100%",backgroundColor:e.text},logoutButton:{marginTop:80}})})),Xi=Object(xn.h)(Ji);function Zi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var $i=function(e){yn()(n,e);var t=Zi(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=un()({},this.props);return o.createElement(Hi,un()({},e,{rightButtons:[function(t){var n=t.buttonStyle,r=t.iconStyle;return o.createElement(Rn.a,{style:n,onPress:function(){return e.navigation.navigate("MatchFilteringScreen")}},o.createElement(d.a,{name:"sliders",style:r}))}]}))}}]),n}(o.Component);function ec(e){return o.createElement($i,e)}function tc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var nc=function(e){yn()(n,e);var t=tc(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"back",value:function(){var e=this.props.navigation;e.canGoBack()&&e.goBack()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.insets,a=t.scene,i=t.navigation,c=rc(n),s=Fi(n),l=tn(a.route.name);return o.createElement(wn.a,{style:[{paddingTop:r.top},s.wrapper]},o.createElement(wn.a,{style:s.container},o.createElement(Rn.a,{style:{paddingVertical:10},onPress:function(){return e.back()}},o.createElement(ra.a,{name:"close",style:c.actionIcon})),o.createElement(Cn.a,{style:[s.title,{textAlign:"center"}],numberOfLines:1},l),o.createElement(Rn.a,{style:{paddingVertical:10},onPress:function(){ui.current&&ui.current.applyFilters(),i.navigate("TabMatchingScreen"),an.dispatch(pt())}},o.createElement(ra.a,{name:"check",style:c.actionIcon}))))}}]),n}(o.Component),rc=Tn((function(e){return On.a.create({actionIcon:{fontSize:32,color:e.text}})})),ac=Object(xn.h)(nc);function oc(e){return o.createElement(ac,e)}var ic=Object(Na.a)();function cc(e){var t=e.name,n=e.color;return o.createElement(ra.a,{size:26,name:t,color:n})}function sc(e){var t=e.text,n=e.color;return o.createElement(Cn.a,{style:{color:n,fontSize:12}},t)}var lc=Object(hn.a)(),uc=function(){return o.createElement(lc.Navigator,{screenOptions:{header:Hi}},o.createElement(lc.Screen,{name:"TabHomeScreen",component:Xi,options:{title:en("TabHomeScreen")}}))},fc=Object(hn.a)(),pc=function(){return o.createElement(fc.Navigator,null,o.createElement(fc.Screen,{name:"TabMatchingScreen",component:Ao,options:function(){return{headerShown:!0,title:en("TabMatchingScreen"),header:ec}}}),o.createElement(fc.Screen,{name:"MatchFilteringScreen",component:hi,options:{headerShown:!0,title:en("MatchFilteringScreen"),header:oc}}))},dc=Object(hn.a)(),hc=function(){return o.createElement(dc.Navigator,{screenOptions:{header:Hi}},o.createElement(dc.Screen,{name:"TabNotificationsScreen",component:Ja,options:{title:en("TabNotificationsScreen")}}))},mc=Object(xn.h)((function(e){var t=e.theme,n=Object(cr.d)().bottom;return o.createElement(ic.Navigator,{initialRouteName:"TabHome",tabBarOptions:{activeTintColor:t.tint,style:{height:55+n,paddingTop:5,paddingBottom:5},tabStyle:{flexDirection:"column",paddingBottom:n},iconStyle:{flex:1}}},o.createElement(ic.Screen,{name:"TabHome",component:uc,options:{tabBarLabel:function(e){return o.createElement(sc,un()({text:Z.a.t("tabs.home")},e))},tabBarIcon:function(e){return o.createElement(cc,un()({name:"home"},e))}}}),o.createElement(ic.Screen,{name:"TabMatching",component:pc,options:{tabBarLabel:function(e){return o.createElement(sc,un()({text:Z.a.t("tabs.matching")},e))},tabBarIcon:function(e){return o.createElement(cc,un()({name:"contacts"},e))}}}),o.createElement(ic.Screen,{name:"TabMessaging",component:Wi,options:{tabBarLabel:function(e){return o.createElement(sc,un()({text:Z.a.t("tabs.messaging")},e))},tabBarIcon:function(e){return o.createElement(cc,un()({name:"message"},e))}}}),o.createElement(ic.Screen,{name:"TabNotifications",component:hc,options:{tabBarLabel:function(e){return o.createElement(sc,un()({text:Z.a.t("tabs.notifications")},e))},tabBarIcon:function(e){return o.createElement(cc,un()({name:"notifications"},e))}}}))}));function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bc=Tn((function(e){return On.a.create({header:{marginBottom:20},slideScrollView:{width:"100%",marginBottom:80},slideContentWrapper:{width:"75%",flexDirection:"column",alignSelf:"center",paddingTop:150},slideNavWrapper:{width:"100%",flexDirection:"row",justifyContent:"space-around",alignItems:"center",position:"absolute",bottom:20},navButton:{padding:10},navButtonIcon:{fontSize:40,color:e.text},finishButtonText:{fontSize:20},title:yc(yc({},Ln),{},{fontSize:40,letterSpacing:1.75,marginBottom:20,color:e.text}),subtitle:{fontSize:18,textAlign:"justify",letterSpacing:.4,lineHeight:25,color:e.textLight}})})),vc=Tn((function(e){return On.a.create({actionsWrapper:{flexDirection:"row",justifyContent:"space-around"},actionButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:20},actionButtonTextDecline:{fontSize:16,paddingHorizontal:2,textTransform:"uppercase",letterSpacing:1,color:e.error},actionButtonTextAccept:{fontSize:16,paddingHorizontal:2,textTransform:"uppercase",letterSpacing:1,color:e.okay},readMoreText:{fontSize:16,lineHeight:20,textAlign:"justify",marginBottom:40,letterSpacing:.4,color:e.textLight}})})),Ec=Tn((function(){return On.a.create({categoryTitleText:{}})}));var Sc=Object(xn.h)((function(e){var t=Ae.map((function(e){return Z.a.t("genders."+e)})),n=e.theme,r=e.genders,a=e.noButtonVariant,i=e.onSelect,c=hr()(e,["theme","genders","noButtonVariant","onSelect"]);return o.createElement(xn.b,un()({onPress:function(e){i&&i(("object"==typeof e?e:[e]).map((function(e){return Ae[e]})))},selectMultiple:!0,selectedIndexes:r.map((function(e){return Ae.indexOf(e)})),buttons:t},Ko(a||!1,n),c))})),Oc=Tn((function(){return On.a.create({text:{textAlign:"justify",paddingVertical:10},container:{alignContent:"center",borderRadius:4,width:void 0,maxWidth:240,paddingHorizontal:10}})}));function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Pc=function(e){yn()(n,e);var t=wc(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={height:void 0},r}return Ct()(n,[{key:"render",value:function(){var e=this,t=this.state.height,n=this.props,r=n.theme,a=n.text,o=Oc(r);return i.a.createElement(xn.g,{popover:i.a.createElement(Cn.a,{style:o.text,onLayout:function(t){e.setState(Rc(Rc({},e.state),{},{height:t.nativeEvent.layout.height}))}},a),backgroundColor:r.accentSlight,containerStyle:o.container,height:t},this.props.children)}}]),n}(i.a.Component),Tc=Object(xn.h)(Pc);function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ic=function(e){yn()(n,e);var t=jc(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"offerValueChange",value:function(e){var t=this.props.onChange;t&&t(kc(kc({},this.props.value),e))}},{key:"setAllValues",value:function(e){this.offerValueChange(Qt(this.props.offer,e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.offer,a=t.value,o=t.style,c=Dc(n),s=[];r.allowChooseGender&&(a.allowFemale&&s.push("female"),a.allowMale&&s.push("male"),a.allowOther&&s.push("other"));var l=[];r.allowChooseProfileType&&(a.allowStaff&&l.push("staff"),a.allowStudent&&l.push("student"));var u=(!r.allowChooseGender||s.length>0)&&(!r.allowInterRole||l.length>0);return i.a.createElement(wn.a,{style:[c.wrapper,o]},i.a.createElement(wn.a,{style:c.titleWrapper},i.a.createElement(xn.c,{checked:u,onPress:function(){return e.setAllValues(!u)},containerStyle:c.checkboxContainer}),i.a.createElement(Rn.a,{onPress:function(){return e.setAllValues(!u)}},i.a.createElement(Cn.a,{style:c.offerName},Z.a.t("allOffers."+r.id+".name"))),i.a.createElement(Tc,{text:Z.a.t("allOffers."+r.id+".help")},i.a.createElement(ra.a,{style:c.helpIcon,name:"help"}))),u&&i.a.createElement(wn.a,{style:c.buttonsWrapper},r.allowChooseGender&&i.a.createElement(Sc,{noButtonVariant:!0,genders:s,onSelect:function(t){return e.offerValueChange({allowFemale:-1!=t.indexOf("female"),allowMale:-1!=t.indexOf("male"),allowOther:-1!=t.indexOf("other")})}}),r.allowChooseProfileType&&i.a.createElement(Zo,{noButtonVariant:!0,roles:l,onSelect:function(t){return e.offerValueChange({allowStaff:-1!=t.indexOf("staff"),allowStudent:-1!=t.indexOf("student")})}})))}}]),n}(i.a.Component),Dc=Tn((function(e){return On.a.create({wrapper:{flexDirection:"column",alignItems:"flex-start"},titleWrapper:{flexDirection:"row",alignItems:"center"},offerName:{textTransform:"uppercase",letterSpacing:1,color:e.text},helpIcon:{fontSize:20,marginLeft:5,color:e.textLight},buttonsWrapper:{width:"100%"},checkboxContainer:{padding:0,margin:0}})})),_c=Object(xn.h)(Ic);function Ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fc(e,t,n,r){return e.filter((function(e){return e.category==t})).map((function(e,t){return o.createElement(_c,{key:t,offer:e,value:n.offerValues[e.id]||Qt(e),onChange:function(t){return r(function(e,t){return{type:G.SET_ONBOARDING_OFFER_VALUE,id:e,value:t}}(e.id,t))},style:{marginVertical:20}})}))}function Mc(e){var t=function(e){var t={type:e.type,firstName:e.firstname,lastName:e.lastname,gender:e.gender,birthdate:e.birthdate.toJSON(),nationality:e.nationality,languages:e.languages,interests:e.interestIds.map((function(e){return{id:e}})),profileOffers:Object.values(e.offerValues),educationFields:e.educationFields.map((function(e){return{id:e}}))};return"student"==e.type?Lc(Lc({},t),{},{degree:e.degree}):"staff"==e.type?Lc(Lc({},t),{},{staffRoles:Object.keys(e.staffRoles).filter((function(t){return e.staffRoles[t]})).map((function(e){return{id:e}}))}):null}(e);t&&an.dispatch(q(t))}function Bc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Nc=function(e){yn()(n,e);var t=Bc(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.subtitle,a=t.index,i=t.hideNavNext,c=t.hasNext,s=t.handleSubmit,l=t.next,u=t.containerStyle,f=t.theme,p=bc(f),h=a>0;return o.createElement(An,null,o.createElement(ha.a,{style:p.slideScrollView,contentContainerStyle:[u,p.slideContentWrapper]},o.createElement(ma.a,{behavior:"position",keyboardVerticalOffset:60},o.createElement(wn.a,{style:p.header},n&&"string"===typeof n&&o.createElement(Cn.a,{style:p.title},n),n&&"string"!==typeof n&&n,r&&o.createElement(Cn.a,{style:p.subtitle},r)),this.props.children)),o.createElement(wn.a,{style:p.slideNavWrapper},h&&o.createElement(Rn.a,{style:p.navButton,onPress:function(){return e.props.previous()}},o.createElement(d.a,{style:p.navButtonIcon,name:"arrow-circle-left"})),!i&&c&&o.createElement(Rn.a,{style:p.navButton,onPress:function(){s?s():c&&l()}},o.createElement(d.a,{style:p.navButtonIcon,name:"arrow-circle-right"})),!c&&o.createElement(Rn.a,{style:p.navButton,onPress:function(){s&&s(),Mc(an.getState().auth.onboarding)}},o.createElement(Cn.a,{style:p.finishButtonText},Z.a.t("onboarding.submit")))))}}]),n}(o.Component),Uc=Object(xn.h)(Nc);function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Gc=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding}})),zc=xe.c().shape({firstname:Ue,lastname:He}),Wc=function(e){yn()(n,e);var t=Vc(n);function n(){var e;St()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).lastNameInputRef=o.createRef(),e}return Ct()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.firstname!=n.firstname||t.lastname!=n.lastname}},{key:"submit",value:function(e){or.a.dismiss(),this.props.dispatch(ve(e)),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.onboardingState;return o.createElement(pr.a,{initialValues:r,validationSchema:zc,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,a=t.values,i=t.errors,c=t.touched,s=t.handleChange,l=t.handleBlur,f=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({field:e,value:a[e],error:i[e],touched:c[e],handleChange:s,handleBlur:l},function(e){var t="web"===Xt.a.OS?{backgroundColor:"transparent",outline:"none"}:null,n=On.a.create({textInputWrapper:{width:"100%",marginVertical:10},textInput:{width:"100%",height:60,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",fontSize:20,color:e.text},textInputError:{borderBottomWidth:2,borderBottomColor:e.error},textInputValid:{borderBottomWidth:2,borderBottomColor:e.okay}});return{wrapperStyle:n.textInputWrapper,style:n.textInput,errorStyle:n.textInputError,validStyle:n.textInputValid,focusedStyle:t}}(n))};return o.createElement(Uc,un()({title:Z.a.t("onboarding.name.title"),subtitle:Z.a.t("onboarding.name.subtitle"),handleSubmit:r},e.props),o.createElement(jr,un()({},f("firstname"),{label:Z.a.t("firstname"),autoCompleteType:"name",enablesReturnKeyAutomatically:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.lastNameInputRef.current)?void 0:t.focus()}})),o.createElement(jr,un()({},f("lastname"),{ref:e.lastNameInputRef,label:Z.a.t("lastname"),autoCompleteType:"name",enablesReturnKeyAutomatically:!0,returnKeyType:"done",onSubmitEditing:function(){return e.props.next()}})))}))}}]),n}(o.Component),qc=Gc(Object(xn.h)(Wc));function Kc(e){var t=e.date,n=hr()(e,["date"]);if(t){var r=Z.a.t("months."+t.getMonth()),a=(1==(t.getDate()+"").length?"0":"")+t.getDate()+" "+r+" "+t.getFullYear();return o.createElement(Cn.a,n,a)}return o.createElement(o.Fragment,null)}function Yc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Jc=new Date(1900,0,0),Qc=new Date(Date.now());Qc.setFullYear(Qc.getFullYear()-18);var Xc=function(e){return e.toISOString().split("T")[0]},Zc=function(e){yn()(n,e);var t=Yc(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"onChange",value:function(e){e&&this.props.onSelect&&this.props.onSelect(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,r=t.style;return o.createElement("input",{type:"date",min:Xc(Jc),max:Xc(Qc),value:Xc(n||Qc),onChange:function(t){return e.onChange(new Date(t.target.value))},style:r})}}]),n}(o.Component);function $c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ts(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ns=function(e){yn()(n,e);var t=ts(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={open:!1},r}return Ct()(n,[{key:"showModal",value:function(){this.state.open||this.setState(es(es({},this.state),{},{open:!0}))}},{key:"hideModal",value:function(){this.state.open&&this.setState(es(es({},this.state),{},{open:!1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,r=t.onSelect,a=t.theme,i=this.state.open,c=rs(a);return o.createElement(wn.a,{style:c.wrapper},"web"!==Xt.a.OS?o.createElement(o.Fragment,null,o.createElement(Rn.a,{style:[c.button,n?c.buttonOk:{}],onPress:function(){return e.showModal()}},n&&o.createElement(Kc,{style:c.dateText,date:n})),o.createElement(Zc,{date:n,open:i,onSelect:function(t){e.hideModal(),r&&r(t)}})):o.createElement(Zc,{date:n,open:!0,onSelect:function(e){r&&r(e)},style:es(es({width:"100%",height:60,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:a.accentTernary,backgroundColor:"transparent",justifyContent:"center",outline:0,fontSize:20,color:a.text},Mn),n?{borderBottomWidth:2,borderBottomColor:a.okay}:{})}))}}]),n}(o.Component),rs=Tn((function(e){return On.a.create({wrapper:{width:"100%"},button:{width:"100%",height:60,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",justifyContent:"center"},buttonOk:{borderBottomWidth:2,borderBottomColor:e.okay},dateText:{fontSize:20,color:e.text}})})),as=Object(xn.h)(ns);var os=Object(xn.h)((function(e){var t=Ae.map((function(e){return Z.a.t("genders."+e)})),n=e.gender,r=e.disabled,a=Ko(!1,e.theme);return o.createElement(xn.b,un()({onPress:function(t){e.onSelect&&e.onSelect(Ae[t])},selectedIndex:void 0!==n&&null!==n?Ae.indexOf(n):-1,buttons:t,disabled:r},a))}));function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ss(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ls=function(e){yn()(n,e);var t=ss(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={open:void 0===e.open||e.open},r}return Ct()(n,[{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&this.showModal(),e.open&&!this.props.open&&this.hideModal()}},{key:"showModal",value:function(){this.state.open||this.setState(cs(cs({},this.state),{},{open:!0}))}},{key:"hideModal",value:function(){this.state.open&&(this.setState(cs(cs({},this.state),{},{open:!1})),void 0!==this.props.onHide&&this.props.onHide())}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state.open,r=us(t);return o.createElement(lo.d,{countryCode:this.props.nationality||"FR",filterProps:{placeholder:Z.a.t("search")},withFlag:!0,withFilter:!0,withEmoji:!1,onSelect:function(t){e.props.onSelect&&e.props.onSelect(t.cca2)},onClose:function(){return e.hideModal()},translation:Z.a.t("countryPickerLanguageCode"),visible:n,containerButtonStyle:r.pickerContainerButton,theme:"dark"===t.id?lo.a:lo.b})}}]),n}(o.Component),us=Tn((function(){return On.a.create({pickerContainerButton:{display:"none"}})})),fs=Object(xn.h)(ls),ps=n(82);function ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var hs=function(e){yn()(n,e);var t=ds(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={countryName:""},r.updateCountryName(),r}return Ct()(n,[{key:"updateCountryName",value:function(){var e=this,t=this.props.countryCode,n=Z.a.t("countryPickerLanguageCode");Object(ps.d)({countryCode:t,translation:n}).then((function(t){e.setState({countryName:t.countryName})}))}},{key:"componentDidUpdate",value:function(e){this.props.countryCode!=e.countryCode&&this.updateCountryName()}},{key:"render",value:function(){var e=this.props,t=e.countryCode,n=hr()(e,["countryCode"]),r=this.state.countryName,a=this.props.flagSize||20;return o.createElement(wn.a,{style:{flexDirection:"row"}},o.createElement(lo.c,{countryCode:t,flagSize:a,withEmoji:!1}),o.createElement(Cn.a,n,r))}}]),n}(o.Component);function ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ys(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var bs=function(e){yn()(n,e);var t=ys(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={open:!1},r}return Ct()(n,[{key:"showModal",value:function(){this.state.open||this.setState(gs(gs({},this.state),{},{open:!0}))}},{key:"hideModal",value:function(){this.state.open&&(this.setState(gs(gs({},this.state),{},{open:!1})),this.props.onHide&&this.props.onHide())}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSelect,r=t.onHide,a=t.nationality,i=t.theme,c=this.state.open,s=vs(i);return o.createElement(wn.a,{style:s.wrapper},o.createElement(Rn.a,{style:[s.button,a?s.buttonOk:{}],onPress:function(){return e.showModal()}},a&&o.createElement(hs,{countryCode:a,style:s.nationality})),o.createElement(fs,{nationality:this.props.nationality,open:c,onSelect:function(e){n&&n(e)},onHide:function(){e.hideModal(),r&&r()}}))}}]),n}(o.Component),vs=Tn((function(e){return On.a.create({wrapper:{width:"100%"},button:{width:"100%",height:60,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",justifyContent:"center"},buttonOk:{borderBottomWidth:2,borderBottomColor:e.okay},nationality:{fontSize:20,color:e.text}})})),Es=Object(xn.h)(bs),Ss=n(510);function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ws=Object(Wn.b)((function(e){return{locale:e.settings.userSettings.locale}})),Ps=function(e){yn()(n,e);var t=Rs(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).selectRef=o.createRef(),r.state={items:new Map,open:!1,tempSelected:e.selected||[],width:0},r}return Ct()(n,[{key:"updateItems",value:function(){var e,t=this,n=this.props.locale;if(!this.state.items.has(n)||(null==(e=this.state.items.get(n))?void 0:e.length)!=this.props.values.length){var r=new Map(this.state.items);r.set(n,this.props.values.map((function(e){return{id:e.id,label:t.props.genSectionLabel?Z.a.t(t.props.genSectionLabel(e.id)):e.id,children:e.items.map((function(e){return{id:e,label:t.props.genLabel?Z.a.t(t.props.genLabel(e)):e}}))}}))),this.setState(Cs(Cs({},this.state),{},{items:r}))}}},{key:"componentDidMount",value:function(){this.updateItems()}},{key:"componentDidUpdate",value:function(e){e.locale==this.props.locale&&e.values.length==this.props.values.length||this.updateItems()}},{key:"open",value:function(){this.selectRef.current&&this.selectRef.current._toggleSelector(),this.setState(Cs(Cs({},this.state),{},{open:!0,tempSelected:this.props.selected||this.state.tempSelected}))}},{key:"close",value:function(e){this.state.open&&this.selectRef.current&&this.selectRef.current._toggleSelector(),this.setState(Cs(Cs({},this.state),{},{open:!1,tempSelected:e?this.state.tempSelected:this.props.selected||[]})),e&&this.apply(this.state.tempSelected)}},{key:"apply",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.locale,a=t.selected,i=t.genLabel,c=t.searchablePlaceholder,s=t.showChips,l=(t.onChange,hr()(t,["theme","locale","selected","genLabel","searchablePlaceholder","showChips","onChange"])),u=this.state,f=u.tempSelected,p=u.width,d=Mo(n),h=ks(n),m=xs(n),g=a||[],y=this.state.items.get(r)?o.createElement(Ss.a,{ref:this.selectRef,items:this.state.items.get(r),onSelectedItemsChange:function(t){return e.setState(Cs(Cs({},e.state),{},{tempSelected:t}))},selectedItems:f,uniqueKey:"id",displayKey:"label",subKey:"children",onCancel:function(){return e.close(!1)},onConfirm:function(){return e.close(!0)},IconRenderer:ra.a,icons:void 0,showDropDowns:!0,readOnlyHeadings:!0,showChips:!1,showCancelButton:!0,selectedIconOnLeft:!0,animateDropDowns:!1,hideSelect:!0,noResultsComponent:o.createElement(Cn.a,{style:m.noResultsText},Z.a.t("noResultsFound")),searchIconComponent:o.createElement(ra.a,{name:"search",style:m.searchIcon}),confirmText:Z.a.t("apply"),searchPlaceholderText:c,colors:{primary:n.accent,cancel:n.error,success:n.okay,text:n.text,subText:n.textLight,searchPlaceholderTextColor:n.textLight,selectToggleTextColor:n.error,itemBackground:n.cardBackground,subItemBackground:n.cardBackground},confirmFontFamily:Mn,itemFontFamily:Mn,searchTextFontFamily:Mn,subItemFontFamily:Mn,styles:Cs(Cs({},h),"web"===Xt.a.OS?{modalWrapper:{width:p},container:[h.container,{width:p}]}:{})}):o.createElement(o.Fragment,null);return o.createElement(wn.a,un()({},l,{style:{position:"relative"},onLayout:function(t){return e.setState(Cs(Cs({},e.state),{},{width:t.nativeEvent.layout.width}))}}),o.createElement(wn.a,null,o.createElement(Rn.a,{onPress:function(){return e.open()},style:d.openButton},o.createElement(Cn.a,{style:d.openButtonText},Z.a.t("picker.callToAction").replace("%d",g.length.toString()))),s&&o.createElement(vo,{items:g,label:function(e){return i?Z.a.t(i(e)):e},containerStyle:d.chipContainer,removable:!0,onRemove:function(t){var n=e.state.tempSelected.filter((function(e){return e!==t}));e.setState(Cs(Cs({},e.state),{},{tempSelected:n})),e.apply(n)}})),("android"===Xt.a.OS||"ios"===Xt.a.OS)&&o.createElement(wn.a,null,y),"web"===Xt.a.OS&&this.state.open&&y)}}]),n}(o.Component);Ps.defaultProps={items:[],showSelected:!0,selected:[]};var Ts,xs=Tn((function(e){return On.a.create({noResultsText:{textAlign:"center",color:e.text,fontSize:16,marginVertical:20},searchIcon:{fontSize:26,marginHorizontal:10,color:e.textLight}})})),ks=Tn((function(e){return On.a.create({container:Cs({backgroundColor:e.cardBackground},"web"===Xt.a.OS?{position:"fixed",top:50,bottom:50,alignSelf:"center",borderWidth:0,maxWidth:700,maxHeight:600,boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.1)"}:{}),scrollView:Cs({paddingVertical:10},"web"===Xt.a.OS?{overflowY:"auto"}:{}),searchBar:{backgroundColor:e.background},searchTextInput:{color:e.text},toggleIcon:{backgroundColor:e.cardBackground},subItem:{borderRadius:4,marginVertical:2},selectedItem:{backgroundColor:e.background},itemText:Cs(Cs({},Fn),{},{letterSpacing:1.5,fontSize:14,lineHeight:18,textTransform:"uppercase"}),subItemText:{marginLeft:5},separator:{marginVertical:8}})})),js=ws(Object(xn.h)(Ps));!function(e){e.GPQ="generic-programmes-qualifications",e.EDU="education",e.AH="arts-humanities",e.SSJI="social-sciences-journalism-information",e.BAL="business-administration-law",e.NSMS="natural-sciences-mathematics-statistics",e.ICT="information-communication-technologies",e.EMC="engineering-manufacturing-construction",e.AFFV="agriculture-forestry-fisheries-veterinary",e.HW="health-welfare",e.SER="services"}(Ts||(Ts={}));var Is,Ds=Object.values(Ts);!function(e){e[e["basic-programmes-qualifications"]=0]="basic-programmes-qualifications",e[e["literacy-numeracy"]=1]="literacy-numeracy",e[e["personal-skills-development"]=2]="personal-skills-development",e[e.education=3]="education",e[e.arts=4]="arts",e[e.humanities=5]="humanities",e[e.languages=6]="languages",e[e["social-behavioural-sciences"]=7]="social-behavioural-sciences",e[e["journalism-information"]=8]="journalism-information",e[e["business-administration"]=9]="business-administration",e[e.law=10]="law",e[e["biological-related-sciences"]=11]="biological-related-sciences",e[e.environment=12]="environment",e[e["physical-sciences"]=13]="physical-sciences",e[e["mathematics-statistics"]=14]="mathematics-statistics",e[e["information-communication-technologies"]=15]="information-communication-technologies",e[e["engineering-engineering-trades"]=16]="engineering-engineering-trades",e[e["manufacturing-processing"]=17]="manufacturing-processing",e[e["architecture-construction"]=18]="architecture-construction",e[e.agriculture=19]="agriculture",e[e.forestry=20]="forestry",e[e.fisheries=21]="fisheries",e[e.veterinary=22]="veterinary",e[e.health=23]="health",e[e["personal-services"]=24]="personal-services",e[e["hygiene-occupational-health-services"]=25]="hygiene-occupational-health-services",e[e["security-services"]=26]="security-services",e[e["transport-services"]=27]="transport-services"}(Is||(Is={}));var _s=[{id:"basic-programmes-qualifications",category:Ts.GPQ,subCategory:Is["basic-programmes-qualifications"]},{id:"literacy-numeracy",category:Ts.GPQ,subCategory:Is["literacy-numeracy"]},{id:"personal-skills-development",category:Ts.GPQ,subCategory:Is["personal-skills-development"]},{id:"education-science",category:Ts.EDU,subCategory:Is.education},{id:"training-for-pre-school-teachers",category:Ts.EDU,subCategory:Is.education},{id:"teacher-training-without-subject-specialisation",category:Ts.EDU,subCategory:Is.education},{id:"teacher-training-with-subject-specialisation",category:Ts.EDU,subCategory:Is.education},{id:"audio-visual-techniques-media-production",category:Ts.AH,subCategory:Is.arts},{id:"fashion-interior-industrial-design",category:Ts.AH,subCategory:Is.arts},{id:"fine-arts",category:Ts.AH,subCategory:Is.arts},{id:"handicrafts",category:Ts.AH,subCategory:Is.arts},{id:"music-performing-arts",category:Ts.AH,subCategory:Is.arts},{id:"religion-theology",category:Ts.AH,subCategory:Is.humanities},{id:"history-archaeology",category:Ts.AH,subCategory:Is.humanities},{id:"philosophy-ethics",category:Ts.AH,subCategory:Is.humanities},{id:"language-acquisition",category:Ts.AH,subCategory:Is.languages},{id:"literature-linguistics",category:Ts.AH,subCategory:Is.languages},{id:"economics",category:Ts.SSJI,subCategory:Is["social-behavioural-sciences"]},{id:"political-sciences-civics",category:Ts.SSJI,subCategory:Is["social-behavioural-sciences"]},{id:"psychology",category:Ts.SSJI,subCategory:Is["social-behavioural-sciences"]},{id:"sociology-cultural-studies",category:Ts.SSJI,subCategory:Is["social-behavioural-sciences"]},{id:"journalism-reporting",category:Ts.SSJI,subCategory:Is["journalism-information"]},{id:"library-information-archival-studies",category:Ts.SSJI,subCategory:Is["journalism-information"]},{id:"accounting-taxation",category:Ts.BAL,subCategory:Is["business-administration"]},{id:"finance-banking-insurance",category:Ts.BAL,subCategory:Is["business-administration"]},{id:"management-administration",category:Ts.BAL,subCategory:Is["business-administration"]},{id:"marketing-advertising",category:Ts.BAL,subCategory:Is["business-administration"]},{id:"secretarial-office-work",category:Ts.BAL,subCategory:Is["business-administration"]},{id:"wholesale-retail-sales",category:Ts.BAL,subCategory:Is["business-administration"]},{id:"work-skills",category:Ts.BAL,subCategory:Is["business-administration"]},{id:"law",category:Ts.BAL,subCategory:Is.law},{id:"biology",category:Ts.NSMS,subCategory:Is["biological-related-sciences"]},{id:"biochemistry",category:Ts.NSMS,subCategory:Is["biological-related-sciences"]},{id:"environmental-sciences",category:Ts.NSMS,subCategory:Is.environment},{id:"natural-environments-wildlife",category:Ts.NSMS,subCategory:Is.environment},{id:"chemistry",category:Ts.NSMS,subCategory:Is["physical-sciences"]},{id:"earth-sciences",category:Ts.NSMS,subCategory:Is["physical-sciences"]},{id:"physics",category:Ts.NSMS,subCategory:Is["physical-sciences"]},{id:"mathematics",category:Ts.NSMS,subCategory:Is["mathematics-statistics"]},{id:"statistics",category:Ts.NSMS,subCategory:Is["mathematics-statistics"]},{id:"computer-use",category:Ts.ICT,subCategory:Is["information-communication-technologies"]},{id:"database-network-design-administration",category:Ts.ICT,subCategory:Is["information-communication-technologies"]},{id:"software-applications-development-analysis",category:Ts.ICT,subCategory:Is["information-communication-technologies"]},{id:"chemical-engineering-processes",category:Ts.EMC,subCategory:Is["engineering-engineering-trades"]},{id:"environmental-protection-technology",category:Ts.EMC,subCategory:Is["engineering-engineering-trades"]},{id:"electricity-energy",category:Ts.EMC,subCategory:Is["engineering-engineering-trades"]},{id:"electronics-automation",category:Ts.EMC,subCategory:Is["engineering-engineering-trades"]},{id:"mechanics-metal-trades",category:Ts.EMC,subCategory:Is["engineering-engineering-trades"]},{id:"motor-vehicles-ships-aircraft",category:Ts.EMC,subCategory:Is["engineering-engineering-trades"]},{id:"food-processing",category:Ts.EMC,subCategory:Is["manufacturing-processing"]},{id:"materials",category:Ts.EMC,subCategory:Is["manufacturing-processing"]},{id:"textiles",category:Ts.EMC,subCategory:Is["manufacturing-processing"]},{id:"mining-extraction",category:Ts.EMC,subCategory:Is["manufacturing-processing"]},{id:"architecture-town-planning",category:Ts.EMC,subCategory:Is["architecture-construction"]},{id:"building-civil-engineering",category:Ts.EMC,subCategory:Is["architecture-construction"]},{id:"crop-livestock-production",category:Ts.AFFV,subCategory:Is.agriculture},{id:"horticulture",category:Ts.AFFV,subCategory:Is.agriculture},{id:"forestry",category:Ts.AFFV,subCategory:Is.forestry},{id:"fisheries",category:Ts.AFFV,subCategory:Is.fisheries},{id:"veterinary",category:Ts.AFFV,subCategory:Is.veterinary},{id:"dental-studies",category:Ts.HW,subCategory:Is.health},{id:"medicine",category:Ts.HW,subCategory:Is.health},{id:"nursing-midwifery",category:Ts.HW,subCategory:Is.health},{id:"medical-diagnostic-treatment-technology",category:Ts.HW,subCategory:Is.health},{id:"therapy-rehabilitation",category:Ts.HW,subCategory:Is.health},{id:"pharmacy",category:Ts.HW,subCategory:Is.health},{id:"traditional-complementary-medicine-therapy",category:Ts.HW,subCategory:Is.health},{id:"domestic-services",category:Ts.SER,subCategory:Is["personal-services"]},{id:"hair-beauty-services",category:Ts.SER,subCategory:Is["personal-services"]},{id:"hotel-restaurants-catering",category:Ts.SER,subCategory:Is["personal-services"]},{id:"sports",category:Ts.SER,subCategory:Is["personal-services"]},{id:"travel-tourism-leisure",category:Ts.SER,subCategory:Is["personal-services"]},{id:"community-sanitation",category:Ts.SER,subCategory:Is["hygiene-occupational-health-services"]},{id:"occupational-health-safety",category:Ts.SER,subCategory:Is["hygiene-occupational-health-services"]},{id:"military-defence",category:Ts.SER,subCategory:Is["security-services"]},{id:"protection-of-persons-property",category:Ts.SER,subCategory:Is["security-services"]},{id:"transport-services",category:Ts.SER,subCategory:Is["transport-services"]}],As={};Ds.forEach((function(e){return As[e]={id:e,items:[]}})),_s.forEach((function(e){return As[e.category].items.push(e.id)}));var Ls=Object.values(As);function Fs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ms=function(e){yn()(n,e);var t=Fs(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.fields,n=e.onChange,r=hr()(e,["fields","onChange"]);return o.createElement(js,un()({values:Ls,genLabel:function(e){return"educationFields."+e},genSectionLabel:function(e){return"educationFieldCategories."+e},selected:t,onChange:function(e){n&&n(e)},searchablePlaceholder:Z.a.t("educationFieldsPicker.searchPlaceholder")},r))}}]),n}(o.Component);function Bs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ns=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding}})),Us=xe.c().shape({birthdate:Ve,gender:Ge,nationality:ze}),Hs=Ns(function(e){yn()(n,e);var t=Bs(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.birthdate!=n.birthdate||t.gender!=n.gender||t.nationality!=n.nationality||t.educationFields!=n.educationFields}},{key:"submit",value:function(e){e.birthdate&&e.gender&&e.nationality&&(this.props.next(),this.props.dispatch(ve({birthdate:e.birthdate,gender:e.gender,nationality:e.nationality})))}},{key:"render",value:function(){var e=this,t=this.props.onboardingState;return o.createElement(pr.a,{initialValues:t,validationSchema:Us,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,a=t.errors,i=t.touched,c=t.setFieldValue;return o.createElement(Uc,un()({title:Z.a.t("onboarding.personalInfo.title"),handleSubmit:n},e.props),o.createElement(vr,null,Z.a.t("dateOfBirth")),o.createElement(as,{date:r.birthdate||void 0,onSelect:function(e){return c("birthdate",e)}}),i.birthdate&&o.createElement(Cr,{error:a.birthdate}),o.createElement(vr,{style:{marginTop:30}},Z.a.t("nationality")),o.createElement(Es,{nationality:r.nationality||void 0,onSelect:function(e){return c("nationality",e)}}),i.nationality&&o.createElement(Cr,{error:a.nationality}),o.createElement(vr,{style:{marginTop:30}},Z.a.t("gender")),o.createElement(os,{gender:r.gender,onSelect:function(e){return c("gender",e)}}),i.gender&&o.createElement(Cr,{error:a.gender}),o.createElement(vr,{style:{marginTop:30}},Z.a.t("fieldsOfEducation")),o.createElement(Ms,{fields:r.educationFields,onChange:function(e){return c("educationFields",e)},showChips:!1}))}))}}]),n}(o.Component));function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ws=function(e){yn()(n,e);var t=zs(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).modalRef=o.createRef(),r.state={valueDict:{}},r}return Ct()(n,[{key:"fromSelectedProp",value:function(){var e={};this.props.selected.forEach((function(t){return e[t]=!0})),this.setState(Gs(Gs({},this.state),{},{valueDict:e}))}},{key:"show",value:function(){this.fromSelectedProp(),this.modalRef.current&&this.modalRef.current.setModalVisible(!0)}},{key:"hide",value:function(e){this.modalRef.current&&this.modalRef.current.setModalVisible(!1),e?this.apply():this.fromSelectedProp()}},{key:"toggleValue",value:function(e){var t=this,n=this.state.valueDict,r=!n[e];this.props.multiple?this.setState(Gs(Gs({},this.state),{},{valueDict:Gs(Gs({},n),{},u()({},e,r))})):this.setState(Gs(Gs({},this.state),{},{valueDict:u()({},e,r)}),(function(){r&&t.hide(!0)}))}},{key:"apply",value:function(){var e=this.props.onSelect,t=this.state.valueDict;e&&e(Object.keys(t).filter((function(e){return t[e]})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.values,r=t.selected,a=t.label,i=t.icon,c=t.multiple,s=t.atLeastOne,l=t.buttonStyle,u=t.valueStyle,f=t.theme,p=this.state.valueDict,d=qs(f),h=Mo(f);return o.createElement(o.Fragment,null,o.createElement(Rn.a,{style:[d.button,r.length>0?d.buttonOk:{},l],onPress:function(){return e.show()}},o.createElement(Cn.a,{style:[d.value,u],numberOfLines:2},r.map(a).join(", "))),o.createElement(ao,{ref:this.modalRef,modalViewStyle:{width:"100%",paddingHorizontal:0,paddingVertical:0},renderContent:function(){return o.createElement(o.Fragment,null,o.createElement(ha.a,{style:d.scroll,contentContainerStyle:d.scrollContent},n.map((function(t,n){return o.createElement(Rn.a,{key:"popup-selector-row-"+t,style:d.rowContainer,onPress:function(){return e.toggleValue(t)},activeOpacity:.5},i&&i(t,n),o.createElement(Cn.a,{style:d.label},a(t,n)),o.createElement(xn.c,un()({checked:p[t],containerStyle:d.checkboxContainer,wrapperStyle:d.checkboxWrapper,onPress:function(){return e.toggleValue(t)},size:26},c?{}:{checkedIcon:"check-circle",uncheckedIcon:"circle-o"})))}))),c&&(!s||Object.values(p).some((function(e){return!0===e})))&&o.createElement(Rn.a,{onPress:function(){return e.hide(!0)},style:[h.okButton,{width:"100%"}]},o.createElement(Cn.a,{style:h.okButtonText},Z.a.t("ok"))))}}))}}]),n}(o.Component),qs=Tn((function(e){return On.a.create({button:{height:40,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",justifyContent:"center",alignItems:"flex-end"},buttonOk:{borderBottomWidth:2,borderBottomColor:e.okay},value:{},scroll:{width:"100%"},scrollContent:{paddingHorizontal:15,paddingVertical:10},rowContainer:{flexDirection:"row",width:"100%",paddingVertical:2,flex:1,alignItems:"center",justifyContent:"space-between"},label:{color:e.text,fontSize:16,flexGrow:1},checkboxContainer:{padding:0,marginRight:0},checkboxWrapper:{padding:0}})})),Ks=Object(xn.h)(Ws);function Ys(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Js=function(e){yn()(n,e);var t=Ys(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.level,r=e.theme,a=e.buttonStyle,i=Qs(r);return o.createElement(Ks,{values:je,label:function(e){return Z.a.t("languageLevels."+e)},selected:n?[n]:[],valueStyle:i.value,buttonStyle:[i.button,a],onSelect:function(e){e.length>0&&t&&t(e[0])}})}}]),n}(o.Component),Qs=Tn((function(e){return On.a.create({button:{width:75,height:40,alignItems:"center"},value:{letterSpacing:.5,fontSize:16,color:e.text}})})),Xs=Object(xn.h)(Js);function Zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function el(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var tl=function(e){yn()(n,e);var t=el(n);function n(e){var r;St()(this,n),r=t.call(this,e);var a=e.languages||[];return r.state={languages:a},r}return Ct()(n,[{key:"onChange",value:function(e){this.setState($s($s({},this.state),{},{languages:e}));var t=e.filter((function(e){return!e.level})).length>0;this.props.onChange&&this.props.onChange(e.filter((function(e){return e.code&&e.level})).map((function(e){return e})),t)}},{key:"removeRow",value:function(e){e>=0&&e<this.state.languages.length&&this.onChange(this.state.languages.filter((function(t,n){return n!==e})))}},{key:"setLanguages",value:function(e){var t=new Map(this.state.languages.map((function(e){return[e.code,e.level]}))),n=e.map((function(e){return{code:e,level:t.get(e)}}));this.onChange(n),this.setState($s($s({},this.state),{},{languages:n}))}},{key:"setLanguageLevel",value:function(e,t){var n=this.state.languages.map((function(n,r){return r===e?$s($s({},n),{},{level:t}):n}));this.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.style,a=this.state.languages,i=nl(n),c=a.map((function(t,n){return o.createElement(wn.a,{key:"spoken-languages-input-"+t.code,style:i.rowContainer},o.createElement(Cn.a,{style:i.languageLabel},Z.a.t("languageNames."+t.code)),o.createElement(Xs,{level:t.level,buttonStyle:i.levelPicker,onChange:function(t){return e.setLanguageLevel(n,t)}}),o.createElement(ra.a,{onPress:function(){return e.removeRow(n)},style:i.deleteIcon,name:"delete"}))}));return o.createElement(wn.a,{style:r},o.createElement(Xo,{multiple:!0,languages:a.map((function(e){return e.code||""})),style:i.languagePicker,onChange:function(t){t.length>8&&g.a.alert("You cannot select more than 8 languages"),e.setLanguages(t.slice(0,8))},showChips:!1}),c)}}]),n}(o.Component),nl=Tn((function(e){return On.a.create({rowContainer:{flexDirection:"row",alignItems:"center"},deleteIcon:{fontSize:24,color:e.error,paddingHorizontal:4,height:"100%",textAlignVertical:"center"},languagePicker:{},languageLabel:{fontSize:16,color:e.text,flexGrow:1},levelPicker:{marginHorizontal:5}})})),rl=Object(xn.h)(tl);function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var cl=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding}})),sl=xe.c().shape({languages:qe}),ll=cl(function(e){yn()(n,e);var t=il(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={hasErrors:!1},r}return Ct()(n,[{key:"submit",value:function(e){this.state.hasErrors||(this.props.dispatch(ve({languages:e.languages})),this.props.next())}},{key:"render",value:function(){var e=this,t=this.props.onboardingState,n=this.state.hasErrors;return o.createElement(pr.a,{initialValues:t,validationSchema:sl,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,a=t.values,i=t.touched,c=t.setFieldValue;return o.createElement(Uc,un()({title:Z.a.t("onboarding.language.title"),handleSubmit:r},e.props),o.createElement(vr,{style:{marginBottom:6}},Z.a.t("spokenLanguages")),o.createElement(rl,{languages:a.languages,onChange:function(t,n){c("languages",t),e.setState(ol(ol({},e.state),{},{hasErrors:n}))}}),i.languages&&n&&o.createElement(Cr,{error:"validation.language.specifyLevel",style:{marginBottom:0,marginTop:10}}),i.languages&&!n&&0==a.languages.length&&o.createElement(Cr,{error:"validation.language.atLeastOne",style:{marginBottom:0,marginTop:10}}))}))}}]),n}(o.Component));function ul(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var fl=Object(Wn.b)((function(e){return{allInterests:e.profile.interests}})),pl=[],dl=fl(function(e){yn()(n,e);var t=ul(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"componentDidMount",value:function(){0==pl.length&&this.updateValues()}},{key:"componentDidUpdate",value:function(e){e.allInterests.length!=this.props.allInterests.length&&this.updateValues()}},{key:"updateValues",value:function(){pl=this.props.allInterests.map((function(e){return e.id})),this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.interests,n=e.onChange,r=hr()(e,["interests","onChange"]);return o.createElement(Go,un()({values:pl,genLabel:function(e){return"interestNames."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:Z.a.t("interestsPicker.placeholder"),multipleText:Z.a.t("interestsPicker.multiple"),searchablePlaceholder:Z.a.t("interestsPicker.searchPlaceholder")},r))}}]),n}(o.Component));function hl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var ml=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding}})),gl=xe.c().shape({interestIds:Ke}),yl=ml(function(e){yn()(n,e);var t=hl(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.interestIds!=n.interestIds}},{key:"submit",value:function(e){this.props.dispatch(ve({interestIds:e.interestIds})),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props.onboardingState;return o.createElement(pr.a,{initialValues:t,validationSchema:gl,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,a=t.errors,i=t.touched,c=t.setFieldValue;return o.createElement(Uc,un()({title:Z.a.t("onboarding.interests.title"),handleSubmit:n},e.props),o.createElement(vr,{style:{marginBottom:6}},Z.a.t("chooseInterests")),o.createElement(dl,{interests:r.interestIds,onChange:function(e){c("interestIds",e)},showChips:!0}),i.interestIds&&o.createElement(Cr,{error:a.interestIds}))}))}}]),n}(o.Component));function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function El(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Sl=function(e){yn()(n,e);var t=El(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"submit",value:function(e){an.dispatch(ve(e)),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props.theme,n=Ol(t);return o.createElement(Uc,un()({title:Z.a.t("onboarding.role.title"),hideNavNext:!0},this.props),o.createElement(Rn.a,{style:n.roleButton,onPress:function(){return e.submit({type:"student"})}},o.createElement(ra.a,{name:"school",style:n.roleButtonIconStudent}),o.createElement(Cn.a,{style:n.roleButtonTextStudent},Z.a.t("allRoles.student"))),o.createElement(Rn.a,{style:n.roleButton,onPress:function(){return e.submit({type:"staff"})}},o.createElement(ra.a,{name:"group",style:n.roleButtonIconStaff}),o.createElement(Cn.a,{style:n.roleButtonTextStaff},Z.a.t("allRoles.staff"))))}}]),n}(o.Component),Ol=Tn((function(e){var t=e.accent,n=e.okay,r=On.a.create({roleButtonText:vl(vl({},Ln),{},{fontSize:40,letterSpacing:1.75}),roleButtonIcon:{fontSize:50,marginRight:15}});return On.a.create({roleButton:{height:100,flexDirection:"row",alignItems:"center"},roleButtonTextStaff:vl(vl({},r.roleButtonText),{},{color:n}),roleButtonTextStudent:vl(vl({},r.roleButtonText),{},{color:t}),roleButtonIconStaff:vl(vl({},r.roleButtonIcon),{},{color:n}),roleButtonIconStudent:vl(vl({},r.roleButtonIcon),{},{color:t})})})),Cl=Object(xn.h)(Sl);function Rl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var wl=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),Pl=function(e){yn()(n,e);var t=Rl(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,a=e.theme,i=Ec(a),c=Kt.Discover;return o.createElement(Uc,un()({title:o.createElement(ai,{category:c,textStyle:i.categoryTitleText}),subtitle:Z.a.t("onboarding.offersDiscover.subtitle")},this.props),Fc(n,c,t,r))}}]),n}(o.Component),Tl=wl(Object(xn.h)(Pl));function xl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var kl=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),jl=function(e){yn()(n,e);var t=xl(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,a=e.theme,i=Ec(a),c=Kt.Collaborate;return o.createElement(Uc,un()({title:o.createElement(ai,{category:c,textStyle:i.categoryTitleText}),subtitle:Z.a.t("onboarding.offersCollaborate.subtitle")},this.props),Fc(n,c,t,r))}}]),n}(o.Component),Il=kl(Object(xn.h)(jl));function Dl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var _l=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),Al=function(e){yn()(n,e);var t=Dl(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,a=e.theme,i=Ec(a),c=Kt.Meet;return o.createElement(Uc,un()({title:o.createElement(ai,{category:c,textStyle:i.categoryTitleText}),subtitle:Z.a.t("onboarding.offersMeet.subtitle")},this.props),Fc(n,c,t,r))}}]),n}(o.Component),Ll=_l(Object(xn.h)(Al));function Fl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ml=function(e){yn()(n,e);var t=Fl(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this,t=ke.map((function(e){return Z.a.t("degrees."+e)})),n=this.props,r=n.degree,a=Ko(!1,n.theme);return o.createElement(xn.b,un()({onPress:function(t){e.props.onUpdate&&e.props.onUpdate(-1==t?void 0:ke[t])},selectedIndex:r?ke.indexOf(r):-1,buttons:t},a))}}]),n}(o.Component),Bl=Object(xn.h)(Ml);function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Vl=Object(Wn.b)((function(e){return{onboardingState:e.auth.onboarding}})),Gl=xe.c().shape({degree:We}),zl=function(e){yn()(n,e);var t=Hl(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"submit",value:function(e){this.props.dispatch(ve(e)),this.props.next()}},{key:"studentRender",value:function(){var e=this,t=this.props,n=t.onboardingState,r=t.theme,a=Wl(r);return o.createElement(pr.a,{initialValues:n,validationSchema:Gl,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,i=t.errors,c=t.touched,s=t.setFieldValue;return o.createElement(Uc,un()({title:Z.a.t("onboarding.roleSpecific1.student.title"),handleSubmit:n},e.props),o.createElement(vr,{style:a.label},Z.a.t("levelOfStudy")),o.createElement(Bl,{degree:r.degree,onUpdate:function(e){return s("degree",e)}}),c.degree&&o.createElement(Cr,{error:i.degree}))}))}},{key:"staffRender",value:function(){var e=this.props,t=e.theme,n=e.onboardingState,r=e.dispatch,a=ql(t),i=n.staffRoles,c=Object.values(i).some((function(e){return!0===e})),s=function(e,t){return r(ve({staffRoles:Ul(Ul({},i),{},u()({},e,t))}))},l=De.map((function(e,n){return o.createElement(Rn.a,{key:n,style:a.button,activeOpacity:.6,onPress:function(){return s(e,!i[e])}},o.createElement(ra.a,{name:_e[n],style:a.buttonIcon}),o.createElement(Cn.a,{style:a.buttonText},Z.a.t("staffRoles."+e)),o.createElement(Lo.a,{value:i[e],thumbColor:t.accent,trackColor:{true:t.accentTernary,false:t.accentSlight},onValueChange:function(t){return s(e,t)}}))}));return o.createElement(Uc,un()({title:Z.a.t("onboarding.roleSpecific1.staff.title"),hideNavNext:!c},this.props),l)}},{key:"render",value:function(){var e=this.props.onboardingState;return o.createElement(o.Fragment,null,"student"===e.type&&this.studentRender(),"staff"===e.type&&this.staffRender())}}]),n}(o.Component),Wl=Tn((function(){return On.a.create({label:{marginTop:30}})})),ql=Tn((function(e){return On.a.create({button:{height:60,flexDirection:"row",alignItems:"center"},buttonText:Ul(Ul({},Ln),{},{fontSize:25,letterSpacing:1.25,color:e.text,flexGrow:1}),buttonIcon:{fontSize:30,marginRight:10,color:e.accent}})})),Kl=Vl(Object(xn.h)(zl));function Yl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Jl=function(e){yn()(n,e);var t=Yl(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=hr()(e,["theme"]),r=Ql(t);return i.a.createElement(ao,un()({},n,{renderContent:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Cn.a,{style:r.text},Z.a.t("tos.modal.disclaimer1"),"\n\n",Z.a.t("tos.modal.disclaimer2")),i.a.createElement(wn.a,{style:r.actionButtonsWrapper},i.a.createElement($a.a,{style:[r.actionButton,r.actionButtonCancel],onPress:function(){return e()}},i.a.createElement(Cn.a,{style:[r.actionText]},Z.a.t("cancel"))),i.a.createElement($a.a,{style:[r.actionButton,r.actionButtonDecline],onPress:function(){e(),$t("LoginScreen")}},i.a.createElement(Cn.a,{style:r.actionText},Z.a.t("tos.decline")))))}}))}}]),n}(i.a.Component),Ql=Tn((function(e){return On.a.create({actionButtonsWrapper:{width:"100%",flexDirection:"row",marginTop:20,justifyContent:"space-evenly"},actionButton:{width:110,maxWidth:"40%",borderRadius:3,paddingVertical:10,elevation:2},actionButtonCancel:{backgroundColor:e.accentSecondary},actionButtonDecline:{backgroundColor:e.error},actionText:{fontWeight:"bold",textAlign:"center",color:e.textInverted},text:{fontSize:16,textAlign:"justify"}})})),Xl=Object(xn.h)(Jl);var Zl=function(e){var t=e.text,n=hr()(e,["text"]);return o.createElement(Cn.a,un()({},n,{style:[n?n.style:{},{color:"#2e78b7"}]}),t)};function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var nu=function(e){yn()(n,e);var t=tu(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={declined:!1},r}return Ct()(n,[{key:"decline",value:function(){this.setState(eu(eu({},this.state),{},{declined:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.next,a=vc(n);return o.createElement(Uc,un()({title:Z.a.t("onboarding.tos.title"),subtitle:Z.a.t("onboarding.tos.subtitle"),hideNavNext:!0},this.props),o.createElement(Cn.a,{style:a.readMoreText},Z.a.t("tos.readMore")[0],o.createElement(Zl,{onPress:function(){return console.log("press")},text:Z.a.t("tos.readMore")[1]}),Z.a.t("tos.readMore")[2]),o.createElement(wn.a,{style:a.actionsWrapper},o.createElement(Rn.a,{style:a.actionButton,onPress:function(){return e.decline()}},o.createElement(Cn.a,{style:a.actionButtonTextDecline},Z.a.t("tos.decline")),o.createElement(ra.a,{name:"close",style:a.actionButtonTextDecline})),o.createElement(Rn.a,{style:a.actionButton,onPress:function(){return r()}},o.createElement(Cn.a,{style:a.actionButtonTextAccept},Z.a.t("tos.accept")),o.createElement(ra.a,{name:"check",style:a.actionButtonTextAccept}))),this.state.declined&&o.createElement(Xl,{visible:!0,onHide:function(){return e.setState(eu(eu({},e.state),{},{declined:!1}))}}))}}]),n}(o.Component),ru=Object(xn.h)(nu);function au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?au(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var cu=function(e){yn()(n,e);var t=iu(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={declined:!1},r}return Ct()(n,[{key:"decline",value:function(){this.setState(ou(ou({},this.state),{},{declined:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.next,a=vc(n);return o.createElement(Uc,un()({title:Z.a.t("onboarding.privacy.title"),subtitle:Z.a.t("onboarding.privacy.subtitle"),hideNavNext:!0},this.props),o.createElement(Cn.a,{style:a.readMoreText},Z.a.t("privacy.readMore")[0],o.createElement(Zl,{onPress:function(){return console.log("press")},text:Z.a.t("privacy.readMore")[1]}),Z.a.t("privacy.readMore")[2]),o.createElement(wn.a,{style:a.actionsWrapper},o.createElement(Rn.a,{style:a.actionButton,onPress:function(){return e.decline()}},o.createElement(Cn.a,{style:a.actionButtonTextDecline},Z.a.t("tos.decline")),o.createElement(ra.a,{name:"close",style:a.actionButtonTextDecline})),o.createElement(Rn.a,{style:a.actionButton,onPress:function(){return r()}},o.createElement(Cn.a,{style:a.actionButtonTextAccept},Z.a.t("tos.accept")),o.createElement(ra.a,{name:"check",style:a.actionButtonTextAccept}))),this.state.declined&&o.createElement(Xl,{visible:!0,onHide:function(){return e.setState(ou(ou({},e.state),{},{declined:!1}))}}))}}]),n}(o.Component),su={OnboardingNameScreen:qc,OnboardingPersonalInfoScreen:Hs,OnboardingLanguageScreen:ll,OnboardingInterestsScreen:yl,OnboardingRoleScreen:Cl,OnboardingRoleSpecificScreen:Kl,OnboardingOffersScreen1:Tl,OnboardingOffersScreen2:Il,OnboardingOffersScreen3:Ll,OnboardingTosScreen:ru,OnboardingPrivacyScreen:Object(xn.h)(cu)},lu=["OnboardingNameScreen","OnboardingTosScreen","OnboardingPrivacyScreen","OnboardingPersonalInfoScreen","OnboardingLanguageScreen","OnboardingInterestsScreen","OnboardingRoleScreen","OnboardingRoleSpecificScreen","OnboardingOffersScreen1","OnboardingOffersScreen2","OnboardingOffersScreen3"];function uu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var fu=Object(rr.a)(),pu=lu.map((function(e,t){var n=su[e],r=t<lu.length-1,a=function(){r&&$t(lu[t+1])},i=function(){t>0&&$t(lu[t-1])},c=function(e){yn()(s,e);var c=uu(s);function s(){return St()(this,s),c.apply(this,arguments)}return Ct()(s,[{key:"render",value:function(){return o.createElement(n,{next:a,previous:i,index:t,hasNext:r})}}]),s}(o.Component);return o.createElement(fu.Screen,{key:t,name:e,component:c,options:{title:en(e)}})}));function du(){return o.createElement(fu.Navigator,{initialRouteName:lu[0],tabBarOptions:{showLabel:!1,showIcon:!1},tabBar:function(){return o.createElement(o.Fragment,null)},springConfig:{stiffness:500,damping:2e3,mass:5},swipeEnabled:!1,lazy:!0,lazyPreloadDistance:0},pu)}function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var yu=function(e){yn()(n,e);var t=gu(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=bu(e);return o.createElement(wn.a,{style:t.container},o.createElement(d.a,{style:t.icon,name:"home"}),o.createElement(Cn.a,{style:t.title},Z.a.t("onboarding.profileCreated")),o.createElement(wn.a,{style:t.separator}),o.createElement(Rn.a,{style:t.button,onPress:function(){return $t("MainScreen")}},o.createElement(Cn.a,{style:t.buttonText},Z.a.t("onboarding.getStarted"))))}}]),n}(o.Component),bu=Tn((function(e){return On.a.create({container:{flex:1,width:"100%",alignItems:"center",justifyContent:"center",backgroundColor:e.background},title:{width:"85%",textAlign:"center",fontSize:20,letterSpacing:.5,color:e.text},icon:{color:e.text,fontSize:40,marginVertical:20},separator:{marginVertical:30,height:1,width:"80%",backgroundColor:e.cardBackground},button:{marginVertical:20,padding:5,borderBottomWidth:.75,borderBottomColor:e.textLight},buttonText:mu(mu({},Ln),{},{fontSize:20,letterSpacing:1.5,textTransform:"uppercase",color:e.text})})})),vu=Object(xn.h)(yu);function Eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Cu=function(e){yn()(n,e);var t=Ou(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={loading:!1},r}return Ct()(n,[{key:"onPress",value:function(){var e=this;this.state.loading||(this.setState(Su(Su({},this.state),{},{loading:!0})),this.props.onPress().then((function(){return e.setState(Su(Su({},e.state),{},{loading:!1}))})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.style,a=t.textStyle,i=t.loadingIndicatorStyle,c=t.color,s=t.theme,l=this.state.loading;return o.createElement(Rn.a,un()({accessibilityRole:"button",accessibilityLabel:n},{onPress:l?void 0:function(){return e.onPress()}},{style:r}),l&&o.createElement(zn.a,{color:c||s.accentTernary,style:[{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"},i]}),o.createElement(Cn.a,{style:[{opacity:l?0:1},a]},n))}}]),n}(o.Component),Ru=Object(xn.h)(Cu);function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var xu=function(e){yn()(n,e);var t=Tu(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"getRoomId",value:function(){var e=this.props.route.params;return e&&e.roomId||null}},{key:"chat",value:function(){var e,t,n,r,a,o,i;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=an.dispatch,!(t=this.getRoomId())){c.next=13;break}return n=new Promise((function(t){return e(kt((function(e){return t(e)})))})),c.next=6,s.a.awrap(Promise.all([e(Ht(t)),n]));case 6:if(r=c.sent,a=p()(r,2),o=a[0],i=a[1],!o){c.next=13;break}return i&&$t("ChatScreen",{roomId:o.id}),c.abrupt("return");case 13:$t("TabMessaging");case 14:case"end":return c.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.props.theme,n=ku(t);return o.createElement(An,null,o.createElement(wn.a,{style:n.container},o.createElement(Cn.a,{style:n.title},Z.a.t("matching.success.title")),o.createElement(wn.a,{style:n.separator}),o.createElement(Ru,{text:Z.a.t("matching.success.chat"),textStyle:n.actionText,style:n.actionButton,onPress:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(e.chat());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)}}),o.createElement(Rn.a,{style:[n.actionButton,{backgroundColor:t.actionNeutral}],onPress:function(){return $t("TabMatchingScreen")}},o.createElement(Cn.a,{style:n.actionText},Z.a.t("matching.success.continue")))))}}]),n}(o.Component),ku=Tn((function(e){return On.a.create({container:{flex:1,width:"100%",alignItems:"center",justifyContent:"center",backgroundColor:e.okay},title:Pu(Pu({width:"100%",textAlign:"center"},Ln),{},{fontSize:32,color:e.text,letterSpacing:1,textTransform:"uppercase"}),separator:{marginVertical:30,height:1,width:"80%",backgroundColor:e.cardBackground,opacity:.3},actionButton:{backgroundColor:e.accent,paddingHorizontal:30,paddingVertical:10,marginVertical:20,borderRadius:20},actionText:{color:e.textWhite,fontSize:18,letterSpacing:1,textTransform:"uppercase"}})})),ju=Object(xn.h)(xu);function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Au=xe.c().shape({password:Fe,passwordRepeat:Me}),Lu=function(e){yn()(n,e);var t=_u(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).pwdRepeatRef=o.createRef(),r.state={submitting:!1},r}return Ct()(n,[{key:"submit",value:function(e){var t=this,n=this.props,r=n.token,a=n.onSuccessfulSubmit;this.setState(Du(Du({},this.state),{},{submitting:!0})),r?an.dispatch(function(e,t){return function(n){var r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(k("auth/password/reset","POST",{},{token:e,password:t}));case 2:if((r=a.sent).status!=j.OK){a.next=8;break}return n(ye()),a.abrupt("return",{success:!0});case 8:return a.abrupt("return",{success:!1,errors:te(r)});case 9:case"end":return a.stop()}}),null,null,null,Promise)}}(r,e.password)).then((function(n){var r=n.success,o=n.errors;if(r&&a&&a(e),o&&o.fields){var i=o.fields;Object.keys(i).forEach((function(e){return t.setFieldError&&t.setFieldError(e,$(i[e]))}))}t.setState({remoteErrors:o,submitting:!1})})):this.setState({remoteErrors:{general:"error.reset_password_no_token",fields:{}},submitting:!1})}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state,r=n.remoteErrors,a=n.submitting,i=Fu(t),c=Ir(t);return o.createElement(o.Fragment,null,o.createElement(wn.a,{style:i.titleWrapper},o.createElement(Cn.a,{style:i.title},Z.a.t("resetPassword.title"))),o.createElement(pr.a,{initialValues:{password:"",passwordRepeat:""},validationSchema:Au,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(n){var s=n.handleSubmit,l=n.values,u=n.errors,f=n.touched,p=n.handleChange,d=n.handleBlur,h=n.setFieldError,m=Du({handleChange:p,handleBlur:d},Dr(t,15));return e.setFieldError=h,o.createElement(o.Fragment,null,o.createElement(jr,un()({field:"password",placeholder:Z.a.t("password"),error:u.password,value:l.password,touched:f.password,isPassword:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdRepeatRef.current)?void 0:t.focus()}},m)),o.createElement(mr.a,{style:{width:1,height:1}}),o.createElement(jr,un()({ref:e.pwdRepeatRef,field:"passwordRepeat",placeholder:Z.a.t("passwordRepeat"),error:u.passwordRepeat,value:l.passwordRepeat,touched:f.passwordRepeat,isPassword:!0,returnKeyType:"done"},m)),o.createElement(Mr,{error:ne(r)}),o.createElement(wn.a,{style:c.actionRow},o.createElement(Ur,{onPress:function(){return s()},style:[c.buttonMajor,i.button],textStyle:c.buttonMajorText,text:Z.a.t("resetPassword.button"),submitting:a})))})))}}]),n}(o.Component),Fu=Tn((function(e){return On.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},button:{width:"60%",backgroundColor:e.accent}})})),Mu=Object(xn.h)(Lu);function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Hu=function(e){yn()(n,e);var t=Uu(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={},r}return Ct()(n,[{key:"componentDidMount",value:function(){var e=this.props.route.params;e&&e.token&&this.setState(Nu(Nu({},this.state),{},{token:e.token}))}},{key:"render",value:function(){var e=this.state.token;return o.createElement(An,null,o.createElement(Ea,null,o.createElement(Mu,{token:e})))}}]),n}(o.Component),Vu=Object(xn.h)(Hu);function Gu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var zu=function(e){yn()(n,e);var t=Gu(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=Wu(e);return o.createElement(An,null,o.createElement(wn.a,{style:t.container},o.createElement(d.a,{name:"envelope-o",style:t.mailIcon}),o.createElement(Cn.a,{style:t.description},Z.a.t("resetPassword.instructions"))))}}]),n}(o.Component),Wu=Tn((function(e){return On.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},description:{fontSize:16,textAlign:"center",color:e.text},mailIcon:{marginVertical:30,fontSize:50,color:e.text}})})),qu=Object(xn.h)(zu);function Ku(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Yu=function(e){yn()(n,e);var t=Ku(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=Ju(e),n=Ir(e);return o.createElement(An,null,o.createElement(wn.a,{style:t.container},o.createElement(Cn.a,{style:t.successText},Z.a.t("resetPassword.success")),o.createElement(Rn.a,{style:[n.buttonMajor,t.button],onPress:function(){return $t("LoginScreen")}},o.createElement(Cn.a,{style:n.buttonMajorText},Z.a.t("login")),o.createElement(Hr.a,{name:"login",style:t.buttonIcon}))))}}]),n}(o.Component),Ju=Tn((function(e){return On.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},successText:{fontSize:18,lineHeight:40,textAlign:"center",color:e.text},button:{paddingHorizontal:25,marginTop:20,backgroundColor:e.accent,alignItems:"center",flexDirection:"row"},buttonIcon:{fontSize:20,color:e.textWhite,marginLeft:4}})})),Qu=Object(xn.h)(Yu),Xu=n(292),Zu=n(124),$u=n(293);function ef(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var tf=Object(Wn.b)((function(e){return{activeRoom:e.messaging.activeRoom,localChatUser:e.messaging.localChatUser,connected:e.messaging.socketState.connected,connecting:e.messaging.socketState.connecting}})),nf=function(e){yn()(n,e);var t=ef(n);function n(){var e;St()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).ref=o.createRef(),e}return Ct()(n,[{key:"connectToRoom",value:function(){var e=this.props.route,t=this.props.dispatch;if(e.params){var n=e.params.roomId;if(n){var r=an.getState().messaging.matchRooms[n];r?t(Dt(r)):t(Ht(n)).then((function(e){e&&t(Dt(e))}))}}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.connected,r=t.connecting,a=t.dispatch;n?this.connectToRoom():r||a(kt()),this.props.navigation.addListener("blur",(function(){return e.onBlur()})),this.props.navigation.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"onBlur",value:function(){var e,t=this.props,n=t.dispatch,r=t.activeRoom;r&&n((e=r,Tt.leaveRoom(e),{type:bt.LEAVE_ROOM}))}},{key:"onFocus",value:function(){var e=this.props.activeRoom;e&&e.messages.length<12&&this.fetchEarlier()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activeRoom,r=t.connected;!e.connected&&r&&this.connectToRoom(),!e.activeRoom&&n&&1==n.messagePagination.page&&this.fetchEarlier()}},{key:"fetchEarlier",value:function(){var e,t=this.props,n=t.dispatch,r=t.activeRoom;r&&!r.messagePagination.fetching&&n((e=r,function(t,n){var r,a,o,i,c,l,u,f,p,d,h,m;return s.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(r=n(),a=r.messaging,o=a.socketState.connected,i=a.localChatUser,c=r.auth.token,!(l=e.messagePagination).fetching&&l.canFetchMore){g.next=6;break}return g.abrupt("return");case 6:if(!o||!i){g.next=19;break}return t(Bt(e)),u=e.messages.length>0?e.messages[e.messages.length-1].createdAt.toJSON():void 0,g.next=11,s.a.awrap(k("rooms/"+e.id+"/messages","GET",{page:l.page,limit:12,beforeDate:u},{},c,!0));case 11:if(f=g.sent,p=function(t){var n=e.users.find((function(e){return e._id===t.senderId}));return n?B(n,t):void 0},f.status!==j.OK){g.next=19;break}return h=(d=f).data.map(p).filter((function(e){return void 0!==e})),m=d.meta.currentPage<d.meta.totalPages,t(Ut(e,h,m)),g.abrupt("return");case 19:t(Nt(e));case 20:case"end":return g.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.localChatUser,a=t.dispatch,i=of(n),c=this.props.activeRoom,s=o.createElement(o.Fragment,null);if(c&&r){var l=Object.keys(c.writing).find((function(e){return!0===c.writing[e]})),u=l?c.users.find((function(e){return e._id==l})):void 0,f={};c.messages.length>0&&c.users.forEach((function(e){e._id!=r._id&&e.lastMessageSeenId&&(f[e.lastMessageSeenId]?f[e.lastMessageSeenId].push(e):f[e.lastMessageSeenId]=[e])})),s=o.createElement(mi.d,{ref:this.ref,messages:c.messages,user:r,renderSend:function(e){return o.createElement(mi.g,un()({},e,{containerStyle:i.sendContainer}),o.createElement(ra.a,{name:"send",style:i.send}))},renderBubble:function(e){return o.createElement(mi.b,un()({},e,{renderTicks:function(e){return o.createElement(wn.a,{style:i.messageTicksContainer},e.received&&o.createElement(ra.a,{name:"check",style:i.messageTick}),e.sent&&o.createElement(ra.a,{name:"check",style:i.messageTick}))},textStyle:{left:i.bubbleTextLeft,right:i.bubbleTextRight},wrapperStyle:{left:i.bubbleWrapperLeft,right:i.bubbleWrapperRight}}))},renderMessage:function(e){var t=e.currentMessage?f[e.currentMessage._id]:void 0;return t?o.createElement(wn.a,null,o.createElement(mi.f,un()({},e,{containerStyle:{right:{marginBottom:0},left:{}}})),o.createElement(wn.a,{style:i.messageReadContainer},t.map((function(e){return o.createElement(mi.c,{key:"read-message-"+e._id,user:e,avatarStyle:i.messageReadAvatar,textStyle:i.messageReadAvatarText})})))):o.createElement(mi.f,e)},renderInputToolbar:function(e){return o.createElement(mi.e,un()({},e,{containerStyle:i.inputToolbarContainer,primaryStyle:i.inputToolbarPrimary}))},renderFooter:function(){return o.createElement(rf,{userWriting:u,theme:n})},renderActions:function(e){return o.createElement(af,{actionsProps:e,theme:n})},onInputTextChanged:function(e){e.length>0&&Tt.setWriting(c)},onSend:function(e){e.forEach((function(e){return a(At(e._id+"",e.text,e.createdAt))}))},loadEarlier:c.messagePagination.canFetchMore&&c.messagePagination.fetching,isLoadingEarlier:c.messagePagination.fetching,onLoadEarlier:function(){e.fetchEarlier()},timeFormat:"HH:mm",listViewProps:{onEndReached:function(){return e.fetchEarlier()}},textInputProps:{autoFocus:!1,style:i.textInput,multiline:!0},minInputToolbarHeight:65})}return o.createElement(wn.a,{style:i.container},s)}}]),n}(o.Component);function rf(e){var t=e.userWriting,n=e.theme;return t?o.createElement(wn.a,{style:{height:50,paddingTop:10}},o.createElement(mi.f,{key:"isWriting",user:t,showUserAvatar:!0,position:"left",renderAvatar:function(e){return o.createElement(mi.c,un()({},e,{user:t}))},renderBubble:function(e){return o.createElement(mi.b,un()({},e,{wrapperStyle:{left:{backgroundColor:"transparent"},right:{}},renderCustomView:function(){return o.createElement($u.a,{dotColor:n.textLight,dotAmplitude:3,dotSpeed:.16,dotMargin:8,dotRadius:4,dotX:20,dotY:-25})}}))}})):o.createElement(o.Fragment,null)}function af(e){var t=e.actionsProps,n=e.theme,r=of(n);return o.createElement(o.Fragment,null,o.createElement(mi.a,un()({},t,{containerStyle:r.actionContainer,icon:function(){return o.createElement(ra.a,{style:r.actionIcon,name:"photo-camera"})},options:{"Send a picture":function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(Xu.a({mediaTypes:Zu.a.Images,allowsEditing:!0,aspect:[1,1]}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}}})),o.createElement(mi.a,un()({},t,{containerStyle:r.actionContainer,icon:function(){return o.createElement(ra.a,{style:r.actionIcon,name:"build"})},options:{"Spam Lorem Ipsum":function(){var e,t,n,r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?",e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?".split(" "),t=0;t<e.length;)n=1+Math.min(Math.floor(12*Math.random()),e.length-1-t),r=e.slice(t,t+n).join(" "),a=mi.d.defaultProps.messageIdGenerator(),an.dispatch(At(a,r,new Date)),t+=n;case 4:case"end":return o.stop()}}),null,null,null,Promise)}}})))}var of=Tn((function(e){return On.a.create({container:{flex:1,backgroundColor:e.cardBackground,justifyContent:"center"},inputToolbarContainer:{justifyContent:"center",borderTopWidth:0,backgroundColor:e.cardBackground},inputToolbarPrimary:{alignItems:"flex-end"},textInput:{backgroundColor:e.cardBackground,borderWidth:1,borderColor:e.componentBorder,borderRadius:20,marginVertical:10,marginHorizontal:20,minHeight:45,paddingHorizontal:15,paddingVertical:5,fontSize:15,flex:1,alignItems:"center",alignSelf:"flex-end",textAlignVertical:"center",color:e.text},send:{fontSize:30,color:e.accent},sendContainer:{height:45,justifyContent:"center",marginVertical:10,marginRight:10},actionContainer:{height:45,justifyContent:"center"},actionIcon:{fontSize:28,width:28,height:28,color:e.text},bubbleWrapperLeft:{backgroundColor:e.chatBubble},bubbleWrapperRight:{},bubbleTextLeft:{color:e.text},bubbleTextRight:{},messageReadContainer:{flexDirection:"row",justifyContent:"flex-end",paddingRight:8,paddingTop:2,paddingBottom:8},messageReadAvatar:{width:20,height:20},messageReadAvatarText:{fontSize:12},messageTicksContainer:{marginRight:4,minWidth:15},messageTick:{fontSize:14,color:e.textWhite}})})),cf=tf(Object(xn.h)(nf));function sf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var lf=Object(Wn.b)((function(e){var t,n;return{activeRoom:e.messaging.activeRoom,profileId:null==(t=e.profile.user)||null==(n=t.profile)?void 0:n.id}})),uf=function(e){yn()(n,e);var t=sf(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"back",value:function(){$t("TabMessaging")}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.activeRoom,a=t.profileId,i=t.insets,c=ff(n),s=Fi(n);if(r){var l=r.users.filter((function(e){return e._id!=a}))[0];return o.createElement(wn.a,{style:[{paddingTop:i.top},s.wrapper]},o.createElement(wn.a,{style:s.container},o.createElement(Rn.a,{style:s.backButton,onPress:function(){return e.back()}},o.createElement(ra.a,{style:[s.backButtonIcon,{color:n.text}],name:"arrow-back"})),o.createElement(mi.c,{avatarStyle:[s.avatarContainer,c.avatar],user:l,onPress:function(){return $t("ProfileScreen",{id:l._id})}}),o.createElement(Cn.a,{style:c.name,numberOfLines:1},l.name)))}return o.createElement(o.Fragment,null)}}]),n}(o.Component),ff=Tn((function(e){return On.a.create({avatar:{marginRight:10},name:{flex:1,fontSize:18,color:e.text}})})),pf=lf(Object(xn.h)(uf));function df(e){return o.createElement(pf,e)}var hf=Tn((function(){return On.a.create({container:{height:35,marginLeft:0,marginRight:0}})})),mf=Object(xn.h)((function(e){var t=e.role,n=e.onSelect,r=e.theme,a=hr()(e,["role","onSelect","theme"]),i=hf(r),c=Ko(!1,r),s=Ie.map((function(e){return Z.a.t("allRoles."+e)}));return o.createElement(xn.b,un()({onPress:function(e){n&&n(Ie[e])},selectedIndex:Ie.indexOf(t),buttons:s,containerStyle:i.container},c,a))}));var gf=Tn((function(e){return On.a.create({button:{height:40,alignItems:"center"},value:{letterSpacing:.5,fontSize:16,color:e.text},icon:{fontSize:20,marginRight:6}})})),yf=Object(xn.h)((function(e){var t=e.staffRoles,n=e.multiple,r=e.atLeastOne,a=e.buttonStyle,i=e.onChange,c=e.theme,s=gf(c);return o.createElement(Ks,{values:De,label:function(e){return Z.a.t("staffRoles."+e)},icon:function(e,t){return o.createElement(ra.a,{name:_e[t],style:s.icon})},selected:t,valueStyle:s.value,buttonStyle:[s.button,a],onSelect:function(e){i&&i(e)},multiple:n,atLeastOne:r})})),bf=n(514);function vf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ef=function(e){yn()(n,e);var t=vf(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"componentDidCatch",value:function(e,t){console.log("Error caught by ErrorBoundary: "+e.name+" - "+e.message),console.log("Stack :",t.componentStack)}},{key:"render",value:function(){return o.createElement(o.Fragment,null,this.props.children)}}]),n}(o.Component);function Sf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Of=new Date(1920,0,0),Cf=new Date(Date.now());Cf.setFullYear(Cf.getFullYear()-18);var Rf=function(e){yn()(n,e);var t=Sf(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"onChange",value:function(e){e&&this.props.onSelect&&this.props.onSelect(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,r=t.open,a=t.theme,i=o.createElement(bf.a,un()({minimumDate:Of,maximumDate:Cf,value:n||Cf,display:"default",mode:"date",textColor:a.text},"ios"===Xt.a.OS?{style:{width:"100%"}}:{},{onChange:function(t,n){return e.onChange(n)}}));return"ios"===Xt.a.OS?o.createElement(ao,{visible:r,renderContent:function(){return i}}):r?o.createElement(Ef,null,i):o.createElement(o.Fragment,null)}}]),n}(o.Component),wf=Object(xn.h)(Rf),Pf=n(225);function Tf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var xf=function(e){yn()(n,e);var t=Tf(n);function n(){var e;St()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).ensurePermission=function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"===Xt.a.OS){n.next=14;break}return n.next=3,s.a.awrap(Pf.c(Pf.a));case 3:if(e=n.sent,"granted"===(t=e.status)){n.next=14;break}return n.t0=s.a,n.next=9,s.a.awrap(Pf.b(Pf.a));case 9:return n.t1=n.sent.status,n.next=12,n.t0.awrap.call(n.t0,n.t1);case 12:return t=n.sent,n.abrupt("return","granted"===t);case 14:return n.abrupt("return",!0);case 15:case"end":return n.stop()}}),null,null,null,Promise)},e.showPicker=function(){var t,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.ensurePermission()){r.next=13;break}return r.prev=2,r.next=5,s.a.awrap(Xu.a({mediaTypes:Zu.a.Images,allowsEditing:!0,aspect:[1,1],quality:.75}));case 5:(t=r.sent).cancelled||(n=t,e.props.onPictureSelected&&e.props.onPictureSelected(n)),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),console.error("Could not get image. Check console for error."),console.log(r.t0);case 13:case"end":return r.stop()}}),null,null,[[2,9]],Promise)},e}return Ct()(n,[{key:"render",value:function(){var e=this,t=this.props.theme,n=kf(t);return o.createElement(ra.a,{onPress:function(){return e.showPicker()},style:n.buttonStyle,name:"edit"})}}]),n}(o.Component),kf=Tn((function(e){return On.a.create({buttonStyle:{position:"absolute",bottom:0,right:0,borderRadius:20,padding:4,backgroundColor:e.cardBackground,color:e.text,fontSize:20,elevation:2}})})),jf=Object(xn.h)(xf),If=n(75);function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Af(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Lf=function(e){yn()(n,e);var t=Af(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).renderModalContent=function(){var e=r.props,t=e.label,n=e.renderInput,a=e.oneLine,i=r.state,c=i.value,s=i.error;return o.createElement(xn.e,null,(function(e){var i=e.theme,l=Ff(a)(i),u=Ir(i);return o.createElement(Rn.a,{style:l.modalTouchable,onPress:function(){return r.setModal(!1)},activeOpacity:1},o.createElement(Rn.a,{activeOpacity:1,style:l.modalWrapper},o.createElement(Cn.a,{style:l.modalLabel},t),n&&c?n(c,s,(function(e){return r.onChange(e)})):o.createElement(o.Fragment,null),o.createElement(Cn.a,{style:l.modalErrorText},s?Z.a.t(s):""),o.createElement(wn.a,{style:[u.actionRow,l.modalActions]},o.createElement(Rn.a,{accessibilityRole:"button",accessibilityLabel:Z.a.t("cancel"),onPress:function(){return r.setModal(!1)},style:[u.buttonMajor,l.modalCancel]},o.createElement(Cn.a,{style:[u.buttonMajorText,l.modalActionText]},Z.a.t("cancel"))),o.createElement(Rn.a,{accessibilityRole:"button",accessibilityLabel:Z.a.t("apply"),onPress:function(){return r.apply()},style:[u.buttonMajor,l.modalOk]},o.createElement(Cn.a,{style:[u.buttonMajorText,l.modalActionText]},Z.a.t("apply"))))))}))},r.state={modalOpen:!1,error:null,value:e.initialValue},r}return Ct()(n,[{key:"setModal",value:function(e){this.setState(_f(_f({},this.state),{},{modalOpen:e,value:this.props.initialValue,error:null}))}},{key:"setError",value:function(e){this.setState(_f(_f({},this.state),{},{error:e}))}},{key:"onChange",value:function(e){var t=this;this.setState(_f(_f({},this.state),{},{value:e}),(function(){t.validate()}))}},{key:"validate",value:function(){var e=this.props.validator;if(!e)return!0;try{return e.validateSync(this.state.value),this.setError(null),!0}catch(t){return this.setError(t.errors[0]),!1}}},{key:"apply",value:function(){this.validate()&&(this.setModal(!1),this.props.apply&&this.state.value&&this.props.apply(this.state.value))}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.icon,a=t.display,i=t.overrideModal,c=t.noModal,s=t.style,l=t.locked,u=t.oneLine,f=t.onPress,p=hr()(t,["label","icon","display","overrideModal","noModal","style","locked","oneLine","onPress"]),d=this.state.modalOpen;return o.createElement(xn.e,null,(function(t){var h=t.theme,m=Ff(u)(h);return o.createElement(o.Fragment,null,o.createElement(Rn.a,un()({style:[m.cardWrapper,s],activeOpacity:.9,disabled:c&&!f,onPress:function(){c?f&&f():l||e.setModal(!0)}},p),o.createElement(wn.a,{style:m.cardContent},o.createElement(wn.a,{style:m.cardLabelContainer},r,o.createElement(Cn.a,{style:m.cardLabel},n)),o.createElement(wn.a,null,void 0!==a&&a,void 0===a&&e.props.children)),!c&&o.createElement(wn.a,{style:m.rightIconContainer},o.createElement(ra.a,{name:l?"lock":"keyboard-arrow-right",size:l?30:40,style:m.rightIcon}))),!c&&o.createElement(o.Fragment,null,void 0!==i&&d&&i((function(){return e.setModal(!1)})),void 0===i&&d&&("web"===Xt.a.OS?o.createElement(ao,{visible:d,renderContent:function(){return e.renderModalContent()}}):o.createElement(If.a,{transparent:!0,visible:d,animationType:"slide"},e.renderModalContent()))))}))}}]),n}(o.Component),Ff=function(e){return Tn((function(t){return On.a.create({modalTouchable:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)"},modalWrapper:{width:"80%",maxWidth:500,backgroundColor:t.cardBackground,paddingHorizontal:10,paddingVertical:20,borderRadius:4,borderColor:"#ccc",borderWidth:.5,borderStyle:"solid"},modalErrorText:{fontSize:12,color:t.error},modalLabel:{color:t.textLight,textTransform:"uppercase",letterSpacing:1.5,fontSize:13,marginBottom:12},modalActions:{height:50,marginTop:20},modalCancel:{flex:1,backgroundColor:t.actionNeutral,marginRight:6,height:50},modalOk:{flex:1,backgroundColor:t.accent,marginLeft:6,height:50},modalActionText:{lineHeight:50},cardWrapper:{width:"100%",flexDirection:"row",backgroundColor:t.cardBackground,paddingHorizontal:10,justifyContent:"space-evenly",paddingVertical:15,minHeight:e?0:80,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.18,shadowRadius:1,elevation:1},cardContent:{flex:1,flexDirection:e?"row":"column",justifyContent:"space-between"},cardLabelContainer:{flexDirection:"row",alignItems:"center",marginBottom:e?0:10},cardLabel:{color:t.textLight,textTransform:"uppercase",letterSpacing:1,fontSize:11},rightIconContainer:{justifyContent:"center"},rightIcon:{color:t.textLight}})}))},Mf=Lf;function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Hf=function(e){yn()(n,e);var t=Uf(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={enlarged:!1},r}return Ct()(n,[{key:"toggleEnlarged",value:function(){this.setState(Nf(Nf({},this.state),{},{enlarged:!this.state.enlarged}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.children,a=t.profile,i=hr()(t,["theme","children","profile"]),c=this.state.enlarged,s=Vf(n);return o.createElement(o.Fragment,null,o.createElement(ho,un()({profile:a},i,i.source||null!=a&&a.avatarUrl?{onPress:function(){i.onPress&&i.onPress(),e.toggleEnlarged()}}:{}),r),o.createElement(xn.d,{isVisible:c,onBackdropPress:function(){return e.toggleEnlarged()},overlayStyle:s.overlay,backdropStyle:s.overlayBackdrop},o.createElement(ho,{profile:a,source:i.source,containerStyle:s.enlargedAvatarContainer,avatarStyle:s.enlargedAvatar,activeOpacity:.8,onPress:function(){return e.toggleEnlarged()}})))}}]),n}(o.Component),Vf=Tn((function(){return On.a.create({overlay:{width:"100%",aspectRatio:1,alignItems:"center",justifyContent:"center",backgroundColor:"transparent",elevation:0,shadowOpacity:0},overlayBackdrop:{backgroundColor:"rgba(0, 0, 0, 0.7)"},enlargedAvatar:{borderRadius:300},enlargedAvatarContainer:{width:"100%",height:"100%",maxWidth:400,maxHeight:400,flex:1}})})),Gf=Object(xn.h)(Hf);function zf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}function Wf(){return o.createElement(wn.a,{style:{height:25}})}var qf=function(e){yn()(n,e);var t=zf(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"onFieldChanged",value:function(e){void 0!==this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.user,a=Yf(n),i=r&&r.profile?r.profile.firstName+" "+r.profile.lastName:"",c=o.createElement(o.Fragment,null);if(r&&r.profile){var l=r.profile;c=o.createElement(o.Fragment,null,o.createElement(Mf,{label:Z.a.t("emailAddress"),initialValue:r.email,display:o.createElement(Cn.a,{style:a.cardText},r.email),locked:!0}),o.createElement(Wf,null),o.createElement(Mf,{label:Z.a.t("dateOfBirth"),initialValue:l.birthdate,display:o.createElement(Kc,{style:a.cardText,date:l.birthdate}),overrideModal:function(t){return o.createElement(wf,{date:l.birthdate,open:!0,onSelect:function(n){e.onFieldChanged({birthdate:n}),t()}})}}),o.createElement(Wf,null),o.createElement(Mf,{label:Z.a.t("nationality"),initialValue:l.nationality,display:o.createElement(hs,{style:a.cardText,countryCode:l.nationality}),overrideModal:function(t){return o.createElement(fs,{nationality:l.nationality,onSelect:function(t){return e.onFieldChanged({nationality:t})},onHide:t})}}),o.createElement(Wf,null),o.createElement(Mf,{label:Z.a.t("gender"),initialValue:l.gender,display:o.createElement(os,{gender:l.gender,onSelect:function(t){return e.onFieldChanged({gender:t})}}),noModal:!0}),o.createElement(Wf,null),o.createElement(Mf,{label:Z.a.t("profileType"),initialValue:l.type,display:o.createElement(o.Fragment,null,o.createElement(mf,{role:l.type,disabled:!0}),"staff"==l.type&&o.createElement(yf,{staffRoles:l.staffRoles,onChange:function(t){return e.onFieldChanged({staffRoles:t})},multiple:!0,atLeastOne:!0,buttonStyle:a.staffRoleButton}),"student"==l.type&&o.createElement(Bl,{degree:l.degree,onUpdate:function(t){return e.onFieldChanged({degree:t})}})),noModal:!0}),o.createElement(Wf,null),o.createElement(Mf,{label:Z.a.t("fieldsOfEducation"),initialValue:l.educationFields,display:o.createElement(Ms,{fields:l.educationFields,onChange:function(t){return e.onFieldChanged({educationFields:t})},showChips:!0}),noModal:!0}),o.createElement(Wf,null),o.createElement(Mf,{label:Z.a.t("interests"),initialValue:l.interests,display:o.createElement(dl,{interests:l.interests,onChange:function(t){return e.onFieldChanged({interests:t})},showChips:!0}),noModal:!0}),o.createElement(Wf,null),o.createElement(Mf,{label:Z.a.t("spokenLanguages"),initialValue:l.languages,validator:qe,display:o.createElement(vo,{items:l.languages,label:function(e){return Z.a.t("languageNames."+e.code)+" ("+Z.a.t("languageLevels."+e.level)+")"}}),renderInput:function(e,t,n){return o.createElement(rl,{languages:e,onChange:function(e){return n(e)}})},apply:function(t){return e.onFieldChanged({languages:t})}}),o.createElement(Wf,null),o.createElement(Kf,{category:Kt.Discover,profileOffers:l.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}),o.createElement(Wf,null),o.createElement(Kf,{category:Kt.Collaborate,profileOffers:l.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}),o.createElement(Wf,null),o.createElement(Kf,{category:Kt.Meet,profileOffers:l.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}))}return o.createElement(wn.a,{style:a.screenWrapper},o.createElement(wn.a,{style:a.topView},o.createElement(Gf,{profile:null==r?void 0:r.profile,size:140,rounded:!0,containerStyle:a.avatarContainer,activeOpacity:.8},r&&o.createElement(jf,{onPictureSelected:function(e){var t;an.dispatch((t=e,function(e,n){var r,a,o,i,c,l,u,f,p,d,h;return s.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return r=n().auth.token,m.next=3,s.a.awrap(k("common/signedUrl","GET",{mimeType:"image/jpeg"},{},r));case 3:if(a=m.sent,o=function(){return e({type:N.SET_AVATAR_FAILURE})},a.status!==j.OK){m.next=31;break}return i=a.data,l=(c=i).fileName,u=c.s3Url,m.prev=8,m.t0=s.a,m.next=12,s.a.awrap(fetch(t.uri));case 12:return m.t1=m.sent.blob(),m.next=15,m.t0.awrap.call(m.t0,m.t1);case 15:return f=m.sent,m.next=18,s.a.awrap(fetch(u,{method:"PUT",body:f}));case 18:return m.next=20,s.a.awrap(k("profiles/avatar","POST",{},{fileName:l},r));case 20:(p=m.sent).status===j.OK?(d=p.data,h=d.avatar,e((g=h,{type:N.SET_AVATAR_SUCCESS,avatarUrl:g}))):o(),m.next=29;break;case 24:m.prev=24,m.t2=m.catch(8),console.error(m.t2),console.error("An unexpected error occured with a request to the avatar bucket."),o();case 29:m.next=32;break;case 31:o();case 32:case"end":return m.stop()}var g}),null,null,[[8,24]],Promise)}))}})),o.createElement(Cn.a,{style:a.name},i),r&&o.createElement(fo,{containerStyle:a.universityContainer,style:a.university,university:Ce(r.email)})),o.createElement(ha.a,{style:a.scrollWrapper,keyboardShouldPersistTaps:"always"},o.createElement(ma.a,{behavior:"padding",keyboardVerticalOffset:-100,style:a.formWrapper},o.createElement(wn.a,{style:a.titleWrapper},o.createElement(Cn.a,{style:a.title},Z.a.t("myProfile"))),c,!r&&o.createElement(zn.a,{size:"large",color:n.accent}))))}}]),n}(o.Component),Kf=Object(Wn.b)((function(e){return{offers:e.profile.offers,offerIdToCategory:e.profile.offerIdToCategory}}))((function(e){var t=e.category,n=e.profileOffers,r=e.onApply,a=e.offers,i=e.offerIdToCategory,c=e.theme,s=n.filter((function(e){return i.get(e.offerId)==t}));return o.createElement(Mf,{label:Z.a.t("offerCategories."+t),initialValue:n,display:s.length>0?o.createElement(vo,{items:s,label:function(e){return Z.a.t("allOffers."+e.offerId+".name")}}):o.createElement(Cn.a,{style:{color:c.textLight}},Z.a.t("profile.noOffersSelected")),renderInput:function(e,n,r){return o.createElement(o.Fragment,null,a.filter((function(e){return e.category==t})).map((function(t){return o.createElement(_c,{key:"profile-"+t.id,offer:t,value:e.find((function(e){return e.offerId==t.id}))||Qt(t),onChange:function(n){var a=e.filter((function(e){return e.offerId!=t.id})).concat([n]);r(a)},style:{marginVertical:10}})})))},apply:function(e){return r(e)}})})),Yf=Tn((function(e){return On.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},buttonSend:{flex:1,backgroundColor:e.accent,marginLeft:6},screenWrapper:{backgroundColor:e.background,width:"100%"},topView:{width:"100%",paddingTop:10,paddingBottom:10,alignItems:"center",alignSelf:"center",backgroundColor:e.accent},scrollWrapper:{width:"100%"},formWrapper:{flex:1,width:"90%",maxWidth:600,flexDirection:"column",alignItems:"center",alignSelf:"center",paddingTop:40,marginBottom:300},name:{fontSize:30,color:e.textWhite,marginTop:15},university:{fontSize:14,color:e.textWhite},universityContainer:{marginVertical:5},avatarContainer:{borderColor:e.cardBackground,borderWidth:2,backgroundColor:e.accentSecondary},avatarAccessory:{width:40,height:40,borderRadius:20,borderWidth:0,borderColor:"transparent",shadowRadius:0,textShadowRadius:0,color:"#444"},cardText:{color:e.text},staffRoleButton:{marginTop:10}})})),Jf=Object(xn.h)(qf);function Qf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Xf=Object(Wn.b)((function(e){return{user:e.profile.user}})),Zf=function(e){yn()(n,e);var t=Qf(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"onFocus",value:function(){this.props.dispatch((function(e,t){var n,r,a,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t().auth.token,i.next=3,s.a.awrap(k("auth/me","GET",{},{},n));case 3:(r=i.sent).status===j.OK&&(a=r.data,o=F(a),e(J(o)));case 5:case"end":return i.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.dispatch;return o.createElement(An,null,o.createElement(Jf,{user:t,onChange:function(e){return n(function(e){return function(t,n){var r,a,o,i,c;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return o=n().auth.token,i=null==(r=n().profile.user)||null==(a=r.profile)?void 0:a.type,c=L(e,i),l.next=5,s.a.awrap(k("profiles","PATCH",{},c,o));case 5:l.sent.status===j.OK?t(z(e)):t({type:N.PROFILE_SET_FIELDS_FAILURE});case 7:case"end":return l.stop()}}),null,null,null,Promise)}}(e))}}))}}]),n}(o.Component),$f=Xf(Object(xn.h)(Zf));function ep(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var tp=function(e){yn()(n,e);var t=ep(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.gender,n=e.containerStyle,r=e.iconStyle,a=e.theme,i=hr()(e,["gender","containerStyle","iconStyle","theme"]),c="female"===t?"female":"male"===t?"male":void 0;return o.createElement(wn.a,{style:[{flexDirection:"row",alignItems:"center"},n]},c&&o.createElement(d.a,{name:c,size:24,color:a.textLight,style:r}),o.createElement(Cn.a,un()({},i,{style:[{marginLeft:c?10:0},i.style]}),Z.a.t("genders."+t)))}}]),n}(o.Component),np=Object(xn.h)(tp);function rp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}function ap(){return o.createElement(wn.a,{style:{height:25}})}var op=function(e){yn()(n,e);var t=rp(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.profile,r=cp(t),a=n?n.firstName+" "+n.lastName:"",i=n?Se.find((function(e){return e.key===n.university})):void 0,c=o.createElement(o.Fragment,null);return n&&(c=o.createElement(o.Fragment,null,o.createElement(Mf,{label:Z.a.t("dateOfBirth"),display:o.createElement(Kc,{style:r.cardText,date:n.birthdate}),noModal:!0,initialValue:void 0}),o.createElement(ap,null),o.createElement(Mf,{label:Z.a.t("nationality"),display:o.createElement(hs,{style:r.cardText,countryCode:n.nationality}),noModal:!0,initialValue:void 0}),o.createElement(ap,null),o.createElement(Mf,{label:Z.a.t("gender"),display:o.createElement(np,{gender:n.gender}),noModal:!0,initialValue:void 0}),o.createElement(ap,null),o.createElement(Mf,{label:Z.a.t("profileType"),display:o.createElement(o.Fragment,null,o.createElement(Cn.a,null,Z.a.t("allRoles."+n.type)),"staff"==n.type&&o.createElement(o.Fragment,null,n.staffRoles.map((function(e){return o.createElement(Cn.a,{key:"profile-staff-role-"+e},Z.a.t("staffRoles."+e))}))),"student"==n.type&&o.createElement(Cn.a,null,Z.a.t("degrees."+n.degree))),noModal:!0,initialValue:void 0}),o.createElement(ap,null),o.createElement(Mf,{label:Z.a.t("fieldsOfEducation"),display:o.createElement(vo,{items:n.educationFields,label:function(e){return Z.a.t("educationFields."+e)}}),noModal:!0,initialValue:void 0}),o.createElement(ap,null),o.createElement(Mf,{label:Z.a.t("interests"),display:o.createElement(vo,{items:n.interests,label:function(e){return Z.a.t("interestNames."+e)}}),noModal:!0,initialValue:void 0}),o.createElement(ap,null),o.createElement(Mf,{label:Z.a.t("spokenLanguages"),display:o.createElement(vo,{items:n.languages,label:function(e){return Z.a.t("languageNames."+e.code)+" ("+Z.a.t("languageLevels."+e.level)+")"}}),noModal:!0,initialValue:void 0}),o.createElement(ap,null),o.createElement(ip,{category:Kt.Discover,profileOffers:n.profileOffers}),o.createElement(ap,null),o.createElement(ip,{category:Kt.Collaborate,profileOffers:n.profileOffers}),o.createElement(ap,null),o.createElement(ip,{category:Kt.Meet,profileOffers:n.profileOffers}))),o.createElement(wn.a,{style:r.screenWrapper},o.createElement(wn.a,{style:r.topView},o.createElement(Gf,{profile:n||void 0,size:140,rounded:!0,containerStyle:r.avatarContainer,activeOpacity:.8}),o.createElement(Cn.a,{style:r.name},a),i&&o.createElement(fo,{containerStyle:r.universityContainer,style:r.university,university:i})),o.createElement(ha.a,{style:r.scrollWrapper,keyboardShouldPersistTaps:"always"},o.createElement(ma.a,{behavior:"padding",keyboardVerticalOffset:-100,style:r.formWrapper},c,!n&&o.createElement(zn.a,{size:"large",color:t.accent}))))}}]),n}(o.Component),ip=Object(Wn.b)((function(e){return{offerIdToCategory:e.profile.offerIdToCategory}}))((function(e){var t=e.category,n=e.profileOffers,r=e.offerIdToCategory,a=n.filter((function(e){return r.get(e.offerId)==t}));return o.createElement(Mf,{label:Z.a.t("offerCategories."+t),display:a.length>0?o.createElement(vo,{items:a,label:function(e){return Z.a.t("allOffers."+e.offerId+".name")}}):o.createElement(Cn.a,null,Z.a.t("profile.noOffersSelected")),noModal:!0,initialValue:void 0})})),cp=Tn((function(e){return On.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},buttonSend:{flex:1,backgroundColor:e.accent,marginLeft:6},screenWrapper:{backgroundColor:e.background,width:"100%"},topView:{width:"100%",paddingTop:10,paddingBottom:10,alignItems:"center",alignSelf:"center",backgroundColor:e.accent},scrollWrapper:{width:"100%"},formWrapper:{flex:1,width:"90%",maxWidth:600,flexDirection:"column",alignItems:"center",alignSelf:"center",paddingTop:40,marginBottom:300},name:{fontSize:30,color:e.textWhite,marginTop:15},university:{fontSize:14,color:e.textWhite},universityContainer:{marginVertical:5},avatarContainer:{borderColor:e.cardBackground,borderWidth:2,backgroundColor:e.accentSecondary},avatarAccessory:{width:40,height:40,borderRadius:20,borderWidth:0,borderColor:"transparent",shadowRadius:0,textShadowRadius:0,color:"#444"},cardText:{color:e.text}})})),sp=Object(xn.h)(op);function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var pp=Object(Wn.b)((function(){return{}})),dp=function(e){yn()(n,e);var t=fp(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={profile:null},r}return Ct()(n,[{key:"getRouteParams",value:function(){var e=this.props.route.params;return e||{}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch,n=this.getRouteParams().id;n&&t(function(e){return function(t,n){var r,a,o,i;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n().auth.token,c.next=3,s.a.awrap(k("profiles/"+e,"GET",{},{},r));case 3:if((a=c.sent).status!==j.OK){c.next=9;break}return o=a.data,i=A(o),t(Q(i)),c.abrupt("return",i);case 9:return c.abrupt("return",null);case 10:case"end":return c.stop()}}),null,null,null,Promise)}}(n)).then((function(t){return e.setState(up(up({},e.state),{},{profile:t}))}))}},{key:"render",value:function(){var e=this.state.profile;return o.createElement(An,null,o.createElement(sp,{profile:e}))}}]),n}(o.Component),hp=pp(Object(xn.h)(dp));function mp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var gp=function(e){yn()(n,e);var t=mp(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.locale,r=e.theme,a=e.buttonStyle,i=e.valueStyle,c=yp(r);return o.createElement(Ks,{values:Je,label:function(e){return Z.a.t("locales."+e)},selected:n?[n]:[],valueStyle:[c.value,i],buttonStyle:a,onSelect:function(e){e.length>0&&t&&t(e[0])}})}}]),n}(o.Component),yp=Tn((function(e){return On.a.create({value:{letterSpacing:.5,fontSize:16,color:e.text}})})),bp=Object(xn.h)(gp),vp=n(116);function Ep(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Sp=Object(Wn.b)((function(e){return{settings:e.settings.userSettings}})),Op=0,Cp=function(e){yn()(n,e);var t=Ep(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.settings,r=e.dispatch,a=wp(t);return o.createElement(An,null,o.createElement(ha.a,{style:a.scroll,contentContainerStyle:a.container},o.createElement(Rp,{theme:t,title:Z.a.t("settings.sections.general")},o.createElement(Mf,{style:a.card,label:Z.a.t("settings.language"),icon:o.createElement(d.a,{name:"language",style:a.cardIcon}),oneLine:!0,display:o.createElement(bp,{locale:n.locale,onChange:function(e){var t;"fr"==e&&g.a.alert("Disclaimer","The application has not been translated to french yet."),r((t=e,Z.a.locale=t,{type:Xe.SET_LOCALE,locale:t}))},buttonStyle:a.localeButton,valueStyle:a.localButtonValue}),noModal:!0}),o.createElement(Mf,{style:a.card,label:Z.a.t("settings.darkTheme"),icon:o.createElement(Hr.a,{name:"theme-light-dark",style:a.cardIcon}),oneLine:!0,onPress:function(){return r($e())},display:o.createElement(Lo.a,{value:"dark"===n.theme,onValueChange:function(){return r($e())}}),noModal:!0})),o.createElement(Rp,{theme:t,title:Z.a.t("settings.sections.about"),icon:{name:"info",color:t.accent}},o.createElement(Mf,{style:a.card,label:Z.a.t("settings.version"),oneLine:!0,onPress:function(){7===++Op&&(Op=0,g.a.alert("Insert easter egg here")),setTimeout((function(){return Op=Math.max(0,Op-1)}),3e3)},display:o.createElement(Cn.a,{style:a.infoText},v),noModal:!0}),o.createElement(Mf,{style:a.card,label:Z.a.t("settings.termsOfService"),oneLine:!0,onPress:function(){return g.a.alert("Not implemented")},display:o.createElement(Cn.a,{style:a.infoText},""),noModal:!0}),o.createElement(Mf,{style:a.card,label:Z.a.t("settings.reportABug"),icon:o.createElement(ra.a,{name:"bug-report",style:a.cardIcon}),oneLine:!0,onPress:function(){return g.a.alert("Not implemented")},display:o.createElement(Cn.a,{style:a.infoText},""),noModal:!0}),o.createElement(Mf,{style:a.card,label:Z.a.t("settings.logOut"),icon:o.createElement(Hr.a,{name:"logout",style:a.cardIcon}),oneLine:!0,display:o.createElement(vp.d,{style:[a.redActionButton,a.logoutButton],onPress:function(){return r(fe())}},o.createElement(Cn.a,{style:a.logoutText},Z.a.t("settings.logOut"))),noModal:!0})),o.createElement(Rp,{theme:t,title:Z.a.t("settings.sections.danger"),icon:{name:"warning",color:t.warn}},o.createElement(Mf,{style:a.card,label:Z.a.t("settings.deleteAccount"),display:o.createElement($a.a,{style:a.redActionButton,onPress:function(){return g.a.alert("Coming very soon")}},o.createElement(Cn.a,{style:a.deleteAccountText},Z.a.t("settings.deleteMyAccount"))),noModal:!0})),o.createElement(wn.a,{style:a.logosContainer},o.createElement(da,{imageKey:"logos.sea-eu-around.small",resizeMode:"contain",style:[a.logo,a.logoSeaEuAround]}),o.createElement(da,{imageKey:"logos.erasmusLeft",resizeMode:"contain",style:[a.logo,a.logoErasmus]}),o.createElement(Cn.a,{style:a.developedBy},Z.a.t("settings.developedBy")),o.createElement(da,{imageKey:"logos.junior-atlantique",resizeMode:"contain",style:[a.logo,a.logoJA]}))))}}]),n}(o.Component),Rp=function(e){yn()(n,e);var t=Ep(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,r=e.theme,a=e.children,i=wp(r);return o.createElement(wn.a,{style:i.section},o.createElement(wn.a,{style:i.sectionTitleContainer},n&&o.createElement(ra.a,{name:n.name,color:n.color,style:i.sectionIcon}),o.createElement(Cn.a,{style:i.sectionTitle},t)),a)}}]),n}(o.Component),wp=Tn((function(e){return On.a.create({scroll:{flex:1,width:"100%"},container:{width:"100%",maxWidth:700,alignSelf:"center",paddingTop:10,paddingBottom:50,paddingHorizontal:20},section:{paddingVertical:10,justifyContent:"flex-start"},sectionTitleContainer:{flexDirection:"row",alignItems:"center",marginBottom:10},sectionTitle:{textTransform:"uppercase",letterSpacing:1,fontSize:11,color:e.textLight},sectionIcon:{fontSize:16,marginRight:5},card:{marginVertical:6},cardIcon:{marginRight:6,padding:0,fontSize:18,color:e.textLight},localeButton:{height:30},localButtonValue:{fontSize:14,marginHorizontal:10},redActionButton:{backgroundColor:e.error,borderRadius:4,height:40,paddingHorizontal:20,justifyContent:"center",alignItems:"center",elevation:2},deleteAccountText:{color:e.textWhite,fontSize:16},logoutButton:{},logoutText:{color:e.textWhite,fontSize:16},infoText:{color:e.text,fontSize:16},logosContainer:{},logo:{marginTop:30,width:"100%"},logoErasmus:{height:40},logoSeaEuAround:{height:60},logoJA:{height:40},developedBy:{textTransform:"uppercase",textAlign:"center",letterSpacing:1,fontSize:11,color:e.textLight,marginTop:40}})})),Pp=Sp(Object(xn.h)(Cp));function Tp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var xp=function(e){yn()(n,e);var t=Tp(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props.theme,t=kp(e),n=Ir(e);return o.createElement(An,null,o.createElement(wn.a,{style:t.container},o.createElement(Cn.a,{style:t.successText},Z.a.t("deleteAccount.success1")),o.createElement(Cn.a,{style:t.successText},Z.a.t("deleteAccount.success2")),o.createElement(Rn.a,{style:[n.buttonMajor,t.button],onPress:function(){return an.dispatch(fe())}},o.createElement(Cn.a,{style:n.buttonMajorText},Z.a.t("deleteAccount.leave")),o.createElement(Hr.a,{name:"logout",style:t.buttonIcon}))))}}]),n}(o.Component),kp=Tn((function(e){return On.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},successText:{fontSize:18,lineHeight:25,marginTop:20,textAlign:"center",color:e.text},button:{paddingHorizontal:25,marginTop:40,backgroundColor:e.error,alignItems:"center",flexDirection:"row"},buttonIcon:{fontSize:20,color:e.textWhite,marginLeft:4}})})),jp=Object(xn.h)(xp);function Ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Ap=xe.c().shape({password:Ne}),Lp=function(e){yn()(n,e);var t=_p(n);function n(e){var r;return St()(this,n),(r=t.call(this,e)).state={submitting:!1},r}return Ct()(n,[{key:"submit",value:function(e){var t,n=this,r=this.props.onSuccessfulSubmit;this.setState(Dp(Dp({},this.state),{},{submitting:!0})),an.dispatch((t=e.password,function(e,n){var r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,s.a.awrap(k("users","DELETE",{},{password:t},r,!0));case 3:if((a=o.sent).status!=j.OK){o.next=9;break}return e(be()),o.abrupt("return",{success:!0});case 9:return o.abrupt("return",{success:!1,errors:te(a)});case 10:case"end":return o.stop()}}),null,null,null,Promise)})).then((function(t){var a=t.success,o=t.errors;if(a&&r&&r(e),o&&o.fields){var i=o.fields;Object.keys(i).forEach((function(e){return n.setFieldError&&n.setFieldError(e,$(i[e]))}))}n.setState({remoteErrors:o,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state,r=n.remoteErrors,a=n.submitting,i=Fp(t),c=Ir(t);return o.createElement(o.Fragment,null,o.createElement(wn.a,{style:i.titleWrapper},o.createElement(Cn.a,{style:i.title},Z.a.t("deleteAccount.title")),o.createElement(ra.a,{name:"warning",style:i.warningIcon}),o.createElement(Cn.a,{style:i.warning},Z.a.t("deleteAccount.warning"))),o.createElement(pr.a,{initialValues:{password:""},validationSchema:Ap,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(n){var s=n.handleSubmit,l=n.values,u=n.errors,f=n.touched,p=n.handleChange,d=n.handleBlur,h=n.setFieldError,m=Dp({handleChange:p,handleBlur:d},Dr(t,15));return e.setFieldError=h,o.createElement(o.Fragment,null,o.createElement(jr,un()({field:"password",placeholder:Z.a.t("password"),error:u.password,value:l.password,touched:f.password,label:Z.a.t("deleteAccount.inputLabel"),isPassword:!0},m)),o.createElement(Mr,{error:ne(r)}),o.createElement(wn.a,{style:c.actionRow},o.createElement(Ur,{onPress:function(){return s()},style:[c.buttonMajor,i.button],textStyle:[c.buttonMajorText,i.buttonText],text:Z.a.t("deleteAccount.button"),submitting:a})))})))}}]),n}(o.Component),Fp=Tn((function(e){return On.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},warning:{fontSize:16,color:e.text,textAlign:"justify"},warningIcon:{color:e.warn,fontSize:32,marginTop:20},button:{width:"60%",backgroundColor:e.error},buttonText:{color:e.textWhite}})})),Mp=Object(xn.h)(Lp);function Bp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Np=function(e){yn()(n,e);var t=Bp(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){return o.createElement(An,null,o.createElement(Ea,null,o.createElement(Mp,null)))}}]),n}(o.Component),Up=Object(xn.h)(Np),Hp=Object(hn.a)(),Vp=!1,Gp=void 0;function zp(){var e,t=null==(e=Zt.current)?void 0:e.getCurrentRoute();if(t){var n=w.find((function(e){return e===t.name})),r=Gp&&w.find((function(e){return e===Gp}));!r&&n&&an.dispatch(kt()),r&&!n&&an.dispatch((Tt.disconnect(),{type:bt.DISCONNECT_FROM_CHAT})),Gp=t.name}}var Wp=Object(xn.h)((function(e){var t=e.theme,n=e.initialRoute,r=Vp?Gp:n;return Vp=!0,o.createElement(fn.a,{ref:Zt,linking:nr,theme:"dark"===t.id?pn.a:dn.a,onReady:zp,onStateChange:zp},o.createElement(Hp.Navigator,{screenOptions:{headerShown:!1},initialRouteName:r},o.createElement(Hp.Screen,{name:"LoginScreen",component:Ba}),o.createElement(Hp.Screen,{name:"ForgotPasswordEmailSentScreen",component:qu,options:{title:en("ForgotPasswordEmailSentScreen")}}),o.createElement(Hp.Screen,{name:"ValidationEmailSentScreen",component:tr,options:{title:en("ValidationEmailSentScreen")}}),o.createElement(Hp.Screen,{name:"ValidateEmailScreen",component:Qn,options:{title:en("ValidateEmailScreen")}}),o.createElement(Hp.Screen,{name:"ResetPasswordScreen",component:Vu,options:{title:en("ResetPasswordScreen")}}),o.createElement(Hp.Screen,{name:"ResetPasswordSuccessScreen",component:Qu,options:{title:en("ResetPasswordSuccessScreen")}}),o.createElement(Hp.Screen,{name:"MainScreen",component:mc}),o.createElement(Hp.Screen,{name:"ChatScreen",component:cf,options:{header:df,headerShown:!0,title:en("ChatScreen")}}),o.createElement(Hp.Screen,{name:"MyProfileScreen",component:$f,options:{headerShown:!0,title:en("MyProfileScreen"),header:function(e){return o.createElement(Hi,un()({},e,{backButton:!0,noAvatar:!0,noShadow:!0,wrapperStyle:{backgroundColor:t.accent},color:t.textWhite}))}}}),o.createElement(Hp.Screen,{name:"ProfileScreen",component:hp,options:{headerShown:!0,title:en("ProfileScreen"),header:function(e){return o.createElement(Hi,un()({},e,{backButton:!0,noShadow:!0,wrapperStyle:{backgroundColor:t.accent},color:t.textWhite}))}}}),o.createElement(Hp.Screen,{name:"SettingsScreen",component:Pp,options:{headerShown:!0,title:en("SettingsScreen"),header:function(e){return o.createElement(Hi,un()({},e,{backButton:!0,noSettingsButton:!0}))}}}),o.createElement(Hp.Screen,{name:"DeleteAccountScreen",component:Up,options:{headerShown:!0,title:en("DeleteAccountScreen"),header:function(e){return o.createElement(Hi,un()({},e,{backButton:!0}))}}}),o.createElement(Hp.Screen,{name:"DeleteAccountSuccessScreen",component:jp,options:{title:en("DeleteAccountSuccessScreen")}}),o.createElement(Hp.Screen,{name:"OnboardingScreen",component:du}),o.createElement(Hp.Screen,{name:"OnboardingSuccessfulScreen",component:vu,options:{title:en("OnboardingSuccessfulScreen")}}),o.createElement(Hp.Screen,{name:"NotFoundScreen",component:Gn,options:{title:en("NotFoundScreen")}}),o.createElement(Hp.Screen,{name:"MatchSuccessScreen",component:ju,options:{headerShown:!1,cardStyleInterpolator:"ios"==Xt.a.OS?mn.a.forVerticalIOS:mn.a.forFadeFromBottomAndroid,title:en("MatchSuccessScreen")}})))}));function qp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn()(e);if(t){var a=Sn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vn()(this,n)}}var Kp=Object(Wn.b)((function(e){return{currentTheme:e.settings.userSettings.theme}}))(function(e){yn()(n,e);var t=qp(n);function n(){return St()(this,n),t.apply(this,arguments)}return Ct()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.currentTheme;return i.a.createElement(xn.f,{key:n,theme:Pn[n]},t)}}]),n}(i.a.Component)),Yp=n(505);var Jp=Object(xn.h)((function(e){var t=e.theme;return o.createElement(Yp.StatusBar,{style:"dark"==t.id?"light":"dark"})}));t.default=Object(a.a)((function(){var e=function(){var e=o.useState(!1),t=p()(e,2),r=t[0],a=t[1];o.useEffect((function(){!function(){var e;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m.b(),e=an.dispatch,t.next=5,s.a.awrap(e((function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(V("offers"));case 2:k("offers","GET",(t=n.sent)?{updatedAt:t.updatedAt}:{}).then((function(n){if(n.status===j.OK){var r=n.data;if(t){var a=0==r.length;e(K(a?t.data:r,a))}else e(K(r))}}));case 5:case"end":return n.stop()}}),null,null,null,Promise)})));case 5:return t.next=7,s.a.awrap(e((function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(V("interests"));case 2:k("interests","GET",(t=n.sent)?{updatedAt:t.updatedAt}:{}).then((function(n){if(n.status===j.OK){var r=n.data;if(t){var a=0==r.length;e(Y(a?t.data:r,a))}else e(Y(r))}}));case 5:case"end":return n.stop()}}),null,null,null,Promise)})));case 7:return t.next=9,s.a.awrap(h.b(cn(cn({},d.a.font),{},{raleway:n(674)})));case 9:return t.next=11,s.a.awrap(e((function(e){var t,n,r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(re());case 2:if(!(t=o.sent)){o.next=15;break}return n=t.token,o.next=7,s.a.awrap(k("auth/me","GET",{},{},n));case 7:if((r=o.sent).status!=j.OK){o.next=14;break}return a=r.data,e(se(n,F(a),!0)),o.abrupt("return",!0);case 14:e(le());case 15:return o.abrupt("return",!1);case 16:case"end":return o.stop()}}),null,null,null,Promise)})));case 11:sn=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.warn(t.t0);case 17:return t.prev=17,a(!0),m.a(),t.finish(17);case 21:case"end":return t.stop()}}),null,null,[[0,14,17,21]],Promise)}()}),[]);var i=void 0;return sn&&(i="MainScreen"),{isLoadingComplete:r,initialRoute:i}}(),t=e.isLoadingComplete,r=e.initialRoute;return Z.a.translations=Ye,Z.a.locale=Qe(),Z.a.fallbacks=!0,t?i.a.createElement(cr.b,null,i.a.createElement(Wn.a,{store:an},i.a.createElement(Kp,null,i.a.createElement(Wp,{initialRoute:r}),i.a.createElement(Jp,null)))):null}))}},[[525,1,2]]]);
//# sourceMappingURL=app.85947384.chunk.js.map
(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{542:function(e,t,n){e.exports=n(743)},579:function(e,t){},683:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Regular.ttf"},684:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Thin.ttf"},685:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Light.ttf"},686:function(e,t,n){e.exports=n.p+"./fonts/Raleway-SemiBold.ttf"},687:function(e,t,n){e.exports=n.p+"./fonts/Raleway-Bold.ttf"},743:function(e,t,n){"use strict";n.r(t);var r,o=n(23),a=n.n(o),i=n(751),c=n(0),s=n.n(c),u=n(12),l=n.n(u),f=n(11),p=n.n(f),d=n(460),h=n(753),m=n(335),g=n(75);!function(e){e.Staging="STAGING",e.Production="PRODUCTION"}(r||(r={}));var y=g.a.manifest.extra,v=g.a.manifest.version,b=g.a.manifest.scheme,E=y.TARGET,S=y.DEBUG,O=y.CLIENT_URL,C=(y.SERVER_HOST,y.SERVER_URL),R=[1,1],w=[2,1],P="https://sea-eu.org/wp-content/uploads/2021/01/SEA-EU-Around_Termsconditions-v2.pdf",T=n(16),x=n(9),I=n.n(x),k=c.createRef();function j(e,t){var n;null==(n=k.current)||n.navigate(e,t)}function _(e){var t=k.current;t&&(t.canGoBack()?t.goBack():e&&t.navigate(e))}function D(e){var t=e.params;return t||{}}function A(e,t){return e?t?"MainScreen":"OnboardingScreen":"LoginRoot"}function F(e){return I.a.t("screenTitles."+e)+I.a.t("screenTitles.suffix")}function M(e){return I.a.t("screenTitles."+e)}function L(e){j("MainScreen",{screen:"TabMessaging",params:{screen:"ChatScreen",params:{roomId:e}}})}function B(e){j("MainScreen",{screen:"TabGroups",params:{screen:"GroupScreen",params:{groupId:e}}})}function N(e,t){var n;(null==(n=t.profile.user)?void 0:n.id)===e?j("MyProfileScreen"):j("ProfileScreen",{id:e})}var U,G=n(105);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return t+"="+function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})).join(","):encodeURIComponent(t)}(e[t])})).join("&");return 0==t.length?t:"?"+t}function W(e){var t,n,r,o,a,i,c,s,u,f,p=arguments;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=p.length>1&&void 0!==p[1]?p[1]:"GET",n=p.length>2&&void 0!==p[2]?p[2]:{},r=p.length>3&&void 0!==p[3]?p[3]:{},o=p.length>4&&void 0!==p[4]?p[4]:void 0,a=p.length>5&&void 0!==p[5]&&p[5],i=p.length>6&&void 0!==p[6]&&p[6],c={Accept:"application/json","Content-Type":"application/json"},void 0===o){d.next=15;break}if(null!==o){d.next=14;break}return i||console.error("Cannot authentify request to "+e+" : no auth token available."),G.a.alert("A request could not be authenticated."),d.abrupt("return",{errorType:"error.no-auth",description:"Endpoint requires authentication",status:401});case 14:c.Authorization="Bearer "+o.accessToken;case 15:return s=z(n),u=null,d.prev=17,a&&!i&&S&&(console.log("Sending request: "+t+" /"+e+s),console.log("  headers: "+JSON.stringify(c)),console.log("  body   : "+JSON.stringify(r))),d.next=21,l.a.awrap(fetch(C+"/"+e+s,V({method:t,headers:c},"GET"==t?{}:{body:JSON.stringify(r)})));case 21:if(u=d.sent,f={status:u.status,data:{}},u.status===U.NO_CONTENT){d.next=37;break}return d.prev=24,d.t0=V,d.t1=V({},f),d.next=29,l.a.awrap(u.json());case 29:d.t2=d.sent,f=(0,d.t0)(d.t1,d.t2),d.next=37;break;case 33:d.prev=33,d.t3=d.catch(24),f.status===U.OK&&(f.status=U.INTERNAL_SERVER_ERROR),i||console.error("Unable to parse server response as JSON.");case 37:return a&&!i&&S&&(console.log("Response from endpoint "+e+":"),console.log(f)),d.abrupt("return",f);case 41:return d.prev=41,d.t4=d.catch(17),i||(console.error("An unexpected error occured with a request to "+e+". Method = "+t+", authToken = "+o+", params="+JSON.stringify(n)+", body="+JSON.stringify(r)),console.error(d.t4),console.error("Response received from server:",u)),d.abrupt("return",{errorType:"error.unknown",description:"A client-side exception was raised.",status:400});case 45:case"end":return d.stop()}}),null,null,[[17,41],[24,33]],Promise)}!function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.ALREADY_REPORTED=208]="ALREADY_REPORTED",e[e.IM_USED=226]="IM_USED",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.SWITCH_PROXY=306]="SWITCH_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.LOOP_DETECTED=508]="LOOP_DETECTED",e[e.NOT_EXTENDED=510]="NOT_EXTENDED",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"}(U||(U={}));var q,Y,K=[{key:"univ-cadiz",country:"ES"},{key:"univ-brest",country:"FR"},{key:"univ-gdansk",country:"PL"},{key:"univ-malta",country:"MT"},{key:"univ-kiel",country:"DE"},{key:"univ-split",country:"HR"}];!function(e){e.Newest="newest",e.Oldest="oldest",e.Popular="popular"}(Y||(Y={}));var J,Q=[Y.Newest,Y.Oldest,Y.Popular];!function(e){e.Upvote="up",e.Downvote="down",e.Neutral="neutral"}(J||(J={}));var Z=(q={},p()(q,J.Upvote,1),p()(q,J.Downvote,-1),p()(q,J.Neutral,0),q);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e){return e?e.filter((function(e){return e.allowFemale||e.allowMale||e.allowOther||e.allowStaff||e.allowStudent})):[]}function te(e){var t,n=$($({},e),{},{avatarUrl:e.avatar,birthdate:new Date(e.birthdate),educationFields:(e.educationFields||[]).map((function(e){return e.id})),profileOffers:e.profileOffers||[],interests:(e.interests||[]).map((function(e){return e.id})),languages:e.languages||[],university:K.find((function(t){return t.key===e.university}))||K[0]});if("staff"===e.type){var r=e;t=$($({},n),{},{staffRoles:(r.staffRoles||[]).map((function(e){return e.id}))})}else{var o=e;t=$($({},n),{},{degree:o.degree})}return t}function ne(e,t){var n,r,o,a,i=$($({},e),{},{type:t,birthdate:null==(n=e.birthdate)?void 0:n.toJSON(),educationFields:null==(r=e.educationFields)?void 0:r.map((function(e){return{id:e}})),interests:null==(o=e.interests)?void 0:o.map((function(e){return{id:e}})),profileOffers:e.profileOffers?ee(e.profileOffers):void 0});if("staff"===t){var c=e;a=$($({},i),{},{staffRoles:c.staffRoles?c.staffRoles.map((function(e){return{id:e}})):void 0})}else{var s=e;a=$($({},i),{},{degree:s.degree})}return a}function re(e){return $($({},e),{},{profile:e.profile?te(e.profile):void 0})}function oe(e){var t=e.profiles.map((function(e){return{_id:e.id,name:e.firstName+" "+e.lastName,avatar:e.avatar||"",lastMessageSeenId:e.lastMessageSeenId,lastMessageSeenDate:e.lastMessageSeenDate?new Date(e.lastMessageSeenDate):null}})),n=null;if(e.lastMessage){var r=e.lastMessage,o=t.find((function(e){return e._id==r.senderId}));o&&(n=ae(o,r))}return $($({},e),{},{users:t,messages:[],lastMessage:n,writing:{},messagePagination:{page:1,canFetchMore:!0,fetching:!1}})}function ae(e,t){return $($({},t),{},{_id:t.id,createdAt:new Date(t.updatedAt),user:e})}function ie(e){return{profile:te(e.profile),status:e.status,date:new Date(e.date),id:e.id}}function ce(e){return $($({},e),{},{description:e.description||"",membersPaginations:{approved:{page:1,canFetchMore:!0,fetching:!1},banned:{page:1,canFetchMore:!0,fetching:!1},pending:{page:1,canFetchMore:!0,fetching:!1},"invited-by-admin":{page:1,canFetchMore:!0,fetching:!1},invited:{page:1,canFetchMore:!0,fetching:!1}},memberIds:{approved:[],banned:[],pending:[],"invited-by-admin":[],invited:[]},members:{},posts:{},postIds:[],postsPagination:{page:1,canFetchMore:!0,fetching:!1},uploadingCover:!1,myRole:e.isMember?e.role:null,myStatus:e.status||null,numApprovedMembers:null,availableMatches:{fetching:!1,profiles:null}})}function se(e){return $($({},e),{},{profile:te(e.profile)})}function ue(e,t){return $($({},e),{},{comments:{},commentIds:[],commentsPagination:{page:1,canFetchMore:!0,fetching:!1},createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),creator:t&&!e.creator?t:te(e.creator),score:e.upVotesCount-e.downVotesCount,voteStatus:e.isVoted?"up"===e.voteType?J.Upvote:"down"===e.voteType?J.Downvote:J.Neutral:J.Neutral})}function le(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,a={id:e.id,text:e.text,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),creator:o&&!e.creator?o:te(e.creator),score:e.upVotesCount-e.downVotesCount,voteStatus:e.isVoted?"up"===e.voteType?J.Upvote:"down"===e.voteType?J.Downvote:J.Neutral:J.Neutral,childrenIds:(null==(t=e.children)?void 0:t.map((function(e){return e.id})))||[],parentId:n,depth:r};if(e.children&&e.children.length>0){var i=e.children.flatMap((function(e){return le(e,a.id,r+1,o)}));return[a].concat(i)}return[a]}var fe,pe=n(152);function de(e,t,n){if(n){S&&console.log("Updating static storage '"+e+"'.");var r={updatedAt:(new Date).toJSON(),data:t};pe.a.setItem(e,JSON.stringify(r))}}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];S&&console.log("Clearing static storage: "+t.map((function(e){return"'"+e+"'"})).join(", ")+"."),pe.a.multiRemove(t)}function me(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(pe.a.getItem(e));case 2:return t=n.sent,n.abrupt("return",!!t&&JSON.parse(t));case 4:case"end":return n.stop()}}),null,null,null,Promise)}function ge(e,t,n){var r,o,a,i,c,s;return l.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,l.a.awrap(W("common/signedUrl","GET",{mimeType:"image/jpeg"},{},e));case 2:if((r=u.sent).status!==U.OK){u.next=27;break}return o=r.data,i=(a=o).fileName,c=a.s3Url,u.prev=6,u.t0=l.a,u.next=10,l.a.awrap(fetch(t.uri));case 10:return u.t1=u.sent.blob(),u.next=13,u.t0.awrap.call(u.t0,u.t1);case 13:return s=u.sent,u.next=16,l.a.awrap(fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s}));case 16:return u.abrupt("return",i);case 19:return u.prev=19,u.t2=u.catch(6),console.error(u.t2),console.error("An unexpected error occured with a request to the avatar bucket."),n(),u.abrupt("return",null);case 25:u.next=29;break;case 27:return n(),u.abrupt("return",null);case 29:case"end":return u.stop()}}),null,null,[[6,19]],Promise)}!function(e){e.LOAD_USER_PROFILE="PROFILE/LOAD_USER_PROFILE",e.LOAD_PROFILE_OFFERS="LOAD_PROFILE_OFFERS",e.LOAD_PROFILE_OFFERS_SUCCESS="LOAD_PROFILE_OFFERS_SUCCESS",e.LOAD_PROFILE_INTERESTS="LOAD_PROFILE_INTERESTS",e.LOAD_PROFILE_INTERESTS_SUCCESS="LOAD_PROFILE_INTERESTS_SUCCESS",e.PROFILE_SET_FIELDS_SUCCESS="PROFILE/SET_FIELDS_SUCCESS",e.PROFILE_SET_FIELDS_FAILURE="PROFILE/SET_FIELDS_FAILURE",e.PROFILE_CREATE="PROFILE/CREATE",e.PROFILE_CREATE_SUCCESS="PROFILE/CREATE_SUCCESS",e.FETCH_USER_SUCCESS="PROFILE/FETCH_USER_SUCCESS",e.FETCH_PROFILE_SUCCESS="PROFILE/FETCH_PROFILE_SUCCESS",e.SET_AVATAR="PROFILE/SET_AVATAR",e.SET_AVATAR_BEGIN="PROFILE/SET_AVATAR_BEGIN",e.SET_AVATAR_SUCCESS="PROFILE/SET_AVATAR_SUCCESS",e.SET_AVATAR_FAILURE="PROFILE/SET_AVATAR_FAILURE"}(fe||(fe={}));var ye,ve=function(e){return{type:fe.PROFILE_SET_FIELDS_SUCCESS,fields:e}},be=function(e){return{type:fe.PROFILE_CREATE_SUCCESS,profile:e}},Ee=function(e){return function(t,n){var r,o,a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n().auth.token,c.next=3,l.a.awrap(W("profiles","POST",{},e,r));case 3:(o=c.sent).status===U.CREATED&&(a=o.data,i=te(a),t(be(i)));case 5:case"end":return c.stop()}}),null,null,null,Promise)}},Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:fe.LOAD_PROFILE_OFFERS_SUCCESS,offers:e,fromCache:t}},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:fe.LOAD_PROFILE_INTERESTS_SUCCESS,interests:e,fromCache:t}},Ce=function(e){return{type:fe.FETCH_USER_SUCCESS,user:e}},Re=function(e){return{type:fe.FETCH_PROFILE_SUCCESS,profile:e}},we=function(e){return I.a.t(e,{defaultValue:e})},Pe=function(e){var t=e.code,n=e.description;return"missing"==I.a.t(t,{defaultValue:"missing"})?n:t};function Te(e){if(e.status!=U.OK){var t=e,n=t.errorType,r=t.description,o={general:Pe({code:n,description:r}),fields:{}};return e.status==U.UNPROCESSABLE_ENTITY&&e.errors.forEach((function(e){return o.fields[e.property]=Pe(e.codes[0])})),o}}function xe(e){return e?Object.keys(e.fields).length>0?void 0:e.general:void 0}function Ie(e,t){var n={email:e,token:t};pe.a.setItem("auth",JSON.stringify(n))}function ke(){pe.a.removeItem("auth")}function je(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(pe.a.getItem("auth"));case 2:return e=t.sent,t.abrupt("return",!!e&&JSON.parse(e));case 4:case"end":return t.stop()}}),null,null,null,Promise)}!function(e){e.REGISTER_BEGIN="AUTH/REGISTER_BEGIN",e.REGISTER_SUCCESS="AUTH/REGISTER_SUCCESS",e.REGISTER_FAILURE="AUTH/REGISTER_FAILURE",e.LOG_IN_SUCCESS="AUTH/LOG_IN_SUCCESS",e.LOG_IN_FAILURE="AUTH/LOG_IN_FAILURE",e.LOG_IN_RECOVER_CANCEL="AUTH/LOG_IN_RECOVER_CANCEL",e.LOG_OUT="AUTH/LOG_OUT",e.VALIDATE_ACCOUNT="AUTH/VALIDATE_ACCOUNT",e.VALIDATE_ACCOUNT_SUCCESS="AUTH/VALIDATE_ACCOUNT_SUCCESS",e.VALIDATE_ACCOUNT_FAILURE="AUTH/VALIDATE_ACCOUNT_FAILURE",e.SEND_VERIFICATION_EMAIL_SUCCESS="AUTH/SEND_VERIFICATION_EMAIL_SUCCESS",e.BEGIN_ONBOARDING="AUTH/BEGIN_ONBOARDING",e.NEXT_ONBOARDING_SLIDE="AUTH/NEXT_ONBOARDING_SLIDE",e.PREVIOUS_ONBOARDING_SLIDE="AUTH/PREVIOUS_ONBOARDING_SLIDE",e.SET_ONBOARDING_VALUES="AUTH/SET_ONBOARDING_VALUES",e.SET_ONBOARDING_OFFER_VALUE="AUTH/SET_ONBOARDING_OFFER_VALUE",e.FORGOT_PASSWORD_FAILURE="AUTH/FORGOT_PASSWORD_FAILURE",e.FORGOT_PASSWORD_SUCCESS="AUTH/FORGOT_PASSWORD_SUCCESS",e.RESET_PASSWORD_SUCCESS="AUTH/RESET_PASSWORD_SUCCESS",e.DELETE_ACCOUNT_SUCCESS="AUTH/DELETE_ACCOUNT_SUCCESS"}(ye||(ye={}));var _e,De=function(e,t){return{type:ye.REGISTER_BEGIN,email:e,password:t}},Ae=function(e,t){return function(n,r){var o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n(De(e,t)),o=r().settings.userSettings.locale,i.next=4,l.a.awrap(W("auth/register","POST",{},{email:e,password:t,locale:o}));case 4:if((a=i.sent).status!=U.OK){i.next=11;break}return n(Fe(a.data)),i.abrupt("return",{success:!0});case 11:return n(Me()),i.abrupt("return",{success:!1,errors:Te(a)});case 13:case"end":return i.stop()}}),null,null,null,Promise)}},Fe=function(e){return{type:ye.REGISTER_SUCCESS,user:e}},Me=function(){return{type:ye.REGISTER_FAILURE}},Le=function(e,t,n){return{type:ye.LOG_IN_SUCCESS,token:e,user:t,usingCachedCredentials:n}},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:ye.LOG_IN_FAILURE,email:e,needsRecovery:t,needsVerify:n}},Ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){var o,a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,l.a.awrap(W("auth/login","POST",{},{email:e,password:t,recover:n}));case 2:if((o=s.sent).status!=U.OK){s.next=9;break}return a=o.data,r(Le(a.token,re(a.user),!1)),s.abrupt("return",{success:!0});case 9:return i=!1,c=!1,o.status===U.FORBIDDEN&&(i="error.user_being_deleted"===o.errorType,c="error.user_not_verified"===o.errorType),r(Be(e,i,c)),s.abrupt("return",{success:!1,errors:Te(o)});case 14:case"end":return s.stop()}}),null,null,null,Promise)}},Ue=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:ye.LOG_OUT,redirect:e}},Ge=function(e){return function(t){var n,r,o;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(W("auth/verify","POST",{},{token:e}));case 2:(n=a.sent).status==U.OK?(r=n.data,o=r.email,t(He(o))):t(Ve());case 4:case"end":return a.stop()}}),null,null,null,Promise)}},He=function(e){return{type:ye.VALIDATE_ACCOUNT_SUCCESS,email:e}},Ve=function(){return{type:ye.VALIDATE_ACCOUNT_FAILURE}},ze=function(){return{type:ye.SEND_VERIFICATION_EMAIL_SUCCESS}},We=function(e){return{type:ye.FORGOT_PASSWORD_SUCCESS,email:e}},qe=function(){return{type:ye.FORGOT_PASSWORD_FAILURE}},Ye=function(){return{type:ye.RESET_PASSWORD_SUCCESS}},Ke=function(){return{type:ye.DELETE_ACCOUNT_SUCCESS}},Je=function(){return{type:ye.BEGIN_ONBOARDING}},Qe=function(e){return{type:ye.SET_ONBOARDING_VALUES,values:e}};!function(e){e.SET_THEME="SETTINGS/SET_THEME",e.TOGGLE_THEME="SETTINGS/TOGGLE_THEME",e.SET_LOCALE="SETTINGS/SET_LOCALE",e.LOAD_COOKIES_PREFERENCES="SETTINGS/LOAD_COOKIES_PREFERENCES",e.SAVE_COOKIES_PREFERENCES="SETTINGS/SAVE_COOKIES_PREFERENCES",e.LOAD_VERSION_INFO="SETTINGS/LOAD_VERSION_INFO"}(_e||(_e={}));var Ze=function(e,t){return{type:_e.SET_THEME,theme:e,fromCache:t}},Xe=function(e,t){return I.a.locale=e,{type:_e.SET_LOCALE,locale:e,fromCache:t}},$e=function(e,t){return{type:_e.LOAD_COOKIES_PREFERENCES,preferences:e,consentDate:t}},et=function(e){return{type:_e.SAVE_COOKIES_PREFERENCES,preferences:e}},tt=function(e){return{type:_e.LOAD_VERSION_INFO,version:e}},nt=n(194),rt=n(58);function ot(e){var t=e.split("@")[0].split("."),n=function(e){return 0==e.length?e:e[0].toUpperCase()+e.slice(1)};return t.length>=2?{firstname:n(t[0]),lastname:n(t[1])}:null}function at(e){for(var t=(new Date).getTime()-e.getTime(),n=864e5,r=[{unit:"minute",duration:6e4},{unit:"hour",duration:36e5},{unit:"day",duration:n},{unit:"week",duration:7*n},{unit:"month",duration:30*n}],o=0;o<r.length&&t>=r[o].duration;)o++;if(-1===--o)return 0;if(o===r.length-1)return I.a.t("dateRelative.precise",{day:e.getDate(),month:I.a.t("months."+e.getMonth()),year:e.getFullYear()});var a=r[o],i=Math.round(t/a.duration);return I.a.t("dateRelative.ago",{amount:i,unit:I.a.t("dateUnits."+(1===i?"singular":"plural")+"."+a.unit)})}function it(e){var t=e.createdAt,n=e.updatedAt,r=n.getTime()!=t.getTime(),o=at(t),a=0===o?I.a.t("groups.justPosted"):""+Object(rt.capitalize)(o);if(r){var i=at(n);a+=" ("+(0===i?I.a.t("groups.justEdited"):I.a.t("groups.editedAgo",{ago:i}))+")"}return a}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut={authenticated:!1,token:null,validated:!1,registerEmail:"",validatedEmail:null,accountNeedsRecovery:!1,onboarded:!1,onboarding:{firstname:"",lastname:"",birthdate:null,gender:null,nationality:null,type:null,degree:null,staffRoles:{},languages:[],offerValues:{},interestIds:[],educationFields:[]},onboardingIndex:0},lt=n(531),ft=n(38),pt=["bsc1","bsc2","bsc3","m1","m2","phd"],dt=["a1","a2","b1","b2","c1","c2","native"],ht=["student","staff"],mt=["teaching","research","administration","technical","other"],gt=["school","library-books","account-balance","build","help"],yt=["male","female","other"],vt=ft.e().required("validation.required").email("validation.email.invalid"),bt=ft.e().required("validation.required").min(8,"validation.password.tooShort").matches(/(?=.*\d)/,"validation.password.noDigit").matches(/(?=.*[a-z])/,"validation.password.noLowerCase").matches(/(?=.*[A-Z])/,"validation.password.noUpperCase").matches(/(?=.*[#@$!%*?&^\\/\-_+=()[\]|"'~<>:;\xa7.])/,"validation.password.noSymbol"),Et=ft.e().required("validation.required").oneOf([ft.d("password")],"validation.password.repeatWrong"),St=ft.e().required("validation.required").email("validation.email.invalid"),Ot=ft.e().required("validation.required"),Ct=ft.e().trim().required("validation.required"),Rt=ft.e().trim().required("validation.required"),wt=ft.b().nullable().required("validation.required"),Pt=ft.e().nullable().required("validation.required"),Tt=ft.e().nullable().required("validation.required"),xt=ft.e().nullable().oneOf(pt,"validation.required"),It=ft.a().required("validation.addAtLeastOne"),kt=ft.a().required("validation.addAtLeastOne"),jt=ft.e().required("validation.required").min(4,"validation.group.name.tooShort").max(60,"validation.group.name.tooLong"),_t=ft.e().required("validation.required").min(5,"validation.post.tooShort").max(3e3,"validation.post.tooLong"),Dt=ft.e().required("validation.required").min(2,"validation.comment.tooShort").max(1200,"validation.comment.tooLong"),At={en:{locales:{en:"English",fr:"French"},appName:"SEA-EU Around",search:"Search",send:"Send",cancel:"Cancel",close:"Close",delete:"Delete",ok:"OK",save:"Save",noResultsFound:"No results found",apply:"Apply",logOut:"Log out",showMore:"Show more",showLess:"Show less",picker:{callToAction:"Select (%d selected)"},dateInput:{dayPlaceholder:"DD",monthPlaceholder:"MM",yearPlaceholder:"YYYY"},nationalityPicker:{placeholder:"Select a nationality"},login:"Log in",emailAddress:"Email address",password:"Password",passwordRepeat:"Repeat password",forgotPassword:"Forgot Password",forgotPasswordExplanation:"Enter the email address associated with your account below. Instructions for choosing a new password will be sent shortly.",newPassword:"New Password",signupWelcome:"We can't wait for you to join our community!",createAccount:"Create account",emailValidation:{validating:"Validating",sent:"To validate your account, click the link in the email we just sent to",success:["Your account has been validated! You may now ","log in"]},legal:{modal:{title:"Terms of service",disclaimer:"Please understand that you will not be able to use our services if you decide to decline the terms of service.\n\nDeclining will abort the profile creation process."},decline:"Decline",accept:"Accept",readMore:["Read more about our terms & conditions ","here","."]},validation:{required:"Required field.",atLeastOne:"Please select at least one.",addAtLeastOne:"Please add at least one.",email:{invalid:"Please provide a valid email address."},password:{tooShort:"Your password must have at least 8 characters.",noDigit:"Your password must contain at least one digit.",noUpperCase:"Your password must contain at least one upper case character.",noLowerCase:"Your password must contain at least one lower case character.",noSymbol:"Your password must contain at least one symbol (#@$!%*?&).",repeatWrong:"These passwords don't match."},language:{atLeastOne:"Please select at least one language.",specifyLevel:"Please specify a level for your languages."},date:{tooYoung:"You must be 16 or older to join this platform.",invalid:"Please enter a valid date."},group:{name:{tooShort:"The name should have at least 4 characters.",tooLong:"The length of the name cannot exceed 60 characters."}},post:{tooShort:"A post should contain at least 5 characters.",tooLong:"The length of a post cannot exceed 3000 characters."},comment:{tooShort:"A comment should contain at least 2 characters.",tooLong:"The length of a comment cannot exceed 1200 characters."}},error:{error_user_not_verified:"This account's email address has not been verified yet.",user_not_found:"User not found.",email_or_password_incorrect:"Incorrect email or password.",reset_password_no_token:"Could not fulfill this request.",unique:{user:{email:"This email address is already in use."}},validation:{email:{is_email:"Please provide a valid email address.",is_sea_email_constraint:"Your email address must match one of our partner universities."}}},myProfile:"My Profile",firstname:"First name",lastname:"Last name",nationality:"Nationality",university:"University",countryPickerLanguageCode:"common",profileType:"Type",profileTypes:"Types",offers:"Offers",positions:"Positions",allRoles:{student:"Student",staff:"Staff"},staffRoles:{teaching:"Teaching",research:"Research",administration:"Administration",technical:"Technical",other:"Other"},gender:"Gender",genders:{male:"Male",female:"Female",other:"Other"},dateOfBirth:"Date of birth",dateUnits:{singular:{second:"second",minute:"minute",hour:"hour",day:"day",week:"week",month:"month",year:"year"},plural:{second:"seconds",minute:"minutes",hour:"hours",day:"days",week:"weeks",month:"months",year:"years"}},dateRelative:{precise:"{{month}} {{day}}, {{year}}",ago:"{{amount}} {{unit}} ago"},months:{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},spokenLanguages:"Spoken languages",languageLevels:{a1:"A1",a2:"A2",b1:"B1",b2:"B2",c1:"C1",c2:"C2",native:"Native"},levelOfStudy:"Level of study",degrees:{bsc1:"BSc1",bsc2:"BSc2",bsc3:"BSc3",m1:"M1",m2:"M2",phd:"PhD"},fieldsOfEducation:"Fields of education",educationFieldsPicker:{placeholder:"Select fields",searchPlaceholder:"Search",multiple:"%d selected"},educationFieldCategories:{"generic-programmes-qualifications":"Generic programmes and qualifications",education:"Education","arts-humanities":"Arts and humanities","social-sciences-journalism-information":"Social sciences, journalism and information","business-administration-law":"Business, administration and law","natural-sciences-mathematics-statistics":"Natural sciences, mathematics and statistics","information-communication-technologies":"Information and Communication Technologies (ICTs)","engineering-manufacturing-construction":"Engineering, manufacturing and construction","agriculture-forestry-fisheries-veterinary":"Agriculture, forestry, fisheries and veterinary","health-welfare":"Health and welfare",services:"Services"},educationFields:{"basic-programmes-qualifications":"Basic programmes and qualifications","literacy-numeracy":"Literacy and numeracy","personal-skills-development":"Personal skills and development","education-science":"Education science","training-for-pre-school-teachers":"Training for pre-school teachers","teacher-training-without-subject-specialisation":"Teacher training without subject specialisation","teacher-training-with-subject-specialisation":"Teacher training with subject specialisation","audio-visual-techniques-media-production":"Audio-visual techniques and media production","fashion-interior-industrial-design":"Fashion, interior and industrial design","fine-arts":"Fine arts",handicrafts:"Handicrafts","music-performing-arts":"Music and performing arts","religion-theology":"Religion and theology","history-archaeology":"History and archaeology","philosophy-ethics":"Philosophy and ethics","language-acquisition":"Language acquisition","literature-linguistics":"Literature and linguistics",economics:"Economics","political-sciences-civics":"Political sciences and civics",psychology:"Psychology","sociology-cultural-studies":"Sociology and cultural studies","journalism-reporting":"Journalism and reporting","library-information-archival-studies":"Library, information and archival studies","accounting-taxation":"Accounting and taxation","finance-banking-insurance":"Finance, banking and insurance","management-administration":"Management and administration","marketing-advertising":"Marketing and advertising","secretarial-office-work":"Secretarial and office work","wholesale-retail-sales":"Wholesale and retail sales","work-skills":"Work skills",law:"Law",biology:"Biology",biochemistry:"Biochemistry","environmental-sciences":"Environmental sciences","natural-environments-wildlife":"Natural environments and wildlife",chemistry:"Chemistry","earth-sciences":"Earth sciences",physics:"Physics",mathematics:"Mathematics",statistics:"Statistics","computer-use":"Computer use","database-network-design-administration":"Database and network design and administration","software-applications-development-analysis":"Software and applications development and analysis","chemical-engineering-processes":"Chemical engineering and processes","environmental-protection-technology":"Environmental protection technology","electricity-energy":"Electricity and energy","electronics-automation":"Electronics and automation","mechanics-metal-trades":"Mechanics and metal trades","motor-vehicles-ships-aircraft":"Motor vehicles, ships and aircraft","food-processing":"Food processing",materials:"Materials (glass, paper, plastic and wood)",textiles:"Textiles (clothes, footwear and leather)","mining-extraction":"Mining and extraction","architecture-town-planning":"Architecture and town planning","building-civil-engineering":"Building and civil engineering","crop-livestock-production":"Crop and livestock production",horticulture:"Horticulture",forestry:"Forestry",fisheries:"Fisheries",veterinary:"Veterinary","dental-studies":"Dental studies",medicine:"Medicine","nursing-midwifery":"Nursing and midwifery","medical-diagnostic-treatment-technology":"Medical diagnostic and treatment technology","therapy-rehabilitation":"Therapy and rehabilitation",pharmacy:"Pharmacy","traditional-complementary-medicine-therapy":"Traditional and complementary medicine and therapy","care-elderly-disabled-adults":"Care of the elderly and of disabled adults","child-care-youth-services":"Child care and youth services","social-work-counselling":"Social work and counselling","domestic-services":"Domestic services","hair-beauty-services":"Hair and beauty services","hotel-restaurants-catering":"Hotel, restaurants and catering",sports:"Sports","travel-tourism-leisure":"Travel, tourism and leisure","community-sanitation":"Community sanitation","occupational-health-safety":"Occupational health and safety","military-defence":"Military and defence","protection-of-persons-property":"Protection of persons and property","transport-services":"Transport services"},notFoundScreen:{title:"404: Page not found.",subtitle:"This page doesn't exist.",redirect:"Go to home screen"},backendUnreachable:{title:"Unable to reach the server",subtitle:"This can be caused by your network or by the application server itself."},resendVerifyScreen:{title:"Account Verification",text:"This account is not verified yet. You should have received an email from us with a validation link. If not, click the button below to send it again.",send:"Send Again"},universities:{"univ-cadiz":"University of C\xe1diz","univ-brest":"University of Bretagne Occidentale","univ-gdansk":"University of Gda\u0144sk","univ-malta":"University of Malta","univ-kiel":"University of Kiel","univ-split":"University of Split"},universitiesPicker:{placeholder:"Select universities",searchPlaceholder:"Search",multiple:"%d selected"},onboarding:{name:{title:"Welcome",subtitle:"Before we start, we need to know a little bit more about you to ensure the best possible recommendations."},profile1:{title:"Profile"},profile2:{title:"Languages & Interests"},role:{title:"I am a..."},roleSpecific1:{student:{title:"Student information"},staff:{title:"Staff roles"}},offersMeet:{title:"Meet",subtitle:"Meet up with new friends in real life."},offersDiscover:{title:"Discover",subtitle:"Find out about other cultures."},offersCollaborate:{title:"Collaborate",subtitle:"Find people to work on projects, academic or not."},legal1:{title:"Terms & Conditions",text:"As explained in details in our Terms & Conditions, you agree to use \xabSEA-EU Around\xbb and its services only to be put into contact, on a non-business and non-profit basis, with people wishing to meet, collaborate and interact online or in the frame of a mobility. You commit to carry out respectful exchanges with other members. Your name and surname will be visible by other members."},legal2:{title:"Data Policy",text:"In the context of your use of SEA-EU Around, you will provide some personal data to create your profile as further explained in our Terms & Conditions. This data is collected and processed by UBO through SEA-EU Around in order to enable matching among Members, according to needs/offers and interests defined by Members of SEA-EU Around. Your data will be visible only by  other Members."},legal3:{title:"Cookies",text:"I acknowledge that cookies might be used. The information is kept only for application purposes and does not permit to identify the Member except for the cookie enabling UBO to re-authenticate the Member on its arrival on SEA-EU Around, saving the Member from having to re-enter their password at each connection."},back:"Back",next:"Next",leave:"Leave",submit:"Submit",success:{title:"Nice to meet you!",subtitle:"Your profile is now created.",button:"Get Started"},quit:{title:"Quit on-boarding",text:"Do you really wish to leave? You can resume later.",cancel:"Cancel",yes:"Yes"}},languagePicker:{placeholderSingle:"Language",placeholderMultiple:"Select languages",searchPlaceholder:"Search for languages",multiple:"%d selected"},languageLevelPicker:{placeholder:"Level"},languageNames:{aa:"Afar",ab:"Abkhazian",ae:"Avestan",af:"Afrikaans",ak:"Akan",am:"Amharic",an:"Aragonese",ar:"Arabic",as:"Assamese",av:"Avaric",ay:"Aymara",az:"Azerbaijani",ba:"Bashkir",be:"Belarusian",bg:"Bulgarian",bh:"Bihari languages",bi:"Bislama",bm:"Bambara",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",ca:"Catalan / Valencian",ce:"Chechen",ch:"Chamorro",co:"Corsican",cr:"Cree",cs:"Czech",cu:"Old Bulgarian / Church Slavic / Slavonic",cv:"Chuvash",cy:"Welsh",da:"Danish",de:"German",dv:"Divehi / Dhivehi / Maldivian",dz:"Dzongkha",ee:"Ewe",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",ff:"Fulah",fi:"Finnish",fj:"Fijian",fo:"Faroese",fr:"French",fy:"Western Frisian",ga:"Irish",gd:"Scottish Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",gv:"Manx",ha:"Hausa",he:"Hebrew",hi:"Hindi",ho:"Hiri Motu",hr:"Croatian",ht:"Haitian Creole",hu:"Hungarian",hy:"Armenian",hz:"Herero",ia:"Interlingua",id:"Indonesian",ie:"Interlingue / Occidental",ig:"Igbo",ii:"Sichuan Yi / Nuosu",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",ka:"Georgian",kg:"Kongo",ki:"Kikuyu / Gikuyu",kj:"Kuanyama / Kwanyama",kk:"Kazakh",kl:"Kalaallisut / Greenlandic",km:"Central Khmer",kn:"Kannada",ko:"Korean",kr:"Kanuri",ks:"Kashmiri",ku:"Kurdish",kv:"Komi",kw:"Cornish",ky:"Kirghiz / Kyrgyz",la:"Latin",lb:"Luxembourgish / Letzeburgesch",lg:"Ganda",li:"Limburgan / Limburger / Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",mg:"Malagasy",mh:"Marshallese",mi:"Maori",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mr:"Marathi",ms:"Malay",mt:"Maltese",my:"Burmese",na:"Nauru",nb:"Norwegian Bokm\xe5l",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nl:"Dutch / Flemish",nn:"Norwegian Nynorsk",no:"Norwegian",nr:"South Ndebele",nv:"Navajo / Navaho",ny:"Chichewa / Chewa / Nyanja",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Oriya",os:"Ossetian / Ossetic",pa:"Punjabi / Panjabi",pi:"Pali",pl:"Polish",ps:"Pashto / Pushto",pt:"Portuguese",qu:"Quechua",rc:"Reunionese",rm:"Romansh",rn:"Rundi",ro:"Romanian / Moldavian",ru:"Russian",rw:"Kinyarwanda",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sg:"Sango",sh:"Serbo-Croatian",si:"Sinhala / Sinhalese",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",ss:"Swati",st:"Southern Sotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga (Tonga Islands)",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur / Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Walloon",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang / Chuang",zh:"Chinese",zu:"Zulu"},interests:"Interests",chooseInterests:"Choose interests",interestsPicker:{placeholder:"Select interests",searchPlaceholder:"Search",multiple:"%d selected"},interestNames:{activism:"Activism",art:"Art",astrology:"Astrology",baking:"Baking",bbq:"BBQ",blogging:"Blogging","board-games":"Board games",brunch:"Brunch","cat-lover":"Cat Lover",climbing:"Climbing",coffee:"Coffee",comedy:"Comedy",cooking:"Cooking",couchsurfing:"Couch-surfing","craft-beer":"Craft beer",crossfit:"Crossfit",cycling:"Cycling",dancing:"Dancing",diy:"DIY","dog-lover":"Dog Lover",environmentalism:"Environmentalism",esports:"E-Sports",expositions:"Expositions",fashion:"Fashion",festivals:"Festivals",fishing:"Fishing",foodie:"Foodie",football:"Football",gamer:"Gamer",gardening:"Gardening",golf:"Golf","grab-a-drink":"Grab a drink",guitar:"Guitar","happy-hour":"Happy hour",hiking:"Hiking",instagram:"Instagram",investing:"Investing",karaoke:"Karaoke","language-exchange":"Language exchange",movies:"Movies",museum:"Museum",music:"Music",netflix:"Netflix",outdoors:"Outdoors",parties:"Parties",photography:"Photography",piano:"Piano",picnicking:"Picnicking","playing-music":"Playing music",podcasts:"Podcasts",politics:"Politics",reading:"Reading","road-trips":"Road trips",running:"Running",sailing:"Sailing",shopping:"Shopping",skateboarder:"Skateboarding",skiing:"Skiing",sneakers:"Sneakers",snowboarding:"Snowboarding",spirituality:"Spirituality",sports:"Sports","start-ups":"Start ups","street-food":"Street food",surfing:"Surfing",swimming:"Swimming",tango:"Tango",tattoos:"Tattoos",tea:"Tea",tennis:"Tennis",theater:"Theater",travel:"Travel",trivia:"Trivia",vegan:"Vegan",vegetarian:"Vegetarian",volunteering:"Volunteering",walking:"Walking","walking-my-dog":"Walking my dog",wine:"Wine","working-out":"Working out",writer:"Writing",yoga:"Yoga"},offersPreText:"I am open to...",offerCategories:{meet:"Meet",discover:"Discover",collaborate:"Collaborate"},offerSettings:{genders:"Target genders",roles:"Target positions"},allOffers:{"grab-a-drink":{name:"Grab a drink",help:"I am open to having a drink with the people I meet on this platform."},"provide-a-couch":{name:"Host you for some time",help:"I am open to letting someone sleep on my couch."},"get-into-campus-life":{name:"Get into campus life",help:"I am open to helping someone visit my campus."},"cowork-on-a-project":{name:"Co-work on a project",help:"I am looking for collaborators for a project."},"answer-academic-questions":{name:"Answer academic questions",help:"I can give information about my university or answer to general academic questions."},"share-interests":{name:"Share interests",help:"I would like to chat with other users about common interests."},"language-tandem":{name:"Join a language tandem",help:"I am willing to join a language tandem to help others learn one of my languages."}},unmatch:{title:"Unmatch user?",text:"Are you sure you want to unmatch {{firstname}}? You will not be able to communicate anymore.",blockQuestion:"If you don't want {{firstname}} to be able to find you anymore, you can also block them:",action:"Unmatch"},block:{title:"Block user?",warning:"You and {{firstname}} will not be able to find each other anymore.",action:"Block"},welcomeScreen:{signIn:"Log in",signUp:"Sign up",subtitle:"Join an alliance united around the values of European identity."},loginForm:{title:"Welcome Back!",titleFirstLaunch:"Welcome!",logIn:"Log in",signUp:"Sign up",or:"or"},cookies:{title:"Cookies",bannerText:"We use cookies to provide you with the best possible user experience.\nOur usage of cookies includes caching data for faster loading, storing your preferences and authentication. We do not collect any information that could be used for tracking or advertising.",acceptAll:"Accept cookies",customize:"Customize",preferences:{text:"We offer you the ability to choose what information will be stored on your device when using SEA-EU Around.",auth:{name:"Authentication",description:"Store information used to sign-in automatically when starting the app."},cache:{name:"Cache",description:"Store some data on your device (less than 1MB) for faster loading."},settings:{name:"Settings",description:"Store your settings (e.g. theme and locale)."}}},bugReport:{mailSubject:"Bug report from the app",mailTitle:"Description of the bug (with steps to reproduce it if possible):"},report:{title:"Report",send:"Send",cancel:"Cancel",what:"What / who?",commentFrom:"Comment from {{name}}",postFrom:"Post from {{name}}",group:"Group \u201c{{name}}\u201d",why:"Why?",typePlaceholder:"Select a reason",types:{violence:"Violence",nudity:"Nudity",harassment:"Harassment","undesirable-content":"Undesirable content","hate-speech":"Hate speech","vulgar-content":"Vulgar content",other:"Other"},confirmationTitle:"Thank you",confirmation:"An administrator will investigate your report shortly.",failureTitle:"Sorry",failure:"We are unable to fulfill your request."},resetPassword:{instructions:"To choose a new password, click the link in the email we just sent you.",title:"Please choose a new password",button:"Send",success:"Your password has been updated."},deleteAccount:{title:"Delete your account",warning:"Your account and all associated data will be deleted within six months. Please be aware that after this time, your account will be irreversibly deleted. If you sign in before the end however, the deletion will be cancelled.",button:"Delete",success1:"Your request has been received and will be processed shortly.",success2:"We are sorry to see you go.",leave:"Leave",inputLabel:"Enter password to confirm"},recoverAccount:{title:"Recover Account",text:"You account is currently inactive and set for deletion. If you continue, the deletion process will be cancelled.",yes:"Recover"},messaging:{noMatches:"It appears that you haven't matched with anyone yet. :(",sayHi:"Say hi",sayHiTo:"Say hi to {{name}}!"},groups:{group:"Group",create:{title:"Create Group",name:"Name",visible:"Visible",requireApproval:"Requires approval",visibleDescription:{true:"Anyone can find this group.",false:"This group is not visible: in order to join, users have to be invited."},requireApprovalDescription:{true:"Requests to join this group have to be manually approved by a group moderator.",false:"Anyone can join this group without approval."},submit:"Create"},newPost:{title:"New Post",submit:"Create"},editPost:{title:"Edit Post",contentPlaceholder:"Content",submit:"Send"},deletePost:{title:"Delete post",text:"This action is irreversible."},editComment:{title:"Edit comment"},deleteComment:{title:"Delete comment",text:"This action is irreversible."},comments:{zero:"No comments",singular:"1 comment",plural:"{{num}} comments",replyTo:"Reply to {{name}}",placeholder:"Write a comment...",none:"No comments here yet."},join:"Join",joinRequestSent:{title:"Request Sent",text:"You will be added to this group when one of its administrators has accepted your request."},groupJoined:{title:"Congratulations!",text:"You have successfully joined the group \u201c{{name}}\u201d.",viewGroup:"Show"},myGroups:{title:"My groups",none:"When you join a group, it will appear here."},explore:{button:"Explore",none:"No groups found.",noMore:"No other groups to show.",statusText:{pending:"Demande envoy\xe9e",banned:"Banni",invited:"Invitation re\xe7ue"}},invites:"Invites",inviteNew:"Invite new members",invite:{decline:"Decline",accept:"Accept",approvalDisclaimerInvitee:"You have been invited by a member. If you accept this invitation, an administrator of this group will still need to approve you.",approvalDisclaimerInviter:"{{name}} will still need to be approved by an administrator of this group.",nobodyToInvite:"Your matches who are not part of this group and have not been invited yet will appear here.",invite:"Invite",title:"Invite User",text:"Do you want to invite {{name}} to this group?"},posts:"Posts",postMenu:{title:"Post"},members:{zero:"No members",singular:"1 member",plural:"{{num}} members",manage:"Manage members",manageBanned:"Banned users",approval:{noResults:"No approval requests."},approved:{noResults:"No members."},banned:{noResults:"No banned users."}},deleteMember:{title:"Remove User?",text:"{{name}} will no longer be able to post in this group. Additionally, existing posts and comments from this member will be deleted.",action:"Remove"},deletePendingMember:{title:"Refuse User",text:"Do you really want to refuse {{name}}'s request to join the group?",action:"Yes"},banMember:{title:"Ban User?",text:"{{name}} will be removed and unable to join this group again. Additionally, existing posts and comments from this member will be deleted.",action:"Ban"},banPendingMember:{title:"Ban User?",text:"{{name}} will no longer be able to send requests to join the group.",action:"Ban"},promoteToAdmin:{title:"Administrator",text:"Do you want to promote {{name}} to admin?",action:"Yes"},description:{placeholder:"Enter a description here",none:"No description"},roles:{admin:"Administrator",basic:"Member"},reportPost:"Report",noMorePosts:"No more posts to show.",noPosts:"No posts to show.",justPosted:"Just posted",justCommented:"just commented",justEdited:"just edited",edited:"edited",editedAgo:"edited {{ago}}",postsSorting:{newest:"Newest",oldest:"Oldest",popular:"Most popular"},points:{zero:"0 points",singular:"1 point",plural:"{{num}} points"},feed:{title:"Trending",help:"We are showing you posts from your groups, based on their popularity and how long ago they were posted."},leave:{title:"Leave Group",text:"Are you sure you want to leave this group?",deleteData:"Delete all of my posts and comments from this group."},delete:{title:"Delete Group",text:"If you really want to delete this group, type its name below:"},settings:{title:"Group settings"}},matching:{noResults:"No results found",noMoreItems:"No more profiles to show",noItemsAdvice:"Perhaps try removing some filters",filtering:{sectionGeneral:"General",buttonReset:"Reset"},actionLike:"Like",actionHide:"Hide",success:{title:"It's a match!",offersTitle:"Open to:",offersMore:"more",chat:"Chat",continue:"Continue"},history:{status:{requested:"Liked",declined:"Hidden",blocked:"Blocked"},actions:{report:"Report",cancel:{requested:"Cancel like",declined:"Cancel hide",blocked:"Cancel block"},block:"Block"},noResults:"No results found",noResultsAdvice:"Perhaps try removing some filters"}},profile:{action:{chat:"Chat",mute:"Mute",block:"Block",unmatch:"Unmatch",report:"Report"},noOffersSelected:"No offers selected."},screenTitles:{suffix:" - SEA-EU Around",WelcomeScreen:"Welcome",SigninScreen:"Login",ForgotPasswordScreen:"Forgot Password",SignupScreen:"Sign up",OnboardingNameScreen:"Welcome",OnboardingProfileScreen1:"Profile",OnboardingProfileScreen2:"Profile",OnboardingRoleScreen:"Profile",OnboardingRoleSpecificScreen:"Profile",OnboardingOffersScreen1:"Discover",OnboardingOffersScreen2:"Collaborate",OnboardingOffersScreen3:"Meet",OnboardingLegalScreen1:"Terms & Conditions",OnboardingLegalScreen2:"Terms & Conditions",OnboardingLegalScreen3:"Terms & Conditions",ChatRoomsScreen:"Messages",ChatScreen:"Chat",TabHomeScreen:"Home",TabMatchingScreen:"Match",MatchFilteringScreen:"Add Filters",MatchHistoryScreen:"History",TabGroupsScreen:"Groups",GroupsExploreScreen:"Explore Groups",GroupScreen:"Group",GroupMembersScreen:"Group Members",GroupBannedMembersScreen:"Banned Users",GroupMembersApprovalScreen:"Members Approval",GroupInviteScreen:"Invite",TabNotificationsScreen:"Notifications",MyProfileScreen:"Profile",ProfileScreen:"Profile",SettingsScreen:"Settings",DeleteAccountScreen:"Delete Account",DeleteAccountSuccessScreen:"Account Deleted",ValidationEmailSentScreen:"Validate your account",ValidateEmailScreen:"Validate your account",ResetPasswordScreen:"Reset your password",ResetPasswordSuccessScreen:"Password reset",OnboardingSuccessfulScreen:"Successful registration",NotFoundScreen:"Not Found",BackendUnreachableScreen:"Error",ForgotPasswordEmailSentScreen:"Forgot password",ResendVerifyEmailScreen:"Account verification"},settings:{sections:{general:"General",danger:"Danger zone",about:"About"},language:"Language",darkTheme:"Dark theme",deleteAccount:"Delete Account",deleteMyAccount:"Delete my account",version:"Version",termsOfService:"Terms of Service",reportABug:"Report a Bug",logOut:"Log out",customizeCookies:"Customize cookies"}},fr:{locales:{en:"Anglais",fr:"Fran\xe7ais"},appName:"SEA-EU Around",search:"Rechercher",send:"Envoyer",cancel:"Annuler",close:"Fermer",delete:"Supprimer",ok:"OK",save:"Sauvegarder",noResultsFound:"Aucun r\xe9sultat",apply:"Appliquer",logOut:"D\xe9connexion",showMore:"Afficher plus",showLess:"Afficher moins",picker:{callToAction:"%d \xe9l\xe9ments"},dateInput:{dayPlaceholder:"JJ",monthPlaceholder:"MM",yearPlaceholder:"AAAA"},nationalityPicker:{placeholder:"Nationalit\xe9"},login:"Connexion",emailAddress:"Adresse mail",password:"Mot de passe",passwordRepeat:"R\xe9p\xe9ter le mot de passe",forgotPassword:"Mot de passe oubli\xe9",forgotPasswordExplanation:"Entrez l'adresse mail associ\xe9e \xe0 votre compte ci-dessous. Vous recevrez sous peu des instructions pour choisir un nouveau mot de passe.",newPassword:"Nouveau mot de passe",signupWelcome:"Nous vous attendons avec impatience!",createAccount:"Cr\xe9er le compte",emailValidation:{validating:"Validation",sent:"Pour valider votre compte, cliquez sur le lien dans le mail que nous venons de vous envoyer",success:["Le compte est d\xe9sormais valid\xe9. Vous pouvez maintenant vous ","connecter"]},legal:{modal:{title:"Conditions d'utilisation",disclaimer:"Vous ne pourrez pas utiliser nos services si vous choisissez de refuser les conditions d'utilisation.\n\nLa cr\xe9ation du profil sera annul\xe9e."},decline:"Refuser",accept:"Accepter",readMore:["Une version compl\xe8te des conditions d'utilisation est disponible ","ici","."]},validation:{required:"Champ requis.",atLeastOne:"S\xe9lectionner au moins un \xe9l\xe9ment.",addAtLeastOne:"Ajouter au moins un \xe9l\xe9ment.",email:{invalid:"Adresse mail invalide."},password:{tooShort:"Le mot de passe doit contenir au moins 8 caract\xe8res.",noDigit:"Le mot de passe doit contenir au moins un chiffre.",noUpperCase:"Le mot de passe doit contenir au moins une lettre majuscule.",noLowerCase:"Le mot de passe doit contenir au moins une lettre minuscule.",noSymbol:"Le mot de passe doit contenir au moins un symbole (#@$!%*?&).",repeatWrong:"Ces mots de passe ne sont pas identiques."},language:{atLeastOne:"S\xe9lectionnez au moins une langue.",specifyLevel:"Sp\xe9cifiez un niveau pour chaque langue."},date:{tooYoung:"Vous devez avoir au moins 16 ans pour rejoindre cette plateforme.",invalid:"Date invalide."},group:{name:{tooShort:"Le nom du groupe doit contenir au moins 4 caract\xe8res.",tooLong:"Le nom du groupe ne doit pas exc\xe9der 60 caract\xe8res."}},post:{tooShort:"Le post doit contenir au moins 5 caract\xe8res.",tooLong:"Le post ne doit pas exc\xe9der 3000 caract\xe8res."},comment:{tooShort:"Le commentaire doit contenir au moins 2 caract\xe8res.",tooLong:"Le commentaire ne doit pas exc\xe9der 1200 caract\xe8res."}},error:{error_user_not_verified:"L'adresse mail de ce compte n'a pas encore \xe9t\xe9 v\xe9rifi\xe9e.",user_not_found:"Utilisateur introuvable.",email_or_password_incorrect:"Adresse mail ou mot de passe incorrect.",reset_password_no_token:"Cette requ\xeate n'a pas pu \xeatre trait\xe9e.",unique:{user:{email:"Cette adresse mail est d\xe9j\xe0 utilis\xe9e."}},validation:{email:{is_email:"Adresse mail invalide.",is_sea_email_constraint:"L'adresse mail doit correspondre \xe0 l'une de nos universit\xe9s partenaires."}}},myProfile:"Mon Profil",firstname:"Pr\xe9nom",lastname:"Nom",nationality:"Nationalit\xe9",university:"Universit\xe9",countryPickerLanguageCode:"fra",profileType:"Type",profileTypes:"Types",offers:"Offres",positions:"Postes",allRoles:{student:"\xc9tudiant",staff:"Staff"},staffRoles:{teaching:"Enseignement",research:"Recherche",administration:"Administration",technical:"Technique",other:"Autre"},gender:"Genre",genders:{male:"Homme",female:"Femme",other:"Autre"},dateOfBirth:"Date de naissance",dateUnits:{singular:{second:"seconde",minute:"minute",hour:"heure",day:"jour",week:"semaine",month:"mois",year:"ann\xe9e"},plural:{second:"secondes",minute:"minutes",hour:"heures",day:"jours",week:"semaines",month:"mois",year:"ann\xe9es"}},dateRelative:{precise:"{{day}} {{month}} {{year}}",ago:"il y a {{amount}} {{unit}}"},months:{0:"Janvier",1:"F\xe9vrier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",7:"Ao\xfbt",8:"Septembre",9:"Octobre",10:"Novembre",11:"Decembre"},spokenLanguages:"Langues parl\xe9es",languageLevels:{a1:"A1",a2:"A2",b1:"B1",b2:"B2",c1:"C1",c2:"C2",native:"Natif"},levelOfStudy:"Niveau d'\xe9tudes",degrees:{bsc1:"BSc1",bsc2:"BSc2",bsc3:"BSc3",m1:"M1",m2:"M2",phd:"PhD"},fieldsOfEducation:"Domaines d'\xe9tudes",educationFieldsPicker:{placeholder:"S\xe9lectionner",searchPlaceholder:"Rechercher",multiple:"%d selectionn\xe9s"},educationFieldCategories:{"generic-programmes-qualifications":"Programmes et certifications g\xe9n\xe9riques",education:"\xc9ducation","arts-humanities":"Lettres et arts","social-sciences-journalism-information":"Sciences sociales, journalisme et information","business-administration-law":" Commerce, administration et droit","natural-sciences-mathematics-statistics":"Sciences naturelles, math\xe9matiques et statistiques","information-communication-technologies":"Technologies de l\u2019information et de la communication","engineering-manufacturing-construction":"Ing\xe9nierie, industries de transformation et construction","agriculture-forestry-fisheries-veterinary":"Agriculture, sylviculture, halieutique et sciences v\xe9t\xe9rinaires","health-welfare":"Sant\xe9 et protection sociale",services:"Services"},educationFields:{"basic-programmes-qualifications":"Programmes et certifications de base","literacy-numeracy":"Alphab\xe9tisation et apprentissage du calcul","personal-skills-development":"Comp\xe9tences et d\xe9veloppement personnels","education-science":"Sciences de l\u2019\xe9ducation","training-for-pre-school-teachers":"Formation des enseignants au niveau pr\xe9scolaire","teacher-training-without-subject-specialisation":"Formation des enseignants sans sp\xe9cialisation","teacher-training-with-subject-specialisation":"Formation des enseignants avec sp\xe9cialisation","audio-visual-techniques-media-production":"Techniques audiovisuelles et production multim\xe9dia","fashion-interior-industrial-design":"Stylisme, d\xe9coration et design industriel","fine-arts":"Beaux-arts",handicrafts:"Artisanat","music-performing-arts":"Musique, th\xe9\xe2tre, danse, cirque","religion-theology":"Religion et th\xe9ologie","history-archaeology":"Histoire et arch\xe9ologie","philosophy-ethics":"Philosophie et morale","language-acquisition":"Acquisition d\u2019une langue","literature-linguistics":"Litt\xe9rature et linguistique",economics:"\xc9conomie","political-sciences-civics":"Sciences politiques et \xe9ducation civique",psychology:"Psychologie","sociology-cultural-studies":"Sociologie et \xe9tudes culturelles","journalism-reporting":"Journalisme et reportage","library-information-archival-studies":"Formation aux biblioth\xe8ques, \xe0 la documentation et \xe0 l\u2019archivisme","accounting-taxation":"Comptabilit\xe9 et fiscalit\xe9","finance-banking-insurance":"Finance, banque et assurances","management-administration":"Gestion et administration","marketing-advertising":"Marketing et publicit\xe9","secretarial-office-work":"Travail de secr\xe9tariat et de bureau","wholesale-retail-sales":"Vente en gros et au d\xe9tail","work-skills":"Comp\xe9tences professionnelles",law:"Droit",biology:"Biologie",biochemistry:"Biochimie","environmental-sciences":"Sciences environnementales","natural-environments-wildlife":"Environnements naturels et faune et flore",chemistry:"Chimie","earth-sciences":"Sciences de la Terre",physics:"Physique",mathematics:"Math\xe9matiques",statistics:"Statistiques","computer-use":"Utilisation d\u2019un ordinateur","database-network-design-administration":"Conception et administration de bases de donn\xe9es et de r\xe9seau","software-applications-development-analysis":"D\xe9veloppement et analyse de logiciels et d\u2019applications","chemical-engineering-processes":"Ing\xe9nierie chimique et processus","environmental-protection-technology":"Technologie de la protection de l\u2019environnement","electricity-energy":"\xc9lectricit\xe9 et \xe9nergie","electronics-automation":"\xc9lectronique et automatisation","mechanics-metal-trades":"M\xe9canique et techniques apparent\xe9es","motor-vehicles-ships-aircraft":"V\xe9hicules \xe0 moteur, bateaux et a\xe9ronefs","food-processing":"Traitement des aliments",materials:"Mat\xe9riaux (verre, papier, plastique et bois)",textiles:"Textiles (v\xeatements, chaussures et cuir)","mining-extraction":"Exploitation mini\xe8re et extraction","architecture-town-planning":"Architecture et urbanisme","building-civil-engineering":"Construction et g\xe9nie civil","crop-livestock-production":"Culture et \xe9levage",horticulture:"Horticulture",forestry:"Sylviculture",fisheries:"Halieutique",veterinary:"Sciences v\xe9t\xe9rinaires","dental-studies":"\xc9tudes dentaires",medicine:"M\xe9decine","nursing-midwifery":"Soins infirmiers et formation de sages-femmes","medical-diagnostic-treatment-technology":"Diagnostic m\xe9dical et technologie de traitement","therapy-rehabilitation":"Th\xe9rapie et r\xe9\xe9ducation",pharmacy:"Pharmacie","traditional-complementary-medicine-therapy":"M\xe9decine et th\xe9rapies traditionnelles et compl\xe9mentaires","care-elderly-disabled-adults":"Soins g\xe9rontologiques et aux adultes handicap\xe9s","child-care-youth-services":"Soins aux enfants et \xe0 la jeunesse","social-work-counselling":"Travail social et orientation","domestic-services":"Services domestiques","hair-beauty-services":"Services de soins de beaut\xe9 et de coiffure","hotel-restaurants-catering":"H\xf4tellerie et services de restauration",sports:"Sports","travel-tourism-leisure":"Voyage, tourisme et loisirs","community-sanitation":"Salubrit\xe9 publique","occupational-health-safety":"Sant\xe9 et s\xe9curit\xe9 au travail","military-defence":"S\xe9curit\xe9 militaire et d\xe9fense","protection-of-persons-property":"Protection des biens et des personnes","transport-services":"Services de transport"},notFoundScreen:{title:"404: Page introuvable.",subtitle:"Cette page n'existe pas.",redirect:"Aller \xe0 l'\xe9cran d'accueil"},backendUnreachable:{title:"Impossible de se connecter au serveur",subtitle:"Cela peut provenir de votre connection Internet ou du serveur de l'application."},resendVerifyScreen:{title:"V\xe9rification du compte",text:"Ce compte n'est pas encore v\xe9rifi\xe9. Vous devriez avoir re\xe7u un mail de notre part contenant un lien de v\xe9rification. Sinon, cliquez sur le bouton ci-dessous pour le renvoyer.",send:"Envoyer \xe0 nouveau"},universities:{"univ-cadiz":"Universit\xe9 de C\xe1diz","univ-brest":"Universit\xe9 de Bretagne Occidentale","univ-gdansk":"Universit\xe9 de Gda\u0144sk","univ-malta":"Universit\xe9 de Malte","univ-kiel":"Universit\xe9 de Kiel","univ-split":"Universit\xe9 de Split"},universitiesPicker:{placeholder:"S\xe9lectionner",searchPlaceholder:"Rechercher",multiple:"%d \xe9l\xe9ments"},onboarding:{name:{title:"Bienvenue",subtitle:"Avant de commencer, nous avons besoin d'en savoir un peu plus sur vous afin d'assurer les meilleures recommendations possibles."},profile1:{title:"Profil"},profile2:{title:"Langues et Hobbies"},role:{title:"Je suis un..."},roleSpecific1:{student:{title:"\xc9tudiant"},staff:{title:"Staff"}},offersMeet:{title:"Rencontrer",subtitle:"Rencondrer des nouveaux amis dans la vraie vie."},offersDiscover:{title:"D\xe9couvrir",subtitle:"En apprendre plus sur d'autres cultures."},offersCollaborate:{title:"Collaborer",subtitle:"Trouver d'autres personnes pour travailler sur des projets, acad\xe9miques ou non."},legal1:{title:"Conditions d'utilisation",text:"Comme pr\xe9cis\xe9 dans les conditions d\u2019usage, vous acceptez d\u2019utiliser \xab SEA-EU Around \xbb et ses services pour \xeatre mis en relation avec d\u2019autres personnes souhaitant se rencontrer, collaborer, ou interagir en ligne ou dans le cadre d\u2019une mobilit\xe9, sur un principe non-commercial et non lucratif. Vous vous engagez \xe0 des \xe9changes respectueux avec les autres membres. Vos noms et pr\xe9noms seront visibles des autres membres."},legal2:{title:"Politique des donn\xe9es",text:"Dans le cadre de votre utilisation de SEA-EU Around, vous allez fournir des donn\xe9es personnelles afin de cr\xe9er votre profil selon les conditions pr\xe9cis\xe9es dans les Conditions d\u2019utilisation. Ces donn\xe9es sont collect\xe9es et trait\xe9es par l\u2019UBO via l'application pour permettre la mise en relation entre membres, en fonctions des besoins, offres et int\xe9r\xeats qu\u2019ils auront d\xe9finis. Vos donn\xe9es ne seront visibles que par les autres membres."},legal3:{title:"Cookies",text:"L\u2019application peut utiliser les cookies. L\u2019information est utilis\xe9e exclusivement dans le cadre du fonctionnement de l\u2019application et ne permet pas d\u2019identifier le membre, \xe0 l\u2019exception du cookie permettant une r\xe9authentification sans avoir \xe0 ressaisir son mot de passe."},back:"Retour",next:"Suivant",leave:"Quitter",submit:"Envoyer",success:{title:"Ravis de vous voir !",subtitle:"Votre profil est cr\xe9\xe9.",button:"Commencer"},quit:{title:"Quitter",text:"Voulez vous vraiment quitter la cr\xe9ation du profil ? Vous pourrez reprendre plus tard.",cancel:"Annuler",yes:"Oui"}},languagePicker:{placeholderSingle:"Langue",placeholderMultiple:"S\xe9lectionner des langues",searchPlaceholder:"Rechercher",multiple:"%d \xe9l\xe9ments"},languageLevelPicker:{placeholder:"Niveau"},languageNames:{aa:"Afar",ab:"Abkhaze",ae:"Avestique",af:"Afrikaans",ak:"Akan",am:"Amharique",an:"Aragonais",ar:"Arabe",as:"Assamais",av:"Avar",ay:"Aymara",az:"Az\xe9ri",ba:"Bachkir",be:"Bi\xe9lorusse",bg:"Bulgare",bh:"Bihari",bi:"Bichelamar",bm:"Bambara",bn:"Bengali",bo:"Tib\xe9tain",br:"Breton",bs:"Bosnien",ca:"Catalan",ce:"Tch\xe9tch\xe8ne",ch:"Chamorro",co:"Corse",cr:"Cri",cs:"Tch\xe8que",cu:"Vieux-slave",cv:"Tchouvache",cy:"Gallois",da:"Danois",de:"Allemand",dv:"Maldivien",dz:"Dzongkha",ee:"Ewe",el:"Grec moderne",en:"Anglais",eo:"Esp\xe9ranto",es:"Espagnol",et:"Estonien",eu:"Basque",fa:"Persan",ff:"Peul",fi:"Finnois",fj:"Fidjien",fo:"F\xe9ro\xefen",fr:"Fran\xe7ais",fy:"Frison occidental",ga:"Irlandais",gd:"\xc9cossais",gl:"Galicien",gn:"Guarani",gu:"Gujarati",gv:"Mannois",ha:"Haoussa",he:"H\xe9breu",hi:"Hindi",ho:"Hiri motu",hr:"Croate",ht:"Cr\xe9ole ha\xeftien",hu:"Hongrois",hy:"Arm\xe9nien",hz:"H\xe9r\xe9ro",ia:"Interlingua",id:"Indon\xe9sien",ie:"Occidental",ig:"Igbo",ii:"Yi",ik:"Inupiak",io:"Ido",is:"Islandais",it:"Italien",iu:"Inuktitut",ja:"Japonais",jv:"Javanais",ka:"G\xe9orgien",kg:"Kikongo",ki:"Kikuyu",kj:"Kuanyama",kk:"Kazakh",kl:"Groenlandais",km:"Khmer",kn:"Kannada",ko:"Cor\xe9en",kr:"Kanouri",ks:"Cachemiri",ku:"Kurde",kv:"Komi",kw:"Cornique",ky:"Kirghiz",la:"Latin",lb:"Luxembourgeois",lg:"Ganda",li:"Limbourgeois",ln:"Lingala",lo:"Lao",lt:"Lituanien",lu:"Luba",lv:"Letton",mg:"Malgache",mh:"Marshallais",mi:"Maori de Nouvelle-Z\xe9lande",mk:"Mac\xe9donien",ml:"Malayalam",mn:"Mongol",mo:"Moldave",mr:"Marathi",ms:"Malais",mt:"Maltais",my:"Birman",na:"Nauruan",nb:"Norv\xe9gien Bokm\xe5l",nd:"Sindebele",ne:"N\xe9palais",ng:"Ndonga",nl:"N\xe9erlandais",nn:"Norv\xe9gien Nynorsk",no:"Norv\xe9gien",nr:"Nrebele",nv:"Navajo",ny:"Chichewa",oc:"Occitan",oj:"Ojibw\xe9",om:"Oromo",or:"Oriya",os:"Oss\xe8te",pa:"Pendjabi",pi:"Pali",pl:"Polonais",ps:"Pachto",pt:"Portugais",qu:"Quechua",rc:"Cr\xe9ole R\xe9unionnais",rm:"Romanche",rn:"Kirundi",ro:"Roumain",ru:"Russe",rw:"Kinyarwanda",sa:"Sanskrit",sc:"Sarde",sd:"Sindhi",se:"Same du Nord",sg:"Sango",sh:"Serbo-croate",si:"Cingalais",sk:"Slovaque",sl:"Slov\xe8ne",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanais",sr:"Serbe",ss:"Swati",st:"Sotho du Sud",su:"Soundanais",sv:"Su\xe9dois",sw:"Swahili",ta:"Tamoul",te:"T\xe9lougou",tg:"Tadjik",th:"Tha\xef",ti:"Tigrigna",tk:"Turkm\xe8ne",tl:"Tagalog",tn:"Tswana",to:"Tongien",tr:"Turc",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitien",ug:"Ou\xefghour",uk:"Ukrainien",ur:"Ourdou",uz:"Ouzbek",ve:"Venda",vi:"Vietnamien",vo:"Volap\xfck",wa:"Wallon",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang",zh:"Chinois",zu:"Zoulou"},interests:"Hobbies",chooseInterests:"Choisissez des hobbies",interestsPicker:{placeholder:"S\xe9lectionner",searchPlaceholder:"Rechercher",multiple:"%d \xe9l\xe9ments"},interestNames:{activism:"Activisme",art:"Art",astrology:"Astrologie",baking:"P\xe2tisserie",bbq:"Barbecue",blogging:"Blogging","board-games":"Jeux de soci\xe9t\xe9",brunch:"Brunch","cat-lover":"Chats",climbing:"Escalade",coffee:"Caf\xe9",comedy:"Com\xe9die",cooking:"Cuisine",couchsurfing:"Couch-surfing","craft-beer":"Bi\xe8re artisanale",crossfit:"Crossfit",cycling:"V\xe9lo",dancing:"Danse",diy:"DIY","dog-lover":"Chiens",environmentalism:"\xc9cologie",esports:"E-Sports",expositions:"Expositions",fashion:"Fashion",festivals:"Festivals",fishing:"P\xe8che",foodie:"Gastronomie",football:"Football",gamer:"Gaming",gardening:"Jardinage",golf:"Golf","grab-a-drink":"Boire un verre",guitar:"Guitare","happy-hour":"Happy hour",hiking:"Randonn\xe9e",instagram:"Instagram",investing:"Investissement",karaoke:"Karaoke","language-exchange":"\xc9change linguistique",movies:"Films",museum:"Mus\xe9es",music:"Musique",netflix:"Netflix",outdoors:"Activit\xe9s d'ext\xe9rieur",parties:"F\xeates",photography:"Photographie",piano:"Piano",picnicking:"Pique-nique","playing-music":"Jouer de la musique",podcasts:"Podcasts",politics:"Politique",reading:"Lecture","road-trips":"Road trips",running:"Course \xe0 pied",sailing:"La voile",shopping:"Shopping",skateboarder:"Skateboard",skiing:"Ski",sneakers:"Chaussures de sport",snowboarding:"Snowboard",spirituality:"Spiritualit\xe9",sports:"Sports","start-ups":"Start ups","street-food":"Street food",surfing:"Surf",swimming:"Nage",tango:"Tango",tattoos:"Tatouages",tea:"Th\xe9",tennis:"Tennis",theater:"Th\xe9atre",travel:"Voyage",trivia:"Trivia",vegan:"Vegan",vegetarian:"V\xe9g\xe9tarien",volunteering:"B\xe9n\xe9volat",walking:"Marche","walking-my-dog":"Promener son chien",wine:"Vin","working-out":"Entra\xeenement sportif",writer:"\xc9criture",yoga:"Yoga"},offersPreText:"Je suis ouvert \xe0...",offerCategories:{meet:"Rencontrer",discover:"D\xe9couvrir",collaborate:"Collaborer"},offerSettings:{genders:"Genres cibl\xe9s",roles:"Postes cibl\xe9s"},allOffers:{"grab-a-drink":{name:"Boire un verre",help:"Je suis ouvert pour boire un verre avec les personnes que je rencontre sur cette plateforme."},"provide-a-couch":{name:"H\xe9berger quelque temps",help:"Je suis ouvert \xe0 h\xe9berger quelqu'un pendant quelques jours."},"get-into-campus-life":{name:"Int\xe9grer la vie du campus",help:"Je suis motiv\xe9.e \xe0 l'id\xe9e de pr\xe9senter \xe0 quelqu'un la vie de mon campus."},"cowork-on-a-project":{name:"Collaborer sur un projet",help:"Je recherche des collaborateurs pour un projet."},"answer-academic-questions":{name:"R\xe9pondre \xe0 des questions acad\xe9miques",help:"Je peux donner des informations \xe0 propos de mon universit\xe9 ou r\xe9pondre \xe0 des questions g\xe9n\xe9rales en lien avec les \xe9tudes."},"share-interests":{name:"Partager des hobbies",help:"J'aimerais discuter avec d'autres utilisateurs \xe0 propos de centres d'int\xe9r\xeats communs."},"language-tandem":{name:"Rejoindre un tandem d'apprentissage de langue",help:"Je cherche \xe0 rejoindre un tandem de langue afin d'aider d'autres utilisateurs \xe0 apprendre une de mes langues."}},unmatch:{title:"Annuler le match ?",text:"Voulez-vous vraiment annuler le match avec {{firstname}} ? Vous ne pourrez plus communiquer.",blockQuestion:"Si vous ne voulez plus appara\xeetre dans les r\xe9sultats de {{firstname}}, vous pouvez aussi bloquer ce profil :",action:"Unmatch"},block:{title:"Bloquer l'utilisateur ?",warning:"Vous et {{firstname}} n'appara\xeetrez plus dans vos recherches respectives.",action:"Bloquer"},welcomeScreen:{signIn:"Connexion",signUp:"Inscription",subtitle:"Rejoignez une alliance unie autour des valeurs de l'identit\xe9 europ\xe9enne."},loginForm:{title:"Ravis de vous revoir !",titleFirstLaunch:"Bienvenue !",logIn:"Connexion",signUp:"Inscription",or:"ou"},cookies:{title:"Cookies",bannerText:"Nous utilisons des cookies afin de vous fournir la meilleure exp\xe9rience utilisateur possible.\nNotre utilisation des cookies inclut notamment le stockage de donn\xe9es pour des chargements plus rapides, le stockage de vos param\xe8tres et l'authentification. Nous ne collectons aucune information qui pourrait \xeatre utilis\xe9e pour du tra\xe7age ou de la publicit\xe9.",acceptAll:"Accepter les cookies",customize:"Personnaliser",preferences:{text:"Nous offrons la possibilit\xe9 de choisir les informations qui sont stock\xe9es sur votre appareil par SEA-EU Around.",auth:{name:"Authentification",description:"Stockage d'information permettant de vous authentifier automatiquement lorsque vous lancez l'application."},cache:{name:"Cache",description:"Stockage d'information (moins d'un 1MO) permettant d'acc\xe9l\xe9rer les chargements."},settings:{name:"Param\xe8tres",description:"Stockage des param\xe8tres (th\xe8me, langue, etc)."}}},bugReport:{mailSubject:"Signalement de bug depuis l'app",mailTitle:"Description du bug (inclure si possible les \xe9tapes pour le reproduire) :"},report:{title:"Signalement",send:"Envoyer",cancel:"Annuler",what:"Quoi / qui ?",commentFrom:"Commentaire de {{name}}",postFrom:"Post de {{name}}",group:"Groupe \u201c{{name}}\u201d",why:"Pourquoi ?",typePlaceholder:"S\xe9lectionner une raison",types:{violence:"Violence",nudity:"Nudit\xe9",harassment:"Harc\xe8lement","undesirable-content":"Contenu ind\xe9sirable","hate-speech":"Discours haineux","vulgar-content":"Contenu vulgaire",other:"Autre"},confirmationTitle:"Merci",confirmation:"Un administrateur traitera votre signalement sous peu.",failureTitle:"D\xe9sol\xe9",failure:"Nous ne sommes pas en mesure de tra\xeeter votre requ\xeate."},resetPassword:{instructions:"Pour choisir un nouveau mot de passe, cliquez sur le lien dans le mail que nous venons de vous envoyer.",title:"Choisissez un nouveau mot de passe",button:"Envoyer",success:"Votre mot de passe a \xe9t\xe9 mis \xe0 jour."},deleteAccount:{title:"Supprimer votre compte",warning:"Votre compte et toutes les donn\xe9es associ\xe9es seront supprim\xe9es d'ici 6 mois. Apr\xe8s cette p\xe9riode, le compte sera irr\xe9versiblement supprim\xe9. Si vous vous connectez avant, la suppression sera annul\xe9e.",button:"Supprimer",success1:"Votre requ\xeate a bien \xe9t\xe9 re\xe7ue et sera trait\xe9e sous peu.",success2:"Nous sommes d\xe9sol\xe9s de vous voir partir.",leave:"Quitter",inputLabel:"Entrez votre mot de passe pour confirmer"},recoverAccount:{title:"R\xe9cup\xe9ration du Compte",text:"Ce compte est actuellement inactif et en attente d'\xeatre supprim\xe9. Si vous continuez, la suppression sera annul\xe9e.",yes:"R\xe9cup\xe9rer"},messaging:{noMatches:"Il semblerait que vous n'ailliez pas encore eu de match. :(",sayHi:"Envoyez un message",sayHiTo:"Envoyez un message \xe0 {{name}}"},groups:{group:"Groupe",create:{title:"Cr\xe9er un groupe",name:"Nom",visible:"Visible",requireApproval:"Approbation requise",visibleDescription:{true:"Tout le monde peut voir ce groupe.",false:"Ce groupe est invisible: les utilisateurs doivent \xeatre invit\xe9s pour rejoindre."},requireApprovalDescription:{true:"Un mod\xe9rateur du groupe doit manuellement approuver les demandes pour rejoindre le groupe.",false:"Les utilisateurs peuvent rejoindre le groupe sans approbation."},submit:"Cr\xe9er"},newPost:{title:"Nouveau Post",submit:"Cr\xe9er"},editPost:{title:"\xc9diter le post",contentPlaceholder:"Contenu",submit:"Envoyer"},deletePost:{title:"Supprimer le post",text:"Cette action est irr\xe9versible."},editComment:{title:"\xc9diter le commentaire"},deleteComment:{title:"Supprimer le commentaire",text:"Cette action est irr\xe9versible."},comments:{zero:"Aucun commentaire",singular:"1 commentaire",plural:"{{num}} commentaires",replyTo:"R\xe9pondre \xe0 {{name}}",placeholder:"\xc9crivez un commentaire...",none:"Il n'y a pas encore de commentaires ici."},join:"Rejoindre",joinRequestSent:{title:"Demande envoy\xe9e",text:"Vous serez ajout\xe9 \xe0 ce groupe lorsque l'un de ses administrateurs aura accept\xe9 votre demande."},groupJoined:{title:"F\xe9licitations !",text:"Vous venez de rejoindre le groupe \u201c{{name}}\u201d.",viewGroup:"Afficher"},myGroups:{title:"Mes groupes",none:"Lorsque vous aurez rejoint un groupe, il appara\xeetra ici."},explore:{button:"Explorer",none:"Aucun groupe n'a \xe9t\xe9 trouv\xe9.",noMore:"Aucun autre groupe \xe0 afficher.",statusText:{pending:"Request sent",banned:"Banned",invited:"Invited"}},invites:"Invitations",inviteNew:"Inviter",invite:{decline:"Refuser",accept:"Rejoindre",approvalDisclaimerInvitee:"Vous avez \xe9t\xe9 invit\xe9 par un membre. Si vous acceptez, un administrateur du groupe devra encore approuver avant que vous ne rejoigniez ce groupe.",approvalDisclaimerInviter:"{{name}} devra \xeatre accept\xe9 par un administrateur de ce groupe.",nobodyToInvite:"Vos match qui ne sont pas dans ce groupe et qui n'ont pas d\xe9j\xe0 \xe9t\xe9 invit\xe9s appara\xeetront ici.",invite:"Inviter",title:"Inviter un utilisateur",text:"Voulez-vous inviter {{name}} \xe0 rejoindre ce groupe ?"},posts:"Posts",postMenu:{title:"Post"},members:{zero:"Aucun membre",singular:"1 membre",plural:"{{num}} membres",manage:"G\xe9rer les membres",manageBanned:"Utilisateurs bannis",approval:{noResults:"Aucune demande d'approbation."},approved:{noResults:"Aucun membre."},banned:{noResults:"Aucun utilisateur banni."}},deleteMember:{title:"Exclure l'utilisateur ?",text:"{{name}} ne pourra plus poster sur ce groupe. De plus, ses posts et commentaires existants seront supprim\xe9s.",action:"Exclure"},deletePendingMember:{title:"Refuser la demande",text:"Voulez-vous vraiment refuser la demande de {{name}} pour rejoindre le groupe ?",action:"Oui"},banMember:{title:"Bannir l'utilisateur ?",text:"L'utilisateur sera exclu et ne pourra plus rejoindre le groupe. De plus, ses posts et commentaires existants seront supprim\xe9s.",action:"Bannir"},banPendingMember:{title:"Bannir l'utilisateur ?",text:"{{name}} ne pourra plus demander \xe0 rejoindre le groupe.",action:"Bannir"},promoteToAdmin:{title:"Administrateur",text:"Voulez-vous promouvoir {{name}} au rang d'administrateur ?",action:"Oui"},description:{placeholder:"Entrez une description ici",none:"Pas de description"},roles:{admin:"Administrateur",basic:"Membre"},reportPost:"Signaler",noMorePosts:"Aucun autre post \xe0 afficher.",noPosts:"Aucun post \xe0 afficher.",justPosted:"Post\xe9 \xe0 l'instant",justCommented:"comment\xe9 \xe0 l'instant",justEdited:"modifi\xe9 \xe0 l'instant",edited:"modifi\xe9",editedAgo:"modifi\xe9 {{ago}}",postsSorting:{newest:"R\xe9cent",oldest:"Ancien",popular:"Populaire"},points:{zero:"0 points",singular:"1 point",plural:"{{num}} points"},feed:{title:"En tendance",help:"Nous vous montrons seulement les posts de vos groupes, en fonction de leur popularit\xe9 et leur date de cr\xe9ation."},leave:{title:"Quitter le groupe",text:"Voulez-vous vraiment quitter ce groupe ?",deleteData:"Supprimer tous mes posts et commentaires de ce groupe."},delete:{title:"Supprimer le groupe",text:"Si vous voulez vraiment supprimer ce groupe, entrez son nom ci-dessous :"},settings:{title:"Param\xe8tres du groupe"}},matching:{noResults:"Aucun r\xe9sultat",noMoreItems:"Pas d'autres profils \xe0 afficher",noItemsAdvice:"\xc9ssayez de supprimer des filtres",filtering:{sectionGeneral:"G\xe9n\xe9ral",buttonReset:"R\xe9initialiser"},actionLike:"Like",actionHide:"Cacher",success:{title:"Nouveau match !",offersTitle:"Ouvert \xe0:",offersMore:"autres",chat:"Discuter",continue:"Continuer"},history:{status:{requested:"Lik\xe9",declined:"Cach\xe9",blocked:"Bloqu\xe9"},actions:{report:"Signaler",cancel:{requested:"Annuler like",declined:"D\xe9-cacher",blocked:"D\xe9bloquer"},block:"Bloquer"},noResults:"Aucun r\xe9sultat",noResultsAdvice:"\xc9ssayez de supprimer des filtres"}},profile:{action:{chat:"Chat",mute:"Mettre en sourdine",block:"Bloquer",unmatch:"Unmatch",report:"Signaler"},noOffersSelected:"Aucune offre s\xe9lectionn\xe9e."},screenTitles:{suffix:" - SEA-EU Around",WelcomeScreen:"Bienvenue",SigninScreen:"Connexion",ForgotPasswordScreen:"Mot de Passe Oubli\xe9",SignupScreen:"Inscription",OnboardingNameScreen:"Bienvenue",OnboardingProfileScreen1:"Profil",OnboardingProfileScreen2:"Profil",OnboardingRoleScreen:"Profil",OnboardingRoleSpecificScreen:"Profil",OnboardingOffersScreen1:"D\xe9couvrir",OnboardingOffersScreen2:"Collaborer",OnboardingOffersScreen3:"Rencontrer",OnboardingLegalScreen1:"Conditions d'utilisation",OnboardingLegalScreen2:"Politique des donn\xe9es",OnboardingLegalScreen3:"Cookies",ChatRoomsScreen:"Messages",ChatScreen:"Chat",TabHomeScreen:"Accueil",TabMatchingScreen:"Match",MatchFilteringScreen:"Ajouter des Filtres",MatchHistoryScreen:"Historique",TabGroupsScreen:"Groupes",GroupsExploreScreen:"Explorer les groupes",GroupScreen:"Groupe",GroupMembersScreen:"Membres du groupe",GroupBannedMembersScreen:"Utilisateurs bannis",GroupMembersApprovalScreen:"Approbation des membres",GroupInviteScreen:"Inviter",TabNotificationsScreen:"Notifications",MyProfileScreen:"Profil",ProfileScreen:"Profil",SettingsScreen:"Param\xe8tres",DeleteAccountScreen:"Suppression du Compte",DeleteAccountSuccessScreen:"Compte Supprim\xe9",ValidationEmailSentScreen:"Validation du Compte",ValidateEmailScreen:"Validation du Compte",ResetPasswordScreen:"Changement de Mot de Passe",ResetPasswordSuccessScreen:"Mot de Passe Modifi\xe9",OnboardingSuccessfulScreen:"Inscription R\xe9ussie",NotFoundScreen:"Page Introuvable",BackendUnreachableScreen:"Erreur",ForgotPasswordEmailSentScreen:"Mot de Passe Oubli\xe9",ResendVerifyEmailScreen:"V\xe9rification du compte"},settings:{sections:{general:"G\xe9n\xe9ral",danger:"Zone dangereuse",about:"\xc0 propos"},language:"Langue",darkTheme:"Th\xe8me sombre",deleteAccount:"Suppression de compte",deleteMyAccount:"Supprimer mon compte",version:"Version",termsOfService:"Conditions d'utilisation",reportABug:"Signaler un bug",logOut:"D\xe9connexion",customizeCookies:"Personnaliser les cookies"}}},Ft=["en","fr"];function Mt(){return"fr"===lt.a.substr(0,2)?"fr":"en"}var Lt=["hr","en","fr","de","mt","pl","es","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","dv","dz","ee","el","eo","et","eu","fa","ff","fi","fj","fo","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","ps","pt","qu","rc","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"];function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e){var t=At,n=t[e].languageNames||t.en.languageNames;return Lt.map((function(e){return{label:n[e]||"Missing translation ("+e+")",value:e}}))}var Gt,Ht={userSettings:{theme:"light",locale:Mt(),cookies:{auth:!1,cache:!1,settings:!1},cookieConsentDate:null},previousVersion:null,isFirstLaunch:!1,localizedLanguageItems:Ut(Mt())};!function(e){e.Discover="discover",e.Collaborate="collaborate",e.Meet="meet"}(Gt||(Gt={}));var Vt,zt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t&&e.allowChooseGender,r=t&&e.allowChooseProfileType;return{offerId:e.id,allowFemale:n,allowMale:n,allowOther:n,allowStudent:r,allowStaff:r}};!function(e){e.Declined="declined",e.Blocked="blocked",e.Matched="matched",e.Requested="requested"}(Vt||(Vt={}));var Wt,qt,Yt=[Vt.Declined,Vt.Blocked,Vt.Requested];function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Admin="admin",e.Basic="basic"}(Wt||(Wt={})),function(e){e.Pending="pending",e.Approved="approved",e.Banned="banned",e.Invited="invited",e.InvitedByAdmin="invited-by-admin"}(qt||(qt={}));var Qt,Zt={user:null,offers:[],offerIdToCategory:new Map,interests:[],uploadingAvatar:!1},Xt=n(10),$t=n.n(Xt);function en(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})}function tn(e,t){return e.reduce((function(e,n){return e[t(n)]=n,e}),{})}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_FILTERS="MATCHING/SET_FILTERS",e.SET_OFFER_FILTER="MATCHING/SET_OFFER_FILTER",e.FETCH_PROFILES_BEGIN="MATCHING/FETCH_PROFILES_BEGIN",e.FETCH_PROFILES_FAILURE="MATCHING/FETCH_PROFILES_FAILURE",e.FETCH_PROFILES_SUCCESS="MATCHING/FETCH_PROFILES_SUCCESS",e.FETCH_PROFILES_REFRESH="MATCHING/FETCH_PROFILES_REFRESH",e.LIKE_PROFILE_SUCCESS="MATCHING/LIKE_PROFILE_SUCCESS",e.DISLIKE_PROFILE_SUCCESS="MATCHING/DISLIKE_PROFILE_SUCCESS",e.BLOCK_PROFILE_SUCCESS="MATCHING/BLOCK_PROFILE_SUCCESS",e.FETCH_MY_MATCHES_BEGIN="MATCHING/FETCH_MY_MATCHES_BEGIN",e.FETCH_MY_MATCHES_FAILURE="MATCHING/FETCH_MY_MATCHES_FAILURE",e.FETCH_MY_MATCHES_SUCCESS="MATCHING/FETCH_MY_MATCHES_SUCCESS",e.FETCH_MY_MATCHES_REFRESH="MATCHING/FETCH_MY_MATCHES_REFRESH",e.FETCH_HISTORY_BEGIN="MATCHING/FETCH_HISTORY_BEGIN",e.FETCH_HISTORY_FAILURE="MATCHING/FETCH_HISTORY_FAILURE",e.FETCH_HISTORY_SUCCESS="MATCHING/FETCH_HISTORY_SUCCESS",e.FETCH_HISTORY_REFRESH="MATCHING/FETCH_HISTORY_REFRESH",e.ACTION_CANCEL_SUCCESS="MATCHING/ACTION_CANCEL_SUCCESS",e.ACTION_CANCEL_FAILURE="MATCHING/ACTION_CANCEL_FAILURE",e.SET_HISTORY_FILTERS="MATCHING/SET_HISTORY_FILTERS"}(Qt||(Qt={}));var on=function(){return{type:Qt.FETCH_PROFILES_FAILURE}},an=function(e,t){return{type:Qt.FETCH_PROFILES_SUCCESS,items:e,canFetchMore:t}},cn=function(){return{type:Qt.FETCH_PROFILES_REFRESH}},sn=function(e,t,n){return{type:Qt.LIKE_PROFILE_SUCCESS,profile:e,matchStatus:t,roomId:n}},un=function(e){return function(t,n){var r,o,a,i,c,s;return l.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=n().auth.token,u.next=3,l.a.awrap(W("matching/like","POST",{},{toProfileId:e.id},r));case 3:if((o=u.sent).status!==U.OK){u.next=9;break}return a=o.data,c=(i=a).status,s=i.roomId,t(sn(e,c,s)),u.abrupt("return",{status:c,roomId:s});case 9:return u.abrupt("return",null);case 10:case"end":return u.stop()}}),null,null,null,Promise)}},ln=function(e){return{type:Qt.DISLIKE_PROFILE_SUCCESS,profile:e}},fn=function(e){return{type:Qt.BLOCK_PROFILE_SUCCESS,profileId:e}},pn=function(e){return function(t,n){var r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,l.a.awrap(W("matching/block","POST",{},{toProfileId:e},r,!0));case 3:o.sent.status===U.OK&&t(fn(e));case 5:case"end":return o.stop()}}),null,null,null,Promise)}},dn=function(e,t){return{type:Qt.FETCH_HISTORY_SUCCESS,items:e,canFetchMore:t}},hn=function(){return{type:Qt.FETCH_HISTORY_REFRESH}},mn=function(e){return{type:Qt.ACTION_CANCEL_FAILURE,historyItemId:e}},gn=function(e,t){return{type:Qt.ACTION_CANCEL_SUCCESS,historyItemId:e,isMatch:t}},yn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().auth.token,a.next=3,l.a.awrap(W("matching/cancel","POST",{},{matchingEntityId:e},o,!0));case 3:if(a.sent.status!==U.OK){a.next=9;break}return n(gn(e,t)),a.abrupt("return",!0);case 9:return n(mn(e)),a.abrupt("return",!1);case 11:case"end":return a.stop()}}),null,null,null,Promise)}};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En={filters:{offers:{},universities:[],degrees:[],languages:[],educationFields:[],staffRoles:[],types:[]},profiles:{},orderedProfileIds:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1},historyPagination:{page:1,canFetchMore:!0,fetching:!1},historyFilters:function(){var e={};return Yt.forEach((function(t){return e[t]=!0})),e}(),historyItems:[],myMatches:[],myMatchesPagination:{page:1,canFetchMore:!0,fetching:!1}},Sn=n(5),On=n.n(Sn),Cn=n(6),Rn=n.n(Cn),wn=n(456),Pn=n.n(wn);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In,kn=C+"/chat",jn=new(function(){function e(){On()(this,e),this.socket=null,this.connectCallbacks=[],this.writingTimeout=null,this.lastSentWritingState=!1,this.lastSentWritingStateRoom=null,this.connectTimeout=null}return Rn()(e,[{key:"consumeConnectCallbacks",value:function(e){this.connectCallbacks.forEach((function(t){return t(e)})),this.connectCallbacks=[]}},{key:"registerListeners",value:function(e){var t=this;this.socket&&(this.socket.on("connect",(function(){t.log("connected"),t.connectTimeout&&clearTimeout(t.connectTimeout),t.connectTimeout=null,t.consumeConnectCallbacks(!0)})),this.socket.on("close",(function(){t.log("close"),t.connectTimeout&&clearTimeout(t.connectTimeout),t.connectTimeout=null,t.consumeConnectCallbacks(!1)})),this.socket.on("disconnect",(function(){t.log("disconnected"),t.connectTimeout&&clearTimeout(t.connectTimeout),t.connectTimeout=null,t.consumeConnectCallbacks(!1)})),this.socket.on("receiveMessage",(function(t){return e.onMessageReceived(t)})),this.socket.on("readMessage",(function(t){return e.onMessageRead(t)})),this.socket.on("isWriting",(function(t){return e.onWritingStateChange(t)})))}},{key:"log",value:function(e){S&&console.log("[ChatSocket] "+e)}},{key:"emit",value:function(e,t){var n;this.log("----\x3e '"+e+"' - payload: "+JSON.stringify(t)),null==(n=this.socket)||n.emit(e,t)}},{key:"sendWritingState",value:function(e,t){this.lastSentWritingState=t,this.lastSentWritingStateRoom=e,this.emit("isWriting",{roomId:e.id,state:t})}},{key:"refreshWritingTimeout",value:function(e){var t=this;null!==this.writingTimeout&&(clearTimeout(this.writingTimeout),this.writingTimeout=null),this.writingTimeout=setTimeout((function(){t.sendWritingState(e,!1)}),1e3)}},{key:"addConnectCallback",value:function(e){this.connectCallbacks.push(e)}},{key:"connect",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;this.isConnected()?r&&r(!0):(r&&this.addConnectCallback(r),this.isConnecting()||(this.log("Connecting to "+kn),this.socket?this.socket.connect():(this.log("----\x3e Authenticating - token = "+e.accessToken),this.socket=Pn()(kn,{query:{authorization:e.accessToken},reconnection:!1}),this.registerListeners(xn({onMessageRead:rt.noop,onMessageReceived:rt.noop,onWritingStateChange:rt.noop},n))),this.connectTimeout&&clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout((function(){t.connectTimeout=null,t.isConnected()||(o>0?t.connect(e,n,rt.noop,o-1):t.consumeConnectCallbacks(!1))}),2e3)))}},{key:"joinRoom",value:function(e){this.emit("joinRoom",{roomId:e.id}),e.lastMessage&&this.readMessage(e.id,e.lastMessage._id,e.lastMessage.createdAt.toJSON())}},{key:"leaveRoom",value:function(e){this.emit("leaveRoom",{roomId:e.id})}},{key:"sendMessage",value:function(e,t,n){this.emit("sendMessage",{roomId:e,id:t,text:n})}},{key:"readMessage",value:function(e,t,n){this.emit("readMessage",{roomId:e,messageId:t,date:n})}},{key:"setWriting",value:function(e){this.refreshWritingTimeout(e),!1===this.lastSentWritingState&&this.sendWritingState(e,!0)}},{key:"disconnect",value:function(){this.isConnecting()&&(this.connectTimeout&&clearTimeout(this.connectTimeout),this.connectTimeout=null,this.consumeConnectCallbacks(!1)),this.isConnected()&&(this.lastSentWritingStateRoom&&!0===this.lastSentWritingState&&this.sendWritingState(this.lastSentWritingStateRoom,!1),this.socket&&this.socket.disconnect())}},{key:"isConnected",value:function(){return null!==this.socket&&this.socket.connected}},{key:"isConnecting",value:function(){return null!==this.connectTimeout}}]),e}());!function(e){e.FETCH_MATCH_ROOMS_BEGIN="MESSAGING/FETCH_MATCH_ROOMS_BEGIN",e.FETCH_MATCH_ROOMS_FAILURE="MESSAGING/FETCH_MATCH_ROOMS_FAILURE",e.FETCH_MATCH_ROOMS_SUCCESS="MESSAGING/FETCH_MATCH_ROOMS_SUCCESS",e.FETCH_MATCH_ROOM_SUCCESS="MESSAGING/FETCH_MATCH_ROOM_SUCCESS",e.CONNECT_TO_CHAT_BEGIN="MESSAGING/CONNECT_TO_CHAT_BEGIN",e.CONNECT_TO_CHAT_FAILURE="MESSAGING/CONNECT_TO_CHAT_FAILURE",e.CONNECT_TO_CHAT_SUCCESS="MESSAGING/CONNECT_TO_CHAT_SUCCESS",e.DISCONNECT_FROM_CHAT="MESSAGING/DISCONNECT_FROM_CHAT",e.JOIN_CHAT_ROOM_BEGIN="MESSAGING/JOIN_CHAT_ROOM_BEGIN",e.JOIN_CHAT_ROOM_FAILURE="MESSAGING/JOIN_CHAT_ROOM_FAILURE",e.JOIN_CHAT_ROOM_SUCCESS="MESSAGING/JOIN_CHAT_ROOM_SUCCESS",e.LEAVE_ROOM="MESSAGING/LEAVE_ROOM",e.SEND_MESSAGE_FAILURE="MESSAGING/SEND_MESSAGE_FAILURE",e.SEND_MESSAGE_SUCCESS="MESSAGING/SEND_MESSAGE_SUCCESS",e.RECEIVE_MESSAGE="MESSAGING/RECEIVE_MESSAGE",e.RECEIVE_WRITING_STATE="MESSAGING/RECEIVE_WRITING_STATE",e.READ_MESSAGE="MESSAGING/READ_MESSAGE",e.FETCH_EARLIER_MESSAGES_BEGIN="MESSAGING/FETCH_EARLIER_MESSAGES_BEGIN",e.FETCH_EARLIER_MESSAGES_FAILURE="MESSAGING/FETCH_EARLIER_MESSAGES_FAILURE",e.FETCH_EARLIER_MESSAGES_SUCCESS="MESSAGING/FETCH_EARLIER_MESSAGES_SUCCESS",e.FETCH_NEW_MESSAGES_BEGIN="MESSAGING/FETCH_NEW_MESSAGES_BEGIN",e.FETCH_NEW_MESSAGES_FAILURE="MESSAGING/FETCH_NEW_MESSAGES_FAILURE",e.FETCH_NEW_MESSAGES_SUCCESS="MESSAGING/FETCH_NEW_MESSAGES_SUCCESS"}(In||(In={}));var _n=function(){return{type:In.FETCH_MATCH_ROOMS_BEGIN}},Dn=function(){return{type:In.FETCH_MATCH_ROOMS_FAILURE}},An=function(e,t,n){return{type:In.FETCH_MATCH_ROOMS_SUCCESS,items:e,canFetchMore:t,refresh:n}},Fn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o,a,i,c,s,u,f;return l.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(o=r(),a=o.auth.token,i=o.messaging.matchRoomsPagination,t||!i.fetching&&i.canFetchMore){p.next=5;break}return p.abrupt("return");case 5:return n(_n()),p.next=8,l.a.awrap(W("rooms","GET",{page:t?1:i.page,limit:10,search:e},{},a));case 8:(c=p.sent).status===U.OK?(u=(s=c).data.map(oe),f=s.meta.currentPage<s.meta.totalPages,n(An(u,f,t))):n(Dn());case 10:case"end":return p.stop()}}),null,null,null,Promise)}},Mn=function(e){return function(t,n){var r,o;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:r=n().auth.token,o=function(){t({type:In.CONNECT_TO_CHAT_FAILURE}),e&&e(!1)},jn.isConnected()?e&&e(!0):r?jn.isConnecting()?e&&jn.addConnectCallback(e):(t({type:In.CONNECT_TO_CHAT_BEGIN}),jn.connect(r,{onMessageReceived:function(e){var r=n().messaging.activeRoomId;e.roomId==r&&jn.readMessage(r,e.id,e.updatedAt),t(Vn(e))},onMessageRead:function(e){return t(Wn(e))},onWritingStateChange:function(e){return t(zn(e))}},(function(n){n?(t({type:In.CONNECT_TO_CHAT_SUCCESS}),e&&e(!0)):o()}))):o();case 3:case"end":return a.stop()}}),null,null,null,Promise)}},Ln=function(){return jn.disconnect(),{type:In.DISCONNECT_FROM_CHAT}},Bn=function(e){return{type:In.JOIN_CHAT_ROOM_BEGIN,room:e}},Nn=function(e){return{type:In.JOIN_CHAT_ROOM_FAILURE,room:e}},Un=function(e){return{type:In.JOIN_CHAT_ROOM_SUCCESS,room:e}},Gn=function(e){return{type:In.SEND_MESSAGE_SUCCESS,message:e}},Hn=function(e,t,n){return function(r,o){var a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:a=o().messaging,i=a.activeRoomId,c=a.localChatUser,jn.isConnected()&&i&&c?(r(Gn({_id:e,createdAt:n,user:c,text:t,sent:!1})),jn.sendMessage(i,e,t)):r({type:In.SEND_MESSAGE_FAILURE});case 2:case"end":return s.stop()}}),null,null,null,Promise)}},Vn=function(e){return{type:In.RECEIVE_MESSAGE,message:e}},zn=function(e){return{type:In.RECEIVE_WRITING_STATE,payload:e}},Wn=function(e){return{type:In.READ_MESSAGE,payload:e}},qn=function(e){return{type:In.FETCH_EARLIER_MESSAGES_BEGIN,room:e}},Yn=function(e){return{type:In.FETCH_EARLIER_MESSAGES_FAILURE,room:e}},Kn=function(e,t,n){return{type:In.FETCH_EARLIER_MESSAGES_SUCCESS,room:e,items:t,canFetchMore:n}},Jn=function(e){return{type:In.FETCH_NEW_MESSAGES_BEGIN,room:e}},Qn=function(e){return{type:In.FETCH_NEW_MESSAGES_FAILURE,room:e}},Zn=function(e,t,n){return{type:In.FETCH_NEW_MESSAGES_SUCCESS,room:e,items:t,canFetchMore:n}},Xn=function(e){return{type:In.FETCH_MATCH_ROOM_SUCCESS,room:e}};function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tr={matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1},socketState:{connected:!1,connecting:!1},activeRoomId:null,localChatUser:null,fetchingNewMessages:!1};function nr(e){return{_id:e.id,name:e.firstName+" "+e.lastName,avatar:e.avatarUrl||"",lastMessageSeenDate:null,lastMessageSeenId:null}}function rr(e,t,n){if(t){var r=e.matchRoomsOrdered.filter((function(e){return e!==n.id}));return er(er({},e),{},{matchRooms:er(er({},e.matchRooms),{},p()({},n.id,n)),matchRoomsOrdered:[n.id].concat(r)})}return er(er({},e),{},{matchRooms:er(er({},e.matchRooms),{},p()({},n.id,n))})}var or,ar={},ir={};function cr(e,t,n){var r=e.groupsDict,o=e.postsFeed;return r[t].posts[n]||o[n]}function sr(e,t,n,r){var o=cr(e,t,n);return null==o?void 0:o.comments[r]}function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.CREATE_SUCCESS="GROUP/CREATE_SUCCESS",e.CREATE_FAILURE="GROUP/CREATE_FAILURE",e.UPDATE_SUCCESS="GROUP/UPDATE_SUCCESS",e.UPDATE_FAILURE="GROUP/UPDATE_FAILURE",e.DELETE_SUCCESS="GROUP/DELETE_SUCCESS",e.DELETE_FAILURE="GROUP/DELETE_FAILURE",e.LEAVE_SUCCESS="GROUP/LEAVE_SUCCESS",e.FETCH_POSTS_FEED_BEGIN="GROUP/FETCH_POSTS_FEED_BEGIN",e.FETCH_POSTS_FEED_SUCCESS="GROUP/FETCH_POSTS_FEED_SUCCESS",e.FETCH_POSTS_FEED_FAILURE="GROUP/FETCH_POSTS_FEED_FAILURE",e.FETCH_GROUPS_BEGIN="GROUP/FETCH_GROUPS_BEGIN",e.FETCH_GROUPS_FAILURE="GROUP/FETCH_GROUPS_FAILURE",e.FETCH_GROUPS_SUCCESS="GROUP/FETCH_GROUPS_SUCCESS",e.FETCH_GROUP_SUCCESS="GROUP/FETCH_GROUP_SUCCESS",e.FETCH_GROUP_MEMBERS_BEGIN="GROUP/FETCH_GROUP_MEMBERS_BEGIN",e.FETCH_GROUP_MEMBERS_SUCCESS="GROUP/FETCH_GROUP_MEMBERS_SUCCESS",e.FETCH_GROUP_MEMBERS_FAILURE="GROUP/FETCH_GROUP_MEMBERS_FAILURE",e.FETCH_GROUP_MEMBERS_REFRESH="GROUP/FETCH_GROUP_MEMBERS_REFRESH",e.DELETE_GROUP_MEMBER_SUCCESS="GROUP/DELETE_GROUP_MEMBER_SUCCESS",e.SET_GROUP_MEMBER_STATUS_SUCCESS="GROUP/SET_GROUP_MEMBER_STATUS_SUCCESS",e.SET_GROUP_MEMBER_ROLE_SUCCESS="GROUP/SET_GROUP_MEMBER_ROLE_SUCCESS",e.INVITE_TO_GROUP_SUCCESS="GROUP/INVITE_TO_GROUP_SUCCESS",e.FETCH_GROUP_POSTS_BEGIN="GROUP/FETCH_GROUP_POSTS_BEGIN",e.FETCH_GROUP_POSTS_SUCCESS="GROUP/FETCH_GROUP_POSTS_SUCCESS",e.FETCH_GROUP_POSTS_FAILURE="GROUP/FETCH_GROUP_POSTS_FAILURE",e.FETCH_POST_COMMENTS_BEGIN="GROUP/FETCH_POST_COMMENTS_BEGIN",e.FETCH_POST_COMMENTS_SUCCESS="GROUP/FETCH_POST_COMMENTS_SUCCESS",e.FETCH_POST_COMMENTS_FAILURE="GROUP/FETCH_POST_COMMENTS_FAILURE",e.FETCH_POST_COMMENTS_REFRESH="GROUP/FETCH_POST_COMMENTS_REFRESH",e.FETCH_MYGROUPS_BEGIN="GROUP/FETCH_MYGROUPS_BEGIN",e.FETCH_MYGROUPS_FAILURE="GROUP/FETCH_MYGROUPS_FAILURE",e.FETCH_MYGROUPS_SUCCESS="GROUP/FETCH_MYGROUPS_SUCCESS",e.JOIN_GROUP_SUCCESS="GROUP/JOIN_GROUP_SUCCESS",e.CREATE_POST_BEGIN="GROUP/CREATE_POST_BEGIN",e.CREATE_POST_SUCCESS="GROUP/CREATE_POST_SUCCESS",e.CREATE_POST_FAILURE="GROUP/CREATE_POST_FAILURE",e.UPDATE_POST_SUCCESS="GROUP/UPDATE_POST_SUCCESS",e.DELETE_POST_SUCCESS="GROUP/DELETE_POST_SUCCESS",e.CREATE_COMMENT_BEGIN="GROUP/CREATE_COMMENT_BEGIN",e.CREATE_COMMENT_SUCCESS="GROUP/CREATE_COMMENT_SUCCESS",e.CREATE_COMMENT_FAILURE="GROUP/CREATE_COMMENT_FAILURE",e.UPDATE_COMMENT_SUCCESS="GROUP/UPDATE_COMMENT_SUCCESS",e.DELETE_COMMENT_SUCCESS="GROUP/DELETE_COMMENT_SUCCESS",e.SET_COVER_BEGIN="GROUP/SET_COVER_BEGIN",e.SET_COVER_SUCCESS="GROUP/SET_COVER_SUCCESS",e.SET_COVER_FAILURE="GROUP/SET_COVER_FAILURE",e.SET_POST_SORTING_ORDER="GROUP/SET_POST_SORTING_ORDER",e.SET_POST_VOTE_BEGIN="GROUP/SET_POST_VOTE_BEGIN",e.SET_POST_VOTE_SUCCESS="GROUP/SET_POST_VOTE_SUCCESS",e.SET_COMMENT_VOTE_BEGIN="GROUP/SET_COMMENT_VOTE_BEGIN",e.SET_COMMENT_VOTE_SUCCESS="GROUP/SET_COMMENT_VOTE_SUCCESS",e.FETCH_AVAILABLE_MATCHES_BEGIN="GROUP/FETCH_AVAILABLE_MATCHES_BEGIN",e.FETCH_AVAILABLE_MATCHES_FAILURE="GROUP/FETCH_AVAILABLE_MATCHES_FAILURE",e.FETCH_AVAILABLE_MATCHES_SUCCESS="GROUP/FETCH_AVAILABLE_MATCHES_SUCCESS"}(or||(or={}));var fr=function(e){return{type:or.CREATE_SUCCESS,group:e}},pr=function(e){return{type:or.UPDATE_SUCCESS,group:e}},dr=function(e,t){return function(n,r){var o,a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=r().auth.token,c.next=3,l.a.awrap(W("groups/"+e,"PATCH",{},t,o));case 3:if((a=c.sent).status!==U.OK){c.next=10;break}return i=a.data,n(pr(i)),c.abrupt("return",{success:!0});case 10:return n({type:or.UPDATE_FAILURE}),c.abrupt("return",{success:!1,errors:Te(a)});case 12:case"end":return c.stop()}}),null,null,null,Promise)}},hr=function(e){return{type:or.LEAVE_SUCCESS,id:e}},mr=function(e,t){return function(n,r){var o,a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(o=r(),a=o.auth.token,i=o.profile.user){c.next=3;break}return c.abrupt("return",!1);case 3:return c.next=5,l.a.awrap(W("groups/"+e+"/members/"+i.id,"DELETE",{cascade:t},{},a,!0));case 5:if(c.sent.status!==U.NO_CONTENT){c.next=11;break}return n(hr(e)),c.abrupt("return",!0);case 11:return c.abrupt("return",!1);case 12:case"end":return c.stop()}}),null,null,null,Promise)}},gr=function(){return{type:or.FETCH_GROUPS_BEGIN}},yr=function(e,t,n){return{type:or.FETCH_GROUPS_SUCCESS,items:e,canFetchMore:t,refresh:n}},vr=function(){return{type:or.FETCH_GROUPS_FAILURE}},br=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o,a,i,c,s,u,f;return l.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(o=r(),a=o.auth.token,i=o.groups.pagination,a){p.next=4;break}return n(vr()),p.abrupt("return");case 4:if(t||!i.fetching&&i.canFetchMore){p.next=6;break}return p.abrupt("return");case 6:return n(gr()),p.next=9,l.a.awrap(W("groups","GET",{page:t?1:i.page,limit:8,search:e&&e.length>0?e:void 0,explore:!0,statuses:[qt.Invited,qt.InvitedByAdmin,qt.Pending]},{},a,!0));case 9:(c=p.sent).status===U.OK?(u=(s=c).data.map(ce),f=s.meta.currentPage<s.meta.totalPages,n(yr(u,f,t))):n(vr());case 11:case"end":return p.stop()}}),null,null,null,Promise)}},Er=function(e){return{type:or.FETCH_GROUP_SUCCESS,group:e}},Sr=function(e){return function(t,n){var r,o,a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(r=n().auth.token){c.next=3;break}return c.abrupt("return",null);case 3:return c.next=5,l.a.awrap(W("groups/"+e,"GET",{},{},r));case 5:if((o=c.sent).status!==U.OK){c.next=13;break}return a=o.data,i=ce(a),t(Er(i)),c.abrupt("return",i);case 13:return c.abrupt("return",null);case 14:case"end":return c.stop()}}),null,null,null,Promise)}},Or=function(){return{type:or.FETCH_POSTS_FEED_BEGIN}},Cr=function(e,t,n){return{type:or.FETCH_POSTS_FEED_SUCCESS,items:e,canFetchMore:t,refresh:n}},Rr=function(){return{type:or.FETCH_POSTS_FEED_FAILURE}},wr=function(){return function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(Pr(!0));case 1:case"end":return t.stop()}}),null,null,null,Promise)}},Pr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r,o,a,i,c,s,u;return l.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(r=n(),o=r.auth.token,a=r.groups.feedPagination,e||!a.fetching&&a.canFetchMore){f.next=3;break}return f.abrupt("return");case 3:return t(Or()),f.next=6,l.a.awrap(W("groups/feed","GET",{page:e?1:a.page,limit:6},{},o));case 6:(i=f.sent).status===U.OK?(s=(c=i).data.map((function(e){return ue(e)})),u=c.meta.currentPage<c.meta.totalPages,t(Cr(s,u,e))):t(Rr());case 8:case"end":return f.stop()}}),null,null,null,Promise)}},Tr=function(e){return{type:or.FETCH_GROUP_POSTS_BEGIN,groupId:e}},xr=function(e,t,n,r){return{type:or.FETCH_GROUP_POSTS_SUCCESS,groupId:e,items:t,canFetchMore:n,refresh:r}},Ir=function(e){return{type:or.FETCH_GROUP_POSTS_FAILURE,groupId:e}},kr=function(e){return function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(jr(e,!0));case 1:case"end":return n.stop()}}),null,null,null,Promise)}},jr=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o,a,i,c,s,u,f,p,d,h;return l.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(o=r(),a=o.auth.token,i=o.groups,c=i.groupsDict,s=i.postsSortOrder,(u=c[e])&&(t||!u.postsPagination.fetching&&u.postsPagination.canFetchMore)){m.next=4;break}return m.abrupt("return");case 4:return n(Tr(e)),m.next=7,l.a.awrap(W("groups/"+e+"/posts","GET",{page:t?1:u.postsPagination.page,limit:6,type:s},{},a));case 7:(f=m.sent).status===U.OK?(d=(p=f).data.map((function(e){return ue(e)})),h=p.meta.currentPage<p.meta.totalPages,n(xr(e,d,h,t))):n(Ir(e));case 9:case"end":return m.stop()}}),null,null,null,Promise)}},_r=function(e,t){return{type:or.FETCH_POST_COMMENTS_BEGIN,groupId:e,postId:t}},Dr=function(e,t,n,r){return{type:or.FETCH_POST_COMMENTS_SUCCESS,groupId:e,postId:t,items:n,canFetchMore:r}},Ar=function(e,t){return{type:or.FETCH_POST_COMMENTS_FAILURE,groupId:e,postId:t}},Fr=function(e,t){return{type:or.FETCH_GROUP_MEMBERS_BEGIN,groupId:e,memberStatus:t}},Mr=function(e,t,n,r,o,a){return{type:or.FETCH_GROUP_MEMBERS_SUCCESS,groupId:e,items:t,canFetchMore:n,totalItems:r,memberStatus:o,search:a}},Lr=function(e,t){return{type:or.FETCH_GROUP_MEMBERS_FAILURE,groupId:e,memberStatus:t}},Br=function(e,t){return{type:or.FETCH_GROUP_MEMBERS_REFRESH,groupId:e,memberStatus:t}},Nr=function(e,t,n){return function(r,o){var a,i,c,s,u,f,p,d,h;return l.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(a=o(),i=a.auth.token,c=a.groups.groupsDict,s=c[e]){m.next=4;break}return m.abrupt("return");case 4:if(!(u=s.membersPaginations[t]).fetching&&u.canFetchMore){m.next=7;break}return m.abrupt("return");case 7:return r(Fr(e,t)),n&&n.length<=1&&(n=void 0),m.next=11,l.a.awrap(W("groups/"+e+"/members","GET",{page:u.page,limit:15,statuses:[t],search:n},{},i,!0));case 11:(f=m.sent).status===U.OK?(d=(p=f).data.map(se),h=p.meta.currentPage<p.meta.totalPages,r(Mr(e,d,h,p.meta.totalItems,t,n))):r(Lr(e,t));case 13:case"end":return m.stop()}}),null,null,null,Promise)}},Ur=function(e,t,n){return{type:or.DELETE_GROUP_MEMBER_SUCCESS,groupId:e,profileId:t,isLocalUser:n}},Gr=function(e,t,n){return function(r,o){var a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=o(),i=a.auth.token,c=a.profile.user,s.next=3,l.a.awrap(W("groups/"+e+"/members/"+t,"DELETE",{cascade:n},{},i,!0));case 3:if(s.sent.status!==U.NO_CONTENT){s.next=10;break}return r(Ur(e,t,t===(null==c?void 0:c.id))),n&&(r(wr()),r(kr(e))),s.abrupt("return",!0);case 10:return s.abrupt("return",!1);case 11:case"end":return s.stop()}}),null,null,null,Promise)}},Hr=function(e,t,n,r){return{type:or.SET_GROUP_MEMBER_STATUS_SUCCESS,groupId:e,profileId:t,memberStatus:n,isLocalUser:r}},Vr=function(e,t,n){return function(r,o){var a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=o(),i=a.auth.token,c=a.profile.user,s.next=3,l.a.awrap(W("groups/"+e+"/members/"+t,"PATCH",{},{status:n},i));case 3:if(s.sent.status!==U.OK){s.next=10;break}return r(Hr(e,t,n,t===(null==c?void 0:c.id))),n===qt.Banned&&(r(wr()),r(kr(e))),s.abrupt("return",!0);case 10:return s.abrupt("return",!1);case 11:case"end":return s.stop()}}),null,null,null,Promise)}},zr=function(e,t,n,r){return{type:or.SET_GROUP_MEMBER_ROLE_SUCCESS,groupId:e,profileId:t,role:n,isLocalUser:r}},Wr=function(e,t,n){return{type:or.INVITE_TO_GROUP_SUCCESS,groupId:e,profile:t,memberStatus:n}},qr=function(e){return{type:or.FETCH_MYGROUPS_BEGIN,invites:e}},Yr=function(e,t,n,r){return{type:or.FETCH_MYGROUPS_SUCCESS,items:e,canFetchMore:t,invites:n,refresh:r}},Kr=function(e){return{type:or.FETCH_MYGROUPS_FAILURE,invites:e}},Jr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Qr(e,!0));case 1:case"end":return n.stop()}}),null,null,null,Promise)}},Qr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o,a,i,c,s,u,f,p,d,h;return l.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(o=r(),a=o.auth.token,i=o.groups,c=i.myGroupsPagination,s=i.myGroupInvitesPagination,a){m.next=4;break}return n(Kr(e)),m.abrupt("return");case 4:if(u=e?s:c,t||!u.fetching&&u.canFetchMore){m.next=7;break}return m.abrupt("return");case 7:return n(qr(e)),m.next=10,l.a.awrap(W("groups","GET",{page:t?1:u.page,limit:8,statuses:e?[qt.Invited,qt.InvitedByAdmin]:[qt.Approved]},{},a));case 10:(f=m.sent).status===U.OK?(d=(p=f).data.map(ce),h=p.meta.currentPage<p.meta.totalPages,n(Yr(d,h,e,t))):n(Kr(e));case 12:case"end":return m.stop()}}),null,null,null,Promise)}},Zr=function(e,t,n,r){return{type:or.JOIN_GROUP_SUCCESS,group:e,memberStatus:t,role:n,localUser:r}},Xr=function(e){return{type:or.CREATE_POST_BEGIN,groupId:e}},$r=function(e,t){return{type:or.CREATE_POST_SUCCESS,groupId:e,post:t}},eo=function(e,t){return{type:or.UPDATE_POST_SUCCESS,groupId:e,post:t}},to=function(e,t){return{type:or.DELETE_POST_SUCCESS,groupId:e,postId:t}},no=function(e,t){return{type:or.CREATE_COMMENT_BEGIN,groupId:e,postId:t}},ro=function(e,t,n,r){return{type:or.CREATE_COMMENT_SUCCESS,groupId:e,postId:t,comment:n,parentId:r}},oo=function(e,t,n){return{type:or.UPDATE_COMMENT_SUCCESS,groupId:e,postId:t,comments:n}},ao=function(e,t,n){return{type:or.DELETE_COMMENT_SUCCESS,groupId:e,postId:t,commentId:n}},io=function(e){return{type:or.SET_COVER_BEGIN,groupId:e}},co=function(e,t){return{type:or.SET_COVER_SUCCESS,groupId:e,url:t}},so=function(e){return{type:or.SET_COVER_FAILURE,groupId:e}},uo=function(e,t,n){return{type:or.SET_POST_VOTE_BEGIN,groupId:e,postId:t,status:n}},lo=function(e,t,n){return{type:or.SET_POST_VOTE_SUCCESS,groupId:e,postId:t,status:n}},fo=function(e,t,n,r){return{type:or.SET_COMMENT_VOTE_BEGIN,groupId:e,postId:t,commentId:n,status:r}},po=function(e,t,n,r){return{type:or.SET_COMMENT_VOTE_SUCCESS,groupId:e,postId:t,commentId:n,status:r}},ho=function(e){return{type:or.FETCH_AVAILABLE_MATCHES_BEGIN,groupId:e}},mo=function(e,t){return{type:or.FETCH_AVAILABLE_MATCHES_SUCCESS,groupId:e,items:t}},go=function(e){return{type:or.FETCH_AVAILABLE_MATCHES_FAILURE,groupId:e}};function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bo={groupsDict:{},pagination:{page:1,canFetchMore:!0,fetching:!1},groups:[],myGroupsPagination:{page:1,canFetchMore:!0,fetching:!1},myGroups:[],myGroupInvitesPagination:{page:1,canFetchMore:!0,fetching:!1},myGroupInvites:[],postsSortOrder:Y.Newest,feedPagination:{page:1,canFetchMore:!0,fetching:!1},postsFeed:{},postsFeedIds:[]};function Eo(e,t){return e.groupsDict[t.id]?So(e,t.id,(function(){return t})):vo(vo({},e),{},{groupsDict:vo(vo({},e.groupsDict),{},p()({},t.id,t))})}function So(e,t,n){var r=e.groupsDict[t];if(r){var o=n(r);return vo(vo({},e),{},{groupsDict:vo(vo({},e.groupsDict),{},p()({},t,vo(vo(vo({},r),o),{},{members:o.members||r.members})))})}return console.error("Anomaly: cannot update group (not in memory)."),e}function Oo(e,t,n,r){var o=vo({},e),a=o.groupsDict[t];return a&&a.posts[n]&&(o.groupsDict=vo(vo({},o.groupsDict),{},p()({},t,vo(vo({},a),{},{posts:vo(vo({},a.posts),{},p()({},n,vo(vo({},a.posts[n]),r(a.posts[n]))))})))),o.postsFeed[n]&&(o.postsFeed=vo(vo({},o.postsFeed),{},p()({},n,vo(vo({},o.postsFeed[n]),r(o.postsFeed[n]))))),o}function Co(e,t,n,r,o,a){if(r&&e.groupsDict[t]){var i=e.groupsDict[t].myStatus,c=i===qt.Invited||i===qt.InvitedByAdmin,s=o===qt.Invited||o===qt.InvitedByAdmin;c&&!s&&(e=vo(vo({},e),{},{myGroupInvites:e.myGroupInvites.filter((function(e){return e!==t}))})),i===qt.Approved&&o!==qt.Approved&&(e=vo(vo({},e),{},{myGroups:e.myGroups.filter((function(e){return e!==t}))})),o===qt.Approved&&(e=vo(vo({},e),{},{myGroups:[t].concat(e.myGroups)}))}return So(e,t,(function(e){var t=e.members,i=e.memberIds,c=e.numApprovedMembers,s=e.myStatus,u=t[n],l=u?u.status===qt.Approved:!!r&&s===qt.Approved,f=o===qt.Approved,d=vo(vo({numApprovedMembers:null===c?null:c+(!l&&f?1:l&&!f?-1:0)},r?{myStatus:o,myRole:o===qt.Approved?Wt.Basic:null}:{}),{},{memberIds:vo(vo({},i),{},p()({},o,(i[o]||[]).concat([n]))),members:vo({},t)});return(u||a)&&(d.members=vo(vo({},d.members),{},p()({},n,u?vo(vo({},u),{},{status:o}):a))),u&&(d.memberIds=vo(vo({},d.memberIds),{},p()({},u.status,d.memberIds[u.status].filter((function(e){return e!==n}))))),d}))}var Ro=n(457),wo=["OnboardingLegalScreen1","OnboardingLegalScreen2","OnboardingLegalScreen3","OnboardingNameScreen","OnboardingProfileScreen1","OnboardingProfileScreen2","OnboardingRoleScreen","OnboardingRoleSpecificScreen","OnboardingOffersScreen1","OnboardingOffersScreen2","OnboardingOffersScreen3"];function Po(e){return"web"!==T.a.OS||null!==e&&(Date.now()-e.getTime())/1e3<31536e3}var To,xo=n(117),Io=n(120);function ko(){return g.a.isDevice&&"web"!==T.a.OS}function jo(e){return e.request.content.data}!function(e){e.REGISTER_TOKEN_SUCCESS="NOTIFICATIONS/REGISTER_TOKEN_SUCCESS",e.DELETE_TOKEN_SUCCESS="NOTIFICATIONS/DELETE_TOKEN_SUCCESS"}(To||(To={}));var _o=function(){return{type:To.REGISTER_TOKEN_SUCCESS}},Do=function(){return{type:To.DELETE_TOKEN_SUCCESS}},Ao=Object(nt.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.REGISTER_BEGIN:var n=t,r=n.email;return st(st({},e),{},{registerEmail:r});case ye.REGISTER_SUCCESS:var o=t,a=o.user,i=a.verificationToken,c=a.onboarded;return st(st({},e),{},{verificationToken:i,onboarded:c});case ye.VALIDATE_ACCOUNT_SUCCESS:var s=t,u=s.email;return st(st({},e),{},{validated:!0,validatedEmail:u});case ye.VALIDATE_ACCOUNT_FAILURE:return st(st({},e),{},{validated:!1});case ye.LOG_IN_SUCCESS:var l=t,f=l.token,d=l.user,h=d.onboarded,m=d.email,g=st({},e.onboarding);if(!h){var y=ot(m);y&&(g.firstname=y.firstname,g.lastname=y.lastname)}return st(st({},e),{},{authenticated:!0,accountNeedsRecovery:!1,token:f,onboarded:h,onboarding:g});case ye.LOG_IN_FAILURE:var v=t,b=v.needsRecovery,E=v.email;return st(st({},e),{},{registerEmail:E||e.registerEmail,accountNeedsRecovery:b});case ye.LOG_IN_RECOVER_CANCEL:return st(st({},e),{},{accountNeedsRecovery:!1});case ye.LOG_OUT:return st(st({},e),{},{token:null,authenticated:!1,accountNeedsRecovery:!1,validated:!1,validatedEmail:null,onboarded:!1});case ye.BEGIN_ONBOARDING:return st(st({},e),{},{onboardingIndex:0});case ye.PREVIOUS_ONBOARDING_SLIDE:return st(st({},e),{},{onboardingIndex:e.onboardingIndex-1});case ye.NEXT_ONBOARDING_SLIDE:return st(st({},e),{},{onboardingIndex:e.onboardingIndex+1});case ye.SET_ONBOARDING_VALUES:var S=t,O=S.values;return st(st({},e),{},{onboarding:st(st({},e.onboarding),O)});case ye.SET_ONBOARDING_OFFER_VALUE:var C=t,R=C.id,w=C.value;return st(st({},e),{},{onboarding:st(st({},e.onboarding),{},{offerValues:st(st({},e.onboarding.offerValues),{},p()({},R,w))})});case fe.PROFILE_CREATE_SUCCESS:return st(st({},e),{},{onboarded:!0,onboarding:{firstname:"",lastname:"",birthdate:null,gender:null,nationality:null,type:null,degree:null,staffRoles:{},languages:[],offerValues:{},interestIds:[],educationFields:[]}});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e.LOAD_COOKIES_PREFERENCES:var n=t,r=n.preferences,o=n.consentDate;return Nt(Nt({},e),{},{userSettings:Nt(Nt({},e.userSettings),{},{cookieConsentDate:o,cookies:r})});case _e.SAVE_COOKIES_PREFERENCES:var a=t,i=a.preferences;return Nt(Nt({},e),{},{userSettings:Nt(Nt({},e.userSettings),{},{cookieConsentDate:new Date(Date.now()),cookies:i})});case _e.SET_THEME:var c=t,s=c.theme;return Nt(Nt({},e),{},{userSettings:Nt(Nt({},e.userSettings),{},{theme:s})});case _e.TOGGLE_THEME:var u="light"==e.userSettings.theme?"dark":"light";return Nt(Nt({},e),{},{userSettings:Nt(Nt({},e.userSettings),{},{theme:u})});case _e.SET_LOCALE:var l=t,f=l.locale;return Nt(Nt({},e),{},{localizedLanguageItems:Ut(f),userSettings:Nt(Nt({},e.userSettings),{},{locale:f})});case _e.LOAD_VERSION_INFO:var p=t,d=p.version;return Nt(Nt({},e),{},{previousVersion:d,isFirstLaunch:null===d});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.LOG_IN_SUCCESS:var n=t,r=n.user;return Jt(Jt({},e),{},{user:r});case fe.PROFILE_SET_FIELDS_SUCCESS:if(e.user){var o=t,a=o.fields;return a.profileOffers&&(a.profileOffers=ee(a.profileOffers)),Jt(Jt({},e),{},{user:Jt(Jt({},e.user),{},{profile:e.user.profile?Jt(Jt({},e.user.profile),a):void 0})})}return Jt({},e);case fe.PROFILE_CREATE_SUCCESS:var i=t,c=i.profile;return e.user?Jt(Jt({},e),{},{user:Jt(Jt({},e.user),{},{profile:c})}):e;case fe.LOAD_PROFILE_OFFERS_SUCCESS:var s=t,u=s.offers,l=u.filter((function(e){return e.category===Gt.Collaborate})).sort((function(e,t){return e.id<t.id?-1:1})),f=u.filter((function(e){return e.category===Gt.Discover})).sort((function(e,t){return e.id<t.id?1:-1})),p=u.filter((function(e){return e.category===Gt.Meet})).sort((function(e,t){return e.id<t.id?-1:1}));u=l.concat(f).concat(p);var d=new Map(u.map((function(e){return[e.id,e.category]})));return Jt(Jt({},e),{},{offers:u,offerIdToCategory:d});case fe.LOAD_PROFILE_INTERESTS_SUCCESS:var h=t,m=h.interests;return m.sort((function(e,t){return e.id>t.id?1:-1})),Jt(Jt({},e),{},{interests:m});case fe.FETCH_USER_SUCCESS:var g=t,y=g.user;return Jt(Jt({},e),{},{user:y});case fe.SET_AVATAR_BEGIN:return Jt(Jt({},e),{},{uploadingAvatar:!0});case fe.SET_AVATAR_FAILURE:return Jt(Jt({},e),{},{uploadingAvatar:!1});case fe.SET_AVATAR_SUCCESS:var v=t,b=v.avatarUrl;return null===e.user?Jt({},e):Jt(Jt({},e),{},{user:Jt(Jt({},e.user),{},{profile:e.user.profile?Jt(Jt({},e.user.profile),{},{avatarUrl:b}):void 0}),uploadingAvatar:!1});case ye.LOG_OUT:return Jt(Jt({},e),{},{user:null});default:return e}},matching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt.SET_OFFER_FILTER:var n=t,r=n.offerId,o=n.value;return bn(bn({},e),{},{filters:bn(bn({},e.filters),{},{offers:bn(bn({},e.filters.offers),{},p()({},r,o))})});case Qt.SET_FILTERS:var a=t,i=a.filters;return bn(bn({},e),{},{filters:bn(bn({},e.filters),i)});case Qt.FETCH_PROFILES_BEGIN:return bn(bn({},e),{},{profilesPagination:bn(bn({},e.profilesPagination),{},{fetching:!0})});case Qt.FETCH_PROFILES_FAILURE:return bn(bn({},e),{},{profilesPagination:bn(bn({},e.profilesPagination),{},{fetching:!1,canFetchMore:!1})});case Qt.FETCH_PROFILES_SUCCESS:var c=t,s=c.items,u=c.canFetchMore,l=s.map((function(e){return e.id})),f=e.profilesPagination;return bn(bn({},e),{},{orderedProfileIds:e.orderedProfileIds.concat(l.filter((function(t){return-1===e.orderedProfileIds.indexOf(t)}))),profiles:bn(bn({},e.profiles),en(s)),profilesPagination:bn(bn({},f),{},{fetching:!1,page:f.page+1,canFetchMore:u})});case Qt.FETCH_PROFILES_REFRESH:return bn(bn({},e),{},{orderedProfileIds:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1}});case Qt.FETCH_MY_MATCHES_BEGIN:return bn(bn({},e),{},{myMatchesPagination:bn(bn({},e.myMatchesPagination),{},{fetching:!0})});case Qt.FETCH_MY_MATCHES_FAILURE:return bn(bn({},e),{},{myMatchesPagination:bn(bn({},e.myMatchesPagination),{},{fetching:!1,canFetchMore:!1})});case Qt.FETCH_MY_MATCHES_SUCCESS:var d=t,h=d.items,m=d.canFetchMore,g=e.historyPagination;return bn(bn({},e),{},{myMatches:e.myMatches.concat(h),myMatchesPagination:bn(bn({},g),{},{fetching:!1,page:g.page+1,canFetchMore:m})});case Qt.FETCH_MY_MATCHES_REFRESH:return bn(bn({},e),{},{myMatches:[],myMatchesPagination:{page:1,canFetchMore:!0,fetching:!1}});case Qt.LIKE_PROFILE_SUCCESS:case Qt.DISLIKE_PROFILE_SUCCESS:var y=t,v=y.profile;return bn(bn({},e),{},{orderedProfileIds:e.orderedProfileIds.filter((function(e){return e!=v.id}))});case Qt.BLOCK_PROFILE_SUCCESS:var b=t,E=b.profileId;return bn(bn({},e),{},{orderedProfileIds:e.orderedProfileIds.filter((function(e){return e!=E}))});case Qt.FETCH_HISTORY_BEGIN:return bn(bn({},e),{},{historyPagination:bn(bn({},e.historyPagination),{},{fetching:!0})});case Qt.FETCH_HISTORY_FAILURE:return bn(bn({},e),{},{historyPagination:bn(bn({},e.historyPagination),{},{fetching:!1,canFetchMore:!1})});case Qt.FETCH_HISTORY_SUCCESS:var S=t,O=S.items,C=S.canFetchMore,R=e.historyPagination;return bn(bn({},e),{},{historyItems:e.historyItems.concat(O),historyPagination:bn(bn({},R),{},{fetching:!1,page:R.page+1,canFetchMore:C})});case Qt.FETCH_HISTORY_REFRESH:return bn(bn({},e),{},{historyItems:[],historyPagination:{page:1,canFetchMore:!0,fetching:!1}});case Qt.SET_HISTORY_FILTERS:var w=t,P=w.filters;return bn(bn({},e),{},{historyFilters:bn(bn({},e.historyFilters),P)});case Qt.ACTION_CANCEL_SUCCESS:var T=t,x=T.historyItemId;return bn(bn({},e),{},{historyItems:e.historyItems.filter((function(e){return e.id!==x}))});case ye.LOG_OUT:return bn(bn({},e),{},{filters:{offers:{},universities:[],degrees:[],languages:[],educationFields:[],staffRoles:[],types:[]},profiles:{},orderedProfileIds:[],profilesPagination:{page:1,canFetchMore:!0,fetching:!1},myMatches:[],myMatchesPagination:{page:1,canFetchMore:!0,fetching:!1},historyItems:[],historyPagination:{page:1,canFetchMore:!0,fetching:!1}});default:return e}},messaging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.LOG_IN_SUCCESS:var n=t,r=n.user;return r.profile?er(er({},e),{},{localChatUser:nr(r.profile)}):er({},e);case fe.FETCH_USER_SUCCESS:var o=t,a=o.user;return a.profile?er(er({},e),{},{localChatUser:nr(a.profile)}):er({},e);case fe.PROFILE_CREATE_SUCCESS:var i=t,c=i.profile;return er(er({},e),{},{localChatUser:nr(c)});case In.FETCH_MATCH_ROOMS_BEGIN:return er(er({},e),{},{matchRoomsPagination:er(er({},e.matchRoomsPagination),{},{fetching:!0})});case In.FETCH_MATCH_ROOMS_FAILURE:return er(er({},e),{},{matchRoomsPagination:er(er({},e.matchRoomsPagination),{},{fetching:!1,canFetchMore:!1})});case In.FETCH_MATCH_ROOMS_SUCCESS:var s=t,u=s.items,l=s.canFetchMore,f=s.refresh,d=e.matchRoomsPagination,h=er({},e.matchRooms);u.forEach((function(e){h[e.id]?h[e.id]=er(er({},h[e.id]),{},{lastMessage:e.lastMessage}):h[e.id]=e}));var m=u.map((function(e){return e.id}));return er(er({},e),{},{matchRooms:h,matchRoomsOrdered:f?m:e.matchRoomsOrdered.concat(m),matchRoomsPagination:{fetching:!1,page:(f?1:d.page)+1,canFetchMore:l}});case In.FETCH_MATCH_ROOM_SUCCESS:var g=t,y=g.room;return er(er({},e),{},{matchRooms:er(er({},e.matchRooms),{},p()({},y.id,e.matchRooms[y.id]?er(er({},e.matchRooms[y.id]),{},{lastMessage:y.lastMessage}):y))});case In.CONNECT_TO_CHAT_BEGIN:return er(er({},e),{},{socketState:{connected:!1,connecting:!0}});case In.CONNECT_TO_CHAT_FAILURE:return er(er({},e),{},{socketState:{connected:!1,connecting:!1}});case In.CONNECT_TO_CHAT_SUCCESS:return er(er({},e),{},{socketState:{connected:!0,connecting:!1}});case In.DISCONNECT_FROM_CHAT:return er(er({},e),{},{socketState:{connected:!1,connecting:!1},activeRoomId:null});case In.JOIN_CHAT_ROOM_BEGIN:var v=t,b=v.room;return er(er({},e),{},{activeRoomId:b.id});case In.JOIN_CHAT_ROOM_FAILURE:case In.LEAVE_ROOM:return er(er({},e),{},{activeRoomId:null});case In.SEND_MESSAGE_SUCCESS:var E=t,S=E.message;if(e.activeRoomId){var O=e.matchRooms[e.activeRoomId];return rr(e,!0,er(er({},O),{},{messages:[S].concat(O.messages),lastMessage:S}))}return e;case In.RECEIVE_MESSAGE:var C=t,R=C.message,w=e.matchRooms[R.roomId];if(w){var P=(w=er({},w)).messages.find((function(e){return e._id===R.id}));if(P){var T=er(er({},P),{},{sent:!0,text:R.text});w.messages=w.messages.map((function(e){return e._id===R.id?T:e})),(!w.lastMessage||T.createdAt>=w.lastMessage.createdAt)&&(w.lastMessage=T)}else{var x=w.users.find((function(e){return e._id==R.senderId}));if(x){var I=ae(x,R);w.messages=[I].concat(w.messages),w.lastMessage=I,w.writing[R.senderId]=!1}}return rr(e,!0,w)}return e;case In.RECEIVE_WRITING_STATE:var k=t.payload,j=k.profileId,_=k.roomId;if(e.localChatUser&&e.localChatUser._id===j)return e;var D=e.matchRooms[_];return D?rr(e,!1,er(er({},D),{},{writing:er(er({},D.writing),{},p()({},j,k.state))})):e;case In.READ_MESSAGE:var A=t.payload,F=A.roomId,M=A.date,L=A.messageId,B=A.profileId,N=e.matchRooms[F];return N?rr(e,!1,er(er({},N),{},{users:N.users.map((function(e){return e._id==B?er(er({},e),{},{lastMessageSeenDate:new Date(M),lastMessageSeenId:L}):e}))})):e;case In.FETCH_EARLIER_MESSAGES_BEGIN:var U=t,G=U.room;return rr(e,!1,er(er({},G),{},{messagePagination:er(er({},G.messagePagination),{},{fetching:!0})}));case In.FETCH_EARLIER_MESSAGES_FAILURE:var H=t,V=H.room;return rr(e,!1,er(er({},V),{},{messagePagination:er(er({},V.messagePagination),{},{fetching:!1,canFetchMore:!1})}));case In.FETCH_EARLIER_MESSAGES_SUCCESS:var z=t,W=z.room,q=z.items,Y=z.canFetchMore,K=W.messagePagination;return rr(e,!1,er(er({},W),{},{messages:W.messages.concat(q),messagePagination:er(er({},K),{},{fetching:!1,page:K.page+1,canFetchMore:Y})}));case In.FETCH_NEW_MESSAGES_BEGIN:return er(er({},e),{},{fetchingNewMessages:!0});case In.FETCH_NEW_MESSAGES_FAILURE:return er(er({},e),{},{fetchingNewMessages:!1});case In.FETCH_NEW_MESSAGES_SUCCESS:var J=t,Q=J.room,Z=J.items,X=Z.filter((function(e){return!Q.messages.some((function(t){return t._id===e._id}))})),$=Q.users.concat();if(X.length>0){var ee=X[0],te=$.findIndex((function(e){return e._id===ee.user._id}));$[te]=er(er({},$[te]),{},{lastMessageSeenId:ee._id,lastMessageSeenDate:ee.createdAt})}return rr(er(er({},e),{},{fetchingNewMessages:!1}),!1,er(er({},Q),{},{messages:X.concat(Q.messages),users:$},X.length>0?{lastMessage:X[0]}:{}));case ye.LOG_OUT:return er(er({},e),{},{activeRoomId:null,matchRooms:{},matchRoomsOrdered:[],matchRoomsPagination:{page:1,canFetchMore:!0,fetching:!1},localChatUser:null});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0;return t.type,e},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=arguments.length>1?arguments[1]:void 0;return t.type,e},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case or.CREATE_SUCCESS:var n=t,r=n.group;return vo(vo({},e),{},{groupsDict:vo(vo({},e.groupsDict),{},p()({},r.id,r)),myGroups:[r.id].concat(e.myGroups)});case or.UPDATE_SUCCESS:var o=t,a=o.group;return So(e,a.id,(function(){return a}));case or.LEAVE_SUCCESS:var i=t,c=i.id;return vo(vo({},e),{},{myGroups:e.myGroups.filter((function(e){return e!==c}))});case or.FETCH_GROUPS_BEGIN:return vo(vo({},e),{},{pagination:vo(vo({},e.pagination),{},{fetching:!0})});case or.FETCH_GROUPS_FAILURE:return vo(vo({},e),{},{pagination:vo(vo({},e.pagination),{},{fetching:!1,canFetchMore:!1})});case or.FETCH_GROUPS_SUCCESS:var s=t,u=s.items,l=s.canFetchMore,f=s.refresh,d=e.pagination,h=u.reduce(Eo,e),m=u.map((function(e){return e.id}));return vo(vo({},h),{},{groups:f?m:e.groups.concat(m),pagination:{fetching:!1,page:(f?1:d.page)+1,canFetchMore:l}});case or.FETCH_GROUP_SUCCESS:var g=t,y=g.group;return Eo(e,y);case or.FETCH_POSTS_FEED_BEGIN:case or.FETCH_POSTS_FEED_FAILURE:return vo(vo({},e),{},{feedPagination:vo(vo({},e.feedPagination),{},{fetching:t.type===or.FETCH_POSTS_FEED_BEGIN,canFetchMore:t.type===or.FETCH_POSTS_FEED_BEGIN})});case or.FETCH_POSTS_FEED_SUCCESS:var v=t,b=v.items,E=v.canFetchMore,S=v.refresh,O=b.map((function(e){return e.id}));return vo(vo({},e),{},{postsFeedIds:S?O:e.postsFeedIds.concat(O.filter((function(t){return-1===e.postsFeedIds.indexOf(t)}))),postsFeed:vo(vo({},e.postsFeed),en(b)),feedPagination:{fetching:!1,page:(S?1:e.feedPagination.page)+1,canFetchMore:E}});case or.FETCH_GROUP_POSTS_BEGIN:case or.FETCH_GROUP_POSTS_FAILURE:var C=t,R=C.groupId;return So(e,R,(function(e){return{postsPagination:vo(vo({},e.postsPagination),{},{fetching:t.type===or.FETCH_GROUP_POSTS_BEGIN,canFetchMore:t.type===or.FETCH_GROUP_POSTS_BEGIN})}}));case or.FETCH_GROUP_POSTS_SUCCESS:var w=t,P=w.groupId,T=w.items,x=w.canFetchMore,I=w.refresh,k=T.map((function(e){return e.id}));return So(e,P,(function(e){var t=e.postsPagination,n=e.posts,r=e.postIds;return{postIds:I?k:r.concat(k.filter((function(e){return-1===r.indexOf(e)}))),posts:vo(vo({},n),en(T)),postsPagination:{fetching:!1,page:(I?1:t.page)+1,canFetchMore:x}}}));case or.CREATE_POST_SUCCESS:var j=t,_=j.groupId,D=j.post;return So(e,_,(function(e){var t=e.posts,n=e.postIds;return{posts:vo(vo({},t),{},p()({},D.id,D)),postIds:[D.id].concat(n)}}));case or.UPDATE_POST_SUCCESS:var A=t,F=A.groupId,M=A.post;return Oo(e,F,M.id,(function(){return{status:M.status,type:M.type,text:M.text,updatedAt:M.updatedAt}}));case or.DELETE_POST_SUCCESS:var L=t,B=L.groupId,N=L.postId;return So(e=vo(vo({},e),{},{postsFeedIds:e.postsFeedIds.filter((function(e){return e!==N}))}),B,(function(e){var t=e.posts,n=e.postIds;return delete t[N],{posts:t,postIds:n.filter((function(e){return e!==N}))}}));case or.SET_POST_VOTE_BEGIN:var U=t,G=U.groupId,H=U.postId,V=U.status;return Oo(e,G,H,(function(e){var t=e.score,n=e.voteStatus;return{voteStatus:V,score:t+Z[V]-Z[n]}}));case or.FETCH_POST_COMMENTS_BEGIN:case or.FETCH_POST_COMMENTS_FAILURE:var z=t,W=z.groupId,q=z.postId;return Oo(e,W,q,(function(e){return{commentsPagination:vo(vo({},e.commentsPagination),{},{fetching:t.type===or.FETCH_POST_COMMENTS_BEGIN,canFetchMore:t.type===or.FETCH_POST_COMMENTS_BEGIN})}}));case or.FETCH_POST_COMMENTS_SUCCESS:var Y=t,K=Y.groupId,J=Y.postId,Q=Y.items,X=Y.canFetchMore;return Oo(e,K,J,(function(e){var t=e.commentsPagination,n=e.comments;return{commentIds:e.commentIds.concat(Q.map((function(e){return e.id}))),comments:vo(vo({},n),en(Q)),commentsPagination:vo(vo({},t),{},{fetching:!1,page:t.page+1,canFetchMore:X})}}));case or.FETCH_POST_COMMENTS_REFRESH:var $=t,ee=$.groupId,te=$.postId;return Oo(e,ee,te,(function(e){return{commentIds:[],commentsPagination:vo(vo({},e.commentsPagination),{},{fetching:!1,page:1,canFetchMore:!0})}}));case or.CREATE_COMMENT_SUCCESS:var ne=t,re=ne.groupId,oe=ne.postId,ae=ne.comment,ie=ne.parentId;return Oo(e,re,oe,(function(e){var t=e.comments,n=e.commentIds,r={commentsCount:e.commentsCount+1,comments:vo(vo({},t),{},p()({},ae.id,ae))};if(ie){var o=t[ie];o&&(r.comments=vo(vo({},r.comments),{},p()({},ie,vo(vo({},o),{},{childrenIds:[ae.id].concat(o.childrenIds)}))))}else r.commentIds=[ae.id].concat(n);return r}));case or.UPDATE_COMMENT_SUCCESS:var ce=t,se=ce.groupId,ue=ce.postId,le=ce.comments;return Oo(e,se,ue,(function(e){var t=e.comments,n=vo({},t);return le.forEach((function(e){n[e.id]=vo(vo({},t[e.id]),{},{text:e.text,updatedAt:new Date})})),{comments:n}}));case or.DELETE_COMMENT_SUCCESS:var fe=t,pe=fe.groupId,de=fe.postId,he=fe.commentId;return Oo(e,pe,de,(function(e){var t=e.comments,n=e.commentIds,r={commentsCount:e.commentsCount-1},o=t[he],a=o&&o.parentId&&t[o.parentId];return a?r.comments=vo(vo({},t),{},p()({},a.id,vo(vo({},a),{},{childrenIds:a.childrenIds.filter((function(e){return e!==he}))}))):r.commentIds=n.filter((function(e){return e!==he})),r}));case or.SET_COMMENT_VOTE_BEGIN:var me=t,ge=me.groupId,ye=me.postId,ve=me.commentId,be=me.status;return Oo(e,ge,ye,(function(e){var t=e.comments;return{comments:vo(vo({},t),{},p()({},ve,vo(vo({},t[ve]),{},{voteStatus:be,score:t[ve].score+Z[be]-Z[t[ve].voteStatus]})))}}));case or.FETCH_GROUP_MEMBERS_BEGIN:case or.FETCH_GROUP_MEMBERS_FAILURE:var Ee=t,Se=Ee.groupId,Oe=Ee.memberStatus;return So(e,Se,(function(e){var n=e.membersPaginations;return{membersPaginations:vo(vo({},n),{},p()({},Oe,vo(vo({},n[Oe]),{},{fetching:t.type===or.FETCH_GROUP_MEMBERS_BEGIN,canFetchMore:t.type===or.FETCH_GROUP_MEMBERS_BEGIN})))}}));case or.FETCH_GROUP_MEMBERS_SUCCESS:var Ce=t,Re=Ce.groupId,we=Ce.items,Pe=Ce.canFetchMore,Te=Ce.totalItems,xe=Ce.memberStatus,Ie=Ce.search;return So(e,Re,(function(e){var t=e.membersPaginations,n=e.members,r=e.memberIds;return vo({members:vo(vo({},n),tn(we,(function(e){return e.profile.id}))),memberIds:vo(vo({},r),{},p()({},xe,r[xe].concat(we.map((function(e){return e.profile.id})).filter((function(e){return-1===r[xe].indexOf(e)}))))),membersPaginations:vo(vo({},t),{},p()({},xe,vo(vo({},t[xe]),{},{fetching:!1,page:t[xe].page+1,canFetchMore:Pe})))},xe!==qt.Approved||Ie?{}:{numApprovedMembers:Te})}));case or.JOIN_GROUP_SUCCESS:var ke=t,je=ke.group,_e=ke.memberStatus,De=ke.role,Ae=ke.localUser;if(Ae&&Ae.profile){var Fe={profile:Ae.profile,role:De,status:_e};return Co(e,je.id,Ae.id,!0,_e,Fe)}return e;case or.FETCH_GROUP_MEMBERS_REFRESH:var Me=t,Le=Me.groupId,Be=Me.memberStatus;return So(e,Le,(function(e){var t=e.memberIds,n=e.membersPaginations;return{memberIds:vo(vo({},t),{},p()({},Be,[])),membersPaginations:vo(vo({},n),{},p()({},Be,{page:1,canFetchMore:!0,fetching:!1}))}}));case or.DELETE_GROUP_MEMBER_SUCCESS:var Ne=t,Ue=Ne.groupId,Ge=Ne.profileId,He=Ne.isLocalUser;return He&&(e=vo(vo({},e),{},{myGroups:e.myGroups.filter((function(e){return e!==Ue})),myGroupInvites:e.myGroupInvites.filter((function(e){return e!==Ue}))})),So(e,Ue,(function(e){var t=e.memberIds,n=e.members[Ge];return n?{memberIds:vo(vo({},t),{},p()({},n.status,t[n.status].filter((function(e){return e!==Ge}))))}:{}}));case or.SET_GROUP_MEMBER_STATUS_SUCCESS:var Ve=t,ze=Ve.groupId,We=Ve.profileId,qe=Ve.memberStatus,Ye=Ve.isLocalUser;return Co(e,ze,We,Ye,qe);case or.SET_GROUP_MEMBER_ROLE_SUCCESS:var Ke=t,Je=Ke.groupId,Qe=Ke.profileId,Ze=Ke.role,Xe=Ke.isLocalUser;return So(e,Je,(function(e){var t=e.members;return vo({members:vo(vo({},t),{},p()({},Qe,vo(vo({},t[Qe]),{},{role:Ze})))},Xe&&{myRole:Ze})}));case or.INVITE_TO_GROUP_SUCCESS:var $e=t,et=$e.groupId,tt=$e.profile;return So(e,et,(function(e){var t=e.availableMatches;return{availableMatches:vo(vo({},t),{},{profiles:t.profiles?t.profiles.filter((function(e){return e.id!==tt.id})):null})}}));case or.FETCH_MYGROUPS_BEGIN:var nt=t,rt=nt.invites,ot=rt?"myGroupInvitesPagination":"myGroupsPagination";return vo(vo({},e),{},p()({},ot,vo(vo({},e[ot]),{},{fetching:!0})));case or.FETCH_MYGROUPS_FAILURE:var at=t,it=at.invites,ct=it?"myGroupInvitesPagination":"myGroupsPagination";return vo(vo({},e),{},p()({},ct,vo(vo({},e[ct]),{},{fetching:!1,canFetchMore:!1})));case or.FETCH_MYGROUPS_SUCCESS:var st,ut=t,lt=ut.items,ft=ut.canFetchMore,pt=ut.invites,dt=ut.refresh,ht=pt?"myGroupInvitesPagination":"myGroupsPagination",mt=pt?"myGroupInvites":"myGroups",gt=e[ht],yt=lt.map((function(e){return e.id}));return vo(vo({},e),{},(st={groupsDict:vo(vo({},e.groupsDict),en(lt))},p()(st,mt,dt?yt:e[mt].concat(yt)),p()(st,ht,{fetching:!1,page:(dt?1:gt.page)+1,canFetchMore:ft}),st));case or.SET_COVER_BEGIN:var vt=t,bt=vt.groupId;return So(e,bt,(function(){return{uploadingCover:!0}}));case or.SET_COVER_FAILURE:var Et=t,St=Et.groupId;return So(e,St,(function(){return{uploadingCover:!1}}));case or.SET_COVER_SUCCESS:var Ot=t,Ct=Ot.groupId,Rt=Ot.url;return So(e,Ct,(function(){return{uploadingCover:!1,cover:Rt}}));case or.SET_POST_SORTING_ORDER:var wt=t,Pt=wt.order;return vo(vo({},e),{},{postsSortOrder:Pt});case or.FETCH_AVAILABLE_MATCHES_FAILURE:case or.FETCH_AVAILABLE_MATCHES_BEGIN:var Tt=t,xt=Tt.groupId;return So(e,xt,(function(e){return{availableMatches:vo(vo({},e.availableMatches),{},{fetching:t.type===or.FETCH_AVAILABLE_MATCHES_BEGIN,canFetchMore:t.type===or.FETCH_AVAILABLE_MATCHES_BEGIN})}}));case or.FETCH_AVAILABLE_MATCHES_SUCCESS:var It=t,kt=It.groupId,jt=It.items;return So(e,kt,(function(){return{availableMatches:{profiles:jt,fetching:!1}}}));default:return e}}}),Fo=Object(nt.a)(Ro.a,(function(e){return function(t){return function(n){switch(n.type){case _e.SAVE_COOKIES_PREFERENCES:if(n.preferences.auth){var r=e.getState().auth.token,o=e.getState().profile.user;r&&o&&Ie(o.email,r)}else ke();break;case ye.LOG_OUT:case ye.LOG_IN_FAILURE:ke()}var a=e.getState().settings.userSettings,i=a.cookies;if(Po(a.cookieConsentDate))switch(n.type){case ye.LOG_IN_SUCCESS:var c=n,s=c.token,u=c.user;!c.usingCachedCredentials&&i.auth&&Ie(u.email,s)}t(n)}}}),(function(e){return function(t){return function(n){switch(n.type){case _e.SAVE_COOKIES_PREFERENCES:var r=e.getState().settings.userSettings.cookies,o=n.preferences;if(!r.cache&&o.cache){var a=e.getState().profile,i=a.offers;de("interests",a.interests,o.cache),de("offers",i,o.cache)}if(!r.settings&&o.settings){var c=e.getState().settings.userSettings,s=c.locale,u=c.theme;de("locale",s,o.settings),de("theme",u,o.settings)}r.cache&&!o.cache&&he("interests","offers"),r.settings&&!o.settings&&he("locale","theme"),de("cookies",o,!0),de("cookieConsentDate",new Date(Date.now()).toJSON(),!0)}var l=e.getState().settings.userSettings,f=l.cookies;if(Po(l.cookieConsentDate))switch(n.type){case fe.LOAD_PROFILE_INTERESTS_SUCCESS:var p=n,d=p.interests;p.fromCache||de("interests",d,f.cache);break;case fe.LOAD_PROFILE_OFFERS_SUCCESS:var h=n,m=h.offers;h.fromCache||de("offers",m,f.cache);break;case _e.SET_LOCALE:var g=n,y=g.locale;g.fromCache||de("locale",y,f.settings);break;case _e.SET_THEME:var v=n,b=v.theme;v.fromCache||de("theme",b,f.settings);break;case _e.TOGGLE_THEME:de("theme","dark"===e.getState().settings.userSettings.theme?"light":"dark",f.settings)}t(n)}}}),(function(e){return function(t){return function(n){switch(S&&console.log(n.type),t(n),n.type){case fe.PROFILE_CREATE_SUCCESS:j("OnboardingSuccessfulScreen");break;case ye.LOG_IN_SUCCESS:n.user.onboarded?j("MainScreen",{screen:"TabMatching"}):e.dispatch(Je());break;case ye.LOG_IN_FAILURE:var r=n,o=r.needsVerify,a=r.email;o&&a&&j("ResendVerifyEmailScreen",{email:a});break;case ye.LOG_OUT:n.redirect&&j("LoginRoot",{screen:"LoginScreens",params:{screen:"SigninScreen"}});break;case ye.REGISTER_SUCCESS:case ye.SEND_VERIFICATION_EMAIL_SUCCESS:j("ValidationEmailSentScreen");break;case ye.BEGIN_ONBOARDING:j("OnboardingScreen");break;case ye.PREVIOUS_ONBOARDING_SLIDE:case ye.NEXT_ONBOARDING_SLIDE:j(wo[e.getState().auth.onboardingIndex]);break;case ye.FORGOT_PASSWORD_SUCCESS:j("ForgotPasswordEmailSentScreen");break;case ye.RESET_PASSWORD_SUCCESS:j("ResetPasswordSuccessScreen");break;case ye.DELETE_ACCOUNT_SUCCESS:j("DeleteAccountSuccessScreen");break;case Qt.ACTION_CANCEL_SUCCESS:n.isMatch&&j("MainScreen",{screen:"TabMatching"});break;case or.CREATE_SUCCESS:B(n.group.id);break;case or.DELETE_SUCCESS:case or.LEAVE_SUCCESS:j("MainScreen",{screen:"TabGroups",params:{screen:"TabGroupsScreen"}})}}}}),(function(e){return function(t){return function(n){switch(n.type){case ye.LOG_IN_SUCCESS:(function(){var e,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(ko()){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,l.a.awrap(Io.d(Io.b));case 4:if("granted"===(e=n.sent.status)){n.next=9;break}return n.next=8,l.a.awrap(Io.c(Io.b));case 8:e=n.sent.status;case 9:if("granted"!==e){n.next=16;break}return n.next=12,l.a.awrap(xo.getExpoPushTokenAsync());case 12:return t=n.sent.data,n.abrupt("return",t);case 16:return n.abrupt("return",null);case 17:case"end":return n.stop()}}),null,null,null,Promise)})().then((function(t){null!==t&&e.dispatch(function(e){return function(t,n){var r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,l.a.awrap(W("notifications/token","POST",{},{token:e},r));case 3:o.sent.status===U.NO_CONTENT&&t(_o());case 5:case"end":return o.stop()}}),null,null,null,Promise)}}(t))}));break;case ye.LOG_OUT:e.dispatch((function(e,t){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t().auth.token,r.next=3,l.a.awrap(W("notifications/token","DELETE",{},{},n));case 3:r.sent.status===U.NO_CONTENT&&e(Do());case 5:case"end":return r.stop()}}),null,null,null,Promise)}))}t(n)}}}),(function(e){return function(t){return function(n){switch(t(n),n.type){case ye.LOG_IN_SUCCESS:e.dispatch(Fn())}}}})),Mo=Object(nt.d)(Ao,Fo);function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No=void 0,Uo=!1;function Go(){var e,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Mo.dispatch,n.next=3,l.a.awrap(e((function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(W("ping","GET",{},{},void 0,!1,!0));case 2:if(e.sent.status!=U.OK){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),null,null,null,Promise)})));case 3:if(!n.sent){n.next=11;break}return n.next=7,l.a.awrap(Promise.all([e((function(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(me("offers"));case 2:t=n.sent,Array.isArray(t)||(t=!1),W("offers","GET",t?{updatedAt:t.updatedAt}:{}).then((function(n){if(n.status===U.OK){var r=n.data;if(t){var o=0==r.length;e(Se(o?t.data:r,o))}else e(Se(r))}}));case 6:case"end":return n.stop()}}),null,null,null,Promise)})),e((function(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(me("interests"));case 2:t=n.sent,Array.isArray(t)||(t=!1),W("interests","GET",t?{updatedAt:t.updatedAt}:{}).then((function(n){if(n.status===U.OK){var r=n.data;if(t){var o=0==r.length;e(Oe(o?t.data:r,o))}else e(Oe(r))}}));case 6:case"end":return n.stop()}}),null,null,null,Promise)}))]));case 7:return n.next=9,l.a.awrap(e((function(e){var t,n,r,o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,l.a.awrap(je());case 2:if(!(t=i.sent)){i.next=16;break}return n=t.token,i.next=7,l.a.awrap(W("auth/me","GET",{},{},n));case 7:if((r=i.sent).status!=U.OK){i.next=15;break}return o=r.data,a=re(o),e(Le(n,a,!0)),i.abrupt("return",a);case 15:e(Be());case 16:return i.abrupt("return",void 0);case 17:case"end":return i.stop()}}),null,null,null,Promise)})));case 9:return t=n.sent,n.abrupt("return",{reachable:!0,userLoggedInFromCache:t});case 11:return n.abrupt("return",{reachable:!1,userLoggedInFromCache:void 0});case 12:case"end":return n.stop()}}),null,null,null,Promise)}var Ho=n(439),Vo=n(169),zo=n(445),Wo=n(749),qo=n(7),Yo=n.n(qo),Ko=n(8),Jo=n.n(Ko),Qo=n(2),Zo=n.n(Qo),Xo=n(4),$o=n(13),ea=n(28),ta=ea.a.get("window").width,na=ea.a.get("window").height,ra={window:{width:ta,height:na},isSmallDevice:ta<375,isWideDevice:ta/(na+1)>.85},oa={light:{id:"light",text:"#000",textLight:"#666",textInverted:"#fff",background:"#fff",cardBackground:"#f7f7f7",accent:"#003da5",themeAwareAccent:"#003da5",accentSlight:"#E0E8F4",accentSecondary:"#009ace",accentTernary:"#fbe122",error:"#ff3b30",actionNeutral:"#555555",okay:"#00b16a",warn:"#eecc00",componentBorder:"#bbb",buttonGroupBorder:"#dfdfdf",greenModalBackground:"#3caf82",chatBubble:"#ededed",inputPlaceholder:"#999",onboardingInputBackground:"#F2F2F7"},dark:{id:"dark",text:"#fff",textLight:"#ccc",textInverted:"#111",background:"#000",cardBackground:"#1c1c1e",accent:"#003da5",themeAwareAccent:"#448CFF",accentSlight:"#ccd8ea",accentSecondary:"#003da5",accentTernary:"#fbe122",error:"#ff453a",actionNeutral:"#777",okay:"#00b16a",warn:"#eecc00",componentBorder:"#555",buttonGroupBorder:"#1f1f1f",greenModalBackground:"#3caf82",chatBubble:"#333",inputPlaceholder:"#bbb",onboardingInputBackground:"#333337"}};function aa(e){var t={},n=ra.isWideDevice;return Object.values(oa).forEach((function(r){return t[r.id]=e(r,n)})),function(e){return t[e.id]}}var ia=n(15),ca=n(3);function sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ua=function(e){Yo()(n,e);var t=sa(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.forceFullWidth,r=e.wrapperStyle,o=e.containerStyle,a=la(t);return c.createElement(ca.a,{style:[a.wrapper,r]},c.createElement(ca.a,{style:[a.container,n?{maxWidth:void 0}:{},o]},this.props.children))}}]),n}(c.Component),la=aa((function(){return Xo.a.create({wrapper:{flex:1,justifyContent:"center",flexDirection:"row",overflow:"hidden"},container:{flex:1,alignItems:"center",maxWidth:1e3}})})),fa=Object(ia.j)(ua),pa="android"==T.a.OS?{fontFamily:"sans-serif-thin"}:{fontWeight:"100"},da="android"==T.a.OS?{fontFamily:"sans-serif-light"}:{fontWeight:"200"},ha="web"==T.a.OS?{fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", sans-serif'}:{},ma="ios"===T.a.OS?100:320,ga="ios"===T.a.OS?100:320,ya="ios"===T.a.OS?90:80,va=n(17);function ba(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ea={"rounded-filled":function(e){return{button:{justifyContent:"center",alignItems:"center",width:"100%",height:48,marginVertical:10,borderRadius:100,backgroundColor:e.accent,paddingHorizontal:10},text:{fontSize:18,letterSpacing:1,color:oa.dark.text}}},"rounded-hollow":function(e){return{button:{justifyContent:"center",alignItems:"center",width:"100%",height:48,marginVertical:10,borderRadius:100,borderColor:e.accent,borderWidth:1,paddingHorizontal:10},text:{fontSize:18,letterSpacing:1,color:e.accent}}}},Sa=function(e){Yo()(n,e);var t=ba(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.onPress,n=e.text,r=e.icon,o=e.skin,a=e.style,i=e.textStyle,s=e.iconLeft,u=e.contentOpacity,l=e.disabled,f=e.children,p=e.theme,d=o?Ea[o](p):{button:{},text:{}},h=this.props.TouchableComponent||va.a;return c.createElement(h,{accessibilityRole:"button",accessibilityLabel:n,onPress:t,style:[{alignItems:"center"},d.button,a],disabled:l},f,(!f||void 0!==u)&&c.createElement(ca.a,{style:[{flexDirection:s?"row-reverse":"row",alignItems:"center"},void 0!==u&&{opacity:u}]},c.createElement($o.a,{style:[d.text,i]},n),r))}}]),n}(c.Component),Oa=Object(ia.j)(Sa);function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Pa=function(e){Yo()(n,e);var t=wa(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.navigation,n=e.theme,r=Ta(n);return c.createElement(fa,{containerStyle:r.container},c.createElement($o.a,{style:r.title},I.a.t("notFoundScreen.title")),c.createElement($o.a,{style:r.subtitle},I.a.t("notFoundScreen.subtitle")),c.createElement(Oa,{onPress:function(){var e=Mo.getState().auth,n=e.authenticated,r=e.onboarded;n?r?t.replace("MainScreen"):t.replace("OnboardingScreen"):t.replace("LoginRoot")},skin:"rounded-filled",style:r.redirectButton,text:I.a.t("notFoundScreen.redirect")}))}}]),n}(c.Component),Ta=aa((function(e){return Xo.a.create({container:{justifyContent:"center",padding:20},title:Ra(Ra({fontSize:48},da),{},{textAlign:"center",color:e.text}),subtitle:{fontSize:20,marginTop:50,marginBottom:20,color:e.text},redirectButton:{maxWidth:280}})})),xa=Object(ia.j)(Pa),Ia=n(39),ka=n(22);function ja(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var _a=Object(ka.b)((function(e){return{validated:e.auth.validated}})),Da=function(e){Yo()(n,e);var t=ja(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=Mo.getState().auth.verificationToken;if(S&&E==r.Staging&&t)e(Ge(t));else if(this.props.route.params){var n=this.props.route.params.token;n&&e(Ge(n))}}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.validated,r=Aa(t);return c.createElement(fa,null,c.createElement(ca.a,{style:r.container},!n&&c.createElement(c.Fragment,null,c.createElement($o.a,{style:r.title},I.a.t("emailValidation.validating")),c.createElement(Ia.a,{size:"large",color:t.accentSecondary})),n&&c.createElement(c.Fragment,null,c.createElement($o.a,{style:r.successText},I.a.t("emailValidation.success")[0],c.createElement($o.a,{onPress:function(){return function(e,t){var n=function(){return j(t)};if("web"===T.a.OS){var r=b+"://"+e;window.location.replace(r),setTimeout((function(){console.log("Failed to redirect to "+r+" (perhaps app is not installed on this device) - Staying on web version"),n()}),5e3)}else n()}("login","SigninScreen")},style:{color:t.accent}},I.a.t("emailValidation.success")[1],".")))))}}]),n}(c.Component),Aa=aa((function(e){return Xo.a.create({container:{flex:1,width:"75%",justifyContent:"center",alignItems:"center"},title:{fontSize:20,marginVertical:20,textAlign:"center",color:e.text},successText:{fontSize:18,lineHeight:24,maxWidth:280,textAlign:"center",color:e.text}})})),Fa=_a(Object(ia.j)(Da));function Ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var La=Object(ka.b)((function(e){return{registerEmail:e.auth.registerEmail}})),Ba=function(e){Yo()(n,e);var t=Ma(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.registerEmail,n=e.theme,r=Na(n);return c.createElement(fa,null,c.createElement(ca.a,{style:r.container},c.createElement(d.a,{name:"envelope-o",style:r.mailIcon}),c.createElement($o.a,{style:r.infoText},I.a.t("emailValidation.sent")),c.createElement($o.a,{style:[r.infoText,r.email]},t),S&&c.createElement(va.a,{onPress:function(){return j("ValidateEmailScreen")}},c.createElement($o.a,{style:[r.infoText,{marginBottom:25}]},"Debug: Click here")),c.createElement(ca.a,{style:r.actionsContainer},c.createElement(Oa,{text:I.a.t("ok"),onPress:function(){return j("LoginRoot",{screen:"LoginScreens",params:{screen:"SigninScreen"}})},skin:"rounded-hollow"}))))}}]),n}(c.Component),Na=aa((function(e){return Xo.a.create({container:{flex:1,width:"75%",justifyContent:"center",alignItems:"center"},infoText:{color:e.themeAwareAccent,fontFamily:"RalewaySemiBold",fontSize:18,lineHeight:22,textAlign:"center",marginTop:25,maxWidth:300},email:{width:"100%"},mailIcon:{marginVertical:30,fontSize:50,color:e.text},actionsContainer:{width:"100%",maxWidth:300,marginBottom:30}})})),Ua=La(Object(ia.j)(Ba)),Ga=n(156),Ha={prefixes:[Ga.makeUrl("/"),O,b+"://"],config:{screens:{LoginRoot:{screens:{WelcomeScreen:"welcome",LoginScreens:{screens:{SigninScreen:"login",ForgotPasswordScreen:"forgot-password",SignupScreen:"signup"}}}},ForgotPasswordEmailSentScreen:"password-email-sent",ValidationEmailSentScreen:"validation-sent",MainScreen:{screens:{TabHome:{screens:{TabHomeScreen:"home"}},TabMatching:{screens:{TabMatchingScreen:"match",MatchFilteringScreen:"match/filters",MatchHistoryScreen:"match/history"}},TabGroups:{screens:{TabGroupsScreen:"groups",GroupsExploreScreen:"groups/explore",GroupScreen:"group/:groupId",GroupMembersScreen:"group/:groupId/members",GroupBannedMembersScreen:"group/:groupId/banned",GroupMembersApprovalScreen:"group/:groupId/requests",GroupInviteScreen:"group/:groupId/invite"}},TabMessaging:{screens:{ChatRoomsScreen:"messaging",ChatScreen:"chat/:roomId"}},TabNotifications:{screens:{TabNotificationsScreen:"notifications"}}}},ValidateEmailSentScreen:"validate/success",ValidateEmailScreen:"validate/:token",ResetPasswordScreen:"reset-password/:token",ResetPasswordSuccessScreen:"password-reset",MyProfileScreen:"profile",ProfileScreen:"profile/:id",SettingsScreen:"settings",DeleteAccountScreen:"delete-account",DeleteAccountSuccessScreen:"account-deleted",OnboardingScreen:{screens:{OnboardingNameScreen:"onboarding/name",OnboardingProfileScreen1:"onboarding/profile/1",OnboardingProfileScreen2:"onboarding/profile/2",OnboardingRoleScreen:"onboarding/role/1",OnboardingRoleSpecificScreen:"onboarding/role/2",OnboardingOffersScreen1:"onboarding/offers/1",OnboardingOffersScreen2:"onboarding/offers/2",OnboardingOffersScreen3:"onboarding/offers/3",OnboardingLegalScreen1:"onboarding/tos",OnboardingLegalScreen2:"onboarding/data",OnboardingLegalScreen3:"onboarding/cookies"}},OnboardingSuccessfulScreen:"onboarding/success",BackendUnreachableScreen:"cannot-reach-server",ResendVerifyEmailScreen:"verify",NotFoundScreen:"*"}}},Va=n(750),za=n(31),Wa=n(57),qa=n(14),Ya=n.n(qa),Ka=n(35);function Ja(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Qa=function(e){Yo()(n,e);var t=Ja(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.style,r=Ya()(e,["theme","style"]),o=Za(t);return c.createElement($o.a,$t()({},r,{style:[o.text,n]}),this.props.children)}}]),n}(c.Component),Za=aa((function(e){return Xo.a.create({text:{color:e.textLight,textTransform:"uppercase",letterSpacing:1,fontSize:12,marginBottom:5}})})),Xa=Object(ia.j)(Qa);function $a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ei=function(e){Yo()(n,e);var t=$a(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.style,r=e.error,o=Ya()(e,["theme","style","error"]),a=ti(t),i=r?"string"===typeof r?r:r[0]:null;return c.createElement($o.a,$t()({},o,{style:[a.text,n]}),i?we(i):"")}}]),n}(c.Component),ti=aa((function(e){return Xo.a.create({text:{fontSize:12,marginTop:2,marginBottom:-12,color:e.error}})})),ni=Object(ia.j)(ei);function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ii=function(e){Yo()(n,e);var t=ai(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).inputRef=s.a.createRef(),r.state={focused:!1,showSecureEntry:!1},r}return Rn()(n,[{key:"focus",value:function(){var e;null==(e=this.inputRef.current)||e.focus()}},{key:"blur",value:function(){var e;null==(e=this.inputRef.current)||e.blur()}},{key:"render",value:function(){var e=this,t=this.props,n=t.showErrorText,r=t.error,o=t.value,a=t.label,i=t.icon,c=t.untouched,u=t.secureTextEntry,l=t.style,f=t.wrapperStyle,p=t.inputStyle,h=t.inputFocusedStyle,m=t.errorStyle,g=t.validStyle,y=t.focusedStyle,v=t.errorTextStyle,b=t.labelStyle,E=t.showPasswordButtonStyle,S=t.showPasswordIconStyle,O=t.placeholderTextColor,C=t.onBlur,R=t.onFocus,w=Ya()(t,["showErrorText","error","value","label","icon","untouched","secureTextEntry","style","wrapperStyle","inputStyle","inputFocusedStyle","errorStyle","validStyle","focusedStyle","errorTextStyle","labelStyle","showPasswordButtonStyle","showPasswordIconStyle","placeholderTextColor","onBlur","onFocus"]),P=this.state.showSecureEntry,x=n&&!c&&r,I=!0===u;return s.a.createElement(ca.a,{style:[f,{width:"100%",flexDirection:"column",position:"relative",paddingBottom:x?0:6}]},a&&s.a.createElement(Xa,{style:b},a),s.a.createElement(ca.a,{style:[{flexDirection:"row",alignItems:"center"},l,this.state.focused?y:{},c?{}:r?m:o.length>0?g:{}]},i&&i(this.state.focused,void 0!==r,void 0!==r&&o.length>0),s.a.createElement(Ka.a,$t()({ref:this.inputRef,style:[{flex:1,height:"100%",backgroundColor:"transparent"},p,this.state.focused&&"web"===T.a.OS?{outline:"none"}:{},this.state.focused?h:{}],onBlur:function(t){C&&C(t),e.setState({focused:!1})},onFocus:function(t){R&&R(t),e.setState({focused:!0})},defaultValue:o,placeholderTextColor:O},I?{secureTextEntry:!P}:{},w)),I&&s.a.createElement(va.a,{style:E,onPress:function(){return e.setState(oi(oi({},e.state),{},{showSecureEntry:!P}))}},s.a.createElement(d.a,{name:P?"eye-slash":"eye",style:S}))),x&&s.a.createElement(ni,{style:v,error:r}))}}]),n}(s.a.Component);ii.defaultProps={untouched:!1,style:[],wrapperStyle:[],errorStyle:[],validStyle:[],focusedStyle:[],errorTextStyle:[],labelStyle:[]};var ci=ii;function si(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ui={keyboardType:"email-address",autoCompleteType:"email",textContentType:"emailAddress",autoCapitalize:"none",autoCorrect:!1},li={secureTextEntry:!0,autoCompleteType:"password",textContentType:"password",autoCapitalize:"none",autoCorrect:!1},fi=function(e){Yo()(n,e);var t=si(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).inputRef=s.a.createRef(),e}return Rn()(n,[{key:"focus",value:function(){var e;null==(e=this.inputRef.current)||e.focus()}},{key:"blur",value:function(){var e;null==(e=this.inputRef.current)||e.blur()}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.touched,r=e.handleChange,o=e.handleBlur,a=e.error,i=e.onBlur,c=e.onChangeText,u=e.isEmail,l=e.isPassword,f=Ya()(e,["field","touched","handleChange","handleBlur","error","onBlur","onChangeText","isEmail","isPassword"]);return s.a.createElement(ci,$t()({ref:this.inputRef,error:n?a:void 0,untouched:!n,onChangeText:function(e){c&&c(e),r(t)(e)},onBlur:function(e){i&&i(e),o(t)(e)}},u?ui:{},l?li:{},f))}}]),n}(s.a.Component);function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}fi.defaultProps={showErrorText:!0,handleChange:rt.noop,handleBlur:rt.noop};var hi=aa((function(e,t){return Xo.a.create({root:{flexDirection:"row",justifyContent:"center"},wideDeviceLeftPanel:{width:"50%",height:"100%",justifyContent:"center",alignItems:"center"},slideWrapper:{width:t?"50%":"100%",height:"100%",alignItems:"center"},header:{marginBottom:20},slideScrollView:{width:"100%"},slideContentWrapper:{width:"100%",flexDirection:"column",paddingTop:100,paddingBottom:20,flexGrow:1,justifyContent:"center",alignItems:"center"},slideContentContainer:{width:"80%"},slideNavWrapper:{width:"80%",alignItems:"center",marginTop:15},slideNavButtons:{width:"100%",flexDirection:"row",justifyContent:"space-around"},navButton:{flex:1,marginHorizontal:0,marginVertical:0},navButtonBack:{backgroundColor:"#fff"},navButtonIcon:{fontSize:40,color:e.text},finishButtonText:{fontSize:20},title:di(di({},pa),{},{fontSize:40,letterSpacing:1.75,color:e.text}),subtitle:{fontSize:18,textAlign:"justify",letterSpacing:.4,lineHeight:25,color:e.textLight}})})),mi=aa((function(e){return Xo.a.create({categoryTitleText:{},offerControl:{marginVertical:10},offerControlPreText:{fontSize:18,letterSpacing:.4,color:e.textLight,marginVertical:10}})})),gi=aa((function(e){return Xo.a.create({inputFieldIcon:{fontSize:20,color:e.inputPlaceholder,marginRight:10},inputFieldIconFocused:{color:e.accent}})}));function yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{wrapperStyle:{width:"100%",marginVertical:t},style:{width:"100%",height:50,borderBottomWidth:2,borderColor:e.componentBorder},focusedStyle:{borderColor:e.accent},errorStyle:{borderBottomWidth:2,borderBottomColor:e.error},validStyle:{borderBottomWidth:2,borderBottomColor:e.okay},labelStyle:{marginBottom:4},inputStyle:{fontSize:16,color:e.accent},showPasswordButtonStyle:{padding:8},showPasswordIconStyle:{fontSize:22,color:e.textLight},placeholderTextColor:e.inputPlaceholder}}function vi(e){var t=Xo.a.create({checkboxWrapper:{width:"100%",marginVertical:5},checkboxContainer:{padding:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:5},checkboxLabel:{fontSize:16,marginLeft:5}});return{wrapperStyle:t.checkboxWrapper,containerStyle:t.checkboxContainer,labelStyle:[t.checkboxLabel,{color:e.text}]}}function bi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ei=function(e){Yo()(n,e);var t=bi(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.theme,r=e.style,o=e.textStyle,a=Ya()(e,["error","theme","style","textStyle"]),i=Si(n);return c.createElement(c.Fragment,null,t&&t.length>0&&c.createElement(ca.a,$t()({style:[i.wrapper,r]},a),c.createElement($o.a,{style:[i.text,o]},we(t))))}}]),n}(c.Component),Si=aa((function(e){return Xo.a.create({wrapper:{marginTop:5},text:{fontSize:14,color:e.error,textAlign:"center"}})})),Oi=Object(ia.j)(Ei);function Ci(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ri=function(e){Yo()(n,e);var t=Ci(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.submitting,n=e.onPress,r=e.style,o=e.loadingIndicatorStyle,a=e.theme,i=Ya()(e,["submitting","onPress","style","loadingIndicatorStyle","theme"]);return c.createElement(Oa,$t()({onPress:t?void 0:n},{style:[{flexDirection:"row",alignItems:"center"},r]},i),t&&c.createElement(Ia.a,{color:a.accentTernary,style:o}))}}]),n}(c.Component),wi=Object(ia.j)(Ri),Pi=n(484),Ti=n(487),xi=n(755),Ii=n(82),ki=n.n(Ii),ji=n(72),_i=n(92);function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Mi=function(e){Yo()(n,e);var t=Fi(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={modalVisible:e.visible||!1},r}return Rn()(n,[{key:"componentDidUpdate",value:function(e){e.visible&&!this.props.visible&&this.setModalVisible(!1),!e.visible&&this.props.visible&&this.setModalVisible(!0)}},{key:"setModalVisible",value:function(e){this.setState(Ai(Ai({},this.state),{},{modalVisible:e})),!e&&this.props.onHide&&this.props.onHide(),e&&this.props.onShow&&this.props.onShow()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.modalViewStyle,o=t.animationType,a=t.bottom,i=t.fullWidth,c=t.fullHeight,u=t.nonDismissable,l=t.noBackground,f=t.backdropOpacity,p=t.backdropBlur,d=t.statusBarTranslucent,h=this.state.modalVisible,m=Li(n),g="rgba(0,0,0,"+(void 0===f?.15:f)+")",y=s.a.createElement(va.a,{style:[m.backdrop,{backgroundColor:g}],activeOpacity:1,onPress:u?void 0:function(){return e.setModalVisible(!1)}},s.a.createElement(va.a,{activeOpacity:1,style:[m.modalView,a?{position:"absolute",bottom:0,margin:0}:{},i?{width:"100%",maxWidth:"100%"}:{},c?{height:"100%"}:{},l?{elevation:0,shadowRadius:0}:{backgroundColor:n.cardBackground,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},r]},this.props.renderContent((function(){return e.setModalVisible(!1)})))),v=void 0===d||d;return s.a.createElement(ji.a,{animationType:o,transparent:!0,statusBarTranslucent:v,visible:h,onRequestClose:function(){u||e.setModalVisible(!1)}},s.a.createElement(_i.a,{enabled:v,behavior:"height",style:{width:"100%",height:"100%",flex:1}},p?s.a.createElement(xi.a,{style:{flex:1},tint:"dark",intensity:ya},y):y))}}]),n}(s.a.Component),Li=aa((function(){return Xo.a.create({backdrop:{flex:1,justifyContent:"center",alignItems:"center",borderColor:"transparent"},modalView:{width:"80%",maxWidth:300,margin:20,borderRadius:3,paddingVertical:20,paddingHorizontal:30,alignItems:"center"}})}));Object(ia.j)(Mi);function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ui(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Gi=null,Hi=function(e){Yo()(n,e);var t=Ui(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={modalVisible:e.visible||!1},r}return Rn()(n,[{key:"componentDidMount",value:function(){null===Gi&&((Gi=document.createElement("div")).style.zIndex="1000",document.body.appendChild(Gi))}},{key:"componentDidUpdate",value:function(e){e.visible&&!this.props.visible&&this.setModalVisible(!1),!e.visible&&this.props.visible&&this.setModalVisible(!0)}},{key:"setModalVisible",value:function(e){this.setState(Ni(Ni({},this.state),{},{modalVisible:e})),!e&&this.props.onHide&&this.props.onHide(),e&&this.props.onShow&&this.props.onShow()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.modalViewStyle,o=t.bottom,a=t.fullWidth,i=t.fullHeight,c=t.nonDismissable,u=t.noBackground,l=t.backdropOpacity,f=t.backdropBlur,p={position:"fixed",width:"100%",height:"100%",left:0,top:0},d=this.state.modalVisible?s.a.createElement(s.a.Fragment,null,f&&s.a.createElement(xi.a,{style:Ni({flex:1},p),tint:"dark",intensity:ya}),s.a.createElement(va.a,{style:Ni(Ni({},p),{},{backgroundColor:"rgba(0,0,0,"+(void 0===l?.15:l)+")",cursor:"pointer"}),activeOpacity:1,onPress:c?void 0:function(){return e.setModalVisible(!1)}}),s.a.createElement(ca.a,{style:[{position:"fixed",left:0,right:0,margin:"auto",width:"80%",maxWidth:300,borderRadius:3,paddingVertical:20,paddingHorizontal:30,alignItems:"center"},a?{width:"100%",maxWidth:"100%"}:{},i?{height:"100%"}:o?{bottom:0}:{top:"50%",transform:"translateY(-50%)"},u?{}:{backgroundColor:n.cardBackground,boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.05)"},r]},this.props.renderContent((function(){return e.setModalVisible(!1)})))):s.a.createElement(s.a.Fragment,null);return Gi?ki.a.createPortal(d,Gi):s.a.createElement(s.a.Fragment,null)}}]),n}(s.a.Component),Vi=Object(ia.j)(Hi);function zi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Wi=function(e){Yo()(n,e);var t=zi(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.setModalVisible(!0)}},{key:"hide",value:function(){var e;null==(e=this.modalRef.current)||e.setModalVisible(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.activator,r=Ya()(t,["activator"]),o=n?n((function(){return e.show()})):s.a.createElement(s.a.Fragment,null);return s.a.createElement(s.a.Fragment,null,o,s.a.createElement(Vi,$t()({ref:this.modalRef},r)))}}]),n}(s.a.Component),qi=Object(ia.j)(Wi);function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ji(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Qi=function(e){Yo()(n,e);var t=Ji(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"getPreset",value:function(e){var t=this.props.theme;switch(e){case"cancel":return{text:I.a.t("cancel"),backgroundColor:t.background,color:t.text,onPress:function(e){return e()}};case"confirm":return{text:I.a.t("ok"),backgroundColor:t.okay,color:oa.dark.text,onPress:function(e){return e()}};case"delete":return{text:I.a.t("delete"),backgroundColor:t.error,color:oa.dark.text,onPress:function(e){return e()}}}}},{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.title,o=t.text,a=t.justifyText,i=t.icon,c=t.buttons,u=t.additionalContent,l=t.contentContainerStyle,f=Ya()(t,["theme","title","text","justifyText","icon","buttons","additionalContent","contentContainerStyle"]),p=Zi(n),d={backgroundColor:n.okay,color:oa.dark.text};return s.a.createElement(qi,$t()({ref:this.modalRef},f,{modalViewStyle:[p.modalStyle,f.modalViewStyle],renderContent:function(t){return s.a.createElement(s.a.Fragment,null,i&&i({style:p.icon}),s.a.createElement(ca.a,{style:[p.contentContainer,l]},s.a.createElement($o.a,{style:p.title},r),s.a.createElement($o.a,{style:[p.text,a&&{textAlign:"justify"},!o&&{marginVertical:8,height:0}]},o),u&&u(t,{style:p.contentText})),s.a.createElement(ca.a,{style:p.actionsWrapper},c.map((function(n,r){var o=Ki(Ki(Ki({},d),n.preset?e.getPreset(n.preset):{}),n);return s.a.createElement(va.a,{key:"modal-button-"+r+"-"+o.text,style:[p.action,{backgroundColor:o.backgroundColor}],activeOpacity:o.disabled?1:void 0,onPress:o.disabled?void 0:function(){return o.onPress&&o.onPress(t)}},o.disabled&&s.a.createElement(ca.a,{style:p.actionDisabledOverlay}),o.text&&s.a.createElement($o.a,{style:[p.actionText,{color:o.color}]},o.text))}))))}}))}}]),n}(s.a.Component),Zi=aa((function(e){return Xo.a.create({modalStyle:{paddingHorizontal:0,paddingVertical:0,paddingTop:20,borderRadius:20,overflow:"hidden"},actionsWrapper:{width:"100%",flexDirection:"row",marginTop:20,borderTopWidth:Xo.a.hairlineWidth,borderColor:e.componentBorder},action:{flex:1,height:50,justifyContent:"center",alignItems:"center"},actionText:{fontSize:16},actionDisabledOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#777",opacity:.6},contentContainer:{paddingHorizontal:25,width:"100%"},icon:{fontSize:36,marginBottom:5},title:Ki({fontSize:24,width:"100%",textAlign:"center",color:e.text},da),text:{fontSize:16,color:e.textLight,marginVertical:10,textAlign:"center"},contentText:{fontSize:16,color:e.textLight,textAlign:"justify"}})})),Xi=Object(ia.j)(Qi);function $i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ec=function(e){Yo()(n,e);var t=$i(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.password,r=Ya()(e,["email","password"]);return s.a.createElement(Xi,$t()({title:I.a.t("recoverAccount.title"),text:I.a.t("recoverAccount.text"),justifyText:!0,buttons:[{preset:"cancel",onPress:function(){return Mo.dispatch({type:ye.LOG_IN_RECOVER_CANCEL})}},{preset:"confirm",text:I.a.t("recoverAccount.yes"),onPress:function(){return Mo.dispatch(Ne(t,n,!0))}}]},r))}}]),n}(s.a.Component),tc=Object(ia.j)(ec);function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ac=ft.c().shape({email:St,password:Ot}),ic=Object(ka.b)((function(e){return{validatedEmail:e.auth.validatedEmail,needsRecovery:e.auth.accountNeedsRecovery}})),cc=function(e){Yo()(n,e);var t=oc(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).pwdInputRef=c.createRef(),r.setFieldValue=null,r.state={submitting:!1},r}return Rn()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.validatedEmail;this.setFieldValue&&t&&e.validatedEmail!=t&&this.setFieldValue("email",t)}},{key:"submit",value:function(e){var t=this;this.setState(rc(rc({},this.state),{},{submitting:!0})),this.props.dispatch(Ne(e.email,e.password)).then((function(n){var r=n.success,o=n.errors;if(t.setState({remoteErrors:o,submitting:!1}),r&&(t.setFieldValue&&t.setFieldValue("password","",!1),t.props.onSuccessfulSubmit&&t.props.onSuccessfulSubmit(e)),o&&o.fields){var a=o.fields;Object.keys(a).forEach((function(e){return t.setFieldError&&t.setFieldError(e,we(a[e]))}))}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=t.needsRecovery,a=this.state,i=a.remoteErrors,s=a.submitting,u=sc(n),l=gi(n);return c.createElement(ca.a,{style:[{width:"100%"},r]},c.createElement(Wa.a,{initialValues:{email:"",password:""},validationSchema:ac,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,a=t.values,f=t.errors,p=t.touched,d=t.handleChange,h=t.handleBlur,m=t.setFieldValue,g=t.setFieldError,y=rc({handleChange:d,handleBlur:h},yi(n,10));return e.setFieldValue=m,e.setFieldError=g,c.createElement(ca.a,null,c.createElement(fi,$t()({field:"email",placeholder:I.a.t("emailAddress"),accessibilityLabel:I.a.t("emailAddress"),error:f.email,value:a.email,touched:p.email,isEmail:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdInputRef.current)?void 0:t.focus()},icon:function(e){return c.createElement(Pi.a,{name:"email",style:[l.inputFieldIcon,e?l.inputFieldIconFocused:{}]})}},y)),c.createElement(fi,$t()({ref:e.pwdInputRef,field:"password",placeholder:I.a.t("password"),accessibilityLabel:I.a.t("password"),error:f.password,value:a.password,touched:p.password,isPassword:!0,returnKeyType:"done",icon:function(e){return c.createElement(Pi.a,{name:"lock",style:[l.inputFieldIcon,e?l.inputFieldIconFocused:{}]})}},y)),c.createElement(Oi,{error:xe(i)}),c.createElement(va.a,{accessibilityRole:"link",accessibilityLabel:I.a.t("forgotPassword"),onPress:function(){za.a.dismiss(),j("LoginRoot",{screen:"LoginScreens",params:{screen:"ForgotPasswordScreen"}})},style:u.forgotPwdLink},c.createElement($o.a,{style:u.forgotPasswordText},I.a.t("forgotPassword"))),c.createElement(ca.a,{style:u.actionsContainer},c.createElement(wi,{onPress:function(){return r()},skin:"rounded-filled",text:I.a.t("loginForm.logIn"),icon:c.createElement(Ti.a,{name:"login",style:u.loginButtonIcon}),submitting:s}),c.createElement(ca.a,{style:u.separatorContainer},c.createElement(ca.a,{style:u.separatorHbar}),c.createElement($o.a,{style:u.separatorText},I.a.t("loginForm.or")),c.createElement(ca.a,{style:u.separatorHbar})),c.createElement(Oa,{onPress:function(){za.a.dismiss(),j("LoginRoot",{screen:"LoginScreens",params:{screen:"SignupScreen"}})},skin:"rounded-hollow",text:I.a.t("loginForm.signUp")})),c.createElement(tc,{visible:o,email:a.email,password:a.password}))})))}}]),n}(c.Component),sc=aa((function(e){return Xo.a.create({actionsContainer:{flexDirection:"column",width:"100%"},loginButtonIcon:{color:oa.dark.text,fontSize:20,marginLeft:5},forgotPwdLink:{height:48,justifyContent:"center",paddingHorizontal:8},forgotPasswordText:{fontSize:14,letterSpacing:.5,color:e.textLight,textAlign:"center"},separatorContainer:{width:"100%",flexDirection:"row",alignItems:"center"},separatorHbar:{flex:1,height:1,backgroundColor:e.text,opacity:.2},separatorText:{fontSize:14,color:e.textLight,paddingHorizontal:10}})})),uc=ic(Object(ia.j)(cc));function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var dc=ft.c().shape({email:St}),hc=function(e){Yo()(n,e);var t=pc(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={submitting:!1},r}return Rn()(n,[{key:"submit",value:function(e){var t=this,n=e.email;this.setState(fc(fc({},this.state),{},{submitting:!0})),Mo.dispatch(function(e){return function(t){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(W("auth/password/forgot","POST",{},{email:e}));case 2:if((n=r.sent).status!=U.OK){r.next=8;break}return t(We(e)),r.abrupt("return",{success:!0});case 8:return t(qe()),r.abrupt("return",{success:!1,errors:Te(n)});case 10:case"end":return r.stop()}}),null,null,null,Promise)}}(n)).then((function(e){var n=e.errors;if(n&&n.fields){var r=n.fields;Object.keys(r).forEach((function(e){return t.setFieldError&&t.setFieldError(e,we(r[e]))}))}t.setState({remoteErrors:n,submitting:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=this.state,a=o.remoteErrors,i=o.submitting,s=mc(n);return c.createElement(ca.a,{style:[{width:"100%"},r]},c.createElement(ca.a,{style:s.titleWrapper},c.createElement($o.a,{style:s.title},I.a.t("newPassword")),c.createElement($o.a,{style:s.description},I.a.t("forgotPasswordExplanation"))),c.createElement(Wa.a,{initialValues:{email:""},validationSchema:dc,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,u=t.errors,l=t.touched,f=t.handleChange,p=t.handleBlur,d=t.setFieldError,h=fc({handleChange:f,handleBlur:p},yi(n));return e.setFieldError=d,c.createElement(c.Fragment,null,c.createElement(fi,$t()({field:"email",placeholder:I.a.t("emailAddress"),error:u.email,value:o.email,touched:l.email,isEmail:!0},h)),c.createElement(Oi,{error:xe(a)}),c.createElement(ca.a,{style:s.actionsContainer},c.createElement(wi,{onPress:function(){za.a.dismiss(),r()},skin:"rounded-filled",text:I.a.t("send"),submitting:i}),c.createElement(Oa,{onPress:function(){za.a.dismiss(),_()},skin:"rounded-hollow",text:I.a.t("cancel")})))})))}}]),n}(c.Component),mc=aa((function(e){return Xo.a.create({actionsContainer:{flexDirection:"column",width:"100%",marginTop:40},titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},description:{textAlign:"justify",fontSize:16,marginTop:10,color:e.textLight}})})),gc=Object(ia.j)(hc),yc=n(37);function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ec(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Sc=function(e){Yo()(n,e);var t=Ec(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).keyboardShown=!1,r.state={height:0},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.notKeyboardReactive||(za.a.addListener("keyboardDidShow",(function(){e.keyboardShown=!0})),za.a.addListener("keyboardDidHide",(function(){return e.keyboardShown=!1})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.notKeyboardReactive,r=t.contentStyle,o=t.theme,a=this.state.height,i=Oc(o);return c.createElement(yc.a,{keyboardShouldPersistTaps:"handled",style:i.scrollView,contentContainerStyle:[i.scrollViewContent,{minHeight:n?0:a}],onLayout:function(t){n&&0!=e.state.height||e.keyboardShown||e.setState(bc(bc({},e.state),{},{height:t.nativeEvent.layout.height-5}))}},c.createElement(_i.a,{behavior:"padding",style:[i.keyboardAvoidingView,n||0!==this.state.height?{}:{opacity:0},r]},this.props.children))}}]),n}(c.Component),Oc=aa((function(){return{keyboardAvoidingView:{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},scrollView:{flex:1,width:"100%"},scrollViewContent:{justifyContent:"center",alignItems:"center"}}})),Cc=Object(ia.j)(Sc);function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Tc=ft.c().shape({email:vt,password:bt,passwordRepeat:Et}),xc=function(e){Yo()(n,e);var t=Pc(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).pwdField1Ref=c.createRef(),r.pwdField2Ref=c.createRef(),r.resetForm=rt.noop,r.state={submitting:!1},r}return Rn()(n,[{key:"submit",value:function(e){var t=this;this.setState(wc(wc({},this.state),{},{submitting:!0})),Mo.dispatch(Ae(e.email,e.password)).then((function(n){var r=n.success,o=n.errors;if(t.setState({remoteErrors:o,submitting:!1}),o&&o.fields){var a=o.fields;Object.keys(a).forEach((function(e){return t.setFieldError&&t.setFieldError(e,we(a[e]))}))}r&&(t.resetForm(),t.props.onSuccessfulSubmit&&t.props.onSuccessfulSubmit(e))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=this.state,a=o.remoteErrors,i=o.submitting,s=Ic(n),u=gi(n);return c.createElement(ca.a,{style:[{width:"100%"},r]},c.createElement($o.a,{style:s.title},I.a.t("signupWelcome")),c.createElement(Wa.a,{initialValues:{email:"",password:"",passwordRepeat:""},validationSchema:Tc,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,l=t.errors,f=t.touched,p=t.handleChange,d=t.handleBlur,h=t.setFieldError,m=wc({handleChange:p,handleBlur:d},yi(n,5));return e.setFieldError=h,e.resetForm=t.resetForm,c.createElement(c.Fragment,null,c.createElement(fi,$t()({field:"email",placeholder:I.a.t("emailAddress"),accessibilityLabel:I.a.t("emailAddress"),error:l.email,value:o.email,touched:f.email,isEmail:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdField1Ref.current)?void 0:t.focus()}},m,{icon:function(e){return c.createElement(Pi.a,{name:"email",style:[u.inputFieldIcon,e?u.inputFieldIconFocused:{}]})}})),c.createElement(fi,$t()({ref:e.pwdField1Ref,field:"password",placeholder:I.a.t("password"),accessibilityLabel:I.a.t("password"),error:l.password,value:o.password,touched:f.password,isPassword:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdField2Ref.current)?void 0:t.focus()}},m,{icon:function(e){return c.createElement(Pi.a,{name:"lock",style:[u.inputFieldIcon,e?u.inputFieldIconFocused:{}]})}})),c.createElement(Ka.a,{style:{width:1,height:1}}),c.createElement(fi,$t()({ref:e.pwdField2Ref,field:"passwordRepeat",placeholder:I.a.t("passwordRepeat"),accessibilityLabel:I.a.t("passwordRepeat"),error:l.passwordRepeat,value:o.passwordRepeat,touched:f.passwordRepeat,isPassword:!0,returnKeyType:"done"},m,{icon:function(e){return c.createElement(Pi.a,{name:"lock",style:[u.inputFieldIcon,e?u.inputFieldIconFocused:{}]})}})),c.createElement(Oi,{error:xe(a)}),c.createElement(ca.a,{style:s.actionsContainer},c.createElement(wi,{onPress:function(){za.a.dismiss(),r()},skin:"rounded-filled",text:I.a.t("createAccount"),submitting:i}),c.createElement(Oa,{onPress:function(){za.a.dismiss(),_()},skin:"rounded-hollow",text:I.a.t("cancel")})))})))}}]),n}(c.Component),Ic=aa((function(e){return Xo.a.create({actionsContainer:{flexDirection:"column",width:"100%",marginTop:10},title:{fontSize:22,marginBottom:5,color:e.text}})})),kc=Object(ia.j)(xc),jc=n(21);var _c=function(){return c.createElement(c.Fragment,null)},Dc={},Ac=null,Fc=null;function Mc(e,t){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="logos.erasmusLeft"===e.t0?3:4;break;case 3:return e.abrupt("return",n.e(26).then(n.t.bind(null,782,7)));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}function Lc(e,t){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="logos.erasmusLeft"===e.t0?3:4;break;case 3:return e.abrupt("return",n.e(27).then(n.t.bind(null,783,7)));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}function Bc(e,t){var r=Mo.getState().settings.userSettings;if(Ac==r.locale&&Fc==r.theme||(Dc={}),Ac=r.locale,Fc=r.theme,Dc[e])return Dc[e];var o=function(n){Dc[e]=n.default,t&&t()};return("en"===Ac?Mc:Lc)(Fc,e).then((function(t){null===t?function(e,t){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="welcome"===e.t0?3:"login-header"===e.t0?4:"offers.categories.discover"===e.t0?5:"offers.categories.meet"===e.t0?6:"offers.categories.collaborate"===e.t0?7:"background.onboarding"===e.t0?8:"large-wave-bg"===e.t0?9:"woman-holding-phone"===e.t0?10:"woman-holding-phone-2"===e.t0?11:"woman-holding-phone-3"===e.t0?12:"woman-holding-phone-4"===e.t0?13:"man-holding-phone"===e.t0?14:"blob-4"===e.t0?15:"blob-5"===e.t0?16:"blob-6"===e.t0?17:"blob-8"===e.t0?18:"blob-9"===e.t0?19:"blob-10"===e.t0?20:"blob-11"===e.t0?21:"staff"===e.t0?22:"student"===e.t0?23:"logos.sea-eu-around.small"===e.t0?24:"store-button.android"===e.t0?25:"store-button.ios"===e.t0?26:"group-placeholder"===e.t0?27:28;break;case 3:return e.abrupt("return",n.e(20).then(n.bind(null,756)));case 4:return e.abrupt("return",n.e(12).then(n.bind(null,757)));case 5:return e.abrupt("return",n.e(15).then(n.bind(null,758)));case 6:return e.abrupt("return",n.e(16).then(n.bind(null,759)));case 7:return e.abrupt("return",n.e(14).then(n.bind(null,760)));case 8:return e.abrupt("return",n.e(3).then(n.bind(null,761)));case 9:return e.abrupt("return",n.e(11).then(n.bind(null,762)));case 10:return e.abrupt("return",n.e(24).then(n.bind(null,763)));case 11:return e.abrupt("return",n.e(21).then(n.bind(null,764)));case 12:return e.abrupt("return",n.e(22).then(n.bind(null,765)));case 13:return e.abrupt("return",n.e(23).then(n.bind(null,766)));case 14:return e.abrupt("return",n.e(13).then(n.bind(null,767)));case 15:return e.abrupt("return",n.e(6).then(n.bind(null,768)));case 16:return e.abrupt("return",n.e(7).then(n.bind(null,769)));case 17:return e.abrupt("return",n.e(8).then(n.bind(null,770)));case 18:return e.abrupt("return",n.e(9).then(n.bind(null,771)));case 19:return e.abrupt("return",n.e(10).then(n.bind(null,772)));case 20:return e.abrupt("return",n.e(4).then(n.bind(null,773)));case 21:return e.abrupt("return",n.e(5).then(n.bind(null,774)));case 22:return e.abrupt("return",n.e(17).then(n.bind(null,775)));case 23:return e.abrupt("return",n.e(19).then(n.bind(null,776)));case 24:return e.abrupt("return",n.e(28).then(n.t.bind(null,777,7)));case 25:return e.abrupt("return",n.e(30).then(n.t.bind(null,778,7)));case 26:return e.abrupt("return",n.e(18).then(n.bind(null,779)));case 27:return e.abrupt("return",n.e(25).then(n.t.bind(null,780,7)));case 28:return e.abrupt("return",n.e(29).then(n.t.bind(null,781,7)));case 29:case"end":return e.stop()}}),null,null,null,Promise)}(0,e).then((function(e){return o(e)})):o(t)})),0}function Nc(e,t){var n=Bc(e,t);return 0===n?_c:n}var Uc=n(754);function Gc(e,t){"web"===T.a.OS?e.setValue(t.toValue):jc.c.timing(e,t).start()}function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Wc=Object(ka.b)((function(e){return{isFirstLaunch:e.settings.isFirstLaunch}})),qc=function(e){Yo()(n,e);var t=zc(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).height=new jc.c.Value(e.getFullHeight()-60),e.imageTop=new jc.c.Value(e.getFullHeight()-e.getImageHeight()),e}return Rn()(n,[{key:"back",value:function(){za.a.dismiss(),j("LoginRoot",{screen:"WelcomeScreen"})}},{key:"getImageHeight",value:function(){return 800/620*ea.a.get("window").width}},{key:"getCollapsedHeight",value:function(){return ea.a.get("window").height-650+this.props.insets.top}},{key:"getFullHeight",value:function(){return Math.min(ea.a.get("window").height-420+this.props.insets.top,530)}},{key:"componentDidMount",value:function(){var e=this;za.a.addListener("keyboardDidShow",(function(){var t=e.getCollapsedHeight()-e.getImageHeight(),n=e.getCollapsedHeight()-60,r=jc.a.cubic;Gc(e.height,{toValue:n,duration:100,easing:r}),Gc(e.imageTop,{toValue:t,duration:100,easing:r})})),za.a.addListener("keyboardDidHide",(function(){var t=e.getFullHeight()-e.getImageHeight(),n=e.getFullHeight()-60,r=jc.a.cubic;Gc(e.height,{toValue:n,duration:100,easing:r}),Gc(e.imageTop,{toValue:t,duration:100,easing:r})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.isFirstLaunch,o=Yc(n),a=Nc("login-header",(function(){return e.forceUpdate()}));return c.createElement(ca.a,{style:o.wrapper},!ra.isWideDevice&&c.createElement(jc.c.View,{style:[o.image,{top:this.imageTop}]},c.createElement(a,{viewBox:"0 0 620 800"})),c.createElement(jc.c.View,{style:[o.container,{height:this.height}]},c.createElement(va.a,{style:o.navigationButton,onPress:function(){return e.back()}},c.createElement(Pi.a,{name:"chevron-left",style:o.navigationIcon})),c.createElement($o.a,{style:o.title},I.a.t(r?"loginForm.titleFirstLaunch":"loginForm.title"))))}}]),n}(c.Component),Yc=aa((function(e,t){return Xo.a.create({wrapper:Vc({},t?{position:"absolute",top:0,left:0,width:"50%",height:"100%",backgroundColor:e.accent,zIndex:1}:{zIndex:1}),container:{width:"100%",padding:40,zIndex:2,overflow:"hidden"},navigationButton:{width:50,marginLeft:-15},navigationIcon:{color:oa.dark.text,fontSize:50},title:{color:oa.dark.text,fontSize:38,maxWidth:210,fontFamily:"RalewaySemiBold"},image:{position:"absolute",left:0,width:ea.a.get("window").width,aspectRatio:.775,zIndex:1}})}));var Kc=Wc((function(e){var t=Object(Uc.e)();return c.createElement(ia.g,null,(function(n){return c.createElement(qc,$t()({},n,{insets:t},e))}))}));function Jc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Qc=function(e){Yo()(n,e);var t=Jc(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=ra.isWideDevice,t=$c(this.props.theme),n=c.createElement(uc,{containerStyle:t.formContainer});return c.createElement(fa,{wrapperStyle:t.screenWrapper,containerStyle:t.screenContainer},e&&n,!e&&c.createElement(Cc,{notKeyboardReactive:!0},n))}}]),n}(c.Component),Zc=function(e){Yo()(n,e);var t=Jc(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=ra.isWideDevice,t=$c(this.props.theme),n=c.createElement(gc,{containerStyle:t.formContainer});return c.createElement(fa,{wrapperStyle:t.screenWrapper,containerStyle:t.screenContainer},e&&n,!e&&c.createElement(Cc,{notKeyboardReactive:!0},n))}}]),n}(c.Component),Xc=function(e){Yo()(n,e);var t=Jc(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=ra.isWideDevice,t=$c(this.props.theme),n=c.createElement(kc,{containerStyle:t.formContainer});return c.createElement(fa,{wrapperStyle:t.screenWrapper,containerStyle:t.screenContainer},e&&n,!e&&c.createElement(Cc,{notKeyboardReactive:!0},n))}}]),n}(c.Component),$c=aa((function(e,t){return t?Xo.a.create({screenWrapper:{width:"50%",height:"100%",position:"absolute",top:0,left:"50%"},screenContainer:{width:"100%",justifyContent:"center"},formContainer:{width:"80%",maxWidth:400}}):Xo.a.create({screenWrapper:{},screenContainer:{},formContainer:{paddingTop:60,width:"80%",maxWidth:400}})})),es=Object(ia.j)(Qc),ts=Object(ia.j)(Zc),ns=Object(ia.j)(Xc);function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function as(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var is=function(e){Yo()(n,e);var t=as(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.text,r=e.containerStyle,o=e.textStyle,a=cs(t),i=this.props.fontSize||24,s=.55*i,u=.4*i;return c.createElement(ca.a,{style:[a.textContainer,r]},c.createElement(ca.a,{style:[a.underline,{height:s,bottom:-1}]}),c.createElement($o.a,{style:[a.text,o,{fontSize:i,paddingHorizontal:u}]},n))}}]),n}(c.Component),cs=aa((function(e){return Xo.a.create({textContainer:{alignItems:"center"},text:os({fontFamily:"RalewaySemiBold",color:e.accent,zIndex:2},"dark"===e.id?{textShadowColor:"rgba(0, 0, 0, 0.6)",textShadowOffset:{width:0,height:1},textShadowRadius:1}:{}),underline:{position:"absolute",width:"100%",backgroundColor:e.accentTernary,zIndex:1}})})),ss=Object(ia.j)(is),us=n(114),ls=n(32);function fs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ps=function(e){Yo()(n,e);var t=fs(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.imageKey,r=Ya()(t,["imageKey"]),o=Bc(n,(function(){return e.forceUpdate()}));return o?c.createElement(ls.a,$t()({source:o},r)):c.createElement(c.Fragment,null)}}]),n}(c.Component);function ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var hs=function(e){Yo()(n,e);var t=ds(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.store,r=t.url,o=t.linkStyle,a=t.linkProps,i="ios"===n?Nc("store-button.ios",(function(){return e.forceUpdate()})):null,c=void 0===this.props.scale?1:this.props.scale,u=void 0===this.props.width?204*c:this.props.width*c,l=60*u/204;return s.a.createElement(va.a,$t()({style:[{overflow:"hidden",height:l,width:u,margin:10},a?a.style:{},o],activeOpacity:.7,onPress:function(){us.a.openURL(r)}},a),"android"===n&&s.a.createElement(ps,{imageKey:"store-button.android",style:{width:"100%",height:"100%"}}),"ios"===n&&i&&s.a.createElement(i,{viewBox:"0 0 133 40",width:u,height:l,fill:"black"}))}}]),n}(s.a.Component);function ms(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var gs=function(e){Yo()(n,e);var t=ms(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props.theme,n=ys(t),r=Nc("welcome",(function(){return e.forceUpdate()})),o=Math.min(.4*ea.a.get("window").width,200);return c.createElement(fa,null,c.createElement(ca.a,{style:n.container},c.createElement(ca.a,{style:n.imageAndTextContainer},c.createElement(ca.a,{style:n.imageContainer},c.createElement(r,null)),c.createElement(ca.a,{style:n.textContainer},c.createElement(ss,{text:I.a.t("appName"),fontSize:32,textStyle:n.appName}),c.createElement($o.a,{style:n.subtitle},I.a.t("welcomeScreen.subtitle")))),"web"===T.a.OS&&c.createElement(ca.a,{style:n.mobileStoresContainer},c.createElement(hs,{store:"android",url:"https://play.google.com/store/apps/details?id=com.sea_eu.around",width:o}),c.createElement(hs,{store:"ios",url:"https://apps.apple.com/fr/app/sea-eu-around/id1543605955",width:o})),c.createElement(ca.a,{style:n.actionsContainer},c.createElement(Oa,{text:I.a.t("welcomeScreen.signIn"),onPress:function(){j("LoginRoot",{screen:"LoginScreens",params:{screen:"SigninScreen"}})},skin:"rounded-filled"}),c.createElement(Oa,{text:I.a.t("welcomeScreen.signUp"),onPress:function(){j("LoginRoot",{screen:"LoginScreens",params:{screen:"SignupScreen"}})},skin:"rounded-hollow"}))))}}]),n}(c.Component),ys=aa((function(e){return Xo.a.create({container:{flex:1,width:"85%",justifyContent:"space-between",alignItems:"center"},imageAndTextContainer:{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},imageContainer:{width:"100%",height:300},textContainer:{marginVertical:20},appName:{color:e.accent,fontFamily:"RalewayBold"},subtitle:{color:e.accent,fontFamily:"RalewaySemiBold",fontSize:16,textAlign:"center",alignSelf:"center",maxWidth:250,marginTop:10},mobileStoresContainer:{flexDirection:"row",marginVertical:20},actionsContainer:{width:"100%",marginBottom:30}})})),vs=Object(ia.j)(gs);function bs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Es=function(e){Yo()(n,e);var t=bs(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).webModalRef=c.createRef(),e.skipNextUpdate=!1,e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.webModalRef.current)||e.show()}},{key:"hide",value:function(){var e;null==(e=this.webModalRef.current)||e.hide()}},{key:"render",value:function(){var e=this,t=this.props,n=t.activator,r=t.renderContent,o=function(){return e.hide()};return c.createElement(qi,{ref:this.webModalRef,modalViewStyle:{paddingHorizontal:0,paddingVertical:0},renderContent:function(){return r(o)},activator:n})}}]),n}(c.Component),Ss=Object(ia.j)(Es);function Os(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Cs=function(e){Yo()(n,e);var t=Os(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){return c.createElement(va.a,this.props,this.props.children)}}]),n}(c.Component);function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ps(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ts=function(e){Yo()(n,e);var t=Ps(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).sheetRef=c.createRef(),e}return Rn()(n,[{key:"getPreset",value:function(e){var t=this.props.theme;switch(e){case"close":return{text:I.a.t("close"),containerStyle:{backgroundColor:t.cardBackground},textStyle:{color:t.text},noChevron:!0}}}},{key:"show",value:function(){var e;null==(e=this.sheetRef.current)||e.show()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.activator,o=t.title,a=t.actions,i=t.snapPoints,s=xs(n);return c.createElement(c.Fragment,null,c.createElement(Ss,{ref:this.sheetRef,activator:r,snapPoints:i||[0,55*(1+a.length)],renderContent:function(t){return c.createElement(c.Fragment,null,o&&c.createElement(ia.e,{bottomDivider:!0,style:s.listItemContainer},c.createElement(ia.e.Content,null,c.createElement(ia.e.Title,{style:s.titleItem},o))),a.map((function(n,r){var o=ws(ws({},n.preset?e.getPreset(n.preset):{}),n);return c.createElement(Cs,{key:"menu-action-"+r,onPress:function(){o.onSelect&&o.onSelect(),o.persistMenu||t()},style:s.listItemWrapper},c.createElement(ia.e,{containerStyle:[s.listItemContainer,o.containerStyle]},!o.noChevron&&c.createElement(ia.e.Chevron,null),o.icon&&o.icon([o.textStyle,{fontSize:26}]),c.createElement(ia.e.Content,null,c.createElement(ia.e.Title,{style:o.textStyle},o.text))))})))}}))}}]),n}(c.Component),xs=aa((function(){return Xo.a.create({listItemWrapper:{width:"100%",height:55},listItemContainer:{width:"100%",height:55},titleItem:{fontSize:26,color:oa.light.text}})})),Is=Object(ia.j)(Ts);function ks(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var js=function(e){Yo()(n,e);var t=ks(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props.theme;return c.createElement(Is,{title:"Debug Menu",actions:[{text:"Access MainScreen",onSelect:function(){return j("MainScreen")}},{text:"Access OnBoardingScreen",onSelect:function(){return Mo.dispatch(Je())}},{text:"Automatically create profile",onSelect:function(){return Mo.dispatch((function(e,t){var n,r,o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=Math.round(1e3*Math.random()),r="test"+n+".test@univ-brest.fr",o="PASSword$1",i.next=5,l.a.awrap(e(Ae(r,o)));case 5:if(!(a=t().auth.verificationToken)){i.next=13;break}return i.next=9,l.a.awrap(e(Ge(a)));case 9:return i.next=11,l.a.awrap(e(Ne(r,o)));case 11:return i.next=13,l.a.awrap(e(Ee({type:"staff",birthdate:"2002-11-12T07:21:22.110Z",firstName:"Kevin"+n,lastName:"Test",gender:"male",languages:[{code:"fr",level:"native"},{code:"en",level:"c1"}],nationality:"FR",interests:[{id:"baking"},{id:"art"},{id:"brunch"}],profileOffers:[{offerId:"provide-a-couch",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!1,allowStudent:!0},{offerId:"grab-a-drink",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!1,allowStudent:!0},{offerId:"answer-academic-questions",allowMale:!0,allowFemale:!0,allowOther:!0,allowStaff:!0,allowStudent:!0}],educationFields:[{id:"education-science"},{id:"music-performing-arts"}],staffRoles:[{id:"research"},{id:"teaching"}]})));case 13:case"end":return i.stop()}}),null,null,null,Promise)}))}},{preset:"close"}],activator:function(t){return c.createElement(va.a,{style:{position:"absolute",bottom:10,right:10,width:36,height:36,backgroundColor:e.error,borderRadius:20,justifyContent:"center",alignItems:"center"},onPress:t},c.createElement(d.a,{name:"gear",color:"white",style:{fontSize:26}}))}})}}]),n}(c.Component),_s=Object(ia.j)(js);var Ds=aa((function(e){return Xo.a.create({versionInfoContainer:{position:"absolute",flexDirection:"row",alignItems:"center",bottom:5,left:5},versionText:{color:e.textLight,fontSize:12},versionDisclaimerIcon:{color:e.error,fontSize:13}})})),As=Object(ia.j)((function(e){var t=e.theme,n=Ds(t);return c.createElement(ca.a,{style:n.versionInfoContainer},c.createElement($o.a,{style:n.versionText},v," "))})),Fs=Object(Va.a)(),Ms=Object(Va.a)(),Ls=function(){return c.createElement(Ms.Navigator,{swipeEnabled:!1,tabBar:function(){return c.createElement(c.Fragment,null)}},c.createElement(Ms.Screen,{name:"WelcomeScreen",component:vs,options:{title:F("WelcomeScreen")}}),c.createElement(Ms.Screen,{name:"LoginScreens"},(function(){return c.createElement(c.Fragment,null,c.createElement(Kc,null),c.createElement(Fs.Navigator,{tabBar:function(){return c.createElement(c.Fragment,null)},initialRouteName:"SigninScreen",swipeEnabled:!1},c.createElement(Fs.Screen,{name:"ForgotPasswordScreen",component:ts,options:{title:F("ForgotPasswordScreen")}}),c.createElement(Fs.Screen,{name:"SigninScreen",component:es,options:{title:F("SigninScreen")}}),c.createElement(Fs.Screen,{name:"SignupScreen",component:ns,options:{title:F("SignupScreen")}})),c.createElement(As,null),S&&c.createElement(_s,null))})))},Bs=n(752),Ns=n(241);function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Vs={sideMargin:15,borderRadius:10,verticalSpacing:8,minHeight:150},zs=function(e){Yo()(n,e);var t=Hs(n);function n(e){var r;On()(this,n),(r=t.call(this,e)).swipeableRef=c.createRef(),r.hideTimeout=null;var o=Gs(Gs({},Vs),e.looks).minHeight;return r.state={minHeight:new jc.c.Value(o),right:new jc.c.Value(0),hidden:!1},r}return Rn()(n,[{key:"componentWillUnmount",value:function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}},{key:"hide",value:function(){this.setState(Gs(Gs({},this.state),{},{hidden:!0})),this.props.onHidden&&this.props.onHidden()}},{key:"collapse",value:function(e,t){var n=this;jc.c.timing(this.state.right,{toValue:(t?-1:1)*ea.a.get("window").width*1.5,duration:200,easing:jc.a.ease}).start(),this.hideTimeout=setTimeout((function(){e&&e(),n.hide(),n.hideTimeout=null}),200)}},{key:"resetSwipe",value:function(){var e;null==(e=this.swipeableRef.current)||e.close()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.children,o=t.leftActions,a=t.rightActions,i=t.wrapperStyle,s=t.style,u=t.looks,l=t.onPress,f=t.wrapperProps,p=t.containerStyle,d=t.touchableStyle,h=Ya()(t,["theme","children","leftActions","rightActions","wrapperStyle","style","looks","onPress","wrapperProps","containerStyle","touchableStyle"]),m=this.state,g=m.minHeight,y=m.right,v=m.hidden,b=Js(n),E=Gs(Gs({},Vs),u),S=E.borderRadius,O=E.sideMargin,C=E.verticalSpacing,R=function(t){t?e.hide():e.collapse()},w=c.createElement(Ns.a,$t()({ref:this.swipeableRef,containerStyle:[b.swipeableContainer,p,{paddingHorizontal:O,paddingVertical:C}],childrenContainerStyle:[b.swipeable,{borderRadius:S},s],useNativeAnimations:"web"!==T.a.OS,friction:1,renderLeftActions:o?function(){return o(R)}:h.renderLeftActions,renderRightActions:a?function(){return a(R)}:h.renderRightActions},h),c.createElement(va.a,$t()({activeOpacity:.75,style:[b.touchable,d]},l?{onPress:l}:{}),r));return"web"===T.a.OS?c.createElement(ca.a,$t()({style:[b.wrapper,i,{flexBasis:g[" __value"],right:y[" __value"]},v?{display:"none"}:{}]},f),w):c.createElement(jc.c.View,$t()({style:[b.wrapper,i,{flexBasis:g,right:y},v?{display:"none"}:{}]},f),w)}}]),n}(c.Component),Ws=function(e,t){return"left"===e?{borderTopLeftRadius:t,borderBottomLeftRadius:t}:{borderTopRightRadius:t,borderBottomRightRadius:t}},qs=Object(ia.j)((function(e){var t=e.icon,n=e.text,r=e.backgroundColor,o=e.onPress,a=e.style,i=e.theme,s=Qs(i),u=e.color||oa.dark.text;return c.createElement(va.a,{onPress:o,style:[s.swipeActionButton,{backgroundColor:r},a]},t&&c.createElement(Pi.a,{style:[s.swipeActionButtonIcon,{color:u}],name:t}),n&&c.createElement($o.a,{style:[s.swipeActionButtonText,{color:u}]},n))})),Ys=Object(ia.j)((function(e){var t=e.id,n=e.actions,r=e.side,o=e.looks,a=e.buttonStyle,i=Gs(Gs({},Vs),o).borderRadius;return c.createElement(Ks,{side:r,looks:o,contentStyle:{aspectRatio:n.length}},n.map((function(e,o){var s=0===o,u=o===n.length-1,l=s&&"left"===r||u&&"right"===r,f=s&&"right"===r||u&&"left"===r,p=e.backgroundColor,d=f?c.createElement(ca.a,{style:Gs(Gs({width:i,height:"100%",position:"absolute",top:0},"left"===r?{right:-i}:{left:-i}),{},{backgroundColor:p})}):void 0;return c.createElement(c.Fragment,{key:"swipe-actions-"+t+"-"+r+"-"+o},f&&d,c.createElement(qs,$t()({style:[l?Ws(r,i):{},a]},e)))})))})),Ks=Object(ia.j)((function(e){var t=e.side,n=e.looks,r=e.fullCardWidth,o=e.contentStyle,a=e.theme,i=Qs(a),s=Gs(Gs({},Vs),n),u=s.borderRadius,l=s.sideMargin,f=s.verticalSpacing;return c.createElement(ca.a,{style:[i.swipeActionsContainer,{paddingVertical:f},"left"===t?{marginLeft:l,marginRight:-l,justifyContent:"flex-start"}:{marginLeft:-l,marginRight:l,justifyContent:"flex-end"},r?Gs({width:"100%",marginHorizontal:l},"left"===t?{paddingRight:2*l}:{paddingLeft:2*l}):{}]},c.createElement(ca.a,{style:[i.swipeActionsContent,r?{borderRadius:u}:Ws(t,u),o]},e.children))})),Js=aa((function(e){return Xo.a.create({wrapper:{width:"100%",overflow:"hidden"},swipeableContainer:{width:"100%"},swipeable:{width:"100%",overflow:"hidden",backgroundColor:e.cardBackground},touchable:{width:"100%",height:"100%",overflow:"hidden"}})})),Qs=aa((function(){return Xo.a.create({swipeActionsContainer:{height:"100%"},swipeActionsContent:{justifyContent:"flex-start",flexDirection:"row",height:"100%"},swipeActionButton:{justifyContent:"center",alignItems:"center",aspectRatio:1},swipeActionButtonIcon:{fontSize:22},swipeActionButtonText:{fontSize:16,textAlign:"center"},swipeActionText:Gs({fontSize:24,letterSpacing:2},pa)})})),Zs=Object(ia.j)(zs),Xs=aa((function(e){return Xo.a.create({overlay:{width:"90%",maxHeight:"70%",overflow:"hidden",paddingHorizontal:0,paddingVertical:0},dropdownWrapper:{width:"100%",flex:1},dropdownStyle:{backgroundColor:"#fafafa",height:"100%"},dropdownItemStyle:{justifyContent:"flex-start"},dropdownActiveItemStyle:{},dropdownActiveLabelStyle:{color:e.accentSecondary},dropdownLabelStyle:{fontSize:16},okButton:{width:"100%",height:50,alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:e.accent},okButtonText:{fontSize:20,color:oa.dark.text},chipContainer:{marginTop:10}})}));function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"classic",t=arguments.length>1?arguments[1]:void 0;return"onboarding"===e?{button:{width:"100%",height:48,alignItems:"flex-start",justifyContent:"center",paddingHorizontal:20,borderRadius:12,backgroundColor:t.onboardingInputBackground},text:{fontSize:14,color:t.text},textNoneSelected:{color:t.textLight}}:{button:{width:"100%",alignItems:"center",justifyContent:"center",paddingHorizontal:20,height:40,borderWidth:1,borderRadius:2,backgroundColor:t.background,borderColor:t.componentBorder},text:{fontSize:14,color:t.text},textNoneSelected:{}}}function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ru,ou=function(e){Yo()(n,e);var t=nu(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).modalRef=c.createRef(),r.state={valueDict:{}},r}return Rn()(n,[{key:"fromSelectedProp",value:function(){var e={};this.props.selected.forEach((function(t){return e[t]=!0})),this.setState(tu(tu({},this.state),{},{valueDict:e}))}},{key:"show",value:function(){var e;this.fromSelectedProp(),null==(e=this.modalRef.current)||e.show()}},{key:"hide",value:function(e){var t;null==(t=this.modalRef.current)||t.hide(),e?this.apply():this.fromSelectedProp()}},{key:"toggleValue",value:function(e){var t=this,n=this.state.valueDict,r=!n[e];this.props.multiple?this.setState(tu(tu({},this.state),{},{valueDict:tu(tu({},n),{},p()({},e,r))})):this.setState(tu(tu({},this.state),{},{valueDict:p()({},e,r)}),(function(){r&&t.hide(!0)}))}},{key:"apply",value:function(){var e=this.props.onSelect,t=this.state.valueDict;e&&e(Object.keys(t).filter((function(e){return t[e]})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.values,r=t.selected,o=t.label,a=t.icon,i=t.multiple,s=t.atLeastOne,u=t.noOkUnderline,l=t.placeholder,f=t.buttonStyle,p=t.valueStyle,d=t.buttonStyleVariant,h=t.activator,m=t.theme,g=this.state.valueDict,y=au(m),v=Xs(m),b=$s(d,m),E=this.props.TouchableComponent||va.a;return c.createElement(c.Fragment,null,void 0!==h&&h((function(){return e.show()})),!h&&c.createElement(E,{style:[b.button,r.length>0&&!u?y.buttonOk:{},f],onPress:function(){return e.show()}},0===r.length&&c.createElement($o.a,{style:[b.text,b.textNoneSelected,p],numberOfLines:2},l),r.length>0&&c.createElement($o.a,{style:[b.text,p],numberOfLines:2},r.map(o).join(", "))),c.createElement(qi,{ref:this.modalRef,modalViewStyle:{width:"100%",paddingHorizontal:0,paddingVertical:0},renderContent:function(){return c.createElement(c.Fragment,null,c.createElement(yc.a,{style:y.scroll,contentContainerStyle:y.scrollContent},n.map((function(t,n){return c.createElement(va.a,{key:"popup-selector-row-"+t,style:y.rowContainer,onPress:function(){return e.toggleValue(t)},activeOpacity:.5},a&&a(t,n),c.createElement($o.a,{style:y.label},o(t,n)),c.createElement(ia.d,$t()({checked:g[t],containerStyle:y.checkboxContainer,wrapperStyle:y.checkboxWrapper,onPress:function(){return e.toggleValue(t)},size:26},i?{}:{checkedIcon:"check-circle",uncheckedIcon:"circle-o"})))}))),i&&(!s||Object.values(g).some((function(e){return!0===e})))&&c.createElement(va.a,{onPress:function(){return e.hide(!0)},style:[v.okButton,{width:"100%"}]},c.createElement($o.a,{style:v.okButtonText},I.a.t("ok"))))}}))}}]),n}(c.Component),au=aa((function(e){return Xo.a.create({button:{height:40,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",justifyContent:"center",alignItems:"flex-end"},buttonOk:{borderBottomWidth:2,borderBottomColor:e.okay},scroll:{width:"100%"},scrollContent:{paddingHorizontal:15,paddingVertical:10},rowContainer:{flexDirection:"row",width:"100%",paddingVertical:2,flex:1,alignItems:"center",justifyContent:"space-between"},label:{color:e.text,fontSize:16,flexGrow:1},checkboxContainer:{padding:0,marginRight:0},checkboxWrapper:{padding:0}})})),iu=Object(ia.j)(ou);!function(e){e.VIOLENCE="violence",e.NUDITY="nudity",e.HARASSMENT="harassment",e.UNDESIRABLE_CONTENT="undesirable-content",e.HATE_SPEECH="hate-speech",e.VULGAR_CONTENT="vulgar-content",e.OTHER="other"}(ru||(ru={}));var cu,su,uu=[ru.VIOLENCE,ru.NUDITY,ru.HARASSMENT,ru.UNDESIRABLE_CONTENT,ru.HATE_SPEECH,ru.VULGAR_CONTENT,ru.OTHER];!function(e){e.PROFILE_ENTITY="ProfileEntity",e.POST_ENTITY="PostEntity",e.COMMENT_ENTITY="CommentEntity",e.GROUP_ENTITY="GroupEntity"}(cu||(cu={})),function(e){e.REPORT_ENTITY_SUCCESS="REPORTS/REPORT_ENTITY_SUCCESS",e.REPORT_ENTITY_FAILURE="REPORTS/REPORT_ENTITY_FAILURE"}(su||(su={}));var lu=function(e,t,n){return{type:su.REPORT_ENTITY_SUCCESS,reportType:e,entityType:t,entityId:n}},fu=function(e,t,n){return{type:su.REPORT_ENTITY_FAILURE,reportType:e,entityType:t,entityId:n}},pu=function(e,t,n){return function(r,o){var a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=o().auth.token,i.next=3,l.a.awrap(W("reports","POST",{},{type:e,entityType:t,entityId:n},a));case 3:if(i.sent.status!==U.OK){i.next=9;break}return r(lu(e,t,n)),i.abrupt("return",!0);case 9:return r(fu(e,t,n)),i.abrupt("return",!1);case 11:case"end":return i.stop()}}),null,null,null,Promise)}};function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var gu=function(e){Yo()(n,e);var t=mu(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).sheetRef=s.a.createRef(),r.state={confirmationOpen:!1,failureOpen:!1,submitting:!1},r}return Rn()(n,[{key:"open",value:function(){var e;null==(e=this.sheetRef.current)||e.show()}},{key:"close",value:function(){var e;null==(e=this.sheetRef.current)||e.hide()}},{key:"submit",value:function(){var e=this,t=this.props.submit;this.setState(hu(hu({},this.state),{},{submitting:!0})),t().then((function(t){t?e.setState(hu(hu({},e.state),{},{submitting:!1,confirmationOpen:!0,failureOpen:!1})):e.setState(hu(hu({},e.state),{},{submitting:!1,confirmationOpen:!1,failureOpen:!0})),e.close()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.activator,r=t.hideSubmit,o=t.title,a=t.titleIcon,i=t.submitText,c=t.confirmationTitle,u=t.confirmationText,l=t.failureTitle,f=t.failureText,p=t.theme,d=t.sheetHeight,h=t.children,m=this.state,g=m.confirmationOpen,y=m.failureOpen,v=m.submitting,b=yu(p);return s.a.createElement(s.a.Fragment,null,n&&n((function(){return e.open()})),s.a.createElement(Ss,{ref:this.sheetRef,snapPoints:[0,void 0===d?300:d],renderContent:function(t){return s.a.createElement(ca.a,{style:b.wrapperSheet},s.a.createElement(ca.a,{style:b.containerSheet},(o||a)&&s.a.createElement(ca.a,{style:b.titleContainer},a&&s.a.createElement(a.component,{name:a.name,style:[b.title,b.titleIcon]}),o&&s.a.createElement($o.a,{style:b.title},o)),h,!r&&s.a.createElement(wi,{text:i,submitting:v,onPress:function(){return e.submit()},skin:"rounded-filled",style:b.actionButton,textStyle:b.actionButtonText,TouchableComponent:Cs}),s.a.createElement(Oa,{text:I.a.t("cancel"),onPress:t,skin:"rounded-hollow",style:b.actionButton,textStyle:b.actionButtonText,TouchableComponent:Cs})))}}),s.a.createElement(qi,{visible:g,onHide:function(){return e.setState(hu(hu({},e.state),{},{confirmationOpen:!1}))},modalViewStyle:b.feedbackModal,renderContent:function(){return s.a.createElement(ca.a,{style:b.containerModal},s.a.createElement($o.a,{style:b.feedbackTitle},c),s.a.createElement($o.a,{style:b.feedbackText},u),s.a.createElement(Oa,{text:I.a.t("ok"),onPress:function(){return e.setState(hu(hu({},e.state),{},{confirmationOpen:!1}))},skin:"rounded-hollow",style:b.actionButton,textStyle:b.actionButtonText}))}}),s.a.createElement(qi,{visible:y,onHide:function(){return e.setState(hu(hu({},e.state),{},{failureOpen:!1}))},modalViewStyle:b.feedbackModal,renderContent:function(){return s.a.createElement(ca.a,{style:b.containerModal},s.a.createElement($o.a,{style:b.feedbackTitle},l),s.a.createElement($o.a,{style:b.feedbackText},f),s.a.createElement(Oa,{text:I.a.t("ok"),onPress:function(){return e.setState(hu(hu({},e.state),{},{failureOpen:!1}))},skin:"rounded-hollow",style:b.actionButton,textStyle:b.actionButtonText}))}}))}}]),n}(s.a.Component),yu=aa((function(e){return Xo.a.create({wrapperSheet:{width:"100%",alignItems:"center",padding:"web"===T.a.OS?20:0},containerSheet:{width:"90%"},containerModal:{width:"100%"},titleContainer:{flexDirection:"row",marginBottom:20,alignItems:"center",justifyContent:"center"},titleIcon:{marginRight:5},title:{fontSize:22,color:e.text},actionButton:{height:44,marginVertical:0,marginTop:15},actionButtonText:{fontSize:16},feedbackModal:{paddingVertical:15,paddingHorizontal:20},feedbackTitle:{fontSize:20,color:e.text,marginBottom:15},feedbackText:{fontSize:15,textAlign:"justify",color:e.text}})})),vu=Object(ia.j)(gu);function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Su(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ou=function(e){Yo()(n,e);var t=Su(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).quickFormRef=s.a.createRef(),r.state={selectedType:null},r}return Rn()(n,[{key:"getEntityInfo",value:function(){var e=this.props,t=e.entityType,n=e.entity;if(!n)return null;switch(t){case cu.PROFILE_ENTITY:if(n._id){var r=n;return{name:r.name,id:r._id}}var o=n;return{name:o.firstName+" "+o.lastName,id:o.id};case cu.POST_ENTITY:var a=n,i=a.creator,c=i.firstName,s=i.lastName;return{name:I.a.t("report.postFrom",{name:c+" "+s}),id:a.id};case cu.COMMENT_ENTITY:var u=n,l=u.creator,f=l.firstName,p=l.lastName;return{name:I.a.t("report.commentFrom",{name:f+" "+p}),id:u.id};case cu.GROUP_ENTITY:var d=n;return{name:I.a.t("report.group",{name:d.name}),id:d.id};default:return null}}},{key:"open",value:function(){var e;null==(e=this.quickFormRef.current)||e.open()}},{key:"close",value:function(){var e;null==(e=this.quickFormRef.current)||e.close()}},{key:"submit",value:function(){var e,t,n,r,o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.props,t=e.entityType,n=e.onSubmit,r=this.state.selectedType,o=this.getEntityInfo(),a=!1,!r||!o){i.next=8;break}return i.next=7,l.a.awrap(Mo.dispatch(pu(r,t,o.id)));case 7:a=i.sent;case 8:return n&&n(a),i.abrupt("return",a);case 10:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.props,n=t.activator,r=t.theme,o=this.state.selectedType,a=Cu(r),i=this.getEntityInfo();return s.a.createElement(s.a.Fragment,null,s.a.createElement(vu,{activator:n,ref:this.quickFormRef,submit:function(){return e.submit()},titleIcon:{component:Pi.a,name:"report"},title:I.a.t("report.title"),submitText:I.a.t("report.send"),confirmationTitle:I.a.t("report.confirmationTitle"),confirmationText:I.a.t("report.confirmation"),failureTitle:I.a.t("report.failureTitle"),failureText:I.a.t("report.failure"),hideSubmit:!o,sheetHeight:330},s.a.createElement(ca.a,{style:a.inputItem},s.a.createElement(Xa,null,I.a.t("report.what")),s.a.createElement($o.a,{style:a.what},i?i.name:"unknown")),s.a.createElement(ca.a,{style:a.inputItem},s.a.createElement(Xa,null,I.a.t("report.why")),s.a.createElement(iu,{values:uu,label:function(e){return I.a.t("report.types."+e)},placeholder:I.a.t("report.typePlaceholder"),selected:o?[o]:[],valueStyle:a.selectorValue,onSelect:function(t){t.length>0&&e.setState(Eu(Eu({},e.state),{},{selectedType:t[0]}))},buttonStyleVariant:"onboarding",TouchableComponent:Cs}))))}}]),n}(s.a.Component),Cu=aa((function(e){return Xo.a.create({inputItem:{marginBottom:20},what:{fontSize:16,color:e.text,textAlign:"right"},selectorValue:{fontSize:16}})})),Ru=Object(ia.j)(Ou);function wu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Pu=function(e){Yo()(n,e);var t=wu(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.name,r=e.source,o=e.loading,a=Ya()(e,["children","name","source","loading"]);return c.createElement(ia.a,$t()({},a,{title:n,source:r}),t,o&&c.createElement(ca.a,{style:{position:"absolute",left:"50%",top:"50%"}},c.createElement(Ia.a,{size:40,color:"white",style:{right:20,bottom:20}})))}}]),n}(c.Component);function Tu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var xu=function(e){Yo()(n,e);var t=Tu(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.user,r=Ya()(e,["children","user"]),o=void 0;if(n){var a=n.name.split(" ");o=a[0][0],a.length>0&&(o+=a[1][0]),o=o.toUpperCase()}var i=n&&n.avatar.length>0?{source:{uri:n.avatar}}:{};return c.createElement(Pu,$t()({},r,{name:o},i),t)}}]),n}(c.Component);function Iu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ku=Object(ka.b)((function(e){return{localChatUser:e.messaging.localChatUser}})),ju={sideMargin:15,verticalSpacing:5,borderRadius:10,minHeight:75},_u=function(e){Yo()(n,e);var t=Iu(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).reportFormRef=c.createRef(),e.swipeableCardRef=c.createRef(),e}return Rn()(n,[{key:"getActions",value:function(e){var t=this;return[{icon:"report",backgroundColor:this.props.theme.error,onPress:function(){var e;return null==(e=t.reportFormRef.current)?void 0:e.open()}}]}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.room,o=t.onPress,a=t.localChatUser,i=Du(n),s=r.users.find((function(e){return e._id===(null==a?void 0:a._id)})),u=r.users.filter((function(e){return e._id!==(null==a?void 0:a._id)}))[0],l=c.createElement(c.Fragment,null);if(r.lastMessage){var f=r.lastMessage.createdAt,p=s&&r.lastMessage.user._id===s._id||s&&s.lastMessageSeenDate&&(s.lastMessageSeenDate>=f||s.lastMessageSeenId==r.lastMessage._id),d=function(e){return(e+"").padStart(2,"0")};l=c.createElement(c.Fragment,null,c.createElement($o.a,{style:[i.lastMessageText,p?{}:i.lastMessageTextNew],numberOfLines:1},r.lastMessage.user.name.split(" ")[0],": ",r.lastMessage.text),c.createElement($o.a,{style:i.lastMessageTime},d(f.getHours()),":",d(f.getMinutes())))}else l=c.createElement($o.a,{style:i.noMessageText,numberOfLines:1},2===r.users.length?I.a.t("messaging.sayHiTo",{name:u.name}):I.a.t("sayHi"));return c.createElement(Zs,{ref:this.swipeableCardRef,looks:ju,rightThreshold:100,overshootRight:!1,rightActions:function(t){return c.createElement(Ys,{id:"room-"+r.id,looks:ju,side:"right",actions:e.getActions(t)})},onPress:function(){o&&o(),L(r.id)}},c.createElement(ca.a,{style:i.cardContent},c.createElement(xu,{containerStyle:i.avatarContainer,user:u,size:45,rounded:!0}),c.createElement(ca.a,{style:i.infoContainer},c.createElement($o.a,{style:i.name},u.name),c.createElement(ca.a,{style:i.lastMessage},l))),c.createElement(Ru,{ref:this.reportFormRef,entityType:cu.PROFILE_ENTITY,entity:u,onSubmit:function(){var t;return null==(t=e.swipeableCardRef.current)?void 0:t.resetSwipe()}}))}}]),n}(c.Component),Du=aa((function(e){return Xo.a.create({cardContent:{flexDirection:"row",padding:10},avatarContainer:{backgroundColor:e.accentSecondary},infoContainer:{flex:1,flexDirection:"column",justifyContent:"center",paddingLeft:10},name:{fontSize:18,letterSpacing:.5,color:e.text},lastMessage:{flexDirection:"row",justifyContent:"space-between",overflow:"hidden"},noMessageText:{color:e.textLight,fontSize:14,flex:1},lastMessageText:{color:e.text,fontSize:14,flex:1},lastMessageTextNew:{fontWeight:"bold"},lastMessageTime:{color:e.textLight,fontSize:14}})})),Au=ku(Object(ia.j)(_u)),Fu=n(134);function Mu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Lu=Object(ka.b)((function(e){return{locale:e.settings.userSettings.locale}}))(function(e){Yo()(n,e);var t=Mu(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.locale,r=t.onLocaleChange;e.locale!==n&&r&&r(n)}},{key:"render",value:function(){var e=this.props.children;return s.a.createElement(s.a.Fragment,null,e)}}]),n}(s.a.Component));function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Gu=function(e){Yo()(n,e);var t=Uu(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).scrollViewRef=c.createRef(),r.scrollListenerEnabled=!1,r.state={hiddenIds:{}},r}return Rn()(n,[{key:"fetchMore",value:function(){var e=this.props,t=e.fetching,n=e.canFetchMore,r=e.fetchMore,o=e.navigation;!t&&n&&o.isFocused()&&r()}},{key:"getShownItems",value:function(){var e=this,t=this.props,n=t.items,r=t.id;return n.filter((function(t){return!e.state.hiddenIds[r(t)]}))}},{key:"hideItem",value:function(e){var t=this.props,n=t.fetchLimit,r=t.canFetchMore,o=t.id;this.setState(Nu(Nu({},this.state),{},{hiddenIds:Nu(Nu({},this.state.hiddenIds),{},p()({},o(e),!0))})),this.getShownItems().length<n&&r&&this.fetchMore()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.navigation;t.addListener("focus",(function(){return e.onFocus()})),t.addListener("blur",(function(){return e.onBlur()})),this.onFocus()}},{key:"onFocus",value:function(){var e=this;this.scrollListenerEnabled=!0;var t=this.props,n=t.items,r=t.fetchLimit,o=t.fetching,a=t.refreshOnFocus,i=t.currentPage,c=t.refresh,s=t.id,u=n.filter((function(t){return!e.state.hiddenIds[s(t)]})).length;a?1===i?this.fetchMore():c():u<r&&!o&&this.fetchMore()}},{key:"onBlur",value:function(){this.scrollListenerEnabled=!1}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.fetchLimit,o=n.currentPage,a=n.navigation,i=e.currentPage>1&&1===o;if(a.isFocused()){var c=function(){return t.getShownItems().length<r&&t.fetchMore()};i?this.setState(Nu(Nu({},this.state),{},{hiddenIds:{}}),c):c()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.fetching,o=t.canFetchMore,a=t.currentPage,i=t.refresh,s=t.renderItem,u=t.noResultsComponent,l=t.endOfItemsComponent,f=t.itemsContainerStyle,p=t.progressViewOffset,d=t.horizontal,h=t.hideScrollIndicator,m=t.top,g=t.keyboardShouldPersistTaps,y=t.onScroll;return c.createElement(c.Fragment,null,c.createElement(ia.g,null,(function(t){var v=t.theme,b=Hu(v);return c.createElement(yc.a,$t()({ref:e.scrollViewRef,style:b.scroller,refreshControl:c.createElement(Fu.a,{progressViewOffset:p,refreshing:r,onRefresh:function(){r||i()}}),onScroll:function(t){if(e.scrollListenerEnabled){var n=t.nativeEvent,r=n.layoutMeasurement,o=n.contentOffset,a=n.contentSize,i=d?o.x:o.y,c=d?a.width-o.x-r.width:a.height-o.y-r.height;c<150&&e.fetchMore(),y&&y(i,c)}},horizontal:d,contentContainerStyle:d&&0==n.length&&{width:"100%"},keyboardShouldPersistTaps:g},d&&{showsHorizontalScrollIndicator:!h},!d&&{showsVerticalScrollIndicator:!h}),m,c.createElement(ca.a,{style:[{flexDirection:d?"row":"column"},d&&{width:"100%"},f]},e.getShownItems().map((function(t){return s(t,(function(){return e.hideItem(t)}))})),!r&&n.length>0&&!o&&c.createElement(ca.a,{style:b.endOfItemsContainer},l),!r&&0==n.length&&c.createElement(ca.a,{style:b.noResultsContainer},u),c.createElement(ca.a,{style:b.loadingIndicatorContainer},r&&a>1&&n.length>0&&c.createElement(Ia.a,{size:"large",color:v.accentSecondary}))))})),c.createElement(Lu,{onLocaleChange:function(){return e.props.refresh()}}))}}]),n}(c.Component),Hu=aa((function(){return Xo.a.create({scroller:{width:"100%"},loadingIndicatorContainer:{marginTop:10,marginBottom:20,height:50},noResultsContainer:{flex:1,alignItems:"center",marginTop:15},endOfItemsContainer:{marginTop:15,alignItems:"center"}})}));function Vu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var zu=Object(ka.b)((function(e){return{rooms:e.messaging.matchRooms,roomIds:e.messaging.matchRoomsOrdered,fetchingRooms:e.messaging.matchRoomsPagination.fetching,canFetchMore:e.messaging.matchRoomsPagination.canFetchMore,currentPage:e.messaging.matchRoomsPagination.page}})),Wu=function(e){Yo()(n,e);var t=Vu(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"fetchMore",value:function(){this.props.dispatch(Fn())}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rooms,o=t.roomIds,a=t.fetchingRooms,i=t.canFetchMore,s=t.currentPage,u=t.navigation,f=t.dispatch,p=qu(n);return c.createElement(fa,null,c.createElement(Gu,{navigation:u,fetchLimit:10,fetchMore:function(){return e.fetchMore()},fetching:a,canFetchMore:i,currentPage:s,refreshOnFocus:!0,refresh:function(){return f((function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Fn(e,!0));case 1:case"end":return n.stop()}}),null,null,null,Promise)}));var e},items:o,id:function(e){return e},noResultsComponent:c.createElement($o.a,{style:p.noMatchesText},I.a.t("messaging.noMatches")),renderItem:function(e){return c.createElement(Au,{key:"chat-room-card-"+e,room:r[e]})},itemsContainerStyle:p.itemsContainer}))}}]),n}(c.Component),qu=aa((function(e){return Xo.a.create({noMatchesText:{color:e.text,letterSpacing:.5,fontSize:18,lineHeight:24,textAlign:"center",paddingHorizontal:50},itemsContainer:{width:"100%",maxWidth:600,alignSelf:"center"}})})),Yu=zu(Object(ia.j)(Wu));function Ku(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ju=function(e){Yo()(n,e);var t=Ku(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.profile,r=e.loading,o=Ya()(e,["children","profile","loading"]),a=n?(n.firstName[0]+n.lastName[0]).toUpperCase():void 0,i=n&&n.avatarUrl?{source:{uri:n.avatarUrl}}:{};return c.createElement(Pu,$t()({},o,{name:a},i,{loading:r}),t)}}]),n}(c.Component),Qu=aa((function(e){return Xo.a.create({wrapper:{backgroundColor:e.background,flexDirection:"row",alignItems:"center",paddingHorizontal:15,height:90,paddingBottom:5},wrapperBlur:{backgroundColor:"transparent",position:"absolute",top:0,left:0,right:0},wrapperNoShadow:{shadowColor:"transparent",elevation:0},backButton:{width:40,height:40,marginRight:5,justifyContent:"center",alignItems:"center"},backButtonIcon:{fontSize:28},avatarContainer:{backgroundColor:e.accentSecondary,borderWidth:1,borderColor:e.componentBorder},avatarTitle:{color:oa.dark.text},titleContainer:{flex:1},title:{color:e.text,fontWeight:"600",fontSize:20},rightButton:{width:36,height:36,justifyContent:"center",alignItems:"center",borderRadius:50,marginLeft:8},rightIcon:{fontSize:22}})}));function Zu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Xu=Object(ka.b)((function(e){return{user:e.profile.user}})),$u=function(e){Yo()(n,e);var t=Zu(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"back",value:function(){!function(e){var t=k.current;t&&(t.canGoBack()?t.goBack():e(t))}(this.props.navigateBackFallback||function(e){return e.navigate("MainScreen")})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.theme,o=n.insets,a=n.user,i=n.rightButtons,s=n.backButton,u=n.noAvatar,l=n.noShadow,f=n.noSettingsButton,p=n.blur,d=n.overrideAvatar,h=n.overrideTitle,m=n.onPressTitle,g=n.wrapperStyle,y=n.titleContainerStyle,v=n.titleStyle,b=n.color,E=Qu(r),S=(this.props.route||(null==(e=this.props.scene)?void 0:e.route)||{name:"undef"}).name,O=M(S),C=b||r.text,R=this.props.buttonBackgroundColor||r.cardBackground,w=p?xi.a:ca.a,P=p?{tint:"dark"===r.id?"dark":"default",intensity:ma}:{};return c.createElement(w,$t()({style:[{paddingTop:o.top},E.wrapper,p?E.wrapperBlur:{},l?E.wrapperNoShadow:{},g]},P),s&&c.createElement(va.a,{style:E.backButton,onPress:function(){return t.back()}},c.createElement(Pi.a,{style:[E.backButtonIcon,{color:C}],name:"arrow-back"})),!u&&(d||c.createElement(Ju,{profile:null==a?void 0:a.profile,rounded:!0,size:40,containerStyle:E.avatarContainer,titleStyle:E.avatarTitle,activeOpacity:.75,onPress:function(){return j("MyProfileScreen")}})),c.createElement(va.a,{style:[E.titleContainer,{marginLeft:12},y],onPress:m},c.createElement($o.a,{style:[E.title,{color:C},v],numberOfLines:1},void 0===h?O:h)),null==i?void 0:i.map((function(e,t){return c.createElement(e,{key:"header-button-"+S.toLowerCase()+"-"+t,buttonStyle:[E.rightButton,{backgroundColor:R}],iconStyle:[E.rightIcon,{color:C}]})})),!f&&c.createElement(va.a,{style:[E.rightButton,{backgroundColor:R}],onPress:function(){return j("SettingsScreen")}},c.createElement(Pi.a,{name:"settings",style:E.rightIcon,color:C})))}}]),n}(c.Component),el=Xu(Object(ia.j)($u));function tl(e){var t=Object(Uc.e)();return c.createElement(el,$t()({insets:t},e))}function nl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var rl=Object(ka.b)((function(e){var t,n;return{rooms:Mo.getState().messaging.matchRooms,activeRoomId:Mo.getState().messaging.activeRoomId,profileId:null==(t=e.profile.user)||null==(n=t.profile)?void 0:n.id}})),ol=function(e){Yo()(n,e);var t=nl(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"getRoomId",value:function(){return D(this.props.route).roomId||null}},{key:"getRoom",value:function(){var e=this.props,t=e.rooms,n=e.activeRoomId||this.getRoomId();return n?t[n]:null}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.profileId,r=Ya()(e,["theme","profileId"]),o=al(t),a=Qu(t),i=this.getRoom();if(i){var s=i.users.filter((function(e){return e._id!=n}))[0];return c.createElement(tl,$t()({},r,{route:r.route,backButton:!0,blur:!0,overrideAvatar:c.createElement(xu,{containerStyle:a.avatarContainer,user:s,rounded:!0,onPress:function(){return N(s._id,Mo.getState())}}),overrideTitle:s.name,titleStyle:o.name,onPressTitle:function(){return N(s._id,Mo.getState())},navigateBackFallback:function(e){return e.navigate("MainScreen",{screen:"TabMessaging",params:{screen:"ChatRoomsScreen"}})}}))}return c.createElement(c.Fragment,null)}}]),n}(c.Component),al=aa((function(){return Xo.a.create({name:{fontSize:18,fontWeight:"600"}})})),il=rl(Object(ia.j)(ol));function cl(e){return c.createElement(il,e)}var sl=n(280),ul=n(128),ll=n(89),fl=n(281);function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ml=Object(ka.b)((function(e){return{rooms:e.messaging.matchRooms,activeRoomId:e.messaging.activeRoomId,localChatUser:e.messaging.localChatUser,connected:e.messaging.socketState.connected,connecting:e.messaging.socketState.connecting,fetchingNewMessages:e.messaging.fetchingNewMessages}})),gl=function(e){Yo()(n,e);var t=hl(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).ref=c.createRef(),e.listRef=null,e.removeScrollListener=rt.noop,e.unsubscribeBlurEvent=null,e.unsubscribeFocusEvent=null,e}return Rn()(n,[{key:"getRoomId",value:function(){return D(this.props.route).roomId||null}},{key:"getRoom",value:function(){var e=this.props,t=e.rooms,n=e.activeRoomId||this.getRoomId();return n&&t[n]||null}},{key:"connectToRoom",value:function(){var e=this.props.rooms,t=this.props.dispatch,n=function(e){return t(function(e){return function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:jn.isConnected()?(t(Bn(e)),jn.joinRoom(e),t(Un(e))):t(Nn(e));case 1:case"end":return n.stop()}}),null,null,null,Promise)}}(e))},r=this.getRoomId();if(r){var o=e[r];o?n(o):t(function(e){return function(t,n){var r,o,a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n().auth.token,c.next=3,l.a.awrap(W("rooms/"+e,"GET",{},{},r));case 3:if((o=c.sent).status!==U.OK){c.next=11;break}return a=o.data,i=oe(a),t(Xn(i)),c.abrupt("return",i);case 11:return c.abrupt("return",null);case 12:case"end":return c.stop()}}),null,null,null,Promise)}}(r)).then((function(e){return e&&n(e)}))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.navigation;this.unsubscribeBlurEvent=t.addListener("blur",(function(){return e.onBlur()})),this.unsubscribeFocusEvent=t.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"componentWillUnmount",value:function(){this.unsubscribeBlurEvent&&this.unsubscribeBlurEvent(),this.unsubscribeFocusEvent&&this.unsubscribeFocusEvent()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activeRoomId,r=t.connected;!e.connected&&r&&this.connectToRoom(),!e.activeRoomId&&n&&this.ensureLatestMessages()}},{key:"onBlur",value:function(){var e=this.props.dispatch,t=this.getRoom();t&&e(function(e){return jn.leaveRoom(e),{type:In.LEAVE_ROOM}}(t))}},{key:"onFocus",value:function(){var e=this.props.dispatch;jn.isConnected()?this.connectToRoom():jn.isConnecting()||e(Mn())}},{key:"ensureLatestMessages",value:function(){var e=this.props,t=e.dispatch,n=e.fetchingNewMessages,r=this.getRoom();r&&!n&&t(function(e){return function(t,n){var r,o,a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(r=n(),o=r.messaging.fetchingNewMessages,a=r.auth.token,!o){s.next=5;break}return s.abrupt("return");case 5:i=e.lastMessage,jn.isConnected()&&i?(t(Jn(e)),c=i.createdAt.toJSON(),function n(r){var o,i,s,u;return l.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,l.a.awrap(W("rooms/"+e.id+"/messages","GET",{page:r,limit:15,afterDate:c},{},a));case 2:o=f.sent,i=function(t){var n=e.users.find((function(e){return e._id===t.senderId}));return n?ae(n,t):void 0},o.status===U.OK?(u=(s=o).data.map(i).filter((function(e){return void 0!==e})),r<s.meta.totalPages?n(r+1):u.length>0&&u[0]&&jn.readMessage(e.id,u[0]._id,u[0].createdAt.toJSON()),t(Zn(e,u,r<s.meta.totalPages))):t(Qn(e));case 5:case"end":return f.stop()}}),null,null,null,Promise)}(1)):t(Qn(e));case 7:case"end":return s.stop()}}),null,null,null,Promise)}}(r)),r&&r.messages.length<15&&this.fetchEarlier()}},{key:"fetchEarlier",value:function(){var e=this.props.dispatch,t=this.getRoom();t&&!t.messagePagination.fetching&&e(function(e){return function(t,n){var r,o,a,i,c,s,u,f,p,d;return l.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(r=n(),o=r.messaging.socketState.connected,a=r.auth.token,!(i=e.messagePagination).fetching&&i.canFetchMore){h.next=6;break}return h.abrupt("return");case 6:if(!o){h.next=16;break}return t(qn(e)),c=e.messages.length>0?e.messages[e.messages.length-1].createdAt.toJSON():void 0,h.next=11,l.a.awrap(W("rooms/"+e.id+"/messages","GET",{page:1,limit:15,beforeDate:c},{},a));case 11:s=h.sent,u=function(t){var n=e.users.find((function(e){return e._id===t.senderId}));return n?ae(n,t):void 0},s.status===U.OK?(p=(f=s).data.map(u).filter((function(e){return void 0!==e})),d=f.meta.currentPage<f.meta.totalPages,t(Kn(e,p,d))):t(Yn(e)),h.next=17;break;case 16:t(Yn(e));case 17:case"end":return h.stop()}}),null,null,null,Promise)}}(t))}},{key:"setListRef",value:function(e){if("web"===T.a.OS){if(null===e)this.removeScrollListener();else if(null===this.listRef){var t=e.getScrollableNode(),n=t.addEventListener("wheel",(function(e){var n=function(e){var t=ea.a.get("window").height,n=0,r=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),(r="deltaY"in e?e.deltaY:10*n)&&e.deltaMode&&(1==e.deltaMode?r*=40:r*=t),r&&!n&&(n=r<1?-1:1),{spinY:n,pixelY:r}}(e);t.scrollTop-=.15*n.pixelY,e.preventDefault()}));this.removeScrollListener=function(){return t.removeEventListener("wheel",n)},e.setNativeProps({style:{transform:"translate3d(0,0,0) scaleY(-1)"}})}this.listRef=e}}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.localChatUser,o=t.dispatch,a=El(n),i=this.getRoom(),s=c.createElement(c.Fragment,null);if(i&&r){var u=Object.keys(i.writing).find((function(e){return!0===i.writing[e]})),l=u?i.users.find((function(e){return e._id==u})):void 0,f={};i.messages.length>0&&i.users.forEach((function(e){e._id!=r._id&&e.lastMessageSeenId&&(f[e.lastMessageSeenId]?f[e.lastMessageSeenId].push(e):f[e.lastMessageSeenId]=[e])}));var p=i.users.filter((function(e){return e._id!=r._id}))[0],d=0===i.messages.length?Nc("man-holding-phone",(function(){return e.forceUpdate()})):null;s=c.createElement(ll.e,{ref:this.ref,isKeyboardInternallyHandled:!1,messages:i.messages,user:r,renderSend:function(e){return c.createElement(ll.h,$t()({},e,{containerStyle:a.sendContainer}),c.createElement(Pi.a,{name:"send",style:a.send}))},renderBubble:function(e){return c.createElement(ll.b,$t()({},e,{renderTicks:function(e){return c.createElement(ca.a,{style:a.messageTicksContainer},e.received&&c.createElement(Pi.a,{name:"check",style:a.messageTick}),e.sent&&c.createElement(Pi.a,{name:"check",style:a.messageTick}))},textStyle:{left:a.bubbleTextLeft,right:a.bubbleTextRight},wrapperStyle:{left:a.bubbleWrapperLeft,right:a.bubbleWrapperRight}}))},renderMessage:function(e){var t=e.currentMessage?f[e.currentMessage._id]:[];return c.createElement(vl,{theme:n,seenBy:t||[],messageProps:e})},renderInputToolbar:function(e){return c.createElement(ll.f,$t()({},e,{containerStyle:a.inputToolbarContainer,primaryStyle:a.inputToolbarPrimary}))},renderChatEmpty:function(){return c.createElement(ca.a,{style:a.emptyChatContainer},c.createElement($o.a,{style:a.emptyChatText},I.a.t("messaging.sayHiTo",{name:p.name})),d&&c.createElement(d,{style:{transform:"web"===T.a.OS?"scaleY(-1)":[{scaleY:-1}]},width:187.5,height:250,viewBox:"0 0 150 200",preserveAspectRatio:"xMaxYMid"}))},renderFooter:function(){return c.createElement(yl,{userWriting:l,theme:n})},renderActions:function(e){return c.createElement(bl,{actionsProps:e,theme:n})},onInputTextChanged:function(e){e.length>0&&jn.setWriting(i)},onSend:function(e){e.forEach((function(e){return o(Hn(e._id+"",e.text,e.createdAt))}))},loadEarlier:i.messagePagination.canFetchMore&&i.messagePagination.fetching,isLoadingEarlier:i.messagePagination.fetching,onLoadEarlier:function(){e.fetchEarlier()},timeFormat:"HH:mm",listViewProps:{ref:function(t){return e.setListRef(t)},onEndReached:function(){return e.fetchEarlier()},renderScrollComponent:function(e){return c.createElement(yc.a,$t()({},e,{contentContainerStyle:[e.contentContainerStyle,{paddingBottom:100}]}))}},renderComposer:function(t){return c.createElement(ll.c,$t()({},t,{textInputProps:dl(dl({},t.textInputProps),{},{autoFocus:!1,style:[a.textInput,"web"===T.a.OS&&{outline:"none"}],multiline:!0},"web"===T.a.OS?{onFocus:function(){return e.forceUpdate()},onKeyPress:function(n){var r,o=n;"Enter"!==o.key||o.altKey||o.shiftKey||!t.text||(null==(r=e.ref.current)||r.onSend([{text:t.text.trim()}],!0))}}:{})}))},minInputToolbarHeight:65})}return c.createElement(fa,null,c.createElement(_i.a,{behavior:"ios"===T.a.OS?"padding":void 0,style:a.container},s))}}]),n}(c.Component);function yl(e){var t=e.userWriting,n=e.theme;return t?c.createElement(ca.a,{style:{height:50,paddingTop:10,marginBottom:5}},c.createElement(ll.g,{key:"isWriting",user:t,showUserAvatar:!0,position:"left",renderAvatar:function(e){return c.createElement(ll.d,$t()({},e,{user:t}))},renderBubble:function(e){return c.createElement(ll.b,$t()({},e,{wrapperStyle:{left:{backgroundColor:"transparent"},right:{}},renderCustomView:function(){return c.createElement(fl.a,{dotColor:n.textLight,dotAmplitude:3,dotSpeed:.16,dotMargin:8,dotRadius:4,dotX:20,dotY:-25})}}))}})):c.createElement(c.Fragment,null)}function vl(e){var t,n,r=e.theme,o=e.seenBy,a=e.messageProps,i=El(r);return c.createElement(ca.a,{style:"left"===a.position?i.messageContainerLeft:i.messageContainerRight},c.createElement(ll.g,$t()({},a,{containerStyle:{left:[null==(t=a.containerStyle)?void 0:t.left],right:[null==(n=a.containerStyle)?void 0:n.right,{marginBottom:2}]}})),o.length>0&&c.createElement(ca.a,{style:["left"===a.position?i.messageReadContainerLeft:i.messageReadContainerRight]},o.map((function(e){return c.createElement(xu,{key:"read-message-"+e._id,titleStyle:i.messageReadAvatarText,user:e,size:20,rounded:!0})}))))}function bl(e){e.actionsProps,e.theme;return c.createElement(c.Fragment,null)}var El=aa((function(e){return Xo.a.create({container:{flex:1,width:"100%"},inputToolbarContainer:{justifyContent:"center",borderTopWidth:0,backgroundColor:e.background},inputToolbarPrimary:{alignItems:"flex-end"},textInput:{backgroundColor:e.cardBackground,borderRadius:20,marginVertical:10,marginHorizontal:20,paddingHorizontal:15,paddingTop:10,paddingBottom:10,fontSize:15,flex:1,alignItems:"center",alignSelf:"flex-end",color:e.text},send:{fontSize:30,color:e.accent},sendContainer:{height:45,justifyContent:"center",marginVertical:10,marginRight:10},actionContainer:{height:45,justifyContent:"center"},actionIcon:{fontSize:28,width:28,height:28,color:e.text},bubbleWrapperLeft:{backgroundColor:e.chatBubble},bubbleWrapperRight:{paddingLeft:10},bubbleTextLeft:{color:e.text},bubbleTextRight:{marginLeft:0},messageContainerLeft:{},messageContainerRight:{paddingRight:20},messageReadContainerLeft:{position:"absolute",right:5,bottom:3},messageReadContainerRight:{position:"absolute",right:5,bottom:3},messageReadAvatarText:{fontSize:12},messageTicksContainer:{marginRight:4,minWidth:15},messageTick:{fontSize:14,color:oa.dark.text},emptyChatContainer:{width:"100%",flex:1,alignItems:"center",justifyContent:"center",paddingHorizontal:50},emptyChatText:{fontSize:20,color:e.textLight,transform:[{scaleY:-1}],marginBottom:20,textAlign:"center"}})})),Sl=ml(Object(ia.j)(gl)),Ol=n(244),Cl=["ChatScreen","ChatRoomsScreen"],Rl={SigninScreen:"light",SignupScreen:"light",ForgotPasswordScreen:"light",ProfileScreen:"light",MyProfileScreen:"light",GroupScreen:"light"},wl=["ChatRoomsScreen","ChatScreen","DeleteAccountScreen","MainScreen","MatchFilteringScreen","MatchHistoryScreen","MyProfileScreen","OnboardingSuccessfulScreen","ProfileScreen","SettingsScreen","TabHome","TabHomeScreen","TabMatching","TabMatchingScreen","TabMessaging","TabNotifications","TabNotificationsScreen"].concat(wo);function Pl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Tl=Object(Wo.a)();var xl=function(e){Yo()(n,e);var t=Pl(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"componentDidMount",value:function(){var e,t=this;Ol.a.addEventListener("change",(function(n){"active"!==e&&"active"===n&&t.onAppActive(),"active"===e&&"active"!==n&&t.onAppInactive(),e=n}))}},{key:"onAppActive",value:function(){if(!jn.isConnected()){var e,t,n=null==(e=k.current)||null==(t=e.getCurrentRoute())?void 0:t.name;Cl.includes(n)&&Mo.dispatch(Mn())}}},{key:"onAppInactive",value:function(){jn.isConnected()&&Mo.dispatch(Ln())}},{key:"render",value:function(){return c.createElement(Tl.Navigator,{headerMode:"screen"},c.createElement(Tl.Screen,{name:"ChatRoomsScreen",component:Yu,options:{title:F("ChatRoomsScreen"),headerShown:!0,header:function(e){return c.createElement(tl,e)}}}),c.createElement(Tl.Screen,{name:"ChatScreen",options:function(){return{headerShown:!1,title:F("ChatScreen")}}},(function(e){return c.createElement(c.Fragment,null,c.createElement(Sl,e),c.createElement(cl,e))})))}}]),n}(c.Component);function Il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var kl=Object(ka.b)(),jl=function(e){Yo()(n,e);var t=Il(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.theme,r=e.onLogOut,o=e.style,a=_l(n);return c.createElement(va.a,{onPress:function(){t(Ue()),r&&r()}},c.createElement($o.a,{style:[a.text,o]},I.a.t("logOut")))}}]),n}(c.Component),_l=aa((function(e){return Xo.a.create({text:{fontSize:20,color:e.error}})})),Dl=kl(Object(ia.j)(jl));function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ml(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ll=function(e){Yo()(n,e);var t=Ml(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"fetchPostEmbed",value:function(e){var t,n,r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return"https://graph.facebook.com/v9.0/instagram_oembed","80cd0bc3c132ad645a15d234ccd841bd",t="https://graph.facebook.com/v9.0/instagram_oembed?url="+("https://www.instagram.com/p/"+e+"/")+"&access_token=80cd0bc3c132ad645a15d234ccd841bd",n={Accept:"application/json","Content-Type":"application/json"},console.log(t),o.next=8,l.a.awrap(fetch(t,{method:"GET",headers:n}));case 8:return r=o.sent,o.abrupt("return",r);case 10:case"end":return o.stop()}}),null,null,null,Promise)}},{key:"fetchEmbed",value:function(){this.fetchPostEmbed("CJQ-ZX_rZb8").then((function(e){return console.log(JSON.stringify(e))}))}},{key:"render",value:function(){var e=this.props.theme,t=Bl(e);return c.createElement(fa,null,c.createElement(ca.a,{style:t.container},c.createElement(d.a,{style:t.icon,name:"heart"}),c.createElement($o.a,{style:t.title},"Thank you for participating in the alpha program."),c.createElement(ca.a,{style:t.separator}),c.createElement($o.a,{style:[t.alphaText,{fontWeight:"bold"}]},"Found a bug or have some feedback for us or ideas for the app?"),c.createElement($o.a,{style:t.alphaText},"Get in touch with us on Slack and we would be happy to discuss it with you!"),c.createElement(Dl,{style:t.logoutButton})))}}]),n}(c.Component),Bl=aa((function(e){return Xo.a.create({container:{flex:1,width:"100%",padding:50,alignItems:"center",justifyContent:"center"},title:Fl({width:"100%",textAlign:"center",fontSize:24,color:e.text},da),alphaText:{width:"100%",textAlign:"left",fontSize:16,color:e.text,marginVertical:10},icon:{color:e.accent,fontSize:48,paddingBottom:20},separator:{marginVertical:30,height:1,opacity:.1,width:"100%",backgroundColor:e.text},logoutButton:{marginTop:80}})}));Object(ia.j)(Ll);function Nl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ul=function(e){Yo()(n,e);var t=Nl(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.profile,r=e.onBlock,o=Ya()(e,["theme","profile","onBlock"]);return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("block.title"),text:n?I.a.t("block.warning",{firstname:n.firstName,lastname:n.lastName}):"",icon:function(e){return s.a.createElement(Pi.a,$t()({name:"block",color:t.error},e))},buttons:[{preset:"cancel"},{preset:"delete",text:I.a.t("block.action"),onPress:function(e){e(),n&&Mo.dispatch(pn(n.id)),r&&r()}}]},o))}}]),n}(s.a.Component),Gl=Object(ia.j)(Ul),Hl=n(149);function Vl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var zl=function(e){Yo()(n,e);var t=Vl(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.university,n=e.containerStyle,r=e.flagSize,o=e.flagEmoji,a=Ya()(e,["university","containerStyle","flagSize","flagEmoji"]);return c.createElement(ca.a,{style:[{flexDirection:"row",alignItems:"center"},n]},t&&c.createElement(c.Fragment,null,c.createElement(Hl.c,{countryCode:t.country,flagSize:r||18,withEmoji:o||!1}),c.createElement($o.a,$t()({},a,{style:[{marginLeft:-5},a.style]}),I.a.t("universities."+t.key))))}}]),n}(c.Component);function Wl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ql=function(e){Yo()(n,e);var t=Wl(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.label,r=e.removable,o=e.onRemove,a=e.containerStyle,i=e.chipStyle,s=e.textStyle;return c.createElement(ia.g,null,(function(e){var u=e.theme,l=Kl(u);return c.createElement(ca.a,{style:[l.container,a]},t.map((function(e,t){return c.createElement(Yl,{key:"chips-"+t+"-"+e,text:n?n(e):"string"===typeof e?e:JSON.stringify(e),removable:r,onRemove:function(){o&&o(e)},chipStyle:i,textStyle:s})})))}))}}]),n}(c.Component),Yl=Object(ia.j)((function(e){var t=e.text,n=e.removable,r=e.onRemove,o=e.theme,a=e.chipStyle,i=e.textStyle,s=Kl(o);return c.createElement(ca.a,{style:[s.chip,a]},c.createElement($o.a,{style:[s.chipText,n?{marginRight:20}:{},i],numberOfLines:1},t),n&&c.createElement(va.a,{style:s.chipRemoveButton,onPress:function(){r&&r()}},c.createElement(Pi.a,{name:"close",style:s.chipRemoveIcon})))})),Kl=aa((function(e){return Xo.a.create({container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},chip:{flexDirection:"row",alignItems:"center",backgroundColor:e.accentSlight,paddingVertical:6,paddingHorizontal:10,borderRadius:20,marginRight:4,marginBottom:4},chipText:{fontSize:14,color:oa.light.text},chipRemoveButton:{position:"absolute",right:0,width:32,height:32,alignItems:"center",justifyContent:"center"},chipRemoveIcon:{fontSize:22,color:oa.light.text}})})),Jl=ql,Ql=n(34);function Zl(e){var t=e.onFocus,n=e.onBlur;return Object(Ql.useFocusEffect)(c.useCallback((function(){return t&&t(),function(){n&&n()}}),[])),c.createElement(c.Fragment,null)}function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ef(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var tf={horizontal:"gesture-swipe-horizontal",left:"gesture-swipe-left"},nf=function(e){Yo()(n,e);var t=ef(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).offset=new jc.c.Value(0),r.state={animating:!1},r}return Rn()(n,[{key:"setAnimating",value:function(e){var t=this;if(e!==this.state.animating&&(this.setState($l($l({},this.state),{},{animating:e})),e)){var n=this.props.direction;if("horizontal"===n){!function e(n){jc.c.timing(t.offset,{toValue:n?12.5:-12.5,duration:400,easing:jc.a.inOut(jc.a.circle)}).start((function(){jc.c.timing(t.offset,{toValue:0,duration:400,easing:jc.a.linear}).start((function(){t.state.animating&&(n?setTimeout((function(){return e(!n)}),1e3):e(!n))}))}))}(!0)}else if("left"===n){!function e(){jc.c.timing(t.offset,{toValue:-12.5,duration:400,easing:jc.a.inOut(jc.a.circle)}).start((function(){jc.c.timing(t.offset,{toValue:0,duration:400,easing:jc.a.linear}).start((function(){t.state.animating&&setTimeout(e,1e3)}))}))}()}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.direction,r=t.style,o=t.iconStyle,a=tf[n];return c.createElement(ca.a,{style:[r]},c.createElement(Zl,{onFocus:function(){return e.setAnimating(!0)},onBlur:function(){return e.setAnimating(!1)}}),c.createElement(jc.c.View,{style:{left:this.offset}},a&&c.createElement(Ti.a,{name:a,style:o})))}}]),n}(c.Component);function rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function af(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var cf={sideMargin:15,verticalSpacing:10,borderRadius:20},sf=function(e){Yo()(n,e);var t=af(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).cardRef=c.createRef(),r.state={expanded:!1,height:new jc.c.Value(uf),animating:!1},r.layout={x:0,y:0,width:0,height:0},r}return Rn()(n,[{key:"expand",value:function(){var e=this;"web"===T.a.OS?this.setState(of(of({},this.state),{},{expanded:!0,height:new jc.c.Value(lf)})):(this.setState(of(of({},this.state),{},{animating:!0})),jc.c.timing(this.state.height,{toValue:lf,duration:200,easing:jc.a.elastic(1)}).start(),setTimeout((function(){return e.setState(of(of({},e.state),{},{animating:!1,expanded:!0}))}),200))}},{key:"collapse",value:function(){var e=this;if("web"===T.a.OS)this.setState(of(of({},this.state),{},{expanded:!1,height:new jc.c.Value(uf)}));else{this.setState(of(of({},this.state),{},{animating:!0,expanded:!1})),jc.c.timing(this.state.height,{toValue:uf,duration:100,easing:jc.a.out(jc.a.linear)}).start(),setTimeout((function(){return e.setState(of(of({},e.state),{},{animating:!1}))}),100)}}},{key:"hide",value:function(e,t){var n;null==(n=this.cardRef.current)||n.collapse(e,t)}},{key:"toggleExpanded",value:function(){this.state.expanded?this.collapse():(this.expand(),this.props.onExpand&&this.props.onExpand(this.layout))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.profile,o=t.showSwipeTip,a=this.state,i=a.expanded,s=a.animating,u=a.height,l=ff(n),f=r.firstName+" "+r.lastName,p={chipStyle:l.chip},d=c.createElement(c.Fragment,null,c.createElement(ca.a,{style:l.collapsedContent},c.createElement(ca.a,{style:l.avatarContainer},c.createElement(Ju,{profile:r,size:120,rounded:!0,containerStyle:l.avatar})),c.createElement(ca.a,{style:l.infoContainer},c.createElement($o.a,{style:l.name},f),r&&c.createElement(zl,{style:l.infoText,university:r.university}),c.createElement($o.a,{style:l.infoText},I.a.t("genders."+r.gender),", ",I.a.t("allRoles."+r.type),"student"==r.type?" ("+I.a.t("degrees."+r.degree)+")":"")),o&&c.createElement(nf,{direction:"horizontal",style:l.swipeTip,iconStyle:l.swipeTipIcon})),(i||s)&&c.createElement(ca.a,{style:l.expandedContent},c.createElement($o.a,{style:l.expandedSectionTitle},I.a.t("spokenLanguages")),c.createElement(Jl,$t()({items:r.languages,label:function(e){return I.a.t("languageNames."+e.code)+("native"!=e.level?" ("+e.level.toUpperCase()+")":"")}},p)),c.createElement($o.a,{style:l.expandedSectionTitle},I.a.t("offers")),c.createElement(Jl,$t()({items:r.profileOffers,label:function(e){return I.a.t("allOffers."+e.offerId+".name")}},p)),c.createElement(Gl,{profile:r,activator:function(e){return c.createElement(va.a,{style:l.blockButton,onPress:function(){return e()}},c.createElement(Pi.a,{style:l.blockButtonIcon,name:"block"}))},onBlock:function(){return e.hide()}})));return c.createElement(Zs,{ref:this.cardRef,looks:cf,wrapperProps:{onLayout:function(t){e.layout=t.nativeEvent.layout}},useNativeAnimations:"web"!==T.a.OS,friction:1,leftThreshold:100,rightThreshold:100,onSwipeableRightWillOpen:function(){e.props.onSwipeLeft&&e.props.onSwipeLeft(),e.hide((function(){e.props.onSwipedLeft&&e.props.onSwipedLeft()}),!1)},onSwipeableLeftWillOpen:function(){e.props.onSwipeRight&&e.props.onSwipeRight(),e.hide((function(){e.props.onSwipedRight&&e.props.onSwipedRight()}),!0)},renderRightActions:function(){return c.createElement(Ks,{side:"right",looks:cf,fullCardWidth:!0,contentStyle:l.swipeActionContentRight},c.createElement($o.a,{style:l.swipeActionText},I.a.t("matching.actionHide")))},renderLeftActions:function(){return c.createElement(Ks,{side:"left",looks:cf,fullCardWidth:!0,contentStyle:l.swipeActionContentLeft},c.createElement($o.a,{style:l.swipeActionText},I.a.t("matching.actionLike")))},onPress:function(){return e.toggleExpanded()}},"web"!==T.a.OS&&c.createElement(jc.c.View,{style:[l.cardContent,{height:u}]},d),"web"===T.a.OS&&c.createElement(ca.a,{style:[l.cardContent,{height:u[" __value"]}]},d))}}]),n}(c.Component),uf=(Object(ia.j)((function(e){var t=e.theme;return c.createElement(ca.a,{style:ff(t).separator})})),150),lf=360,ff=aa((function(e){return Xo.a.create({swipeActionContentRight:{backgroundColor:e.accentTernary,alignItems:"center",justifyContent:"flex-end",padding:20},swipeActionContentLeft:{backgroundColor:e.accentSlight,alignItems:"center",padding:20},swipeActionText:of({fontSize:24,letterSpacing:2,textTransform:"uppercase"},pa),cardContent:{padding:10},collapsedContent:{flexDirection:"row"},avatarContainer:{justifyContent:"center"},avatar:{backgroundColor:e.accentSecondary},infoContainer:{flex:1,flexDirection:"column",justifyContent:"center",paddingLeft:10},name:{fontSize:22,letterSpacing:.8,marginBottom:5,flexShrink:1,color:e.text},infoText:{fontSize:16,letterSpacing:.5,color:e.textLight,flexShrink:1},swipeTip:{position:"absolute",top:0,right:5},swipeTipIcon:{fontSize:22,color:e.textLight},separator:{height:1,width:"100%",backgroundColor:"#000",opacity:.1,alignSelf:"center",marginBottom:5},expandedContent:{flex:1},chip:{paddingHorizontal:5,paddingVertical:2,flexGrow:1,justifyContent:"center"},expandedSectionTitle:of(of({},da),{},{fontSize:14,textTransform:"uppercase",letterSpacing:1,marginTop:5,color:e.text}),blockButton:{position:"absolute",bottom:0,right:0},blockButtonIcon:{fontSize:30,color:e.error}})})),pf=Object(ia.j)(sf);function df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?df(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var gf=function(e){Yo()(n,e);var t=mf(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).cancelPressPromise=null,r.state={loading:!1},r}return Rn()(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"componentWillUnmount",value:function(){this.cancelPressPromise&&(this.cancelPressPromise(),this.cancelPressPromise=null)}},{key:"onPress",value:function(){var e=this;if(!this.state.loading){this.setState(hf(hf({},this.state),{},{loading:!0}));var t=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return!t&&n(e)})),e.catch((function(e){return r(t?{canceled:!0}:e)}))}));return $t()(n,{cancel:function(){return t=!0}})}(this.props.onPress());t.then((function(){e.setState(hf(hf({},e.state),{},{loading:!1})),e.cancelPressPromise=null})),this.cancelPressPromise=t.cancel}}},{key:"render",value:function(){var e=this,t=this.props,n=t.loadingIndicatorStyle,r=t.loadingIndicatorColor,o=t.loadingIndicatorSize,a=t.theme,i=Ya()(t,["loadingIndicatorStyle","loadingIndicatorColor","loadingIndicatorSize","theme"]),s=this.state.loading;return c.createElement(Oa,$t()({},i,{onPress:s?void 0:function(){return e.onPress()}},{contentOpacity:s?0:1,disabled:s}),s&&c.createElement(Ia.a,{color:r||a.accentTernary,size:o||24,style:[{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"},n]}))}}]),n}(c.Component),yf=Object(ia.j)(gf),vf=n(333),bf=n.n(vf);function Ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ef(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Of(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Cf=["M0,160L48,154.7C96,149,192,139,288,165.3C384,192,480,256,576,245.3C672,235,768,149,864,101.3C960,53,1056,43,1152,64C1248,85,1344,139,1392,165.3L1440,192L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,224L48,197.3C96,171,192,117,288,128C384,139,480,213,576,218.7C672,224,768,160,864,144C960,128,1056,160,1152,181.3C1248,203,1344,213,1392,218.7L1440,224L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,96L48,106.7C96,117,192,139,288,160C384,181,480,203,576,213.3C672,224,768,224,864,192C960,160,1056,96,1152,85.3C1248,75,1344,117,1392,138.7L1440,160L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,192L48,197.3C96,203,192,213,288,197.3C384,181,480,139,576,122.7C672,107,768,117,864,128C960,139,1056,149,1152,133.3C1248,117,1344,75,1392,53.3L1440,32L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,128L48,138.7C96,149,192,171,288,160C384,149,480,107,576,122.7C672,139,768,213,864,202.7C960,192,1056,96,1152,64C1248,32,1344,64,1392,80L1440,96L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,64L48,90.7C96,117,192,171,288,170.7C384,171,480,117,576,96C672,75,768,85,864,101.3C960,117,1056,139,1152,160C1248,181,1344,203,1392,213.3L1440,224L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,160L48,154.7C96,149,192,139,288,122.7C384,107,480,85,576,96C672,107,768,149,864,138.7C960,128,1056,64,1152,53.3C1248,43,1344,85,1392,106.7L1440,128L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z","M0,32L60,69.3C120,107,240,181,360,186.7C480,192,600,128,720,90.7C840,53,960,43,1080,48C1200,53,1320,75,1380,85.3L1440,96L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,128L60,117.3C120,107,240,85,360,64C480,43,600,21,720,64C840,107,960,213,1080,250.7C1200,288,1320,256,1380,240L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,288L60,245.3C120,203,240,117,360,101.3C480,85,600,139,720,176C840,213,960,235,1080,240C1200,245,1320,235,1380,229.3L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,96L60,117.3C120,139,240,181,360,181.3C480,181,600,139,720,138.7C840,139,960,181,1080,202.7C1200,224,1320,224,1380,224L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z","M0,160L48,181.3C96,203,192,245,288,261.3C384,277,480,267,576,224C672,181,768,107,864,106.7C960,107,1056,181,1152,202.7C1248,224,1344,192,1392,176L1440,160L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"],Rf=function(e){Yo()(n,e);var t=Of(n);function n(e){var r;On()(this,n),r=t.call(this,e);var o=Cf.map((function(e,t){return t}));if("random"===e.patternIndex);else if(Array.isArray(e.patternIndex)){var a=e.patternIndex;a.length>0&&(o=a)}else o=[e.patternIndex];return r.state={wavePatternIdx:o[Math.floor(Math.random()*o.length)]},r}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.color,r=e.upsideDown,o=this.state.wavePatternIdx,a=Cf[o];return s.a.createElement(ca.a,{style:[Sf({minWidth:400,height:100},r?{transform:[{rotate:"180deg"}]}:{}),t]},s.a.createElement(bf.a,{viewBox:"0 40 1440 320",preserveAspectRatio:"none"},s.a.createElement(vf.Path,{fill:n,d:a})))}}]),n}(s.a.Component);function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var xf=Object(ka.b)((function(e){var t;return{localProfile:null==(t=e.profile.user)?void 0:t.profile}}),null,null,{forwardRef:!0}),If=function(e){Yo()(n,e);var t=Tf(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).modalRef=c.createRef(),r.state={profile:null,roomId:null,maxOffersDisplayed:999,waveWidth:0},r}return Rn()(n,[{key:"show",value:function(e,t){var n;null==(n=this.modalRef.current)||n.show(),this.setState(Pf(Pf({},this.state),{},{profile:e,roomId:t,maxOffersDisplayed:999}))}},{key:"hide",value:function(){var e;this.setState(Pf(Pf({},this.state),{},{profile:null})),null==(e=this.modalRef.current)||e.hide()}},{key:"chat",value:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.state.roomId,this.hide(),e?L(e):j("MainScreen",{screen:"TabMessaging"});case 3:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.localProfile,o=kf(n),a=this.state,i=a.profile,s=a.maxOffersDisplayed,u=a.waveWidth,f=r&&i&&i.profileOffers?function(e,t){return e.filter((function(e){return!(!e.allowFemale&&"female"===t.gender||!e.allowMale&&"male"===t.gender||!e.allowOther&&"other"===t.gender||!e.allowStaff&&"staff"===t.type||!e.allowStudent&&"student"===t.type)}))}(i.profileOffers,r):[];return c.createElement(qi,{ref:this.modalRef,fullHeight:!0,noBackground:!0,backdropBlur:!0,backdropOpacity:0,animationType:"fade",modalViewStyle:o.modal,renderContent:function(){return c.createElement(c.Fragment,null,c.createElement(Rf,{color:n.greenModalBackground,style:{width:u},upsideDown:!0,patternIndex:9}),c.createElement(ca.a,{style:o.container,onLayout:function(t){var n=t.nativeEvent.layout.width;e.setState(Pf(Pf({},e.state),{},{waveWidth:n}))}},c.createElement(ca.a,{style:o.topContainer},c.createElement($o.a,{style:o.title},I.a.t("matching.success.title")),c.createElement(ca.a,{style:o.separator})),c.createElement(ca.a,{style:o.profileInfoContainer},c.createElement(Ju,{profile:i||void 0,size:150,rounded:!0,containerStyle:o.avatarContainer}),c.createElement($o.a,{style:o.name},null==i?void 0:i.firstName," ",null==i?void 0:i.lastName),f.length>0&&c.createElement(ca.a,{style:[o.offersCard,999===s?{opacity:0}:{}],onLayout:function(t){var n=t.nativeEvent.layout.height-20,r=Math.floor(n/20)-1;r<f.length&&r--,r>=0&&r!=s&&e.setState(Pf(Pf({},e.state),{},{maxOffersDisplayed:r}))}},c.createElement($o.a,{style:o.offerText},I.a.t("matching.success.offersTitle")),f.slice(0,s).map((function(e){return c.createElement(ca.a,{key:"match-profile-offer-"+e.offerId},c.createElement($o.a,{numberOfLines:1,style:o.offerText},"- ",I.a.t("allOffers."+e.offerId+".name")))})),s<f.length&&c.createElement($o.a,{style:o.offerText},f.length-s," ",I.a.t("matching.success.offersMore")))),c.createElement(ca.a,{style:o.actionsContainer},c.createElement(yf,{text:I.a.t("matching.success.chat"),skin:"rounded-filled",icon:c.createElement(Ti.a,{name:"chat",style:o.actionIcon}),style:o.action,onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(e.chat());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)}}),c.createElement(Oa,{text:I.a.t("matching.success.continue"),icon:c.createElement(Ti.a,{name:"gesture-swipe-vertical",style:o.actionIcon}),skin:"rounded-filled",style:[o.action,{backgroundColor:n.actionNeutral}],onPress:function(){return e.hide()}}))),c.createElement(Rf,{color:n.greenModalBackground,style:{width:u},patternIndex:5}))}})}}]),n}(c.Component),kf=aa((function(e){return Xo.a.create({modal:{paddingHorizontal:0,paddingVertical:0,width:"100%",height:"100%",maxWidth:500,justifyContent:"center"},container:{width:"100%",backgroundColor:e.greenModalBackground,alignItems:"center",justifyContent:"space-between",overflow:"hidden",flexShrink:1,minHeight:Math.min(400,.7*ea.a.get("window").height)},topContainer:{alignItems:"center",width:"100%"},profileInfoContainer:{alignItems:"center",flexShrink:1},actionsContainer:{flexDirection:"row",alignItems:"center",width:"85%",maxWidth:400,marginTop:10,marginBottom:10},title:Pf(Pf({width:"100%",textAlign:"center"},pa),{},{fontSize:26,color:oa.dark.text,letterSpacing:1,textTransform:"uppercase"}),separator:{marginTop:10,marginBottom:20,height:1,width:"80%",backgroundColor:oa.dark.text,opacity:.4},avatarContainer:{borderColor:oa.dark.text,borderWidth:.5},name:{color:oa.dark.text,fontSize:24,marginVertical:5},offersCard:{backgroundColor:"#0001",borderRadius:20,paddingVertical:10,paddingHorizontal:20,marginTop:10,flexShrink:1,overflow:"hidden"},offerText:{color:oa.dark.text,fontSize:16,lineHeight:20},action:{flex:1,marginHorizontal:5},actionIcon:{fontSize:22,color:oa.dark.text,marginLeft:10}})})),jf=xf(Object(ia.j)(If));function _f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Df=Object(ka.b)((function(e){return{profiles:e.matching.profiles,profileIds:e.matching.orderedProfileIds,pagination:e.matching.profilesPagination}})),Af=function(e){Yo()(n,e);var t=_f(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).scrollerRef=c.createRef(),e.successModalRef=c.createRef(),e}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.profileIds,r=t.profiles,o=t.theme,a=t.pagination,i=t.navigation,s=Ff(o),u=this.props.dispatch;return c.createElement(fa,{forceFullWidth:!0},c.createElement(Gu,{ref:this.scrollerRef,navigation:i,fetchLimit:8,fetchMore:function(){return u((function(e,t){var n,r,o,a,i,c,s,u,f,p,d,h,m,g;return l.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(c=function(e){return 0==e.length?void 0:e},n=t(),r=n.auth.token,o=n.matching,a=o.filters,i=o.profilesPagination,r){y.next=5;break}return e(on()),y.abrupt("return");case 5:if(!i.fetching&&i.canFetchMore){y.next=7;break}return y.abrupt("return");case 7:return e({type:Qt.FETCH_PROFILES_BEGIN}),s=Object.keys(a.offers).filter((function(e){return!0===a.offers[e]})),u=a.types&&-1===a.types.indexOf("student")?[]:a.degrees,f=a.types&&-1===a.types.indexOf("staff")?[]:a.staffRoles,p={universities:c(a.universities),spokenLanguages:c(a.languages),degrees:c(u),educationFields:c(a.educationFields),staffRoles:c(f),types:c(a.types),offers:c(s)},y.next=14,l.a.awrap(W("profiles","GET",rn({page:i.page,limit:8},p),{},r));case 14:(d=y.sent).status===U.OK?(m=(h=d).data.map(te),g=h.meta.currentPage<h.meta.totalPages,e(an(m,g))):e(on());case 16:case"end":return y.stop()}}),null,null,null,Promise)}))},fetching:a.fetching,canFetchMore:a.canFetchMore,currentPage:a.page,items:n.map((function(e){return r[e]})),id:function(e){return e.id},noResultsComponent:c.createElement(c.Fragment,null,c.createElement($o.a,{style:s.noResultsText1},I.a.t("matching.noResults")),c.createElement($o.a,{style:s.noResultsText2},I.a.t("matching.noItemsAdvice"))),endOfItemsComponent:c.createElement(c.Fragment,null,c.createElement($o.a,{style:s.noResultsText1},I.a.t("matching.noMoreItems")),c.createElement($o.a,{style:s.noResultsText2},I.a.t("matching.noItemsAdvice"))),refresh:function(){return u(cn())},renderItem:function(t,r){return c.createElement(pf,{key:"match-profile-card-"+t.id,profile:t,onExpand:function(t){var n,r=null==(n=e.scrollerRef.current)?void 0:n.scrollViewRef.current;r&&r.scrollTo({y:t.y-100,animated:!0})},onSwipeRight:function(){var n,r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l.a.awrap(u(un(t)));case 2:(r=o.sent)&&r.status===Vt.Matched&&(null==(n=e.successModalRef.current)||n.show(t,r.roomId));case 4:case"end":return o.stop()}}),null,null,null,Promise)},onSwipedLeft:function(){return u(function(e){return function(t,n){var r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=n().auth.token,o.next=3,l.a.awrap(W("matching/decline","POST",{},{toProfileId:e.id},r));case 3:o.sent.status===U.OK&&t(ln(e));case 5:case"end":return o.stop()}}),null,null,null,Promise)}}(t))},onHidden:r,showSwipeTip:t.id==n[0]})},itemsContainerStyle:s.itemsContainer,progressViewOffset:100}),c.createElement(jf,{ref:this.successModalRef}))}}]),n}(c.Component),Ff=aa((function(e){return Xo.a.create({noResultsText1:{fontSize:20,letterSpacing:.75,color:e.text,marginVertical:5},noResultsText2:{fontSize:16,letterSpacing:.5,color:e.text},itemsContainer:{width:"100%",maxWidth:600,alignSelf:"center",paddingTop:100,paddingBottom:25}})})),Mf=Df(Object(ia.j)(Af));function Lf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Bf=function(e){Yo()(n,e);var t=Lf(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.backButton,n=e.blur,r=Ya()(e,["backButton","blur"]);return c.createElement(tl,$t()({},r,{backButton:t||!1,blur:n,rightButtons:[function(e){var t=e.buttonStyle,n=e.iconStyle;return c.createElement(va.a,{style:t,onPress:function(){return j("MatchFilteringScreen")}},c.createElement(d.a,{name:"sliders",style:n}))},function(e){var t=e.buttonStyle,n=e.iconStyle;return c.createElement(va.a,{style:t,onPress:function(){return j("MatchHistoryScreen")}},c.createElement(Pi.a,{name:"history",style:n}))}]}))}}]),n}(c.Component);function Nf(e){return c.createElement(Bf,e)}var Uf=n(91),Gf=n(523);function Hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Wf=Object(ka.b)((function(e){return{locale:e.settings.userSettings.locale}})),qf=function(e){Yo()(n,e);var t=zf(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).tempSelected=[],r.state={items:new Map,open:!1,dropdownWrapperHeight:0},e.selected&&(r.tempSelected=e.selected),r}return Rn()(n,[{key:"updateItems",value:function(){var e,t=this,n=this.props.locale;if(!this.state.items.has(n)||(null==(e=this.state.items.get(n))?void 0:e.length)!=this.props.values.length){var r=new Map(this.state.items);r.set(n,this.props.values.map((function(e){return{value:e,label:t.props.genLabel?I.a.t(t.props.genLabel(e)):e}}))),this.setState(Vf(Vf({},this.state),{},{items:r}))}}},{key:"componentDidMount",value:function(){this.updateItems()}},{key:"componentDidUpdate",value:function(e){e.locale==this.props.locale&&e.values.length==this.props.values.length||this.updateItems(),this.tempSelected=this.props.selected||[]}},{key:"open",value:function(){this.setState(Vf(Vf({},this.state),{},{open:!0}))}},{key:"close",value:function(){this.setState(Vf(Vf({},this.state),{},{open:!1})),this.apply()}},{key:"apply",value:function(){this.props.onChange&&this.props.onChange(this.tempSelected)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.locale,o=t.selected,a=(t.onChange,t.genLabel),i=t.placeholder,s=t.multipleText,u=t.searchablePlaceholder,l=t.showChips,f=t.single,p=t.buttonStyleVariant,d=Ya()(t,["theme","locale","selected","onChange","genLabel","placeholder","multipleText","searchablePlaceholder","showChips","single","buttonStyleVariant"]),h=Xs(n),m=$s(p,n),g=o||[],y=this.state.items.get(r)||[];return c.createElement(ca.a,d,c.createElement(ca.a,null,c.createElement(va.a,{onPress:function(){return e.open()},style:m.button},c.createElement($o.a,{style:[m.text,0==g.length?m.textNoneSelected:{}]},I.a.t("picker.callToAction").replace("%d",g.length.toString()))),l&&c.createElement(Jl,{items:g,label:function(e){return a?I.a.t(a(e)):e},containerStyle:h.chipContainer,removable:!0,onRemove:function(t){e.tempSelected=e.tempSelected.filter((function(e){return e!==t})),e.apply()}})),this.state.open&&c.createElement(qi,{visible:this.state.open,onHide:function(){return e.close()},modalViewStyle:{height:150+40*y.length,maxHeight:"70%",overflow:"hidden",paddingHorizontal:0,paddingVertical:0},renderContent:function(){return c.createElement(c.Fragment,null,c.createElement(ca.a,{style:h.dropdownWrapper,onLayout:function(t){e.setState(Vf(Vf({},e.state),{},{dropdownWrapperHeight:t.nativeEvent.layout.height}))}},c.createElement(Gf.a,{items:y,multiple:!f,searchable:!0,defaultValue:o,onChangeItem:function(t){e.tempSelected=t},placeholder:i,multipleText:s,searchablePlaceholder:u,scrollViewProps:{keyboardShouldPersistTaps:"handled"},isVisible:!0,showArrow:!1,dropDownMaxHeight:e.state.dropdownWrapperHeight-10,selectedLabelStyle:{display:"none"},style:h.dropdownStyle,itemStyle:h.dropdownItemStyle,activeItemStyle:h.dropdownActiveItemStyle,activeLabelStyle:h.dropdownActiveLabelStyle,labelStyle:h.dropdownLabelStyle})),c.createElement(va.a,{onPress:function(){return e.close()},style:h.okButton},c.createElement($o.a,{style:h.okButtonText},"OK")))}}))}}]),n}(c.Component);qf.defaultProps={items:[],showSelected:!0,selected:[]};var Yf=Wf(Object(ia.j)(qf));function Kf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Jf=[],Qf=function(e){Yo()(n,e);var t=Kf(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"componentDidMount",value:function(){0==Jf.length&&(Jf=K.map((function(e){return e.key})))}},{key:"render",value:function(){var e=this.props,t=e.universities,n=e.onChange,r=Ya()(e,["universities","onChange"]);return c.createElement(Yf,$t()({values:Jf,genLabel:function(e){return"universities."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:I.a.t("universitiesPicker.placeholder"),multipleText:I.a.t("universitiesPicker.multiple"),searchablePlaceholder:I.a.t("universitiesPicker.searchPlaceholder")},r))}}]),n}(c.Component);function Zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"classic",t=arguments.length>1?arguments[1]:void 0;return"no-buttons"===e?{containerStyle:{backgroundColor:"transparent",height:28,borderWidth:0,marginHorizontal:0,marginBottom:5,flexDirection:"row",justifyContent:"space-evenly"},innerBorderStyle:{width:0},buttonContainerStyle:{marginHorizontal:5,flex:0},buttonStyle:{paddingHorizontal:10},textStyle:{color:t.textLight,opacity:.5,fontSize:15,flexShrink:1},selectedButtonStyle:{backgroundColor:"transparent",borderColor:t.accent,borderBottomWidth:.5},selectedTextStyle:{color:t.text,opacity:1}}:"chips"===e?{containerStyle:{backgroundColor:"transparent",height:32,borderWidth:0,marginHorizontal:0,marginBottom:5,flexDirection:"row",justifyContent:"space-evenly"},innerBorderStyle:{width:0},buttonContainerStyle:{marginHorizontal:4,flex:1},buttonStyle:{backgroundColor:t.accentSlight,borderRadius:50},textStyle:{color:oa.light.text,opacity:.5,fontSize:15,flexShrink:1},selectedButtonStyle:{backgroundColor:t.accent},selectedTextStyle:{color:oa.dark.text,opacity:1}}:"classic-rounded"===e?{containerStyle:{height:36,marginLeft:0,marginRight:0,borderColor:t.buttonGroupBorder,borderRadius:20,borderWidth:1},innerBorderStyle:{color:t.buttonGroupBorder,width:1},buttonStyle:{backgroundColor:t.cardBackground},textStyle:{color:t.text},selectedButtonStyle:{backgroundColor:t.accent},disabledStyle:{backgroundColor:t.cardBackground},disabledSelectedStyle:{backgroundColor:t.background},disabledSelectedTextStyle:{fontWeight:"bold"}}:"onboarding"===e?{containerStyle:{height:48,marginLeft:0,marginRight:0,borderRadius:12},innerBorderStyle:{color:t.buttonGroupBorder,width:1},buttonStyle:{backgroundColor:t.onboardingInputBackground},textStyle:{color:t.textLight},selectedTextStyle:{color:t.text},selectedButtonStyle:{backgroundColor:t.accentSlight},disabledStyle:{backgroundColor:t.cardBackground},disabledSelectedStyle:{backgroundColor:t.background},disabledSelectedTextStyle:{fontWeight:"bold"}}:{containerStyle:{height:35,marginLeft:0,marginRight:0,borderColor:t.buttonGroupBorder,borderWidth:1},innerBorderStyle:{color:t.buttonGroupBorder,width:1},buttonStyle:{backgroundColor:t.cardBackground},textStyle:{color:t.text},selectedButtonStyle:{backgroundColor:t.accent},disabledStyle:{backgroundColor:t.cardBackground},disabledSelectedStyle:{backgroundColor:t.background},disabledSelectedTextStyle:{fontWeight:"bold"}}}var Xf=Object(ia.j)((function(e){var t=pt.map((function(e){return I.a.t("degrees."+e)})),n=e.theme,r=e.style,o=e.degrees,a=e.styleVariant,i=e.onSelect,s=Ya()(e,["theme","style","degrees","styleVariant","onSelect"]),u=Zf(a,n);return c.createElement(ia.c,$t()({onPress:function(e){i&&i(("object"==typeof e?e:[e]).map((function(e){return pt[e]})))},selectMultiple:!0,selectedIndexes:o.map((function(e){return pt.indexOf(e)})),buttons:t},u,{containerStyle:[u.containerStyle,r]},s))}));function $f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ep=Lt,tp=function(e){Yo()(n,e);var t=$f(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.languages,n=e.onChange,r=e.multiple,o=Ya()(e,["languages","onChange","multiple"]);return c.createElement(Yf,$t()({single:!r,values:ep,genLabel:function(e){return"languageNames."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:I.a.t("languagePicker.placeholderMultiple"),multipleText:I.a.t("languagePicker.multiple"),searchablePlaceholder:I.a.t("languagePicker.searchPlaceholder")},o))}}]),n}(c.Component);var np=Object(ia.j)((function(e){var t=e.theme,n=e.roles,r=e.styleVariant,o=e.onSelect,a=Ya()(e,["theme","roles","styleVariant","onSelect"]),i=ht.map((function(e){return I.a.t("allRoles."+e)}));return c.createElement(ia.c,$t()({onPress:function(e){o&&o(("object"==typeof e?e:[e]).map((function(e){return ht[e]})))},selectMultiple:!0,selectedIndexes:n.map((function(e){return ht.indexOf(e)})),buttons:i},Zf(r,t),a))}));function rp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var op=function(e){Yo()(n,e);var t=rp(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.category,r=t.size,o=Ya()(t,["category","size"]),a=Nc("offers.categories."+n,(function(){return e.forceUpdate()})),i=r||75;return c.createElement(a,$t()({width:i,height:i},o))}}]),n}(c.Component);function ap(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ip=function(e){Yo()(n,e);var t=ap(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.containerStyle,n=e.category,r=e.theme,o=e.textStyle,a=e.iconProps,i=e.iconSize,s=e.fontSize,u=e.withoutIcon,l=cp(r),f="onboarding.offers"+(n[0].toUpperCase()+n.slice(1))+".title",p=i||75;return c.createElement(ca.a,{style:[l.container,t]},!u&&c.createElement(op,$t()({category:n,size:p},a)),c.createElement(ss,{text:I.a.t(f),textStyle:o,fontSize:s}))}}]),n}(c.Component),cp=aa((function(){return Xo.a.create({container:{flexDirection:"row",alignItems:"center",marginLeft:-10}})})),sp=Object(ia.j)(ip),up=n(530);function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var dp=Object(ka.b)((function(e){return{locale:e.settings.userSettings.locale}})),hp=function(e){Yo()(n,e);var t=pp(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).selectRef=c.createRef(),r.state={items:new Map,open:!1,tempSelected:e.selected||[]},r}return Rn()(n,[{key:"updateItems",value:function(){var e,t=this,n=this.props.locale;if(!this.state.items.has(n)||(null==(e=this.state.items.get(n))?void 0:e.length)!=this.props.values.length){var r=new Map(this.state.items);r.set(n,this.props.values.map((function(e){return{id:e.id,label:t.props.genSectionLabel?I.a.t(t.props.genSectionLabel(e.id)):e.id,children:e.items.map((function(e){return{id:e,label:t.props.genLabel?I.a.t(t.props.genLabel(e)):e}}))}}))),this.setState(fp(fp({},this.state),{},{items:r}))}}},{key:"componentDidMount",value:function(){this.updateItems()}},{key:"componentDidUpdate",value:function(e){e.locale==this.props.locale&&e.values.length==this.props.values.length||this.updateItems()}},{key:"open",value:function(){var e=this;this.selectRef.current?this.selectRef.current._toggleSelector():setTimeout((function(){e.selectRef.current&&e.selectRef.current._toggleSelector()}),250),this.setState(fp(fp({},this.state),{},{open:!0,tempSelected:this.props.selected||this.state.tempSelected}))}},{key:"close",value:function(e){this.state.open&&this.selectRef.current&&this.selectRef.current._toggleSelector(),this.setState(fp(fp({},this.state),{},{open:!1,tempSelected:e?this.state.tempSelected:this.props.selected||[]})),e&&this.apply(this.state.tempSelected)}},{key:"apply",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.locale,o=t.selected,a=t.genLabel,i=t.searchablePlaceholder,s=t.showChips,u=t.buttonStyleVariant,l=(t.onChange,Ya()(t,["theme","locale","selected","genLabel","searchablePlaceholder","showChips","buttonStyleVariant","onChange"])),f=this.state.tempSelected,p=Xs(n),d=yp(n),h=gp(n),m=fp({},$s(u,n)),g=o||[],y=this.state.items.get(r)?c.createElement(up.a,{ref:this.selectRef,items:this.state.items.get(r),onSelectedItemsChange:function(t){return e.setState(fp(fp({},e.state),{},{tempSelected:t}))},selectedItems:f,uniqueKey:"id",displayKey:"label",subKey:"children",onCancel:function(){return e.close(!1)},onConfirm:function(){return e.close(!0)},IconRenderer:Pi.a,icons:void 0,showDropDowns:!0,readOnlyHeadings:!0,showChips:!1,showCancelButton:!0,selectedIconOnLeft:!0,animateDropDowns:!1,hideSelect:!0,noResultsComponent:c.createElement($o.a,{style:h.noResultsText},I.a.t("noResultsFound")),searchIconComponent:c.createElement(Pi.a,{name:"search",style:h.searchIcon}),confirmText:I.a.t("apply"),searchPlaceholderText:i,colors:{primary:n.accent,cancel:n.error,success:n.okay,text:n.text,subText:n.textLight,searchPlaceholderTextColor:n.textLight,selectToggleTextColor:n.error,itemBackground:n.cardBackground,subItemBackground:n.cardBackground},confirmFontFamily:ha,itemFontFamily:ha,searchTextFontFamily:ha,subItemFontFamily:ha,styles:d}):c.createElement(c.Fragment,null);return c.createElement(ca.a,$t()({},l,{style:{position:"relative"}}),c.createElement(ca.a,null,c.createElement(va.a,{onPress:function(){return e.open()},style:m.button},c.createElement($o.a,{style:[m.text,0==g.length?m.textNoneSelected:{}]},I.a.t("picker.callToAction").replace("%d",g.length.toString()))),s&&c.createElement(Jl,{items:g,label:function(e){return a?I.a.t(a(e)):e},containerStyle:p.chipContainer,removable:!0,onRemove:function(t){var n=e.state.tempSelected.filter((function(e){return e!==t}));e.setState(fp(fp({},e.state),{},{tempSelected:n})),e.apply(n)}})),("android"===T.a.OS||"ios"===T.a.OS)&&c.createElement(ca.a,null,y),"web"===T.a.OS&&c.createElement(qi,{visible:this.state.open,noBackground:!0,fullWidth:!0,fullHeight:!0,renderContent:function(){return y}}))}}]),n}(c.Component);hp.defaultProps={items:[],showSelected:!0,selected:[]};var mp,gp=aa((function(e){return Xo.a.create({noResultsText:{textAlign:"center",color:e.text,fontSize:16,marginVertical:20},searchIcon:{fontSize:26,marginHorizontal:10,color:e.textLight}})})),yp=aa((function(e){return Xo.a.create({modalWrapper:{justifyContent:"center"},container:fp({backgroundColor:e.cardBackground},"web"===T.a.OS?{marginVertical:0,marginHorizontal:0,alignSelf:"center",maxWidth:700,maxHeight:"90%",boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.1)"}:{}),scrollView:fp({paddingVertical:10},"web"===T.a.OS?{overflowY:"auto"}:{}),searchBar:{backgroundColor:e.background},searchTextInput:{color:e.text},toggleIcon:{backgroundColor:e.cardBackground},subItem:{borderRadius:4,marginVertical:2},selectedItem:{backgroundColor:e.background},itemText:fp(fp({},da),{},{letterSpacing:1.5,fontSize:14,lineHeight:18,textTransform:"uppercase"}),subItemText:{marginLeft:5},separator:{marginVertical:8}})})),vp=dp(Object(ia.j)(hp));!function(e){e.GPQ="generic-programmes-qualifications",e.EDU="education",e.AH="arts-humanities",e.SSJI="social-sciences-journalism-information",e.BAL="business-administration-law",e.NSMS="natural-sciences-mathematics-statistics",e.ICT="information-communication-technologies",e.EMC="engineering-manufacturing-construction",e.AFFV="agriculture-forestry-fisheries-veterinary",e.HW="health-welfare",e.SER="services"}(mp||(mp={}));var bp,Ep=Object.values(mp);!function(e){e[e["basic-programmes-qualifications"]=0]="basic-programmes-qualifications",e[e["literacy-numeracy"]=1]="literacy-numeracy",e[e["personal-skills-development"]=2]="personal-skills-development",e[e.education=3]="education",e[e.arts=4]="arts",e[e.humanities=5]="humanities",e[e.languages=6]="languages",e[e["social-behavioural-sciences"]=7]="social-behavioural-sciences",e[e["journalism-information"]=8]="journalism-information",e[e["business-administration"]=9]="business-administration",e[e.law=10]="law",e[e["biological-related-sciences"]=11]="biological-related-sciences",e[e.environment=12]="environment",e[e["physical-sciences"]=13]="physical-sciences",e[e["mathematics-statistics"]=14]="mathematics-statistics",e[e["information-communication-technologies"]=15]="information-communication-technologies",e[e["engineering-engineering-trades"]=16]="engineering-engineering-trades",e[e["manufacturing-processing"]=17]="manufacturing-processing",e[e["architecture-construction"]=18]="architecture-construction",e[e.agriculture=19]="agriculture",e[e.forestry=20]="forestry",e[e.fisheries=21]="fisheries",e[e.veterinary=22]="veterinary",e[e.health=23]="health",e[e.welfare=24]="welfare",e[e["personal-services"]=25]="personal-services",e[e["hygiene-occupational-health-services"]=26]="hygiene-occupational-health-services",e[e["security-services"]=27]="security-services",e[e["transport-services"]=28]="transport-services"}(bp||(bp={}));var Sp=[{id:"basic-programmes-qualifications",category:mp.GPQ,subCategory:bp["basic-programmes-qualifications"]},{id:"literacy-numeracy",category:mp.GPQ,subCategory:bp["literacy-numeracy"]},{id:"personal-skills-development",category:mp.GPQ,subCategory:bp["personal-skills-development"]},{id:"education-science",category:mp.EDU,subCategory:bp.education},{id:"training-for-pre-school-teachers",category:mp.EDU,subCategory:bp.education},{id:"teacher-training-without-subject-specialisation",category:mp.EDU,subCategory:bp.education},{id:"teacher-training-with-subject-specialisation",category:mp.EDU,subCategory:bp.education},{id:"audio-visual-techniques-media-production",category:mp.AH,subCategory:bp.arts},{id:"fashion-interior-industrial-design",category:mp.AH,subCategory:bp.arts},{id:"fine-arts",category:mp.AH,subCategory:bp.arts},{id:"handicrafts",category:mp.AH,subCategory:bp.arts},{id:"music-performing-arts",category:mp.AH,subCategory:bp.arts},{id:"religion-theology",category:mp.AH,subCategory:bp.humanities},{id:"history-archaeology",category:mp.AH,subCategory:bp.humanities},{id:"philosophy-ethics",category:mp.AH,subCategory:bp.humanities},{id:"language-acquisition",category:mp.AH,subCategory:bp.languages},{id:"literature-linguistics",category:mp.AH,subCategory:bp.languages},{id:"economics",category:mp.SSJI,subCategory:bp["social-behavioural-sciences"]},{id:"political-sciences-civics",category:mp.SSJI,subCategory:bp["social-behavioural-sciences"]},{id:"psychology",category:mp.SSJI,subCategory:bp["social-behavioural-sciences"]},{id:"sociology-cultural-studies",category:mp.SSJI,subCategory:bp["social-behavioural-sciences"]},{id:"journalism-reporting",category:mp.SSJI,subCategory:bp["journalism-information"]},{id:"library-information-archival-studies",category:mp.SSJI,subCategory:bp["journalism-information"]},{id:"accounting-taxation",category:mp.BAL,subCategory:bp["business-administration"]},{id:"finance-banking-insurance",category:mp.BAL,subCategory:bp["business-administration"]},{id:"management-administration",category:mp.BAL,subCategory:bp["business-administration"]},{id:"marketing-advertising",category:mp.BAL,subCategory:bp["business-administration"]},{id:"secretarial-office-work",category:mp.BAL,subCategory:bp["business-administration"]},{id:"wholesale-retail-sales",category:mp.BAL,subCategory:bp["business-administration"]},{id:"work-skills",category:mp.BAL,subCategory:bp["business-administration"]},{id:"law",category:mp.BAL,subCategory:bp.law},{id:"biology",category:mp.NSMS,subCategory:bp["biological-related-sciences"]},{id:"biochemistry",category:mp.NSMS,subCategory:bp["biological-related-sciences"]},{id:"environmental-sciences",category:mp.NSMS,subCategory:bp.environment},{id:"natural-environments-wildlife",category:mp.NSMS,subCategory:bp.environment},{id:"chemistry",category:mp.NSMS,subCategory:bp["physical-sciences"]},{id:"earth-sciences",category:mp.NSMS,subCategory:bp["physical-sciences"]},{id:"physics",category:mp.NSMS,subCategory:bp["physical-sciences"]},{id:"mathematics",category:mp.NSMS,subCategory:bp["mathematics-statistics"]},{id:"statistics",category:mp.NSMS,subCategory:bp["mathematics-statistics"]},{id:"computer-use",category:mp.ICT,subCategory:bp["information-communication-technologies"]},{id:"database-network-design-administration",category:mp.ICT,subCategory:bp["information-communication-technologies"]},{id:"software-applications-development-analysis",category:mp.ICT,subCategory:bp["information-communication-technologies"]},{id:"chemical-engineering-processes",category:mp.EMC,subCategory:bp["engineering-engineering-trades"]},{id:"environmental-protection-technology",category:mp.EMC,subCategory:bp["engineering-engineering-trades"]},{id:"electricity-energy",category:mp.EMC,subCategory:bp["engineering-engineering-trades"]},{id:"electronics-automation",category:mp.EMC,subCategory:bp["engineering-engineering-trades"]},{id:"mechanics-metal-trades",category:mp.EMC,subCategory:bp["engineering-engineering-trades"]},{id:"motor-vehicles-ships-aircraft",category:mp.EMC,subCategory:bp["engineering-engineering-trades"]},{id:"food-processing",category:mp.EMC,subCategory:bp["manufacturing-processing"]},{id:"materials",category:mp.EMC,subCategory:bp["manufacturing-processing"]},{id:"textiles",category:mp.EMC,subCategory:bp["manufacturing-processing"]},{id:"mining-extraction",category:mp.EMC,subCategory:bp["manufacturing-processing"]},{id:"architecture-town-planning",category:mp.EMC,subCategory:bp["architecture-construction"]},{id:"building-civil-engineering",category:mp.EMC,subCategory:bp["architecture-construction"]},{id:"crop-livestock-production",category:mp.AFFV,subCategory:bp.agriculture},{id:"horticulture",category:mp.AFFV,subCategory:bp.agriculture},{id:"forestry",category:mp.AFFV,subCategory:bp.forestry},{id:"fisheries",category:mp.AFFV,subCategory:bp.fisheries},{id:"veterinary",category:mp.AFFV,subCategory:bp.veterinary},{id:"dental-studies",category:mp.HW,subCategory:bp.health},{id:"medicine",category:mp.HW,subCategory:bp.health},{id:"nursing-midwifery",category:mp.HW,subCategory:bp.health},{id:"medical-diagnostic-treatment-technology",category:mp.HW,subCategory:bp.health},{id:"therapy-rehabilitation",category:mp.HW,subCategory:bp.health},{id:"pharmacy",category:mp.HW,subCategory:bp.health},{id:"traditional-complementary-medicine-therapy",category:mp.HW,subCategory:bp.health},{id:"care-elderly-disabled-adults",category:mp.HW,subCategory:bp.welfare},{id:"child-care-youth-services",category:mp.HW,subCategory:bp.welfare},{id:"social-work-counselling",category:mp.HW,subCategory:bp.welfare},{id:"domestic-services",category:mp.SER,subCategory:bp["personal-services"]},{id:"hair-beauty-services",category:mp.SER,subCategory:bp["personal-services"]},{id:"hotel-restaurants-catering",category:mp.SER,subCategory:bp["personal-services"]},{id:"sports",category:mp.SER,subCategory:bp["personal-services"]},{id:"travel-tourism-leisure",category:mp.SER,subCategory:bp["personal-services"]},{id:"community-sanitation",category:mp.SER,subCategory:bp["hygiene-occupational-health-services"]},{id:"occupational-health-safety",category:mp.SER,subCategory:bp["hygiene-occupational-health-services"]},{id:"military-defence",category:mp.SER,subCategory:bp["security-services"]},{id:"protection-of-persons-property",category:mp.SER,subCategory:bp["security-services"]},{id:"transport-services",category:mp.SER,subCategory:bp["transport-services"]}],Op={};Ep.forEach((function(e){return Op[e]={id:e,items:[]}})),Sp.forEach((function(e){return Op[e.category].items.push(e.id)}));var Cp=Object.values(Op);function Rp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var wp=function(e){Yo()(n,e);var t=Rp(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.fields,n=e.onChange,r=Ya()(e,["fields","onChange"]);return c.createElement(vp,$t()({values:Cp,genLabel:function(e){return"educationFields."+e},genSectionLabel:function(e){return"educationFieldCategories."+e},selected:t,onChange:function(e){n&&n(e)},searchablePlaceholder:I.a.t("educationFieldsPicker.searchPlaceholder")},r))}}]),n}(c.Component);var Pp=aa((function(){return Xo.a.create({icon:{fontSize:20,marginRight:6}})})),Tp=Object(ia.j)((function(e){var t=e.staffRoles,n=e.multiple,r=e.atLeastOne,o=e.noOkUnderline,a=e.buttonStyle,i=e.buttonStyleVariant,s=e.onChange,u=e.theme,l=Pp(u);return c.createElement(iu,{values:mt,label:function(e){return I.a.t("staffRoles."+e)},placeholder:I.a.t("picker.callToAction").replace("%d",t.length+""),icon:function(e,t){return c.createElement(Pi.a,{name:gt[t],style:l.icon})},selected:t,buttonStyle:a,buttonStyleVariant:i,onSelect:function(e){s&&s(e)},multiple:n,atLeastOne:r,noOkUnderline:o})}));function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xp(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var jp=Object(ka.b)((function(e){return{offers:e.profile.offers,filters:e.matching.filters}})),_p=Object(ia.j)((function(e){var t=e.theme;return c.createElement(ca.a,{style:Fp(t).separator})})),Dp=c.createRef(),Ap=function(e){Yo()(n,e);var t=kp(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={localFilters:{offers:{},universities:[],degrees:[],languages:[],educationFields:[],staffRoles:[],types:[]}},r.haveFiltersChanged=!1,r}return Rn()(n,[{key:"updateLocalOfferFilters",value:function(e,t){this.haveFiltersChanged=!0,this.setState(Ip(Ip({},this.state),{},{localFilters:Ip(Ip({},this.state.localFilters),{},{offers:Ip(Ip({},this.state.localFilters.offers),{},p()({},e,t))})}))}},{key:"updateLocalFilters",value:function(e){this.haveFiltersChanged=!0,this.setState(Ip(Ip({},this.state),{},{localFilters:Ip(Ip({},this.state.localFilters),e)}))}},{key:"resetLocalFilters",value:function(){this.updateLocalFilters({offers:{},universities:[],degrees:[],languages:[],educationFields:[],staffRoles:[],types:[]})}},{key:"applyFilters",value:function(){var e;this.haveFiltersChanged&&this.props.dispatch((e=this.state.localFilters,{type:Qt.SET_FILTERS,filters:e}))}},{key:"componentDidMount",value:function(){this.updateLocalFilters(this.props.filters),this.haveFiltersChanged=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.offers,o=this.state.localFilters,a=Fp(n),i=Object.values(Gt).map((function(t){return c.createElement(ca.a,{key:t,style:a.sectionContainer},c.createElement(_p,null),c.createElement(sp,{category:t,iconSize:60,fontSize:24}),r.filter((function(e){return e.category==t})).map((function(t){return c.createElement(ca.a,{key:t.id,style:a.entryContainer},c.createElement($o.a,{style:a.entryLabel},I.a.t("allOffers."+t.id+".name")),c.createElement(Uf.a,{value:o.offers[t.id]||!1,onValueChange:function(n){return e.updateLocalOfferFilters(t.id,n)}}))})))}));return c.createElement(fa,null,c.createElement(yc.a,{style:a.scroll,contentContainerStyle:a.scrollContainer},c.createElement(va.a,{style:a.resetButton,onPress:function(){return e.resetLocalFilters()}},c.createElement($o.a,{style:a.resetButtonText},I.a.t("matching.filtering.buttonReset")),c.createElement(Pi.a,{name:"refresh",style:a.resetButtonIcon})),c.createElement(ca.a,{style:a.sectionContainer},c.createElement($o.a,{style:a.sectionTitle},I.a.t("matching.filtering.sectionGeneral")),c.createElement(ca.a,{style:a.entryContainer},c.createElement($o.a,{style:a.entryLabel},I.a.t("university")),c.createElement(ca.a,{style:a.entryControls},c.createElement(Qf,{universities:o.universities,showChips:!1,onChange:function(t){return e.updateLocalFilters({universities:t})}}),c.createElement(Mp,{onPress:function(){return e.updateLocalFilters({universities:[]})}}))),c.createElement(ca.a,{style:a.entryContainer},c.createElement($o.a,{style:a.entryLabel},I.a.t("spokenLanguages")),c.createElement(ca.a,{style:a.entryControls},c.createElement(tp,{languages:o.languages,multiple:!0,showChips:!1,onChange:function(t){return e.updateLocalFilters({languages:t})}}),c.createElement(Mp,{onPress:function(){return e.updateLocalFilters({languages:[]})}}))),c.createElement(ca.a,{style:a.entryContainer},c.createElement($o.a,{style:a.entryLabel},I.a.t("fieldsOfEducation")),c.createElement(ca.a,{style:a.entryControls},c.createElement(wp,{fields:o.educationFields,showChips:!1,onChange:function(t){return e.updateLocalFilters({educationFields:t})}}),c.createElement(Mp,{onPress:function(){return e.updateLocalFilters({educationFields:[]})}}))),c.createElement(ca.a,{style:a.twoLineEntryContainer},c.createElement($o.a,{style:a.entryLabel},I.a.t("profileTypes")),c.createElement(np,{roles:o.types,onSelect:function(t){return e.updateLocalFilters({types:t})},styleVariant:"classic-rounded"})),-1!=o.types.indexOf("student")&&c.createElement(ca.a,{style:a.twoLineEntryContainer},c.createElement($o.a,{style:a.entryLabel},I.a.t("levelOfStudy")),c.createElement(Xf,{degrees:o.degrees,onSelect:function(t){return e.updateLocalFilters({degrees:t})},style:{width:"100%"},styleVariant:"classic-rounded"})),-1!=o.types.indexOf("staff")&&c.createElement(ca.a,{style:a.twoLineEntryContainer},c.createElement($o.a,{style:a.entryLabel},I.a.t("positions")),c.createElement(ca.a,{style:a.entryControls},c.createElement(Tp,{staffRoles:o.staffRoles,onChange:function(t){return e.updateLocalFilters({staffRoles:t})},buttonStyle:{flex:1},multiple:!0,noOkUnderline:!0}),c.createElement(Mp,{onPress:function(){return e.updateLocalFilters({staffRoles:[]})}})))),i))}}]),n}(c.Component),Fp=aa((function(e){return Xo.a.create({scroll:{width:"100%"},scrollContainer:{flexDirection:"column",paddingHorizontal:40,paddingTop:10,paddingBottom:70,width:"100%"},sectionContainer:{width:"100%"},sectionTitle:{fontSize:20,letterSpacing:1,marginBottom:5,color:e.text},entryContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},twoLineEntryContainer:{flexDirection:"column"},entryLabel:{flex:1,fontSize:16,marginVertical:7,marginRight:10,color:e.textLight},entryControls:{flexDirection:"row",alignItems:"center",marginVertical:2},separator:{height:1,width:"100%",backgroundColor:"rgba(0, 0, 0, 0.1)",alignSelf:"center",marginVertical:15},resetButton:{width:"100%",maxWidth:200,paddingVertical:7,marginBottom:20,backgroundColor:e.accentSlight,flexDirection:"row",justifyContent:"center",alignItems:"center",alignSelf:"center",borderRadius:50,elevation:1},resetButtonText:{fontSize:14,textTransform:"uppercase",letterSpacing:1,color:oa.light.text},resetButtonIcon:{fontSize:16,color:oa.light.text,marginLeft:4}})})),Mp=Object(ia.j)((function(e){var t=e.theme,n=e.onPress;return c.createElement(va.a,{onPress:n},c.createElement(Pi.a,{name:"close",style:{fontSize:28,color:t.text}}))})),Lp=jp(Object(ia.j)((function(e){return c.createElement(Ap,$t()({ref:Dp},e))})));function Bp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Np=function(e){Yo()(n,e);var t=Bp(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"back",value:function(){var e=this.props.navigation;e.canGoBack()&&e.goBack()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.insets,o=t.scene,a=t.navigation,i=Up(n),s=Qu(n),u=M(o.route.name);return c.createElement(ca.a,{style:[{paddingTop:r.top},s.wrapper]},c.createElement(va.a,{style:{},onPress:function(){return e.back()}},c.createElement(Pi.a,{name:"close",style:i.actionIcon})),c.createElement($o.a,{style:[s.title,{textAlign:"center",flex:1}],numberOfLines:1},u),c.createElement(va.a,{style:{paddingVertical:10},onPress:function(){Dp.current&&Dp.current.applyFilters(),a.navigate("TabMatchingScreen"),Mo.dispatch(cn())}},c.createElement(Pi.a,{name:"check",style:i.actionIcon})))}}]),n}(c.Component),Up=aa((function(e){return Xo.a.create({actionIcon:{fontSize:28,color:e.text}})})),Gp=Object(ia.j)(Np);function Hp(e){return c.createElement(Gp,e)}function Vp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var zp=function(e){Yo()(n,e);var t=Vp(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.status,o=n.theme,a=n.containerStyle,i=n.textStyle,s=n.iconStyle,u=Wp(o),l=I.a.t("matching.history.status."+r);switch(r){case Vt.Blocked:e=Pi.a,t="block";break;case Vt.Declined:e=Pi.a,t="thumb-down";break;case Vt.Matched:e=Pi.a,t="people";break;case Vt.Requested:e=Pi.a,t="thumb-up"}return c.createElement(ca.a,{style:[u.container,a]},c.createElement(e,{style:[u.icon,s],name:t}),c.createElement($o.a,{style:[u.text,i]},l))}}]),n}(c.Component),Wp=aa((function(){return Xo.a.create({container:{flexDirection:"row",alignItems:"center"},icon:{marginRight:5,paddingTop:2},text:{fontSize:20}})})),qp=Object(ia.j)(zp);function Yp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Kp={sideMargin:10,borderRadius:10,minHeight:100},Jp=function(e){Yo()(n,e);var t=Yp(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).swipeableCardRef=c.createRef(),e.reportFormRef=c.createRef(),e.blockModalRef=c.createRef(),e}return Rn()(n,[{key:"getActions",value:function(e){var t=this,n=this.props,r=n.theme,o=n.item,a=o.id,i=o.status,c=Mo.dispatch,s={icon:"report",text:I.a.t("matching.history.actions.report"),backgroundColor:r.error,color:oa.dark.text,onPress:function(){var e;return null==(e=t.reportFormRef.current)?void 0:e.open()}},u={icon:"block",text:I.a.t("matching.history.actions.block"),backgroundColor:r.error,color:oa.dark.text,onPress:function(){var e;return null==(e=t.blockModalRef.current)?void 0:e.show()}},l={icon:"close",text:I.a.t("matching.history.actions.cancel."+i),backgroundColor:r.accent,color:oa.dark.text,onPress:function(){e(),c(yn(a))}};return i===Vt.Blocked?[s,l]:[s,u,l]}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.item,o=t.showSwipeTip,a=Qp(n),i=r.profile,s=i.firstName+" "+i.lastName;return c.createElement(c.Fragment,null,c.createElement(Zs,{ref:this.swipeableCardRef,looks:Kp,rightThreshold:100,overshootRight:!1,rightActions:function(t){return c.createElement(Ys,{id:r.profile.id+"-"+r.status,looks:Kp,side:"right",actions:e.getActions(t),buttonStyle:a.actionButton})}},c.createElement(ca.a,{style:a.cardContent},c.createElement(ca.a,{style:a.avatarContainer},c.createElement(Ju,{profile:i,size:60,rounded:!0,containerStyle:a.avatar,onPress:function(){return N(i.id,Mo.getState())}})),c.createElement(ca.a,{style:a.infoContainer},c.createElement($o.a,{style:a.name},s),i&&c.createElement(zl,{flagSize:14,flagEmoji:!0,style:[a.infoText,{marginLeft:-10}],university:i.university}),c.createElement(qp,{status:r.status,textStyle:a.infoText,iconStyle:a.infoText})),o&&c.createElement(nf,{direction:"left",iconStyle:a.swipeTipIcon}))),c.createElement(Ru,{ref:this.reportFormRef,entityType:cu.PROFILE_ENTITY,entity:i,onSubmit:function(){var t;return null==(t=e.swipeableCardRef.current)?void 0:t.resetSwipe()}}),c.createElement(Gl,{ref:this.blockModalRef,profile:i,onBlock:function(){var t;return null==(t=e.swipeableCardRef.current)?void 0:t.collapse()}}))}}]),n}(c.Component),Qp=aa((function(e){return Xo.a.create({cardContent:{flexDirection:"row",padding:10},avatarContainer:{justifyContent:"center",alignItems:"center"},avatar:{backgroundColor:e.accentSecondary},infoContainer:{flex:1,flexDirection:"column",justifyContent:"space-between",paddingLeft:10},name:{fontSize:18,letterSpacing:.8,color:e.text},infoText:{fontSize:15,letterSpacing:.5,color:e.textLight,flexShrink:1},swipeTipIcon:{color:e.textLight,fontSize:18},actionButton:{paddingHorizontal:5}})})),Zp=Object(ia.j)(Jp);function Xp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var $p=function(e){Yo()(n,e);var t=Xp(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).updateTimeout=null,e}return Rn()(n,[{key:"onChange",value:function(e){var t=this,n=this.props,r=n.bufferDelay,o=n.onBufferedUpdate;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((function(){t.updateTimeout=null,o&&o(e)}),r)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.bufferDelay,t.onBufferedUpdate,t.onChangeText),r=Ya()(t,["bufferDelay","onBufferedUpdate","onChangeText"]);return c.createElement(ia.f,$t()({onChangeText:function(t){n&&n(t),e.onChange(t)},style:["web"===T.a.OS&&{outline:"none"},r.style]},r))}}]),n}(c.Component);function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var rd=Object(ka.b)((function(e){return{historyItems:e.matching.historyItems,fetchingHistory:e.matching.historyPagination.fetching,canFetchMore:e.matching.historyPagination.canFetchMore,currentPage:e.matching.historyPagination.page,historyFilters:e.matching.historyFilters}})),od=function(e){Yo()(n,e);var t=nd(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).unsubscribeBlurEvent=null,r.state={search:""},r}return Rn()(n,[{key:"onBlur",value:function(){this.props.dispatch(hn())}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeBlurEvent=this.props.navigation.addListener("blur",(function(){return e.onBlur()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeBlurEvent&&this.unsubscribeBlurEvent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.historyItems,r=t.theme,o=t.historyFilters,a=t.fetchingHistory,i=t.canFetchMore,s=t.currentPage,u=t.navigation,f=this.state.search,d=id(r),h=this.props.dispatch,m=Yt;return c.createElement(fa,null,c.createElement(ca.a,{style:d.filtersContainer},m.map((function(e){return c.createElement(ad,{theme:r,key:"match-history-filter-"+e,filterKey:e,selected:o[e],onPress:function(){h(function(e){return{type:Qt.SET_HISTORY_FILTERS,filters:e}}(p()({},e,!o[e]))),h(hn())}})}))),c.createElement($p,{onBufferedUpdate:function(){return h(hn())},bufferDelay:250,placeholder:I.a.t("search"),onChangeText:function(t){return e.setState(td(td({},e.state),{},{search:t}))},value:f,containerStyle:d.searchBarContainer,inputContainerStyle:d.searchBarInputContainer,inputStyle:d.searchBarInput}),c.createElement(Gu,{navigation:u,fetchLimit:12,fetchMore:function(){return h(function(e){return function(t,n){var r,o,a,i,c,s,u,f,p;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(r=n(),o=r.auth.token,a=r.matching,i=a.historyPagination,c=a.historyFilters,!i.fetching&&i.canFetchMore){d.next=3;break}return d.abrupt("return");case 3:return t({type:Qt.FETCH_HISTORY_BEGIN}),d.next=6,l.a.awrap(W("matching/history","GET",{page:i.page,limit:12,status:Object.keys(c).filter((function(e){return c[e]})),search:e&&e.length>0?e:void 0},{},o,!0));case 6:(s=d.sent).status===U.OK?(f=(u=s).data.map(ie),p=u.meta.currentPage<u.meta.totalPages,t(dn(f,p))):t({type:Qt.FETCH_HISTORY_FAILURE});case 8:case"end":return d.stop()}}),null,null,null,Promise)}}(f))},fetching:a,canFetchMore:i,currentPage:s,items:n,id:function(e){return e.id},noResultsComponent:c.createElement(c.Fragment,null,c.createElement($o.a,{style:d.noResultsText1},I.a.t("matching.history.noResults")),c.createElement($o.a,{style:d.noResultsText2},I.a.t("matching.history.noResultsAdvice"))),refresh:function(){return h(hn())},refreshOnFocus:!0,renderItem:function(e,t){return c.createElement(Zp,{key:"history-card-"+e.id+"-"+e.status,item:e,onHidden:t,showSwipeTip:e.id===n[0].id})},itemsContainerStyle:d.itemsContainer}))}}]),n}(c.Component);function ad(e){var t=e.theme,n=e.selected,r=e.filterKey,o=e.onPress,a=id(t);return c.createElement(ia.b,{onPress:o,title:I.a.t("matching.history.status."+r),containerStyle:a.filterButtonContainer,buttonStyle:[a.filterButton,n?a.filterButtonSelected:{}],titleStyle:[a.filterLabel,n?a.filterLabelSelected:{}],raised:!1})}var id=aa((function(e){return Xo.a.create({topBar:{flexBasis:90,paddingTop:40,paddingHorizontal:20,width:"100%"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:20,height:1,width:"100%"},itemsContainer:{width:"100%",maxWidth:600,alignSelf:"center"},headerContainer:{flexDirection:"row",paddingRight:10},noResultsText1:{fontSize:20,letterSpacing:.75,color:e.text,marginVertical:5},noResultsText2:{fontSize:16,letterSpacing:.5,color:e.text},filtersContainer:{width:"100%",marginVertical:10,flexDirection:"row"},filterButtonContainer:{flex:1,marginHorizontal:15,borderRadius:25},filterButton:{height:40,backgroundColor:e.cardBackground},filterButtonSelected:{backgroundColor:e.accent},filterLabel:{color:e.text,fontSize:14,textTransform:"uppercase",letterSpacing:.6},filterLabelSelected:{color:oa.dark.text,fontWeight:"600"},filterIcon:{fontSize:18,color:e.text,marginRight:4},filterIconSelected:{color:oa.dark.text},searchBarContainer:{width:"100%",marginBottom:5,paddingVertical:0,paddingHorizontal:15,backgroundColor:"transparent",borderTopWidth:0,borderBottomWidth:0},searchBarInputContainer:{height:40,backgroundColor:e.cardBackground,elevation:2,borderRadius:25},searchBarInput:{fontSize:14}})})),cd=rd(Object(ia.j)(od)),sd=Object(Wo.a)(),ud=function(){return c.createElement(sd.Navigator,null,c.createElement(sd.Screen,{name:"TabMatchingScreen",options:function(){return{headerShown:!1,title:F("TabMatchingScreen")}}},(function(e){return c.createElement(c.Fragment,null,c.createElement(Mf,e),c.createElement(Nf,$t()({blur:!0},e)))})),c.createElement(sd.Screen,{name:"MatchFilteringScreen",component:Lp,options:{headerShown:!0,title:F("MatchFilteringScreen"),header:Hp}}),c.createElement(sd.Screen,{name:"MatchHistoryScreen",component:cd,options:{headerShown:!0,title:F("MatchHistoryScreen"),header:function(e){return c.createElement(tl,$t()({backButton:!0},e))}}}))},ld=n(334);function fd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var pd=function(e){Yo()(n,e);var t=fd(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.insets.bottom,r=Ya()(e,["theme","insets"]),o=dd(t);return c.createElement(xi.a,{style:o.blurViewStyle,tint:"dark"===t.id?"dark":"default",intensity:ga},c.createElement(ld.a,$t()({},r,{activeTintColor:t.accent,style:[o.tabBar,{paddingBottom:n}],tabStyle:o.tab,iconStyle:o.icon,showLabel:!1})))}}]),n}(c.Component),dd=aa((function(){return Xo.a.create({blurViewStyle:"web"===T.a.OS?{}:{position:"absolute",bottom:0,left:0,right:0},tabBar:{borderTopWidth:0,elevation:0,backgroundColor:"transparent"},tab:{flexDirection:"column",justifyContent:"center"},icon:{flex:1}})}));function hd(e){var t=e.name,n=e.color;return c.createElement(Pi.a,{size:26,name:t,color:n})}var md=function(e){var t=Object(Uc.e)();return c.createElement(ia.g,null,(function(n){return c.createElement(pd,$t()({insets:t},n,e))}))};function gd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var yd=function(e){Yo()(n,e);var t=gd(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.group,n=Ya()(e,["group"]),r=Mo.dispatch,o=t.requiresApproval&&t.myStatus!==qt.InvitedByAdmin,a=t.description.length>0?t.description:I.a.t("groups.description.none");return s.a.createElement(Xi,$t()({ref:this.modalRef,title:t.name,text:a,justifyText:!0},o?{additionalContent:function(e,t){return s.a.createElement($o.a,$t()({},t,{style:[t.style,{fontSize:14}]}),I.a.t("groups.invite.approvalDisclaimerInvitee"))}}:{},{buttons:[{preset:"delete",text:I.a.t("groups.invite.decline"),onPress:function(e){var n=Mo.getState().profile.user;n&&r(Gr(t.id,n.id,!1)),e()}},{preset:"confirm",text:I.a.t("groups.invite.accept"),onPress:function(e){var n=Mo.getState().profile.user;n&&r(Vr(t.id,n.id,o?qt.Pending:qt.Approved)),e()}}]},n))}}]),n}(s.a.Component),vd=Object(ia.j)(yd);function bd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ed=function(e){Yo()(n,e);var t=bd(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).inviteResponseModalRef=c.createRef(),e}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.group,r=t.theme,o=t.style,a=t.isInvite,i=Ya()(t,["group","theme","style","isInvite"]),s=Sd(r);return c.createElement(va.a,$t()({style:[s.container,n&&!n.cover?s.containerWithoutCover:{},o],activeOpacity:.9,onPress:function(){var t;n&&(a?null==(t=e.inviteResponseModalRef.current)||t.show():B(n.id))}},i),n&&c.createElement(c.Fragment,null,n.cover&&c.createElement(ls.a,{style:s.groupCover,source:{uri:n.cover},resizeMode:"cover"}),!n.cover&&c.createElement(ps,{style:s.groupCover,imageKey:"group-placeholder",resizeMode:"cover"}),c.createElement(xi.a,{style:s.textUnderlay,tint:"dark",intensity:5}),c.createElement($o.a,{style:s.groupName,numberOfLines:3},null==n?void 0:n.name)),n&&a&&c.createElement(vd,{ref:this.inviteResponseModalRef,group:n}))}}]),n}(c.Component),Sd=aa((function(e){return Xo.a.create({container:{width:90,height:90,borderRadius:15,marginRight:10,overflow:"hidden"},containerWithoutCover:{borderWidth:Xo.a.hairlineWidth,borderColor:e.componentBorder},groupCover:{position:"absolute",width:"100%",height:"100%"},textUnderlay:{position:"absolute",width:"100%",height:"100%"},groupName:{color:oa.dark.text,textShadowColor:"rgba(0, 0, 0, 0.7)",textShadowOffset:{width:1,height:1},textShadowRadius:10,margin:5,zIndex:1}})})),Od=Object(ia.j)(Ed);function Cd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Rd=Object(ka.b)((function(e){return{myGroups:e.groups.myGroups,groupsDict:e.groups.groupsDict,pagination:e.groups.myGroupsPagination}})),wd=function(e){Yo()(n,e);var t=Cd(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.myGroups,r=e.groupsDict,o=e.pagination,a=e.navigation,i=e.dispatch,s=Pd(t);return c.createElement(ca.a,{style:s.container},c.createElement(ca.a,{style:s.titleWrapper},c.createElement($o.a,{style:s.title},I.a.t("groups.myGroups.title")),c.createElement(Oa,{text:I.a.t("groups.explore.button"),icon:c.createElement(Pi.a,{name:"explore",style:s.exploreIcon}),iconLeft:!0,style:s.exploreButton,textStyle:s.exploreButtonText,onPress:function(){return j("MainScreen",{screen:"TabGroups",params:{screen:"GroupsExploreScreen"}})}})),c.createElement(Gu,{navigation:a,fetchLimit:8,fetchMore:function(){return i(Qr())},fetching:o.fetching,canFetchMore:o.canFetchMore,currentPage:o.page,items:n.map((function(e){return r[e]})),id:function(e){return e.id},horizontal:!0,hideScrollIndicator:!0,noResultsComponent:c.createElement($o.a,{style:s.noResultsText},I.a.t("groups.myGroups.none")),refresh:function(){return i(Jr())},renderItem:function(e){return c.createElement(Od,{key:e.id,group:e})},itemsContainerStyle:s.itemsContainer}))}}]),n}(c.Component),Pd=aa((function(e){return Xo.a.create({container:{width:"100%",paddingTop:10,paddingBottom:20,backgroundColor:e.cardBackground},titleWrapper:{width:"100%",marginBottom:20,paddingHorizontal:15,flexDirection:"row",justifyContent:"space-between"},title:{fontSize:22,color:e.text},itemsContainer:{paddingHorizontal:15},noResultsText:{fontSize:16,maxWidth:200,textAlign:"center",color:e.textLight},exploreButton:{paddingHorizontal:15,paddingVertical:5,borderRadius:100,backgroundColor:e.background,justifyContent:"center"},exploreButtonText:{fontSize:14,color:e.text},exploreIcon:{fontSize:24,color:e.textLight,marginRight:4}})})),Td=Rd(Object(ia.j)(wd));function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var jd=function(e){Yo()(n,e);var t=kd(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).inputRef=s.a.createRef(),r.state={focused:!1,value:"",height:0},r}return Rn()(n,[{key:"focus",value:function(){var e;null==(e=this.inputRef.current)||e.focus()}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}},{key:"send",value:function(){var e,t=this.props.onSend,n=this.state.value;this.setState(Id(Id({},this.state),{},{value:"",height:40})),null==(e=this.inputRef.current)||e.blur(),t&&t(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.theme,o=this.state.value,a=_d(r),i=Math.max(40,this.state.height),c=o.length<2?s.a.createElement(s.a.Fragment,null):s.a.createElement(Oa,{style:a.inputButton,onPress:function(){return e.send()},icon:s.a.createElement(Pi.a,{name:"send",style:a.inputButtonIcon})});return s.a.createElement(ca.a,{style:[a.wrapper,{height:i},n,this.state.focused?a.focusedStyle:{}]},s.a.createElement(Ka.a,{ref:this.inputRef,style:[a.input,this.state.focused&&"web"===T.a.OS&&{outline:"none"},this.state.focused&&a.inputFocusedStyle],onBlur:function(){e.onBlur(),e.setState({focused:!1})},onFocus:function(){e.onFocus(),e.setState({focused:!0})},placeholder:I.a.t("groups.comments.placeholder"),multiline:!0,numberOfLines:4,maxLength:1200,value:o,placeholderTextColor:r.textLight,onChangeText:function(t){return e.setState(Id(Id({},e.state),{},{value:t}))},onContentSizeChange:function(t){return e.setState({height:Math.min(100,t.nativeEvent.contentSize.height)})}}),s.a.createElement(ca.a,null,c))}}]),n}(s.a.Component),_d=aa((function(e){return Xo.a.create({wrapper:{flexDirection:"row",alignItems:"center",width:"100%",backgroundColor:e.onboardingInputBackground,borderRadius:20},focusedStyle:{borderWidth:Xo.a.hairlineWidth,borderColor:e.componentBorder},inputFocusedStyle:{},input:{paddingLeft:20,paddingVertical:10,flex:1,height:"100%",backgroundColor:"transparent"},inputButton:{padding:10},inputButtonIcon:{fontSize:24,color:e.accent}})})),Dd=Object(ia.j)(jd);function Ad(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Fd=function(e){Yo()(n,e);var t=Ad(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.groupId,n=e.post,r=e.comment,o=e.vote,a=e.currentStatus,i=e.theme,s=e.style,u=e.iconStyle,f=Md(i),p=Mo.dispatch,d=o===a;return c.createElement(Oa,{onPress:function(){var e=d?J.Neutral:o;p(function(e,t,n,r,o){return function(a,i){var c,s,u,f;return l.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(c=i(),s=c.auth.token,f="groups/"+e+"/votes/"+((u=null!==n)?"comment":"post")+"/"+(n||t),a(u?fo(e,t,n,r):uo(e,t,r)),r!==J.Neutral){p.next=12;break}return p.next=9,l.a.awrap(W(f,"DELETE",{},{},s));case 9:p.t0=p.sent,p.next=22;break;case 12:if(o!==J.Neutral){p.next=18;break}return p.next=15,l.a.awrap(W(f,"POST",{},{voteType:r},s));case 15:p.t1=p.sent,p.next=21;break;case 18:return p.next=20,l.a.awrap(W(f,"PATCH",{},{voteType:r},s));case 20:p.t1=p.sent;case 21:p.t0=p.t1;case 22:p.t0.status===U.OK&&a(n?po(e,t,n,r):lo(e,t,r));case 24:case"end":return p.stop()}}),null,null,null,Promise)}}(t,n.id,(null==r?void 0:r.id)||null,e,a))},icon:c.createElement(Pi.a,{name:o===J.Upvote?"arrow-upward":"arrow-downward",style:[f.icon,u,f.iconOverride,d&&f.nonNeutralIcon]}),style:s})}}]),n}(c.Component),Md=aa((function(e){return Xo.a.create({icon:{fontSize:20},iconOverride:{color:oa.light.textLight,opacity:.5},nonNeutralIcon:{color:e.accent,opacity:1}})})),Ld=Object(ia.j)(Fd);function Bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bd(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ud(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Gd=function(e){Yo()(n,e);var t=Ud(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).modalRef=s.a.createRef(),r.state={text:e.comment.text,error:void 0},r}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this,t=this.props,n=t.groupId,r=t.post,o=t.comment,a=t.theme,i=Ya()(t,["groupId","post","comment","theme"]),c=this.state,u=c.text,f=c.error,p=Hd(a),d=Mo.dispatch,h={wrapperStyle:{flex:1},style:{flex:1},inputStyle:{fontSize:16,paddingVertical:10,paddingHorizontal:5,color:a.text,textAlignVertical:"top"},placeholderTextColor:a.inputPlaceholder};return s.a.createElement(Xi,$t()({title:I.a.t("groups.editComment.title"),buttons:[{preset:"cancel"},{preset:"confirm",onPress:function(e){u!=o.text&&d(function(e,t,n,r){return function(o,a){var i,c,s,u,f,p,d,h;return l.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(i=a(),c=i.auth.token,s=i.groups,c){m.next=3;break}return m.abrupt("return",{success:!1});case 3:return m.next=5,l.a.awrap(W("groups/"+e+"/posts/"+t+"/comments/"+n,"PATCH",{},r,c));case 5:if(u=m.sent,f=sr(s,e,t,n),u.status!==U.OK){m.next=14;break}return d=u.data,h=le(d,null==f?void 0:f.parentId,null==f?void 0:f.depth,null==(p=a().profile.user)?void 0:p.profile),o(oo(e,t,h)),m.abrupt("return",{success:!0});case 14:return m.abrupt("return",{success:!1,errors:Te(u)});case 15:case"end":return m.stop()}}),null,null,null,Promise)}}(n,r.id,o.id,{text:u})),e()}}],additionalContent:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ci,$t()({value:u,onChangeText:function(t){Dt.validate(t).then((function(){return e.setState(Nd(Nd({},e.state),{},{text:t,error:void 0}))})).catch((function(n){return e.setState(Nd(Nd({},e.state),{},{text:t,error:n.errors[0]||void 0}))}))},multiline:!0,numberOfLines:4,maxLength:1200},h)),s.a.createElement(Oi,{error:f}))},contentContainerStyle:p.contentContainer},i))}}]),n}(s.a.Component),Hd=aa((function(){return Xo.a.create({contentContainer:{height:200}})})),Vd=Object(ia.j)(Gd);function zd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Wd=function(e){Yo()(n,e);var t=zd(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.groupId,n=e.post,r=e.comment,o=e.theme,a=Ya()(e,["groupId","post","comment","theme"]);return s.a.createElement(Xi,$t()({title:I.a.t("groups.deleteComment.title"),text:I.a.t("groups.deleteComment.text"),icon:function(e){return s.a.createElement(d.a,$t()({name:"warning",color:o.error},e))},buttons:[{preset:"cancel"},{preset:"delete",onPress:function(e){e(),Mo.dispatch(function(e,t,n){return function(r,o){var a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(a=o().auth.token){c.next=3;break}return c.abrupt("return",{success:!1});case 3:return c.next=5,l.a.awrap(W("groups/"+e+"/posts/"+t+"/comments/"+n,"DELETE",{},{},a));case 5:if((i=c.sent).status!==U.NO_CONTENT){c.next=11;break}return r(ao(e,t,n)),c.abrupt("return",{success:!0});case 11:return c.abrupt("return",{success:!1,errors:Te(i)});case 12:case"end":return c.stop()}}),null,null,null,Promise)}}(t,n.id,r.id))}}]},a))}}]),n}(s.a.Component),qd=Object(ia.j)(Wd),Yd=n(524);function Kd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Jd=function(e){Yo()(n,e);var t=Kd(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=Ya()(e,["children"]);return c.createElement(Yd.a,n,t)}}]),n}(c.Component);function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var $d=Object(ka.b)((function(e){return{localUser:e.profile.user}})),eh=function(e){Yo()(n,e);var t=Xd(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).bottomHeight=new jc.c.Value(0),r.state={expanded:!1},r}return Rn()(n,[{key:"setExpanded",value:function(e){var t=this,n=this.props,r=n.onExpand,o=n.onCollapse;this.setState(Zd(Zd({},this.state),{},{expanded:e})),Gc(this.bottomHeight,{toValue:e?35:0,duration:100,easing:jc.a.linear}),!e&&o&&o(),e&&r&&r((function(){return t.setExpanded(!1)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.comment,r=t.post,o=t.groupId,a=t.closeComments,i=t.onPressReplyTo,s=t.localUser,u=t.theme,l=t.adminView,f=t.toggleChildren,p=Ya()(t,["comment","post","groupId","closeComments","onPressReplyTo","localUser","theme","adminView","toggleChildren"]),d=this.state.expanded,h=th(d)(u),m=n&&s&&n.creator.id===s.id,g=n?n.creator.firstName+" "+n.creator.lastName:"",y=(null==n?void 0:n.depth)||0;return c.createElement(va.a,$t()({style:[h.outerContainer,d?h.outerContainerExpanded:{}],activeOpacity:.9,onPress:function(){return e.setExpanded(!e.state.expanded)},onLongPress:function(){return f()},delayLongPress:250},p),c.createElement(ca.a,{style:[h.innerContainer,d?h.innerContainerExpanded:{},{marginLeft:8*y,borderLeftWidth:y>0?4:0}]},c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},c.createElement(Ju,{profile:null==n?void 0:n.creator,size:32,containerStyle:h.avatarContainer,rounded:!0,onPress:function(){n&&(a(),N(n.creator.id,Mo.getState()))}}),c.createElement(ca.a,{style:h.content},c.createElement(ca.a,{style:{flexDirection:"row"}},c.createElement($o.a,{style:[h.topText,h.name]},g),c.createElement($o.a,{style:[h.topText,{flex:1}],numberOfLines:1},n&&", "+function(e){var t=e.createdAt,n=e.updatedAt.getTime()!=t.getTime(),r=at(t),o=0===r?I.a.t("groups.justCommented"):""+r;return n&&(o+=" ("+I.a.t("groups.edited")+")"),o}(n)),c.createElement($o.a,{style:h.topText},n?0===n.score?I.a.t("groups.points.zero"):1===n.score?I.a.t("groups.points.singular"):I.a.t("groups.points.plural",{num:n.score}):"")),c.createElement(Jd,{numberOfLines:3,renderTruncatedFooter:function(e){return c.createElement(va.a,{activeOpacity:.7,onPress:e},c.createElement($o.a,{style:[h.text,h.textFooter]},"... ",I.a.t("showMore")))},renderRevealedFooter:function(e){return c.createElement(va.a,{activeOpacity:.7,onPress:e},c.createElement($o.a,{style:[h.text,h.textFooter]},I.a.t("showLess")))}},c.createElement($o.a,{style:h.text},null==n?void 0:n.text)))),r&&n&&c.createElement(jc.c.View,{style:[h.bottom,{height:this.bottomHeight,opacity:d?1:0}]},c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},m&&c.createElement(Vd,{groupId:o,post:r,comment:n,activator:function(e){return c.createElement(Oa,{style:h.bottomButton,icon:c.createElement(Pi.a,{style:h.bottomButtonIcon,name:"edit"}),onPress:e})}}),(l||m)&&c.createElement(qd,{groupId:o,post:r,comment:n,activator:function(e){return c.createElement(Oa,{style:h.bottomButton,icon:c.createElement(Pi.a,{style:h.bottomButtonIcon,name:"delete"}),onPress:e})}}),!m&&c.createElement(Ru,{entityType:cu.COMMENT_ENTITY,entity:n,activator:function(e){return c.createElement(Oa,{style:h.bottomButton,icon:c.createElement(Pi.a,{style:h.bottomButtonIcon,name:"report"}),onPress:e})}})),c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},c.createElement(Oa,{style:h.bottomButton,icon:c.createElement(Pi.a,{style:h.bottomButtonIcon,name:"reply"}),onPress:i}),c.createElement(Ld,{groupId:o,post:r,comment:n,style:h.bottomButton,currentStatus:n.voteStatus,vote:J.Upvote}),c.createElement(Ld,{groupId:o,post:r,comment:n,style:h.bottomButton,currentStatus:n.voteStatus,vote:J.Downvote})))))}}]),n}(c.Component),th=function(e){return aa((function(t){return Xo.a.create({outerContainer:{width:"100%",backgroundColor:t.cardBackground},outerContainerExpanded:{},innerContainer:{borderLeftColor:t.componentBorder,padding:10},innerContainerExpanded:{backgroundColor:t.accentSlight},bottom:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between",overflow:"hidden"},avatarContainer:{backgroundColor:t.accentSlight,marginRight:8},topText:{fontSize:13,color:oa.light.textLight},name:Zd({},"ios"===T.a.OS?{fontWeight:"600"}:{}),content:{flex:1},text:{fontSize:13,color:e?oa.light.text:t.text},textFooter:{color:t.accent},bottomButton:{marginHorizontal:10},bottomButtonIcon:{fontSize:24,color:oa.light.textLight}})}))},nh=$d(Object(ia.j)(eh)),rh=n(525);function oh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ah=c.createRef(),ih=function(e){Yo()(n,e);var t=oh(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={style:r.getDefaultStyle()},r}return Rn()(n,[{key:"getThemeOverride",value:function(){var e,t,n=null==(e=k.current)||null==(t=e.getCurrentRoute())?void 0:t.name;return Rl[n]}},{key:"getDefaultStyle",value:function(){return"dark"==this.props.theme.id?"light":"dark"}},{key:"setStyle",value:function(e){var t=e||this.getDefaultStyle();t!==this.state.style&&(this.setState({style:t}),this.forceUpdate())}},{key:"getStyle",value:function(){return this.state.style}},{key:"componentDidMount",value:function(){var e=this,t=k.current;t&&t.addListener("state",(function(){var t=e.getThemeOverride();e.setStyle(t)}))}},{key:"render",value:function(){var e=this.state.style;return c.createElement(rh.StatusBar,{style:e})}}]),n}(c.Component),ch=Object(ia.j)((function(e){return c.createElement(ih,$t()({ref:ah},e))}));function sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var fh=function(e){Yo()(n,e);var t=lh(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).modalRef=c.createRef(),r.commentTextInputRef=c.createRef(),r.collapseCurrentlyExpanded=null,r.initialStatusBarStyle=void 0,r.createCommentComponent=function(e,t){var n=r.props,o=n.post,a=n.groupId,i=n.adminView,s=o.comments[e],u=s.childrenIds.map((function(e){return r.createCommentComponent(e,t)})),l=c.createRef();return c.createElement(c.Fragment,{key:a+"-"+o.id+"-comment-"+s.id},c.createElement(nh,{groupId:a,post:o,comment:s,closeComments:t,onPressReplyTo:function(){return r.setReplyingTo(s)},onExpand:function(e){r.collapseCurrentlyExpanded&&r.collapseCurrentlyExpanded(),r.collapseCurrentlyExpanded=e,za.a.dismiss()},onCollapse:function(){r.collapseCurrentlyExpanded=null,za.a.dismiss()},toggleChildren:function(){var e;return null==(e=l.current)?void 0:e.toggle()},adminView:i}),c.createElement(ph,{ref:l},u))},r.state={replyingTo:null},r}return Rn()(n,[{key:"show",value:function(){var e,t,n;null==(e=this.modalRef.current)||e.show();var r=this.props.theme;this.initialStatusBarStyle=null==(t=ah.current)?void 0:t.getStyle(),null==(n=ah.current)||n.setStyle("dark"===r.id?"light":"dark")}},{key:"setReplyingTo",value:function(e){var t;if(e&&e.parentId&&e.depth>=3){var n=this.props.post.comments[e.parentId];if(n)return void this.setReplyingTo(n)}this.setState(uh(uh({},this.state),{},{replyingTo:e})),null!==e&&(null==(t=this.commentTextInputRef.current)||t.focus())}},{key:"fetchFirstComments",value:function(){var e=this.props.post;e&&0===e.commentIds.length&&(1===e.commentsPagination.page&&this.fetchMore())}},{key:"fetchMore",value:function(){var e=this.props,t=e.groupId,n=e.post,r=Mo.dispatch;n&&n.commentsPagination.canFetchMore&&!n.commentsPagination.fetching&&r(function(e,t){return function(n,r){var o,a,i,c,s,u,f,p;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(o=r(),a=o.auth.token,i=o.groups,(c=cr(i,e,t))&&!c.commentsPagination.fetching&&c.commentsPagination.canFetchMore){d.next=4;break}return d.abrupt("return");case 4:return n(_r(e,t)),d.next=7,l.a.awrap(W("groups/"+e+"/posts/"+t+"/comments","GET",{page:c.commentsPagination.page,limit:20},{},a));case 7:(s=d.sent).status===U.OK?(f=(u=s).data.flatMap((function(e){return le(e)})),p=u.meta.currentPage<u.meta.totalPages,n(Dr(e,t,f,p))):n(Ar(e,t));case 9:case"end":return d.stop()}}),null,null,null,Promise)}}(t,n.id))}},{key:"componentDidUpdate",value:function(e){var t=e.post.commentsPagination,n=this.props.post.commentsPagination;t.page>1&&1===n.page&&this.fetchFirstComments()}},{key:"render",value:function(){var e=this,t=this.props,n=t.post,r=t.groupId,o=t.theme,a=this.state.replyingTo,i=dh(o),s=Mo.dispatch,u=n.commentsPagination;return c.createElement(Uc.b.Consumer,null,(function(t){return c.createElement(qi,{ref:e.modalRef,animationType:"slide",fullHeight:!0,statusBarTranslucent:!0,modalViewStyle:{paddingTop:null==t?void 0:t.top,paddingBottom:null==t?void 0:t.bottom,paddingHorizontal:0,width:"100%",maxWidth:1e3},onShow:function(){return e.fetchFirstComments()},onHide:function(){var t;e.setReplyingTo(null),null==(t=ah.current)||t.setStyle(e.initialStatusBarStyle)},renderContent:function(t){return c.createElement(ca.a,{style:i.container},c.createElement(ca.a,{style:i.top},c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},c.createElement(Oa,{style:i.topButton,icon:c.createElement(Pi.a,{name:"close",style:i.topButtonIcon}),onPress:t})),c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},c.createElement($o.a,{style:i.points},0===n.score?I.a.t("groups.points.zero"):1===n.score?I.a.t("groups.points.singular"):I.a.t("groups.points.plural",{num:n.score})),c.createElement(Ld,{groupId:r,post:n,currentStatus:n.voteStatus,vote:J.Upvote,style:i.topButton,iconStyle:i.topButtonIcon}),c.createElement(Ld,{groupId:r,post:n,currentStatus:n.voteStatus,vote:J.Downvote,style:i.topButton,iconStyle:i.topButtonIcon}))),c.createElement(yc.a,{keyboardShouldPersistTaps:"handled",contentContainerStyle:i.comments,refreshControl:c.createElement(Fu.a,{refreshing:u.fetching,onRefresh:function(){return s(function(e,t){return{type:or.FETCH_POST_COMMENTS_REFRESH,groupId:e,postId:t}}(r,n.id))}})},0===n.commentIds.length&&!u.fetching&&c.createElement($o.a,{style:i.noCommentsText},I.a.t("groups.comments.none")),n.commentIds.map((function(r){return!n.comments[r].parentId&&e.createCommentComponent(r,t)})),u.fetching&&n.commentIds.length>0&&c.createElement(Ia.a,{size:"large",color:o.accent}),u.canFetchMore&&!u.fetching&&c.createElement(va.a,{style:i.viewMoreComments,onPress:function(){return e.fetchMore()}},c.createElement($o.a,{style:i.viewMoreCommentsText},"View more (",n.commentsCount-n.commentIds.length,")"))),c.createElement(ca.a,{style:i.bottom},c.createElement(ca.a,{style:i.replyToContainer},a&&c.createElement(c.Fragment,null,c.createElement(Oa,{style:i.replyToClose,icon:c.createElement(Pi.a,{name:"close",style:i.replyToCloseIcon}),onPress:function(){return e.setReplyingTo(null)}}),c.createElement($o.a,{style:i.replyToText},I.a.t("groups.comments.replyTo",{name:a.creator.firstName+" "+a.creator.lastName})))),c.createElement(Dd,{ref:e.commentTextInputRef,onSend:function(t){var o={text:t,parentId:(null==a?void 0:a.id)||void 0};s(function(e,t,n){return function(r,o){var a,i,c,s,u,f,p,d;return l.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(a=o(),i=a.auth.token,c=a.groups,i){h.next=3;break}return h.abrupt("return",{success:!1});case 3:return r(no(e,t)),s=0,n.parentId&&(u=sr(c,e,t,n.parentId))&&(s=u.depth+1),h.next=8,l.a.awrap(W("groups/"+e+"/posts/"+t+"/comments","POST",{},n,i));case 8:if((f=h.sent).status!==U.CREATED){h.next=16;break}return d=le(f.data,n.parentId||null,s,null==(p=o().profile.user)?void 0:p.profile)[0],r(ro(e,t,d,n.parentId||null)),h.abrupt("return",{success:!0});case 16:return r({type:or.CREATE_COMMENT_FAILURE}),h.abrupt("return",{success:!1,errors:Te(f)});case 18:case"end":return h.stop()}}),null,null,null,Promise)}}(r,n.id,o)),e.setState(uh(uh({},e.state),{},{replyingTo:null}))}})))}})}))}}]),n}(c.Component),ph=function(e){Yo()(n,e);var t=lh(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).EXTRA_HEIGHT_OFFSET=100,e.initialHeight=0,e.maxHeight=new jc.c.Value(1e6),e.open=!0,e}return Rn()(n,[{key:"toggle",value:function(){this.open=!this.open;var e=this.open?this.initialHeight+this.EXTRA_HEIGHT_OFFSET:0;Gc(this.maxHeight,{toValue:e,duration:250,easing:jc.a.cubic})}},{key:"render",value:function(){var e=this;return c.createElement(jc.c.View,{style:{maxHeight:this.maxHeight,overflow:"hidden"},onLayout:function(t){var n=t.nativeEvent.layout.height;n>e.initialHeight&&(e.initialHeight=n,e.open&&e.maxHeight.setValue(e.initialHeight+e.EXTRA_HEIGHT_OFFSET))}},this.props.children)}}]),n}(c.Component),dh=aa((function(e){return Xo.a.create({container:{width:"100%",height:"100%",backgroundColor:e.cardBackground,padding:0,marginBottom:15},top:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},comments:{paddingBottom:30},bottom:{justifyContent:"space-between",paddingHorizontal:20,paddingTop:2,paddingBottom:7,borderTopWidth:Xo.a.hairlineWidth,borderColor:e.componentBorder,backgroundColor:e.cardBackground},points:{color:e.text,fontSize:14,marginRight:5},topButton:{padding:10},topButtonIcon:{fontSize:24,color:e.textLight},noCommentsText:{fontSize:16,color:e.textLight,alignSelf:"center",textAlign:"center",marginTop:25,maxWidth:250},replyToContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginVertical:2},replyToText:{color:e.textLight},replyToClose:{padding:5},replyToCloseIcon:{color:e.textLight,fontSize:20},viewMoreComments:{paddingVertical:15,paddingHorizontal:10,backgroundColor:e.accentSlight},viewMoreCommentsText:{color:e.accent}})})),hh=Object(ia.j)(fh);function mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var vh=Object(ka.b)((function(e){return{localUser:e.profile.user}}),null,null,{forwardRef:!0}),bh=ft.c().shape({text:_t}),Eh=function(e){Yo()(n,e);var t=yh(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).submitForm=rt.noop,r.textInputRef=c.createRef(),r.state={submitting:!1},r}return Rn()(n,[{key:"getCreationDto",value:function(e){return{type:"simple",text:e.text}}},{key:"initialState",value:function(){var e=this.props.post;return e?{text:e.text}:{text:""}}},{key:"submit",value:function(e){var t=this,n=this.props,r=n.groupId,o=n.post,a=n.onSuccessfulSubmit,i=Mo.dispatch;this.setState(gh(gh({},this.state),{},{submitting:!0}));var c=this.getCreationDto(e);i(void 0===o?function(e,t){return function(n,r){var o,a,i,c,s;return l.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(o=r().auth.token){u.next=3;break}return u.abrupt("return",{success:!1});case 3:return n(Xr(e)),u.next=6,l.a.awrap(W("groups/"+e+"/posts","POST",{},t,o));case 6:if((a=u.sent).status!==U.CREATED){u.next=14;break}return c=a.data,s=ue(c,null==(i=r().profile.user)?void 0:i.profile),n($r(e,s)),u.abrupt("return",{success:!0});case 14:return n({type:or.CREATE_POST_FAILURE}),u.abrupt("return",{success:!1,errors:Te(a)});case 16:case"end":return u.stop()}}),null,null,null,Promise)}}(r,c):function(e,t,n){return function(r,o){var a,i,c,s,u;return l.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(a=o().auth.token){f.next=3;break}return f.abrupt("return",{success:!1});case 3:return f.next=5,l.a.awrap(W("groups/"+e+"/posts/"+t,"PATCH",{},n,a));case 5:if((i=f.sent).status!==U.OK){f.next=13;break}return s=i.data,u=ue(s,null==(c=o().profile.user)?void 0:c.profile),r(eo(e,u)),f.abrupt("return",{success:!0});case 13:return f.abrupt("return",{success:!1,errors:Te(i)});case 14:case"end":return f.stop()}}),null,null,null,Promise)}}(r,o.id,c)).then((function(n){var r=n.success,o=n.errors;if(t.setState({remoteErrors:o,submitting:!1}),o&&o.fields){var i=o.fields;Object.keys(i).forEach((function(e){return t.setFieldError&&t.setFieldError(e,we(i[e]))}))}r&&a&&a(e)}))}},{key:"triggerSubmit",value:function(){var e;null==(e=this.textInputRef.current)||e.blur(),this.submitForm()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.post,o=t.containerStyle,a=t.localUser,i=this.state,s=i.remoteErrors,u=i.submitting,l=Sh(n),f=void 0===r,p=r?r.creator:null==a?void 0:a.profile;return c.createElement(ca.a,{style:o},c.createElement(ca.a,{style:l.top},c.createElement(Ju,{profile:p,rounded:!0,size:42,containerStyle:l.creatorAvatar}),c.createElement($o.a,{style:l.creatorName},null==p?void 0:p.firstName," ",null==p?void 0:p.lastName)),c.createElement(ca.a,{style:l.formContent},c.createElement(Wa.a,{initialValues:this.initialState(),validationSchema:bh,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,a=t.errors,i=t.touched,p=t.handleChange,d=t.handleBlur,h=t.setFieldError,m={handleChange:p,handleBlur:d,wrapperStyle:{flex:1},style:{flex:1},inputStyle:{fontSize:20,paddingVertical:10,color:n.text,textAlignVertical:"top"},errorTextStyle:{textAlign:"center",marginBottom:0},placeholderTextColor:n.inputPlaceholder};return e.setFieldError=h,e.submitForm=t.submitForm,c.createElement(c.Fragment,null,c.createElement($o.a,{style:[l.lengthText,o.text.length>3e3?l.lengthTextError:{}]},o.text.length,"/",3e3),c.createElement(fi,$t()({ref:e.textInputRef,field:"text",placeholder:I.a.t("groups.editPost.contentPlaceholder"),error:a.text,value:o.text,touched:i.text,multiline:!0},m)),c.createElement(Oi,{error:xe(s)}),c.createElement(ca.a,{style:l.actionsContainer},c.createElement(wi,{onPress:function(){return r()},style:[l.button,l.buttonSubmit],skin:"rounded-filled",text:I.a.t("groups."+(f?"newPost":"editPost")+".submit"),submitting:u})))}))))}}]),n}(c.Component),Sh=aa((function(e){return Xo.a.create({top:{flexDirection:"row",alignItems:"center"},formContent:{flex:1},creatorAvatar:{marginRight:10},creatorName:{color:e.text,fontSize:18},lengthText:{fontSize:14,color:e.textLight,marginTop:10},lengthTextError:{color:e.error},actionsContainer:{width:"100%",flexDirection:"row",justifyContent:"center"},button:{flex:1,maxWidth:300},buttonSubmit:{}})})),Oh=vh(Object(ia.j)(Eh));function Ch(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Rh=function(e){Yo()(n,e);var t=Ch(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e.editPostFormRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this,t=this.props,n=t.groupId,r=t.post,o=t.theme,a=Ya()(t,["groupId","post","theme"]),i=wh(o),c=void 0===r;return s.a.createElement(qi,$t()({ref:this.modalRef,animationType:"slide",nonDismissable:!0,fullWidth:!0,fullHeight:!0,statusBarTranslucent:!0,modalViewStyle:{paddingVertical:0,paddingHorizontal:0},renderContent:function(t){return s.a.createElement(Uc.b.Consumer,null,(function(o){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ca.a,{style:[i.top,{paddingTop:null==o?void 0:o.top}]},s.a.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(va.a,{style:i.topButton,onPress:t},s.a.createElement(Pi.a,{name:"arrow-back",style:i.topButtonIcon})),s.a.createElement($o.a,{style:i.title},I.a.t("groups."+(c?"newPost":"editPost")+".title"))),s.a.createElement(va.a,{style:i.topButton,onPress:function(){var t;return null==(t=e.editPostFormRef.current)?void 0:t.triggerSubmit()}},s.a.createElement(Pi.a,{name:c?"send":"check",style:i.topButtonIcon}))),s.a.createElement(Oh,{ref:e.editPostFormRef,containerStyle:[i.form,{paddingBottom:null==o?void 0:o.bottom}],groupId:n,post:r,onSuccessfulSubmit:t}))}))}},a))}}]),n}(s.a.Component),wh=aa((function(e){return Xo.a.create({top:{width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:5,marginBottom:10,backgroundColor:e.accent},title:{fontSize:18,color:oa.dark.text},topButton:{padding:10,marginRight:5},topButtonIcon:{fontSize:24,color:oa.dark.text},form:{width:"90%",flex:1,marginTop:10}})})),Ph=Object(ia.j)(Rh);function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Th(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ih(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var kh=function(e){Yo()(n,e);var t=Ih(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={enlarged:!1},r}return Rn()(n,[{key:"showEnlarged",value:function(){this.setState(xh(xh({},this.state),{},{enlarged:!0}))}},{key:"hideEnlarged",value:function(){this.setState(xh(xh({},this.state),{},{enlarged:!1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.children,o=t.profile,a=Ya()(t,["theme","children","profile"]),i=this.state.enlarged,s=jh(n);return c.createElement(c.Fragment,null,c.createElement(Ju,$t()({profile:o},a,a.source||null!=o&&o.avatarUrl?{onPress:function(){a.onPress&&a.onPress(),e.showEnlarged()}}:{}),r),c.createElement(qi,{visible:i,onHide:function(){return e.hideEnlarged()},fullWidth:!0,noBackground:!0,backdropOpacity:.5,modalViewStyle:s.modal,renderContent:function(){return c.createElement(Ju,{profile:o,source:a.source,containerStyle:s.enlargedAvatarContainer,avatarStyle:s.enlargedAvatar,activeOpacity:.8,onPress:function(){return e.hideEnlarged()},rounded:!0})}}))}}]),n}(c.Component),jh=aa((function(){return Xo.a.create({modal:{aspectRatio:1,paddingHorizontal:20,paddingVertical:20,maxWidth:400,maxHeight:400},enlargedAvatar:{borderRadius:300},enlargedAvatarContainer:{width:"100%",height:"100%"}})})),_h=Object(ia.j)(kh);function Dh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ah=function(e){Yo()(n,e);var t=Dh(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.profile,n=e.subtitle,r=e.isFeed,o=e.group,a=e.openPostMenu,i=e.theme,s=Fh(i),u=t?t.firstName+" "+t.lastName:"",l=r?o?o.name:"":u,f=function(){return o&&o.myStatus===qt.Approved&&B(o.id)},p=function(){return t&&N(t.id,Mo.getState())};return c.createElement(ca.a,{style:s.container},c.createElement(ca.a,{style:s.left},r?c.createElement(va.a,{onPress:f},o&&o.cover&&c.createElement(ls.a,{style:s.groupCover,source:{uri:o.cover},resizeMode:"cover"}),o&&!o.cover&&c.createElement(ps,{style:s.groupCover,imageKey:"group-placeholder",resizeMode:"cover"})):c.createElement(_h,{profile:t||void 0,size:40,containerStyle:s.avatarContainer,rounded:!0}),c.createElement(ca.a,null,c.createElement(va.a,{onPress:r?f:p},c.createElement($o.a,{style:s.name},l)),r&&c.createElement(va.a,{style:{flexDirection:"row",alignItems:"center"},onPress:p},c.createElement(_h,{profile:t||void 0,size:20,containerStyle:s.avatarContainerSmall,rounded:!0}),c.createElement($o.a,{style:s.subtitle},u)),c.createElement($o.a,{style:s.subtitle},n))),c.createElement(Oa,{style:s.menuButton,icon:c.createElement(Ti.a,{name:"dots-horizontal",style:s.menuButtonIcon}),onPress:a}))}}]),n}(c.Component),Fh=aa((function(e){return Xo.a.create({container:{flexDirection:"row",justifyContent:"space-between",width:"100%"},left:{flexDirection:"row",alignItems:"center",flex:1},avatarContainer:{backgroundColor:e.accentSlight,marginRight:10},avatarContainerSmall:{backgroundColor:e.accentSlight,marginRight:5},name:{fontSize:16,color:e.text},subtitle:{fontSize:13,color:e.textLight},menuButton:{paddingHorizontal:10,paddingBottom:10},menuButtonIcon:{fontSize:24,color:e.textLight},groupCover:{width:45,height:45,borderRadius:45,marginRight:10}})})),Mh=Object(ia.j)(Ah);function Lh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Bh=function(e){Yo()(n,e);var t=Lh(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.groupId,n=e.post,r=e.theme,o=Ya()(e,["groupId","post","theme"]),a=Mo.dispatch;return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.deletePost.title"),text:I.a.t("groups.deletePost.text"),icon:function(e){return s.a.createElement(d.a,$t()({name:"warning",color:r.error},e))},buttons:[{preset:"cancel"},{preset:"delete",onPress:function(){return a(function(e,t){return function(n,r){var o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=r().auth.token){i.next=3;break}return i.abrupt("return",{success:!1});case 3:return i.next=5,l.a.awrap(W("groups/"+e+"/posts/"+t,"DELETE",{},{},o));case 5:if((a=i.sent).status!==U.NO_CONTENT){i.next=11;break}return n(to(e,t)),i.abrupt("return",{success:!0});case 11:return i.abrupt("return",{success:!1,errors:Te(a)});case 12:case"end":return i.stop()}}),null,null,null,Promise)}}(t,n.id))}}]},o))}}]),n}(s.a.Component),Nh=Object(ia.j)(Bh);function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Vh=Object(ka.b)((function(e){return{localUser:e.profile.user}}),null,null,{forwardRef:!0}),zh=function(e){Yo()(n,e);var t=Hh(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).actionMenuRef=c.createRef(),r.editPostModalRef=c.createRef(),r.deletePostModalRef=c.createRef(),r.reportFormRef=c.createRef(),r.state={post:null,group:null},r}return Rn()(n,[{key:"show",value:function(e,t){var n;null==(n=this.actionMenuRef.current)||n.show(),this.setState(Gh(Gh({},this.state),{},{group:e,post:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.localUser,o=this.state,a=o.post,i=o.group,s=a&&a.creator.id===(null==r?void 0:r.id),u=i&&i.myRole==Wt.Admin,l={icon:function(e){return c.createElement(Pi.a,{style:e,name:"edit"})},text:I.a.t("groups.editPost.title"),onSelect:function(){var t;return null==(t=e.editPostModalRef.current)?void 0:t.show()}},f={icon:function(e){return c.createElement(Pi.a,{style:e,name:"delete"})},text:I.a.t("groups.deletePost.title"),containerStyle:{backgroundColor:n.error},textStyle:{color:"white"},onSelect:function(){var t;return null==(t=e.deletePostModalRef.current)?void 0:t.show()}},p={icon:function(e){return c.createElement(Pi.a,{style:e,name:"report"})},text:I.a.t("groups.reportPost"),containerStyle:{backgroundColor:n.error},textStyle:{color:"white"},onSelect:function(){var t;return null==(t=e.reportFormRef.current)?void 0:t.open()}},d=[];return s&&d.push(l),(s||u)&&d.push(f),s||d.push(p),d.push({preset:"close"}),c.createElement(c.Fragment,null,c.createElement(Is,{ref:this.actionMenuRef,title:I.a.t("groups.postMenu.title"),actions:d}),a&&c.createElement(Ph,{ref:this.editPostModalRef,groupId:a.groupId,post:a}),a&&c.createElement(Nh,{ref:this.deletePostModalRef,groupId:a.groupId,post:a}),a&&c.createElement(Ru,{ref:this.reportFormRef,entity:a,entityType:cu.POST_ENTITY}))}}]),n}(c.Component),Wh=Vh(Object(ia.j)(zh));function qh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Yh=Object(ka.b)((function(e){return{groupsDict:e.groups.groupsDict}})),Kh=function(e){Yo()(n,e);var t=qh(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).commentsModalRef=c.createRef(),e.editPostModalRef=c.createRef(),e.menuRef=c.createRef(),e}return Rn()(n,[{key:"openComments",value:function(){var e;null==(e=this.commentsModalRef.current)||e.show()}},{key:"componentDidMount",value:function(){this.fetchGroupIfNeeded()}},{key:"componentDidUpdate",value:function(e){var t=this.props.post;!t||e.post&&e.post.id===t.id||this.fetchGroupIfNeeded()}},{key:"fetchGroupIfNeeded",value:function(){var e=this.props,t=e.post,n=e.groupsDict,r=e.dispatch;if(t){var o=t.groupId;n[o]||r(Sr(o))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.post,r=t.isFeed,o=t.groupsDict,a=t.theme,i=Jh(a),s=(null==n?void 0:n.groupId)||null,u=s&&o[s]||null,l=(null==u?void 0:u.myRole)==Wt.Admin;return c.createElement(va.a,{style:i.container,activeOpacity:.9},c.createElement(ca.a,{style:i.top},c.createElement(Mh,{profile:(null==n?void 0:n.creator)||null,subtitle:n&&it(n),group:u,isFeed:r,openPostMenu:function(){var t;return u&&n&&(null==(t=e.menuRef.current)?void 0:t.show(u,n))}})),n&&c.createElement(Jd,{numberOfLines:5,renderTruncatedFooter:function(e){return c.createElement(va.a,{activeOpacity:.7,onPress:e},c.createElement($o.a,{style:[i.postText,i.textFooter]},"... ",I.a.t("showMore")))},renderRevealedFooter:function(e){return c.createElement(va.a,{activeOpacity:.7,onPress:e},c.createElement($o.a,{style:[i.postText,i.textFooter]},I.a.t("showLess")))}},c.createElement($o.a,{style:i.postText},null==n?void 0:n.text)),c.createElement(ca.a,{style:i.bottom},c.createElement(va.a,{onPress:function(){return e.openComments()}},c.createElement($o.a,{style:i.bottomText},n?0===n.score?I.a.t("groups.points.zero"):1===n.score?I.a.t("groups.points.singular"):I.a.t("groups.points.plural",{num:n.score}):""),c.createElement($o.a,{style:i.bottomText},n&&I.a.t("groups.comments."+(0===n.commentsCount?"zero":1===n.commentsCount?"singular":"plural"),{num:n.commentsCount}))),s&&n&&c.createElement(ca.a,{style:{flexDirection:"row"}},c.createElement(Ld,{groupId:s,post:n,currentStatus:n.voteStatus,vote:J.Upvote,style:i.bottomButton,iconStyle:i.bottomButtonIcon}),c.createElement(Ld,{groupId:s,post:n,currentStatus:n.voteStatus,vote:J.Downvote,style:i.bottomButton,iconStyle:i.bottomButtonIcon}))),s&&n&&c.createElement(c.Fragment,null,c.createElement(hh,{ref:this.commentsModalRef,groupId:s,post:n,adminView:l}),c.createElement(Ph,{ref:this.editPostModalRef,groupId:s,post:n})),c.createElement(Wh,{ref:this.menuRef}))}}]),n}(c.Component),Jh=aa((function(e){return Xo.a.create({container:{width:"100%",backgroundColor:e.cardBackground,padding:10,marginBottom:15,borderRadius:10},top:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},bottom:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:10},postText:{fontSize:16,color:e.text,lineHeight:21},textFooter:{color:e.accent},bottomText:{fontSize:13,color:e.textLight},bottomButton:{marginLeft:15,padding:5},bottomButtonIcon:{fontSize:24,color:e.textLight}})})),Qh=Yh(Object(ia.j)(Kh));function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zh(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var em=function(e){Yo()(n,e);var t=$h(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.text,o=tm(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement(va.a,{activeOpacity:.5,onPress:function(){var t;return null==(t=e.modalRef.current)?void 0:t.show()}},this.props.children),s.a.createElement(qi,{ref:this.modalRef,onHide:function(){return e.setState(Xh(Xh({},e.state),{},{shown:!1}))},modalViewStyle:o.container,renderContent:function(){return s.a.createElement($o.a,{style:o.text},r)}}))}}]),n}(s.a.Component),tm=aa((function(e){return Xo.a.create({text:{textAlign:"justify",paddingVertical:10,fontSize:14,color:oa.light.text},container:{alignContent:"center",borderRadius:4,paddingHorizontal:20,width:250,paddingVertical:0,backgroundColor:e.accentSlight}})})),nm=Object(ia.j)(em);function rm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var om=Object(ka.b)((function(e){return{pagination:e.groups.feedPagination,postIds:e.groups.postsFeedIds,posts:e.groups.postsFeed}})),am=function(e){Yo()(n,e);var t=rm(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.pagination,n=e.postIds,r=e.posts,o=e.top,a=e.navigation,i=e.theme,s=im(i),u=this.props.dispatch;return c.createElement(Gu,{top:c.createElement(c.Fragment,null,o,c.createElement(ca.a,{style:s.titleWrapper},c.createElement(nm,{text:I.a.t("groups.feed.help")},c.createElement(Pi.a,{style:s.feedTooltipIcon,name:"help-outline"})),c.createElement($o.a,{style:s.title},I.a.t("groups.feed.title")))),navigation:a,fetchLimit:6,fetchMore:function(){return u(Pr())},fetching:t.fetching,canFetchMore:t.canFetchMore,currentPage:t.page,refreshOnFocus:!0,items:n.map((function(e){return r[e]})),id:function(e){return e.id},hideScrollIndicator:!0,endOfItemsComponent:c.createElement($o.a,{style:s.noResultsText},I.a.t("groups.noMorePosts")),noResultsComponent:c.createElement($o.a,{style:s.noResultsText},I.a.t("groups.noPosts")),refresh:function(){u(Jr()),u(Jr(!0)),u(wr())},renderItem:function(e){return c.createElement(Qh,{key:e.id,post:e,isFeed:!0})},progressViewOffset:250,keyboardShouldPersistTaps:"handled"})}}]),n}(c.Component),im=aa((function(e){return Xo.a.create({titleWrapper:{flexDirection:"row",alignItems:"center",paddingHorizontal:15,paddingVertical:10},title:{fontSize:20,marginLeft:5,color:e.text},noResultsText:{color:e.textLight,fontSize:16},feedTooltipIcon:{fontSize:20,color:e.textLight}})})),cm=om(Object(ia.j)(am));function sm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var um=Object(ka.b)((function(e){return{invites:e.groups.myGroupInvites,groupsDict:e.groups.groupsDict,pagination:e.groups.myGroupInvitesPagination}})),lm=function(e){Yo()(n,e);var t=sm(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.invites,r=e.groupsDict,o=e.pagination,a=e.navigation,i=fm(t),s=this.props.dispatch,u=n.length>0;return c.createElement(ca.a,{style:[i.container,!u&&{display:"none"}]},c.createElement(ca.a,{style:i.titleWrapper},c.createElement($o.a,{style:i.title},I.a.t("groups.invites"))),c.createElement(Gu,{navigation:a,fetchLimit:8,fetchMore:function(){return s(Qr(!0))},fetching:o.fetching,canFetchMore:o.canFetchMore,currentPage:o.page,items:n.map((function(e){return r[e]})),id:function(e){return e.id},horizontal:!0,hideScrollIndicator:!0,refreshOnFocus:!0,noResultsComponent:c.createElement(c.Fragment,null),refresh:function(){return s(Jr(!0))},renderItem:function(e){return c.createElement(Od,{key:e.id,group:e,isInvite:!0})},itemsContainerStyle:i.itemsContainer}))}}]),n}(c.Component),fm=aa((function(e){return Xo.a.create({container:{width:"100%",paddingTop:10,paddingBottom:20,backgroundColor:e.cardBackground,marginVertical:20},titleWrapper:{width:"100%",marginBottom:20,paddingHorizontal:15},title:{fontSize:22,color:e.text},itemsContainer:{paddingHorizontal:15},noResultsText:{fontSize:16,maxWidth:200,textAlign:"center",color:e.textLight}})})),pm=um(Object(ia.j)(lm));function dm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var hm=function(e){Yo()(n,e);var t=dm(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).scrollerRef=c.createRef(),e.successModalRef=c.createRef(),e}return Rn()(n,[{key:"render",value:function(){var e=this.props.navigation;return c.createElement(fa,null,c.createElement(cm,{top:c.createElement(c.Fragment,null,c.createElement(Td,{navigation:e}),c.createElement(pm,{navigation:e})),navigation:e}))}}]),n}(c.Component);function mm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var gm=Xo.a.create({wrapper:{flexDirection:"row",alignItems:"center"},label:{flex:1,marginLeft:20}}),ym=function(e){Yo()(n,e);var t=mm(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.showErrorText,n=e.untouched,r=e.error,o=e.value,a=e.label,i=e.wrapperStyle,c=e.labelStyle,u=e.errorStyle,l=e.errorTextStyle,f=Ya()(e,["showErrorText","untouched","error","value","label","wrapperStyle","labelStyle","errorStyle","errorTextStyle"]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ca.a,{style:[gm.wrapper,i,r?u:{}]},s.a.createElement(ia.d,$t()({checked:o},f)),a&&s.a.createElement($o.a,{style:[gm.label,c]},a)),t&&!n&&r&&s.a.createElement(ni,{style:l,error:r}))}}]),n}(s.a.Component);function vm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}ym.defaultProps={untouched:!1,wrapperStyle:[],errorStyle:[],labelStyle:[],errorTextStyle:[]};var bm=function(e){Yo()(n,e);var t=vm(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.touched,r=e.setFieldValue,o=e.setFieldTouched,a=e.error,i=e.value,c=Ya()(e,["field","touched","setFieldValue","setFieldTouched","error","value"]);return s.a.createElement(ym,$t()({error:n?a:void 0,value:i,untouched:!n},c,{onPress:function(){r(t,!i),o(t,!0)}}))}}]),n}(s.a.Component);function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Em(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Om(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}bm.defaultProps={wrapperStyle:[],errorStyle:[],labelStyle:[],errorTextStyle:[]};var Cm=ft.c().shape({name:jt}),Rm=function(e){Yo()(n,e);var t=Om(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={submitting:!1},r}return Rn()(n,[{key:"getCreationDto",value:function(e){return{name:e.name,visible:e.visible,requiresApproval:e.requiresApproval,description:""}}},{key:"submit",value:function(e){var t=this,n=this.props.onSuccessfulSubmit;this.setState(Sm(Sm({},this.state),{},{submitting:!0}));var r,o=this.getCreationDto(e);Mo.dispatch((r=o,function(e,t){var n,o,a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t().auth.token,o=lr(lr({},r),{},{name:r.name.trim()}),s.next=4,l.a.awrap(W("groups","POST",{},o,n));case 4:if((a=s.sent).status!==U.CREATED){s.next=12;break}return i=a.data,c=lr(lr({},ce(i)),{},{myStatus:qt.Approved,myRole:Wt.Admin}),e(fr(c)),s.abrupt("return",{success:!0});case 12:return e({type:or.CREATE_FAILURE}),s.abrupt("return",{success:!1,errors:Te(a)});case 14:case"end":return s.stop()}}),null,null,null,Promise)})).then((function(r){var o=r.success,a=r.errors;if(t.setState({remoteErrors:a,submitting:!1}),a&&a.fields){var i=a.fields;Object.keys(i).forEach((function(e){return t.setFieldError&&t.setFieldError(e,we(i[e]))}))}o&&n&&n(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=t.onCancel,a=this.state,i=a.remoteErrors,s=a.submitting,u=wm(n);return c.createElement(ca.a,{style:r},c.createElement(ca.a,{style:u.titleWrapper},c.createElement(Pi.a,{name:"group",style:u.titleIcon}),c.createElement($o.a,{style:u.title},I.a.t("groups.create.title"))),c.createElement(Wa.a,{initialValues:{name:"",visible:!1,requiresApproval:!1},validationSchema:Cm,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,a=t.values,l=t.errors,f=t.touched,p=t.handleChange,d=t.handleBlur,h=t.setFieldError,m=t.setFieldValue,g=t.setFieldTouched,y=Sm({handleChange:p,handleBlur:d},yi(n,15)),v=Sm({setFieldValue:m,setFieldTouched:g},vi(n));return e.setFieldError=h,c.createElement(c.Fragment,null,c.createElement(fi,$t()({field:"name",placeholder:I.a.t("groups.create.name"),error:l.name,value:a.name,touched:f.name,label:I.a.t("groups.create.name")},y)),c.createElement(bm,$t()({field:"visible",error:l.visible,value:a.visible,touched:f.visible,label:I.a.t("groups.create.visible")},v)),c.createElement($o.a,{style:u.fieldDescription},I.a.t("groups.create.visibleDescription."+a.visible)),c.createElement(bm,$t()({field:"requiresApproval",error:l.requiresApproval,value:a.requiresApproval,touched:f.requiresApproval,label:I.a.t("groups.create.requireApproval")},v)),c.createElement($o.a,{style:u.fieldDescription},I.a.t("groups.create.requireApprovalDescription."+a.requiresApproval)),c.createElement(Oi,{error:xe(i)}),c.createElement(ca.a,{style:u.actionsContainer},c.createElement(Oa,{onPress:function(){o&&o()},style:[u.button,u.buttonCancel],skin:"rounded-hollow",text:I.a.t("cancel")}),c.createElement(wi,{onPress:function(){return r()},style:[u.button,u.buttonSubmit],skin:"rounded-filled",text:I.a.t("groups.create.submit"),submitting:s})))})))}}]),n}(c.Component),wm=aa((function(e){return Xo.a.create({titleWrapper:{width:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginBottom:20},titleIcon:{fontSize:32,color:e.textLight},title:{fontSize:22,color:e.text,marginLeft:10},fieldDescription:{color:e.textLight,fontSize:14,lineHeight:18,marginBottom:20},actionsContainer:{width:"100%",flexDirection:"row",marginTop:30},button:{flex:1},buttonCancel:{marginRight:10},buttonSubmit:{marginLeft:10}})})),Pm=Object(ia.j)(Rm);function Tm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var xm=function(e){Yo()(n,e);var t=Tm(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this,t=$t()({},this.props);return s.a.createElement(Uc.b.Consumer,null,(function(n){return s.a.createElement(qi,$t()({ref:e.modalRef,animationType:"slide",nonDismissable:!0,fullWidth:!0,fullHeight:!0,statusBarTranslucent:!0,modalViewStyle:{paddingTop:30+((null==n?void 0:n.top)||0),paddingBottom:30+((null==n?void 0:n.bottom)||0),paddingHorizontal:30},renderContent:function(e){return s.a.createElement(Pm,{onCancel:e,onSuccessfulSubmit:e})}},t))}))}}]),n}(s.a.Component),Im=Object(ia.j)(xm);function km(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var jm=function(e){Yo()(n,e);var t=km(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=Ya()(e,["theme"]);return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.joinRequestSent.title"),text:I.a.t("groups.joinRequestSent.text"),justifyText:!0,icon:function(e){return s.a.createElement(Pi.a,$t()({name:"done",color:t.okay},e))},buttons:[{preset:"confirm"}]},n))}}]),n}(s.a.Component),_m=Object(ia.j)(jm);function Dm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Am=function(e){Yo()(n,e);var t=Dm(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.group,r=Ya()(e,["theme","group"]);return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.groupJoined.title"),text:I.a.t("groups.groupJoined.text",{name:n.name}),justifyText:!0,icon:function(e){return s.a.createElement(Pi.a,$t()({name:"done",color:t.okay},e))},buttons:[{preset:"confirm"},{backgroundColor:t.accent,text:I.a.t("groups.groupJoined.viewGroup"),onPress:function(e){e(),B(n.id)}}]},r))}}]),n}(s.a.Component),Fm=Object(ia.j)(Am);function Mm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Lm=function(e){Yo()(n,e);var t=Mm(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.group,r=e.onJoinGroup,o=Ya()(e,["theme","group","onJoinGroup"]),a=n.description.length>0?n.description:I.a.t("groups.description.none");return s.a.createElement(Xi,$t()({ref:this.modalRef,title:n.name,text:a,additionalContent:function(e,t){return s.a.createElement(s.a.Fragment,null,n.requiresApproval&&s.a.createElement($o.a,t,I.a.t("groups.create.requireApproval")))},justifyText:!0,buttons:[{preset:"cancel"},{backgroundColor:t.accent,text:I.a.t("groups.join"),onPress:function(e){e(),r()}}]},o))}}]),n}(s.a.Component),Bm=Object(ia.j)(Lm);function Nm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Um=function(e){Yo()(n,e);var t=Nm(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).descriptionModalRef=c.createRef(),e.requestSentModalRef=c.createRef(),e.joinedModalRef=c.createRef(),e.cardRef=c.createRef(),e}return Rn()(n,[{key:"join",value:function(){var e,t,n=this.props.group;n&&(Mo.dispatch(function(e){return function(t,n){var r,o,a,i,c,s,u;return l.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(r=n(),o=r.auth.token,a=r.profile.user,o){f.next=3;break}return f.abrupt("return",!1);case 3:if(!a||null===e.myStatus){f.next=10;break}if(e.requiresApproval&&e.myStatus!==qt.InvitedByAdmin){f.next=8;break}return f.abrupt("return",t(Vr(e.id,a.id,qt.Approved)));case 8:if(e.myStatus!==qt.Invited){f.next=10;break}return f.abrupt("return",t(Vr(e.id,a.id,qt.Pending)));case 10:return f.next=12,l.a.awrap(W("groups/"+e.id+"/members","POST",{},{},o));case 12:if((i=f.sent).status!==U.CREATED){f.next=21;break}return c=i.data,s=c.role,u=c.status,t(Zr(e,u,s,a)),f.abrupt("return",!0);case 21:return f.abrupt("return",!1);case 22:case"end":return f.stop()}}),null,null,null,Promise)}}(n)),n.requiresApproval?null==(e=this.requestSentModalRef.current)||e.show():null==(t=this.joinedModalRef.current)||t.show())}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.group,o=Gm(n),a={verticalSpacing:5,sideMargin:15},i=null==r?void 0:r.myStatus,s=i!==qt.Approved&&i!==qt.Banned&&i!==qt.Pending;return c.createElement(Zs,$t()({ref:this.cardRef,looks:a,renderRightActions:function(){return c.createElement(Ks,{side:"right",looks:a,fullCardWidth:!0})},style:o.card},s?{onPress:function(){var t;return null==(t=e.descriptionModalRef.current)?void 0:t.show()}}:{}),r&&r.cover&&c.createElement(ls.a,{style:o.groupCover,source:{uri:r.cover},resizeMode:"cover"}),(!r||!r.cover)&&c.createElement(ps,{style:o.groupCover,imageKey:"group-placeholder",resizeMode:"cover"}),c.createElement(xi.a,{style:o.blurView,tint:"dark",intensity:10}),c.createElement(ca.a,{style:o.innerContent},r&&c.createElement($o.a,{style:o.groupName,numberOfLines:2},r.name),c.createElement(ca.a,{style:o.subtitleContainer},i===qt.Pending?c.createElement(c.Fragment,null,c.createElement($o.a,{style:o.statusSpecific},I.a.t("groups.explore.statusText.pending")),c.createElement(Pi.a,{name:"check",style:o.statusSpecificIcon})):i===qt.Banned?c.createElement(c.Fragment,null,c.createElement($o.a,{style:o.statusSpecific},I.a.t("groups.explore.statusText.banned")),c.createElement(Pi.a,{name:"block",style:[o.statusSpecificIcon,{color:n.error}]})):i===qt.Invited||i===qt.InvitedByAdmin?c.createElement(c.Fragment,null,c.createElement($o.a,{style:o.statusSpecific},I.a.t("groups.explore.statusText.invited")),c.createElement(Pi.a,{name:"person-add",style:o.statusSpecificIcon})):r&&r.description.length>0&&c.createElement($o.a,{style:o.groupDescription,numberOfLines:1},r.description))),c.createElement(_m,{ref:this.requestSentModalRef,onHide:function(){var t;return null==(t=e.cardRef.current)?void 0:t.collapse()}}),r&&c.createElement(c.Fragment,null,c.createElement(Bm,{ref:this.descriptionModalRef,group:r,onJoinGroup:function(){return e.join()}}),c.createElement(Fm,{ref:this.joinedModalRef,group:r,onHide:function(){var t;return null==(t=e.cardRef.current)?void 0:t.collapse()}})))}}]),n}(c.Component),Gm=aa((function(e){return Xo.a.create({card:{backgroundColor:e.cardBackground,height:75},blurView:{position:"absolute",width:"100%",height:"100%"},groupCover:{position:"absolute",width:"100%",height:"100%"},innerContent:{justifyContent:"center",paddingHorizontal:10,height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)"},groupName:{color:oa.dark.text,fontFamily:"RalewaySemiBold",fontSize:16},subtitleContainer:{flexDirection:"row",alignItems:"center"},groupDescription:{color:oa.dark.text,fontSize:14},statusSpecific:{fontFamily:"RalewaySemiBold",color:oa.dark.text,fontSize:14},statusSpecificIcon:{color:oa.dark.text,fontSize:14,marginLeft:4}})})),Hm=Object(ia.j)(Um);function Vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vm(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var qm=Object(ka.b)((function(e){return{pagination:e.groups.pagination,groups:e.groups.groups,groupsDict:e.groups.groupsDict}})),Ym=function(e){Yo()(n,e);var t=Wm(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={search:""},r}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.groups,o=t.groupsDict,a=t.pagination,i=t.navigation,s=this.state.search,u=Km(n),l=this.props.dispatch;return c.createElement(fa,null,c.createElement($p,{onBufferedUpdate:function(){return l(br(s,!0))},bufferDelay:250,placeholder:I.a.t("search"),onChangeText:function(t){return e.setState(zm(zm({},e.state),{},{search:t}))},value:s,containerStyle:u.searchBarContainer,inputContainerStyle:u.searchBarInputContainer,inputStyle:u.searchBarInput}),c.createElement(Gu,{navigation:i,fetchLimit:8,fetchMore:function(){return l(br(s))},fetching:a.fetching,canFetchMore:a.canFetchMore,currentPage:a.page,items:r.map((function(e){return o[e]})),id:function(e){return e.id},hideScrollIndicator:!0,noResultsComponent:c.createElement($o.a,{style:u.noResultsText},I.a.t("groups.explore.none")),endOfItemsComponent:c.createElement($o.a,{style:u.noResultsText},I.a.t("groups.explore.noMore")),refresh:function(){return l(br(s,!0))},refreshOnFocus:!0,renderItem:function(e){return c.createElement(Hm,{key:e.id,group:e})},itemsContainerStyle:u.itemsContainer}))}}]),n}(c.Component),Km=aa((function(e){return Xo.a.create({itemsContainer:{width:"100%",maxWidth:600,alignSelf:"center",alignItems:"center",paddingBottom:40},noResultsText:{fontSize:20,color:e.textLight,marginVertical:10},searchBarContainer:{width:"100%",marginBottom:5,paddingVertical:0,paddingHorizontal:15,backgroundColor:"transparent",borderTopWidth:0,borderBottomWidth:0},searchBarInputContainer:{height:40,backgroundColor:e.cardBackground,elevation:2,borderRadius:25},searchBarInput:{fontSize:14}})})),Jm=qm(Object(ia.j)(Ym));function Qm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Zm=function(e){Yo()(n,e);var t=Qm(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.order,r=e.activator;return c.createElement(iu,{values:Q,label:function(e){return I.a.t("groups.postsSorting."+e)},selected:n?[n]:[],onSelect:function(e){e.length>0&&t&&t(e[0])},activator:r,atLeastOne:!0})}}]),n}(c.Component);function Xm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var $m=Object(ka.b)((function(e){return{sortOrder:e.groups.postsSortOrder}})),eg=function(e){Yo()(n,e);var t=Xm(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.group,n=e.top,r=e.navigation,o=e.titleContainerStyle,a=e.sortOrder,i=e.onRefresh,s=e.onScroll,u=e.theme,l=tg(u),f=this.props.dispatch,p=t?t.postsPagination:{canFetchMore:!0,fetching:!0,page:1};return c.createElement(c.Fragment,null,c.createElement(Gu,{top:c.createElement(c.Fragment,null,n,c.createElement(ca.a,{style:[l.titleWrapper,o]},c.createElement($o.a,{style:l.title},I.a.t("groups.posts")),c.createElement(ca.a,{style:l.buttons},t&&c.createElement(Ph,{groupId:t.id,activator:function(e){return c.createElement(Oa,{style:l.button,icon:c.createElement(Pi.a,{style:l.buttonIcon,name:"add"}),onPress:e})}}),c.createElement(Zm,{order:a,activator:function(e){return c.createElement(Oa,{style:l.button,icon:c.createElement(Pi.a,{style:l.buttonIcon,name:"sort"}),onPress:e})},onChange:function(e){f(function(e){return{type:or.SET_POST_SORTING_ORDER,order:e}}(e)),t&&f(kr(t.id))}})))),navigation:r,fetchLimit:6,fetchMore:function(){return t&&f(jr(t.id))},fetching:p.fetching,canFetchMore:p.canFetchMore,currentPage:p.page,items:t?t.postIds.map((function(e){return t.posts[e]})):[],id:function(e){return e.id},hideScrollIndicator:!0,endOfItemsComponent:c.createElement($o.a,{style:l.noResultsText},I.a.t("groups.noMorePosts")),noResultsComponent:c.createElement($o.a,{style:l.noResultsText},I.a.t("groups.noPosts")),refresh:function(){t&&(f(kr(t.id)),i&&i())},renderItem:function(e){return c.createElement(Qh,{key:e.id,post:e})},progressViewOffset:350,keyboardShouldPersistTaps:"handled",itemsContainerStyle:l.itemsContainer,onScroll:s}))}}]),n}(c.Component),tg=aa((function(e){return Xo.a.create({titleWrapper:{width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:15,paddingVertical:10,maxWidth:800,alignSelf:"center"},title:{fontSize:20,color:e.text},buttons:{flexDirection:"row"},button:{width:32,height:32,justifyContent:"center",alignItems:"center",marginHorizontal:4},buttonIcon:{fontSize:24,color:e.text},noResultsText:{color:e.textLight,fontSize:16},itemsContainer:{maxWidth:800,width:"100%",alignSelf:"center"}})})),ng=$m(Object(ia.j)(eg));function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rg(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ag(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ig=function(e){Yo()(n,e);var t=ag(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={editing:!1,value:e.text},r}return Rn()(n,[{key:"edit",value:function(){var e=this.props.text;this.setState(og(og({},this.state),{},{editing:!0,value:e}))}},{key:"submit",value:function(){var e=this.props.onSubmit;this.setState(og(og({},this.state),{},{editing:!1})),e&&e(this.state.value)}},{key:"componentDidUpdate",value:function(e){var t=this.props.text,n=this.state.value;e.text!==t&&t!==n&&this.setState(og(og({},this.state),{},{value:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.nonEditable,r=t.containerStyle,o=t.text,a=t.placeholder,i=t.fontSize,s=t.numberOfLines,u=t.maxLength,l=t.iconColor,f=t.theme,p=this.state,d=p.editing,h=p.value,m=cg(f),g=!d&&h!==o;return c.createElement(ca.a,{style:[m.container,r]},!d&&c.createElement($o.a,{numberOfLines:s,style:[m.text,{fontSize:i},0===o.length?m.textPlaceholder:{}]},g?h:0===o.length?a:o),d&&c.createElement(Ka.a,{style:[m.input,{fontSize:i}],value:h,placeholder:a,autoFocus:!0,onChangeText:function(t){return e.setState(og(og({},e.state),{},{value:t}))},onSubmitEditing:function(){return e.submit()},onBlur:function(){return e.submit()},maxLength:u}),g&&c.createElement(ca.a,{style:m.button},c.createElement(Ia.a,{size:"small",color:f.text})),!g&&c.createElement(va.a,{style:m.button,onPress:function(){n||(d?e.submit():e.edit())}},!n&&c.createElement(Pi.a,{style:[m.buttonIcon,{color:l||f.textLight}],name:d?"check":"edit"})))}}]),n}(c.Component),cg=aa((function(e){return Xo.a.create({container:{width:"100%",flexDirection:"row",alignItems:"center"},text:{fontSize:16,color:e.text,flex:1},textPlaceholder:{color:e.textLight},input:{flex:1,fontSize:16},button:{width:32,height:32,justifyContent:"center",alignItems:"center"},buttonIcon:{fontSize:22}})})),sg=Object(ia.j)(ig);function ug(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var lg=function(e){Yo()(n,e);var t=ug(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).ensurePermission=function(){var e,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"===T.a.OS){n.next=14;break}return n.next=3,l.a.awrap(Io.d(Io.a));case 3:if(e=n.sent,"granted"===(t=e.status)){n.next=14;break}return n.t0=l.a,n.next=9,l.a.awrap(Io.c(Io.a));case 9:return n.t1=n.sent.status,n.next=12,n.t0.awrap.call(n.t0,n.t1);case 12:return t=n.sent,n.abrupt("return","granted"===t);case 14:return n.abrupt("return",!0);case 15:case"end":return n.stop()}}),null,null,null,Promise)},e.showPicker=function(){var t,n,r,o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.ensurePermission()){i.next=14;break}return t=e.props,n=t.quality,r=t.aspect,i.prev=3,i.next=6,l.a.awrap(sl.a({mediaTypes:ul.a.Images,allowsEditing:!0,aspect:r,quality:n}));case 6:(o=i.sent).cancelled||(a=o,e.props.onPictureSelected&&e.props.onPictureSelected(a)),i.next=14;break;case 10:i.prev=10,i.t0=i.catch(3),console.error("Could not get image. Check console for error."),console.log(i.t0);case 14:case"end":return i.stop()}}),null,null,[[3,10]],Promise)},e}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.style,o=fg(n);return c.createElement(va.a,{style:[o.button,r],onPress:function(){return e.showPicker()}},c.createElement(Pi.a,{style:o.buttonIcon,name:"edit"}))}}]),n}(c.Component),fg=aa((function(e){return Xo.a.create({button:{borderRadius:20,padding:4,backgroundColor:e.cardBackground,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2},buttonIcon:{fontSize:20,color:e.text}})})),pg=Object(ia.j)(lg);function dg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var hg=function(e){Yo()(n,e);var t=dg(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.group,r=mg(t),o=null==n?void 0:n.uploadingCover,a=!o&&(!n||!n.cover),i=null!==n&&n.myRole===Wt.Admin;return c.createElement(ca.a,{style:r.container},n&&n.cover&&c.createElement(ls.a,{style:r.image,source:{uri:n.cover},resizeMode:"cover"}),a&&c.createElement(d.a,{style:r.placeholderIcon,name:"picture-o"}),o&&c.createElement(Ia.a,{style:r.loading,size:42,color:t.text}),i&&c.createElement(pg,{style:r.editButton,quality:.8,aspect:w,onPictureSelected:function(e){return n&&Mo.dispatch((t=n.id,r=e,function(e,n){var o,a,i,c,s,u,f,p;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(o=n(),a=o.auth.token,i=o.profile.uploadingAvatar,c=function(){return e(so(t))},a&&!i){d.next=5;break}return c(),d.abrupt("return");case 5:return e(io(t)),d.next=8,l.a.awrap(ge(a,r,c));case 8:if(!(s=d.sent)){d.next=14;break}return d.next=12,l.a.awrap(W("groups/"+t+"/cover","POST",{},{fileName:s},a));case 12:(u=d.sent).status===U.CREATED?(f=u.data,p=f.cover,e(co(t,p))):c();case 14:case"end":return d.stop()}}),null,null,null,Promise)}));var t,r}}))}}]),n}(c.Component),mg=aa((function(e){return Xo.a.create({container:{width:"100%",backgroundColor:"#0001",justifyContent:"center",alignItems:"center",height:250,borderBottomWidth:Xo.a.hairlineWidth,borderBottomColor:e.componentBorder},image:{width:"100%",height:"100%"},placeholderIcon:{fontSize:32,color:e.textLight,marginTop:50},editButton:{position:"absolute",bottom:10,right:10},loading:{opacity:.25}})})),gg=Object(ia.j)(hg);function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Eg=function(e){Yo()(n,e);var t=bg(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={headerWidth:0,waveTop:e.upsideDown?1:-1},r}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.color,o=t.upsideDown,a=t.children,i=t.wavePatternIndex,c=this.state,u=c.headerWidth,l=c.waveTop;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ca.a,{style:[{backgroundColor:r,width:"100%",zIndex:10},n],onLayout:function(t){var n=t.nativeEvent.layout,r=n.y,o=n.height,a=n.width;e.setState(vg(vg({},e.state),{},{headerWidth:a,waveTop:r+o}))}},a),-1!==l&&s.a.createElement(Rf,{style:{position:"absolute",top:l+(o?1:-1),width:u,zIndex:10},color:r,patternIndex:i||"random",upsideDown:o}))}}]),n}(s.a.Component);function Sg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Og=Object(ka.b)((function(e){return{groupsDict:e.groups.groupsDict}}))(function(e){Yo()(n,e);var t=Sg(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"redirect",value:function(){j("MainScreen",{screen:"TabGroups",params:{screen:"TabGroupsScreen"}})}},{key:"setGroupReady",value:function(e){var t=this.props,n=t.onGroupReady,r=t.redirectIfNotApproved;n&&n(e),r&&e.myStatus!==qt.Approved&&this.redirect()}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.groupsDict,o=n.groupId,a=this.props.dispatch;o&&e.groupId!==o&&(r[o]?this.setGroupReady(r[o]):a(Sr(o)).then((function(e){e?t.setGroupReady(e):t.redirect()})))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.groupId,r=e.groupsDict;return t({group:n&&r[n]||null})||s.a.createElement(s.a.Fragment,null)}}]),n}(s.a.Component));function Cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Pg=function(e){Yo()(n,e);var t=wg(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).modalRef=s.a.createRef(),r.state={deleteData:!1},r}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this,t=this.props,n=t.groupId,r=t.theme,o=Ya()(t,["groupId","theme"]),a=this.state.deleteData,i=Tg(r),c=Mo.dispatch;return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.leave.title"),text:I.a.t("groups.leave.text"),icon:function(e){return s.a.createElement(Pi.a,$t()({name:"exit-to-app",color:r.text},e))},buttons:[{preset:"cancel"},{text:I.a.t("ok"),preset:"delete",onPress:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(c(mr(n,a)));case 2:t.sent&&e();case 4:case"end":return t.stop()}}),null,null,null,Promise)}}],additionalContent:function(t,n){return s.a.createElement(va.a,{style:i.checkboxTouchable,onPress:function(){return e.setState(Rg(Rg({},e.state),{},{deleteData:!a}))}},s.a.createElement(ia.d,{containerStyle:i.checkboxContainer,checked:a,onPress:function(){return e.setState(Rg(Rg({},e.state),{},{deleteData:!a}))}}),s.a.createElement($o.a,$t()({},n,{style:[n.style,{fontSize:14,flex:1}]}),I.a.t("groups.leave.deleteData")))}},o))}}]),n}(s.a.Component),Tg=aa((function(){return Xo.a.create({checkboxTouchable:{width:"100%",flexDirection:"row",alignItems:"center"},checkboxContainer:{padding:0,marginLeft:0,marginRight:5}})})),xg=Object(ia.j)(Pg);function Ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ig(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var _g=function(e){Yo()(n,e);var t=jg(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).modalRef=s.a.createRef(),r.state={inputValue:"",inputCorrect:!1},r}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show(),this.setInput("")}},{key:"setInput",value:function(e){var t=e===this.props.group.name;this.setState(kg(kg({},this.state),{},{inputValue:e,inputCorrect:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.group,r=t.theme,o=Ya()(t,["group","theme"]),a=this.state,i=a.inputValue,c=a.inputCorrect,u=Dg(r),f=Mo.dispatch;return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.delete.title"),text:I.a.t("groups.delete.text"),icon:function(e){return s.a.createElement(Pi.a,$t()({name:"delete-forever",color:r.error},e))},buttons:[{preset:"cancel"},{text:I.a.t("ok"),preset:"delete",disabled:!c,onPress:function(e){var t;f((t=n.id,function(e,n){var r,o;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().auth.token,a.next=3,l.a.awrap(W("groups/"+t,"DELETE",{},{},r));case 3:if((o=a.sent).status!==U.NO_CONTENT){a.next=9;break}return e({type:or.DELETE_SUCCESS}),a.abrupt("return",{success:!0});case 9:return e({type:or.DELETE_FAILURE}),a.abrupt("return",{success:!1,errors:Te(o)});case 11:case"end":return a.stop()}}),null,null,null,Promise)})),e()}}],additionalContent:function(){return s.a.createElement(ci,{value:i,onChangeText:function(t){return e.setInput(t)},placeholder:n.name,style:u.input,errorStyle:u.inputIncorrect,placeholderTextColor:r.inputPlaceholder,error:c?void 0:"error",showErrorText:!1})}},o))}}]),n}(s.a.Component),Dg=aa((function(e){return Xo.a.create({input:{width:"100%",height:42,borderRadius:10,backgroundColor:e.onboardingInputBackground,fontSize:16,paddingHorizontal:15,borderBottomWidth:2,borderBottomColor:e.okay},inputIncorrect:{borderBottomColor:e.error}})})),Ag=Object(ia.j)(_g);function Fg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Mg=function(e){Yo()(n,e);var t=Fg(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).modalRef=s.a.createRef(),r.state={visible:!1,requiresApproval:!1},r}return Rn()(n,[{key:"setStateFromGroup",value:function(){var e=this.props.group;this.setState({visible:e.visible,requiresApproval:e.requiresApproval})}},{key:"show",value:function(){var e;this.setStateFromGroup(),null==(e=this.modalRef.current)||e.show()}},{key:"componentDidUpdate",value:function(e){this.props.group.id!==e.group.id&&this.setStateFromGroup()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.group,o=Ya()(t,["theme","group"]),a=Lg(n),i=Mo.dispatch,c=r.myRole===Wt.Admin,u=vi(n),l=[];return c?(l.push({preset:"cancel"}),l.push({backgroundColor:n.accent,text:I.a.t("apply"),onPress:function(t){t(),i(dr(r.id,{visible:e.state.visible,requiresApproval:e.state.requiresApproval}))}})):l.push({preset:"cancel",text:I.a.t("ok")}),s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.settings.title"),additionalContent:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(va.a,{onPress:function(){return c&&e.setState({visible:!e.state.visible})},activeOpacity:.75},s.a.createElement(ym,$t()({value:e.state.visible,label:I.a.t("groups.create.visible"),onPress:function(){return c&&e.setState({visible:!e.state.visible})}},u,c?{}:{disabled:!0})),s.a.createElement($o.a,{style:a.fieldDescription},I.a.t("groups.create.visibleDescription."+e.state.visible))),s.a.createElement(va.a,{onPress:function(){return c&&e.setState({requiresApproval:!e.state.requiresApproval})},activeOpacity:.75},s.a.createElement(ym,$t()({value:e.state.requiresApproval,label:I.a.t("groups.create.requireApproval"),onPress:function(){return c&&e.setState({requiresApproval:!e.state.requiresApproval})}},u,c?{}:{disabled:!0})),s.a.createElement($o.a,{style:a.fieldDescription},I.a.t("groups.create.requireApprovalDescription."+e.state.requiresApproval))))},justifyText:!0,buttons:l},o))}}]),n}(s.a.Component),Lg=aa((function(e){return Xo.a.create({fieldDescription:{color:e.textLight,fontSize:14,marginBottom:20,textAlign:"justify"}})})),Bg=Object(ia.j)(Mg);function Ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ug(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ng(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Hg=Object(ka.b)((function(e){return{localUser:e.profile.user}}),null,null,{forwardRef:!0}),Vg=function(e){Yo()(n,e);var t=Gg(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).actionMenuRef=c.createRef(),r.leaveModalRef=c.createRef(),r.deleteGroupModalRef=c.createRef(),r.reportFormRef=c.createRef(),r.settingsModalRef=c.createRef(),r.state={group:null,actions:[]},r}return Rn()(n,[{key:"show",value:function(e){var t;null==(t=this.actionMenuRef.current)||t.show(),this.setState(Ug(Ug({},this.state),{},{group:e}))}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state.group,r=n&&n.myRole==Wt.Admin,o={icon:function(e){return c.createElement(Pi.a,{style:e,name:"exit-to-app"})},text:I.a.t("groups.leave.title"),onSelect:function(){var t;return null==(t=e.leaveModalRef.current)?void 0:t.show()}},a={icon:function(e){return c.createElement(Pi.a,{style:e,name:"block"})},text:I.a.t("groups.members.manageBanned"),onSelect:function(){return n&&j("TabGroups",{screen:"GroupBannedMembersScreen",params:{groupId:n.id}})}},i={icon:function(e){return c.createElement(Pi.a,{style:e,name:"group"})},text:I.a.t("groups.members.manage"),onSelect:function(){return n&&j("TabGroups",{screen:"GroupMembersScreen",params:{groupId:n.id}})}},s={icon:function(e){return c.createElement(Pi.a,{style:e,name:"settings"})},text:I.a.t("groups.settings.title"),onSelect:function(){var t;return null==(t=e.settingsModalRef.current)?void 0:t.show()}},u={icon:function(e){return c.createElement(Pi.a,{style:e,name:"delete"})},text:I.a.t("groups.delete.title"),containerStyle:{backgroundColor:t.error},textStyle:{color:"white"},onSelect:function(){var t;return null==(t=e.deleteGroupModalRef.current)?void 0:t.show()}},l={icon:function(e){return c.createElement(Pi.a,{style:e,name:"report"})},text:I.a.t("groups.reportPost"),containerStyle:{backgroundColor:t.error},textStyle:{color:"white"},onSelect:function(){var t;return null==(t=e.reportFormRef.current)?void 0:t.open()}},f=[];return r&&f.push(i),r&&f.push(a),f.push(s),f.push(o),r&&f.push(u),f.push(l),f.push({preset:"close"}),c.createElement(c.Fragment,null,c.createElement(Is,{ref:this.actionMenuRef,title:I.a.t("groups.group"),actions:f}),n&&c.createElement(c.Fragment,null,c.createElement(xg,{ref:this.leaveModalRef,groupId:n.id}),c.createElement(Ag,{ref:this.deleteGroupModalRef,group:n}),c.createElement(Bg,{ref:this.settingsModalRef,group:n}),c.createElement(Ru,{ref:this.reportFormRef,entity:n,entityType:cu.GROUP_ENTITY})))}}]),n}(c.Component),zg=Hg(Object(ia.j)(Vg));function Wg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var qg=Object(ka.b)((function(e){return{groupsDict:e.groups.groupsDict}}),null,null,{forwardRef:!0}),Yg=function(e){Yo()(n,e);var t=Wg(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).settingsMenuRef=c.createRef(),r.state={transparent:!0},r}return Rn()(n,[{key:"getGroup",value:function(){var e=this.props,t=e.groupsDict,n=e.groupId;return n&&t[n]||null}},{key:"toggleTransparentMode",value:function(e){var t;this.state.transparent!==e&&(this.setState({transparent:e}),null==(t=ah.current)||t.setStyle(e?"light":void 0))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=Ya()(t,["theme"]),o=this.state.transparent,a=this.getGroup();return c.createElement(c.Fragment,null,c.createElement(tl,$t()({},r,{backButton:!0,noAvatar:!0,noShadow:!0,noSettingsButton:!0,wrapperStyle:[{position:"absolute",top:0,left:0,right:0,zIndex:10},o&&{backgroundColor:"transparent"}],color:o?oa.dark.text:n.text,buttonBackgroundColor:"transparent",overrideTitle:o?"":(null==a?void 0:a.name)||"",navigateBackFallback:function(e){return e.navigate("MainScreen",{screen:"TabGroups",params:{screen:"TabGroupsScreen"}})},rightButtons:a?[function(t){var n=t.buttonStyle,r=t.iconStyle;return c.createElement(va.a,{style:n,onPress:function(){var t;return null==(t=e.settingsMenuRef.current)?void 0:t.show(a)}},c.createElement(Ti.a,{name:"dots-horizontal",style:[r,{fontSize:30}]}))}]:[]})),c.createElement(zg,{ref:this.settingsMenuRef}))}}]),n}(c.Component),Kg=qg(Object(ia.j)(Yg));function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jg(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Xg=function(e){Yo()(n,e);var t=Zg(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).headerRef=c.createRef(),r.state={groupId:null},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.navigation,r=t.route;n.addListener("focus",(function(){var t=D(r).groupId;e.setState(Qg(Qg({},e.state),{},{groupId:t}))}))}},{key:"fetchFirstGroupMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Mo.dispatch;t&&(n(Br(e.id,qt.Approved)),n(Br(e.id,qt.Pending))),n(Nr(e.id,qt.Approved)),n(Nr(e.id,qt.Pending))}},{key:"renderTop",value:function(e){var t=this.props.theme,n=this.state.groupId,r=$g(t),o=Mo.dispatch,a=e?e.memberIds[qt.Pending]:[],i=e&&e.myRole===Wt.Admin,s=null==e?void 0:e.numApprovedMembers;return c.createElement(ca.a,{style:r.top},c.createElement(gg,{group:e}),c.createElement(Eg,{color:t.cardBackground,wavePatternIndex:[2,4,6,7]},c.createElement(ca.a,{style:r.topInfo},c.createElement(sg,{text:e?e.name:"",nonEditable:!i,fontSize:22,numberOfLines:1,maxLength:30,onSubmit:function(t){return e&&o(dr(e.id,{name:t}))}}),c.createElement(sg,{text:e?e.description:"",placeholder:e?I.a.t("groups.description."+(i?"placeholder":"none")):"",nonEditable:!i,fontSize:16,numberOfLines:4,maxLength:150,onSubmit:function(t){return e&&o(dr(e.id,{description:t}))}}),c.createElement(ca.a,{style:r.members},c.createElement($o.a,{style:r.groupInfo},null===s||void 0===s?"":0===s?I.a.t("groups.members.zero"):1===s?I.a.t("groups.members.singular"):I.a.t("groups.members.plural",{num:s})),c.createElement(Oa,{style:r.membersButton,icon:c.createElement(Ti.a,{style:r.membersButtonIcon,name:"dots-horizontal-circle-outline"}),onPress:function(){return n&&j("TabGroups",{screen:"GroupMembersScreen",params:{groupId:n}})}}),c.createElement(Oa,{style:r.membersButton,icon:c.createElement(Ti.a,{style:r.membersButtonIcon,name:"account-plus-outline"}),onPress:function(){return n&&j("TabGroups",{screen:"GroupInviteScreen",params:{groupId:n}})}}),i&&c.createElement(Oa,{style:r.membersButton,icon:c.createElement(c.Fragment,null,c.createElement(Pi.a,{style:r.membersButtonIcon,name:a.length>0?"person":"person-outline"}),a.length>0&&c.createElement(ca.a,{style:r.approbationRequestIndicatorContainer},c.createElement(d.a,{size:8,name:"exclamation",color:oa.dark.text}))),onPress:function(){return n&&j("TabGroups",{screen:"GroupMembersApprovalScreen",params:{groupId:n}})}})))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.navigation,o=this.state.groupId,a=$g(n);return c.createElement(fa,{forceFullWidth:!0},c.createElement(Og,{groupId:o,onGroupReady:function(t){return t.myStatus===qt.Approved&&e.fetchFirstGroupMembers(t)},redirectIfNotApproved:!0},(function(t){var n=t.group;return c.createElement(ng,{top:e.renderTop(n),navigation:r,group:n,titleContainerStyle:a.postsTitle,onRefresh:function(){return n&&e.fetchFirstGroupMembers(n,!0)},onScroll:function(t){var n;return null==(n=e.headerRef.current)?void 0:n.toggleTransparentMode(t<=250)}})})),c.createElement(Kg,{ref:this.headerRef,groupId:D(this.props.route).groupId}))}}]),n}(c.Component),$g=aa((function(e){return Xo.a.create({top:{width:"100%",backgroundColor:e.cardBackground,marginBottom:30},topInfo:{paddingHorizontal:15,paddingTop:10,paddingBottom:5},members:{flexDirection:"row",alignItems:"center"},groupInfo:{fontSize:16,color:e.text},postsTitle:{marginTop:10},membersButton:{padding:4},membersButtonIcon:{fontSize:24,color:e.textLight},approbationRequestIndicatorContainer:{position:"absolute",backgroundColor:e.error,width:12,height:12,borderRadius:12,justifyContent:"center",alignItems:"center",left:16,bottom:12}})})),ey=Object(ia.j)(Xg);function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ry(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var oy=function(e){Yo()(n,e);var t=ry(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={search:""},r}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.group,o=t.status,a=t.renderItem,i=t.noResultsText,s=t.navigation,u=this.state.search,l=ay(n),f=Mo.dispatch,p=r?r.membersPaginations[o]:{canFetchMore:!0,fetching:!0,page:1},d=r?r.memberIds[o]:[],h=r?d.map((function(e){return r.members[e]})):[],m=null==r?void 0:r.numApprovedMembers;return c.createElement(c.Fragment,null,null!==m&&void 0!==m&&m>0&&c.createElement($p,{onBufferedUpdate:function(){return r&&f(Br(r.id,o))},bufferDelay:250,placeholder:I.a.t("search"),onChangeText:function(t){return e.setState(ny(ny({},e.state),{},{search:t}))},value:u,containerStyle:l.searchBarContainer,inputContainerStyle:l.searchBarInputContainer,inputStyle:l.searchBarInput}),c.createElement(Gu,{navigation:s,fetchLimit:15,fetchMore:function(){return r&&f(Nr(r.id,o,u))},fetching:p.fetching,canFetchMore:p.canFetchMore,currentPage:p.page,items:h,id:function(e){return e.profile.id},hideScrollIndicator:!0,noResultsComponent:c.createElement($o.a,{style:l.noResultsText},i),refresh:function(){return r&&f(Br(r.id,o))},refreshOnFocus:!0,renderItem:function(e){return a(e)},itemsContainerStyle:l.itemsContainer}))}}]),n}(c.Component),ay=aa((function(e){return Xo.a.create({itemsContainer:{width:"100%",maxWidth:600,alignSelf:"center",alignItems:"center",paddingHorizontal:20,marginTop:10},noResultsText:{fontSize:18,color:e.textLight},searchBarContainer:{width:"100%",marginBottom:5,paddingVertical:0,paddingHorizontal:15,backgroundColor:"transparent",borderTopWidth:0,borderBottomWidth:0},searchBarInputContainer:{height:40,backgroundColor:e.cardBackground,elevation:2,borderRadius:25},searchBarInput:{fontSize:14}})})),iy=Object(ia.j)(oy);function cy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var sy=function(e){Yo()(n,e);var t=cy(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.groupId,r=e.profile,o=e.pending,a=Ya()(e,["theme","groupId","profile","pending"]),i=Mo.dispatch,c=o?"groups.deletePendingMember":"groups.deleteMember";return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t(c+".title"),text:r?I.a.t(c+".text",{name:r.firstName+" "+r.lastName}):"",justifyText:!0,icon:function(e){return s.a.createElement(Ti.a,$t()({name:"account-remove",color:t.error},e))},buttons:[{preset:"cancel"},{preset:"delete",text:I.a.t(c+".action"),onPress:function(){return r&&i(Gr(n,r.id,!0))}}]},a))}}]),n}(s.a.Component),uy=Object(ia.j)(sy);function ly(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var fy=function(e){Yo()(n,e);var t=ly(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.groupId,r=e.profile,o=e.pending,a=Ya()(e,["theme","groupId","profile","pending"]),i=Mo.dispatch,c=o?"groups.banPendingMember":"groups.banMember";return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t(c+".title"),text:r?I.a.t(c+".text",{name:r.firstName+" "+r.lastName}):"",justifyText:!0,icon:function(e){return s.a.createElement(Pi.a,$t()({name:"block",color:t.error},e))},buttons:[{preset:"cancel"},{preset:"delete",text:I.a.t(c+".action"),onPress:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,l.a.awrap(i(Vr(n,r.id,qt.Banned)));case 3:t.sent&&e();case 5:case"end":return t.stop()}}),null,null,null,Promise)}}]},a))}}]),n}(s.a.Component),py=Object(ia.j)(fy);function dy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var hy=function(e){Yo()(n,e);var t=dy(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.groupId,r=e.profile,o=Ya()(e,["theme","groupId","profile"]),a=Mo.dispatch;return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.promoteToAdmin.title"),text:I.a.t("groups.promoteToAdmin.text",{name:r.firstName+" "+r.lastName}),justifyText:!0,icon:function(e){return s.a.createElement(Pi.a,$t()({name:"done",color:t.okay},e))},buttons:[{preset:"cancel"},{preset:"confirm",text:I.a.t("groups.promoteToAdmin.action"),onPress:function(e){a(function(e,t,n){return function(r,o){var a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=o(),i=a.auth.token,c=a.profile.user,s.next=3,l.a.awrap(W("groups/"+e+"/members/"+t,"PATCH",{},{role:n},i));case 3:if(s.sent.status!==U.OK){s.next=9;break}return r(zr(e,t,n,t===(null==c?void 0:c.id))),s.abrupt("return",!0);case 9:return s.abrupt("return",!1);case 10:case"end":return s.stop()}}),null,null,null,Promise)}}(n,r.id,Wt.Admin)),e()}}]},o))}}]),n}(s.a.Component),my=Object(ia.j)(hy);function gy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var yy=Object(ka.b)((function(e){var t;return{localUserId:null==(t=e.profile.user)?void 0:t.id}})),vy=function(e){Yo()(n,e);var t=gy(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.groupId,r=e.localUserId,o=e.member,a=e.adminView,i=e.style,s=Ya()(e,["theme","groupId","localUserId","member","adminView","style"]),u=by(t),l=this.props.dispatch,f=o&&r===o.profile.id,p=o&&o.role===Wt.Admin,d=o&&c.createElement(uy,{activator:function(e){return c.createElement(Oa,{style:u.controlButton,icon:c.createElement(Ti.a,{name:"account-remove",style:[u.controlIcon,{color:t.error}]}),onPress:e})},groupId:n,profile:o.profile,pending:o.status===qt.Pending}),h=o&&c.createElement(py,{activator:function(e){return c.createElement(Oa,{style:u.controlButton,icon:c.createElement(Pi.a,{name:"block",style:[u.controlIcon,{color:t.error}]}),onPress:e})},groupId:n,profile:o.profile,pending:o.status===qt.Pending}),m=o&&c.createElement(my,{activator:function(e){return c.createElement(Oa,{style:u.controlButton,icon:c.createElement(Ti.a,{name:"account-star",style:[u.controlIcon,{color:t.accentTernary}]}),onPress:e})},groupId:n,profile:o.profile}),g=o&&c.createElement(Oa,{style:u.controlButton,icon:c.createElement(Pi.a,{name:"person-add",style:[u.controlIcon,{color:t.accent}]}),onPress:function(){return l(Vr(n,o.profile.id,qt.Approved))}}),y=o&&o.status===qt.Banned&&c.createElement(Oa,{style:u.controlButton,icon:c.createElement(Pi.a,{name:"cancel",style:[u.controlIcon,{color:t.accent}]}),onPress:function(){return l(Gr(n,o.profile.id,!1))}});return c.createElement(va.a,$t()({style:[u.container,i],onPress:function(){return o&&N(o.profile.id,Mo.getState())}},s),o&&c.createElement(c.Fragment,null,c.createElement(_h,{profile:o.profile,size:50,rounded:!0,containerStyle:u.avatarContainer}),c.createElement(ca.a,{style:{flexDirection:"column",flex:1}},c.createElement($o.a,{style:u.name,numberOfLines:2},o.profile.firstName," ",o.profile.lastName),"basic"!==o.role&&c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},"admin"===o.role&&c.createElement(Pi.a,{name:"verified-user",style:u.roleIcon}),c.createElement($o.a,{style:u.role},I.a.t("groups.roles."+o.role)))),c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},a&&o.status===qt.Approved&&!f&&!p&&c.createElement(c.Fragment,null,m,d,h),a&&o.status===qt.Banned&&c.createElement(c.Fragment,null,y),a&&o.status===qt.Pending&&c.createElement(c.Fragment,null,g,d,h))))}}]),n}(c.Component),by=aa((function(e){return Xo.a.create({container:{width:"100%",backgroundColor:e.cardBackground,paddingVertical:10,paddingHorizontal:10,borderRadius:10,flexDirection:"row",alignItems:"center",marginBottom:5},avatarContainer:{marginRight:10,backgroundColor:e.accentSecondary},name:{color:e.text,fontSize:16},role:{color:e.textLight,fontSize:14},roleIcon:{color:e.textLight,fontSize:20,marginRight:3},controlButton:{padding:6},controlIcon:{color:e.textLight,fontSize:24}})})),Ey=yy(Object(ia.j)(vy));function Sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sy(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ry=function(e){Yo()(n,e);var t=Cy(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={groupId:null},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.navigation,r=t.route;n.addListener("focus",(function(){var t=D(r).groupId;e.setState(Oy(Oy({},e.state),{},{groupId:t}))}))}},{key:"render",value:function(){var e=this.props.navigation,t=this.state.groupId;return c.createElement(fa,null,c.createElement(Og,{groupId:t,redirectIfNotApproved:!0},(function(t){var n=t.group;return c.createElement(iy,{group:n,navigation:e,status:qt.Approved,renderItem:function(e){return n?c.createElement(Ey,{key:n.id+"-"+e.profile.id,groupId:n.id,member:e,adminView:n.myRole===Wt.Admin}):c.createElement(c.Fragment,null)},noResultsText:I.a.t("groups.members.approved.noResults")})})))}}]),n}(c.Component);function wy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Py=Object(ka.b)((function(e){return{groupsDict:e.groups.groupsDict}})),Ty=function(e){Yo()(n,e);var t=wy(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"getGroup",value:function(){var e=this.props,t=e.groupsDict,n=e.groupId;return n&&t[n]||null}},{key:"render",value:function(){var e=this.props,t=e.keepScreenTitle,n=e.noInviteButton,r=e.groupId,o=Ya()(e,["keepScreenTitle","noInviteButton","groupId"]),a=this.getGroup();return c.createElement(tl,$t()({},o,{backButton:!0,noAvatar:!0,noShadow:!0},t?{}:{overrideTitle:a?a.name:""},{titleStyle:{fontSize:18},navigateBackFallback:r?function(){return B(r)}:void 0,rightButtons:a&&!n?[function(e){var t=e.buttonStyle,n=e.iconStyle;return c.createElement(va.a,{style:t,onPress:function(){return a&&j("TabGroups",{screen:"GroupInviteScreen",params:{groupId:a.id}})}},c.createElement(Ti.a,{name:"account-plus-outline",style:n}))}]:[]}))}}]),n}(c.Component),xy=Py(Object(ia.j)((function(e){return c.createElement(Ty,e)})));function Iy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ky=Object(ka.b)((function(e){return{groupsDict:e.groups.groupsDict}})),jy=function(e){Yo()(n,e);var t=Iy(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"getGroup",value:function(){var e=this.props,t=e.groupsDict,n=e.groupId;return n&&t[n]||null}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.groupId,r=Ya()(e,["theme","groupId"]);return c.createElement(tl,$t()({},r,{backButton:!0,noAvatar:!0,noShadow:!0,noSettingsButton:!0,overrideTitle:I.a.t("groups.inviteNew"),navigateBackFallback:n?function(){return B(n)}:void 0,rightButtons:[function(){return c.createElement(va.a,{style:{padding:5},onPress:function(){var e;return null==(e=r.navigation)?void 0:e.goBack()}},c.createElement($o.a,{style:{fontSize:16,color:t.text}},I.a.t("apply")))}]}))}}]),n}(c.Component),_y=ky(Object(ia.j)((function(e){return c.createElement(jy,e)})));function Dy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ay=function(e){Yo()(n,e);var t=Dy(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).modalRef=s.a.createRef(),e}return Rn()(n,[{key:"show",value:function(){var e;null==(e=this.modalRef.current)||e.show()}},{key:"render",value:function(){var e=this.props,t=e.group,n=e.profile,r=Ya()(e,["group","profile"]),o=Mo.dispatch,a=t.myRole===Wt.Admin,i=t.requiresApproval&&!a;return s.a.createElement(Xi,$t()({ref:this.modalRef,title:I.a.t("groups.invite.title"),text:I.a.t("groups.invite.text",{name:""+n.firstName}),justifyText:!0},i?{additionalContent:function(e,t){return s.a.createElement($o.a,$t()({},t,{style:[t.style,{fontSize:14}]}),I.a.t("groups.invite.approvalDisclaimerInviter",{name:""+n.firstName}))}}:{},{buttons:[{preset:"cancel"},{preset:"confirm",text:I.a.t("groups.invite.invite"),onPress:function(e){o(function(e,t){return function(n,r){var o,a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=r().auth.token,c.next=3,l.a.awrap(W("groups/"+e+"/members","POST",{},{profileId:t.id},o,!0));case 3:if((a=c.sent).status!==U.CREATED){c.next=11;break}return i=a.data.status,n(Wr(e,t,i)),c.abrupt("return",!0);case 11:return c.abrupt("return",!1);case 12:case"end":return c.stop()}}),null,null,null,Promise)}}(t.id,n)),e()}}]},r))}}]),n}(s.a.Component),Fy=Object(ia.j)(Ay);function My(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Ly=function(e){Yo()(n,e);var t=My(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.group,r=e.profile,o=e.style,a=Ya()(e,["theme","group","profile","style"]),i=By(t);return c.createElement(va.a,$t()({style:[i.container,o],onPress:function(){return N(r.id,Mo.getState())}},a),c.createElement(_h,{profile:r,size:50,rounded:!0,containerStyle:i.avatarContainer}),c.createElement(ca.a,{style:{flexDirection:"column",flex:1}},c.createElement($o.a,{style:i.name,numberOfLines:2},r.firstName," ",r.lastName)),c.createElement(ca.a,{style:{flexDirection:"row",alignItems:"center"}},c.createElement(Fy,{activator:function(e){return c.createElement(Oa,{style:i.controlButton,icon:c.createElement(Pi.a,{name:"person-add",style:[i.controlIcon,{color:t.accent}]}),onPress:e})},group:n,profile:r})))}}]),n}(c.Component),By=aa((function(e){return Xo.a.create({container:{width:"100%",backgroundColor:e.cardBackground,paddingVertical:10,paddingHorizontal:10,borderRadius:10,flexDirection:"row",alignItems:"center"},avatarContainer:{marginRight:10,backgroundColor:e.accentSecondary},name:{color:e.text,fontSize:16},controlButton:{padding:6},controlIcon:{color:e.textLight,fontSize:24}})})),Ny=Object(ia.j)(Ly);function Uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uy(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Vy=function(e){Yo()(n,e);var t=Hy(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={search:"",groupId:null},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.navigation,r=t.route;n.addListener("focus",(function(){var t=D(r).groupId;e.setState(Gy(Gy({},e.state),{},{groupId:t}))}))}},{key:"fetch",value:function(){var e=Mo.dispatch,t=this.state,n=t.groupId,r=t.search;n&&e(function(e,t){return function(n,r){var o,a,i,c,s,u;return l.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(o=r(),a=o.auth.token,i=o.groups.groupsDict,(c=i[e])&&!c.availableMatches.fetching){f.next=4;break}return f.abrupt("return");case 4:return n(ho(e)),f.next=7,l.a.awrap(W("groups/"+e+"/availableMatches","GET",{search:t||""},{},a,!0));case 7:(s=f.sent).status===U.OK?(u=s.data.map(te),n(mo(e,u))):n(go(e));case 9:case"end":return f.stop()}}),null,null,null,Promise)}}(n,r))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.navigation,o=this.state,a=o.search,i=o.groupId,s=zy(n);return c.createElement(fa,null,c.createElement($p,{onBufferedUpdate:function(){return e.fetch()},bufferDelay:250,placeholder:I.a.t("search"),onChangeText:function(t){return e.setState(Gy(Gy({},e.state),{},{search:t}))},value:a,containerStyle:s.searchBarContainer,inputContainerStyle:s.searchBarInputContainer,inputStyle:s.searchBarInput}),c.createElement(Og,{groupId:i,redirectIfNotApproved:!0},(function(t){var n=t.group;return n&&c.createElement(Gu,{navigation:r,fetchLimit:1,fetchMore:function(){return e.fetch()},fetching:n.availableMatches.fetching,canFetchMore:null===n.availableMatches.profiles,currentPage:1,items:n.availableMatches.profiles||[],id:function(e){return e.id},hideScrollIndicator:!0,noResultsComponent:c.createElement($o.a,{style:s.noResultsText},I.a.t("groups.invite.nobodyToInvite")),refresh:function(){return e.fetch()},refreshOnFocus:!0,renderItem:function(e){return c.createElement(Ny,{key:"invite-"+e.id,group:n,profile:e})},itemsContainerStyle:s.itemsContainer})})))}}]),n}(c.Component),zy=aa((function(e){return Xo.a.create({itemsContainer:{width:"100%",maxWidth:600,alignSelf:"center",alignItems:"center",paddingHorizontal:20,marginTop:10},noResultsText:{fontSize:16,color:e.textLight,marginVertical:5,textAlign:"center",maxWidth:300},searchBarContainer:{width:"100%",marginBottom:5,paddingVertical:0,paddingHorizontal:15,backgroundColor:"transparent",borderTopWidth:0,borderBottomWidth:0},searchBarInputContainer:{height:40,backgroundColor:e.cardBackground,elevation:2,borderRadius:25},searchBarInput:{fontSize:14}})})),Wy=Object(ia.j)(Vy);function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ky(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Jy=function(e){Yo()(n,e);var t=Ky(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={groupId:null},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.navigation,r=t.route;n.addListener("focus",(function(){var t=D(r).groupId;e.setState(Yy(Yy({},e.state),{},{groupId:t}))}))}},{key:"render",value:function(){var e=this.props.navigation,t=this.state.groupId;return c.createElement(fa,null,c.createElement(Og,{groupId:t,redirectIfNotApproved:!0},(function(t){var n=t.group;return c.createElement(iy,{group:n,navigation:e,status:qt.Pending,renderItem:function(e){return n?c.createElement(Ey,{key:n.id+"-"+e.profile.id,groupId:n.id,member:e,adminView:(null==n?void 0:n.myRole)===Wt.Admin}):c.createElement(c.Fragment,null)},noResultsText:I.a.t("groups.members.approval.noResults")})})))}}]),n}(c.Component);function Qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qy(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var $y=function(e){Yo()(n,e);var t=Xy(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={groupId:null},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.navigation,r=t.route;n.addListener("focus",(function(){var t=D(r).groupId;e.setState(Zy(Zy({},e.state),{},{groupId:t}))}))}},{key:"render",value:function(){var e=this.props.navigation,t=this.state.groupId;return c.createElement(fa,null,c.createElement(Og,{groupId:t,redirectIfNotApproved:!0},(function(t){var n=t.group;return c.createElement(iy,{group:n,navigation:e,status:qt.Banned,renderItem:function(e){return n?c.createElement(Ey,{key:n.id+"-"+e.profile.id,groupId:n.id,member:e,adminView:n.myRole===Wt.Admin}):c.createElement(c.Fragment,null)},noResultsText:I.a.t("groups.members.banned.noResults")})})))}}]),n}(c.Component),ev=Object(Wo.a)(),tv=function(){var e=Object(c.useRef)(null),t=function(t){return c.createElement(tl,$t()({},t,{rightButtons:[function(t){return c.createElement(va.a,{style:t.buttonStyle,onPress:function(){var t;return null==(t=e.current)?void 0:t.show()}},c.createElement(Pi.a,{name:"add",style:t.iconStyle}))}]}))};return c.createElement(c.Fragment,null,c.createElement(ev.Navigator,{headerMode:"screen"},c.createElement(ev.Screen,{name:"TabGroupsScreen",options:function(){return{title:F("TabGroupsScreen"),header:t}},component:hm}),c.createElement(ev.Screen,{name:"GroupsExploreScreen",options:function(){return{title:F("GroupsExploreScreen"),header:function(e){return c.createElement(tl,$t()({},e,{noAvatar:!0,backButton:!0}))}}},component:Jm}),c.createElement(ev.Screen,{name:"GroupScreen",options:function(){return{title:F("GroupScreen"),headerShown:!1}},component:ey}),c.createElement(ev.Screen,{name:"GroupMembersScreen",options:function(e){return{title:F("GroupMembersScreen"),header:function(t){return c.createElement(xy,$t()({groupId:D(e.route).groupId},t))}}},component:Ry}),c.createElement(ev.Screen,{name:"GroupBannedMembersScreen",options:function(e){return{title:F("GroupBannedMembersScreen"),header:function(t){return c.createElement(xy,$t()({groupId:D(e.route).groupId,keepScreenTitle:!0,noInviteButton:!0},t))}}},component:$y}),c.createElement(ev.Screen,{name:"GroupMembersApprovalScreen",options:function(e){return{title:F("GroupMembersApprovalScreen"),header:function(t){return c.createElement(xy,$t()({groupId:D(e.route).groupId},t))}}},component:Jy}),c.createElement(ev.Screen,{name:"GroupInviteScreen",options:function(e){return{title:F("GroupInviteScreen"),header:function(t){return c.createElement(_y,$t()({groupId:D(e.route).groupId},t))}}},component:Wy})),c.createElement(Im,{ref:e}))};function nv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var rv=Object(ka.b)((function(e){var t=e.messaging;return{firstRoom:t.matchRoomsOrdered.length>0?t.matchRooms[t.matchRoomsOrdered[0]]:void 0,localChatUser:t.localChatUser}})),ov=function(e){Yo()(n,e);var t=nv(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.firstRoom,n=e.localChatUser,r=e.theme,o=Ya()(e,["firstRoom","localChatUser","theme"]),a=av(r),i=t&&t.users.find((function(e){return e._id===(null==n?void 0:n._id)})),s=null==t?void 0:t.lastMessage,u=s&&i&&s.user._id!==i._id&&(null!==i.lastMessageSeenDate&&i.lastMessageSeenDate<s.createdAt||i.lastMessageSeenId!=s._id),l=c.createElement(hd,$t()({name:"message"},o)),f=c.createElement(c.Fragment,null);return u&&(f=c.createElement(ca.a,{style:a.indicatorContainer},c.createElement(d.a,{size:12,name:"exclamation",color:oa.dark.text}))),c.createElement(ca.a,null,l,f)}}]),n}(c.Component),av=aa((function(e){return Xo.a.create({indicatorContainer:{position:"absolute",backgroundColor:e.error,width:16,height:16,borderRadius:16,justifyContent:"center",alignItems:"center",left:18,bottom:15}})})),iv=rv(Object(ia.j)(ov)),cv=Object(Bs.a)();Object(Wo.a)();var sv=Object(ia.j)((function(){return c.createElement(cv.Navigator,{initialRouteName:"TabMatching",tabBar:function(e){return c.createElement(md,e)}},c.createElement(cv.Screen,{name:"TabMatching",component:ud,options:{tabBarIcon:function(e){return c.createElement(hd,$t()({name:"contacts"},e))}}}),c.createElement(cv.Screen,{name:"TabGroups",component:tv,options:{tabBarIcon:function(e){return c.createElement(hd,$t()({name:"group"},e))},tabBarButton:function(e){return c.createElement(va.a,$t()({},e,{activeOpacity:1,onPress:function(){return j("TabGroups",{screen:"TabGroupsScreen"})}}))}}}),c.createElement(cv.Screen,{name:"TabMessaging",component:xl,options:function(e){var t=e.route;return{tabBarVisible:"ChatScreen"!==Object(Ql.getFocusedRouteNameFromRoute)(t),tabBarIcon:function(e){return c.createElement(iv,e)},tabBarButton:function(e){return c.createElement(va.a,$t()({},e,{activeOpacity:1,onPress:function(){return j("TabMessaging",{screen:"ChatRoomsScreen"})}}))}}}}))}));function uv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var lv=function(e){Yo()(n,e);var t=uv(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).containerWidth=0,e.width=new jc.c.Value(0),e}return Rn()(n,[{key:"componentDidMount",value:function(){this.setIndex(this.props.index)}},{key:"componentDidUpdate",value:function(e){var t=this.props.index;e.index!==t&&this.setIndex(t)}},{key:"setIndex",value:function(e){var t=(e+1)/wo.length*this.containerWidth;Gc(this.width,{toValue:t,duration:150,easing:jc.a.sin})}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.foregroundStyle,o=t.theme,a=fv(o);return c.createElement(Uc.b.Consumer,null,(function(t){return c.createElement(ca.a,{style:[a.background,{bottom:((null==t?void 0:t.bottom)||0)+15},n],onLayout:function(t){e.containerWidth=t.nativeEvent.layout.width,e.setIndex(e.props.index)}},c.createElement(jc.c.View,{style:[a.foreground,{width:e.width},r]}))}))}}]),n}(c.Component),fv=aa((function(e,t){return Xo.a.create({background:{position:"absolute",left:t?"55%":"10%",width:t?"40%":"80%",height:8,borderRadius:8,backgroundColor:e.accentSlight},foreground:{borderRadius:8,backgroundColor:e.accent,height:"100%"}})})),pv=Object(ia.j)(lv);var dv=Object(ia.j)((function(e){var t=yt.map((function(e){return I.a.t("genders."+e)})),n=e.theme,r=e.genders,o=e.styleVariant,a=e.onSelect,i=Ya()(e,["theme","genders","styleVariant","onSelect"]);return c.createElement(ia.c,$t()({onPress:function(e){a&&a(("object"==typeof e?e:[e]).map((function(e){return yt[e]})))},selectMultiple:!0,selectedIndexes:r.map((function(e){return yt.indexOf(e)})),buttons:t},Zf(o,n),i))}));function hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hv(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var yv=function(e){Yo()(n,e);var t=gv(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).settingsModalRef=s.a.createRef(),e}return Rn()(n,[{key:"offerValueChange",value:function(e){var t=this.props.onChange;t&&t(mv(mv({},this.props.value),e))}},{key:"setAllValues",value:function(e){this.offerValueChange(zt(this.props.offer,e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.offer,o=t.value,a=t.style,i=vv(n),c=[];r.allowChooseGender&&(o.allowFemale&&c.push("female"),o.allowMale&&c.push("male"),o.allowOther&&c.push("other"));var u=[];r.allowChooseProfileType&&(o.allowStaff&&u.push("staff"),o.allowStudent&&u.push("student"));var l=(!r.allowChooseGender||c.length>0)&&(!r.allowInterRole||u.length>0);return s.a.createElement(ca.a,{style:[i.wrapper,a]},s.a.createElement(ca.a,{style:i.titleWrapper},s.a.createElement(ca.a,{style:i.titleLeft},s.a.createElement(ia.d,{checked:l,onPress:function(){return e.setAllValues(!l)},containerStyle:i.checkboxContainer}),s.a.createElement(va.a,{style:i.offerNameTouchable,onPress:function(){return e.setAllValues(!l)}},s.a.createElement($o.a,{style:i.offerName},I.a.t("allOffers."+r.id+".name")))),s.a.createElement(ca.a,{style:{flexDirection:"row"}},s.a.createElement(va.a,{style:i.sideButton,onPress:function(){var t;return null==(t=e.settingsModalRef.current)?void 0:t.show()}},s.a.createElement(d.a,{style:i.sideButtonIcon,name:"gear"})),s.a.createElement(nm,{text:I.a.t("allOffers."+r.id+".help")},s.a.createElement(Pi.a,{style:[i.sideButton,i.sideButtonIcon],name:"help"})))),s.a.createElement(qi,{ref:this.settingsModalRef,modalViewStyle:i.settingsModal,renderContent:function(t){return s.a.createElement(s.a.Fragment,null,r.allowChooseGender&&s.a.createElement(ca.a,{style:i.settingsModalTargetType},s.a.createElement(Xa,null,I.a.t("offerSettings.genders")),s.a.createElement(dv,{styleVariant:"classic-rounded",genders:c,onSelect:function(t){return e.offerValueChange({allowFemale:-1!=t.indexOf("female"),allowMale:-1!=t.indexOf("male"),allowOther:-1!=t.indexOf("other")})}})),r.allowChooseProfileType&&s.a.createElement(ca.a,{style:i.settingsModalTargetType},s.a.createElement(Xa,null,I.a.t("offerSettings.roles")),s.a.createElement(np,{styleVariant:"classic-rounded",roles:u,onSelect:function(t){return e.offerValueChange({allowStaff:-1!=t.indexOf("staff"),allowStudent:-1!=t.indexOf("student")})}})),s.a.createElement(Oa,{style:i.settingsModalButton,textStyle:i.settingsModalButtonText,skin:"rounded-filled",text:I.a.t("ok"),onPress:t}))}}))}}]),n}(s.a.Component),vv=aa((function(e){return Xo.a.create({wrapper:{flexDirection:"column",alignItems:"flex-start"},titleWrapper:{width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},titleLeft:{flexDirection:"row",alignItems:"center",flex:1},offerNameTouchable:{flex:1},offerName:{textTransform:"uppercase",letterSpacing:1,color:e.text},sideButton:{paddingVertical:10,paddingHorizontal:5},sideButtonIcon:{fontSize:20,color:e.textLight},checkboxContainer:{padding:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:5},settingsModal:{paddingVertical:20,paddingHorizontal:15,alignItems:"flex-start"},settingsModalTargetType:{width:"100%",marginBottom:10},settingsModalButton:{height:38,marginHorizontal:5,marginVertical:0,marginTop:20},settingsModalButtonText:{fontSize:16}})})),bv=Object(ia.j)(yv);function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ov(e,t,n,r,o){var a=mi(o);return c.createElement(c.Fragment,null,c.createElement($o.a,{style:a.offerControlPreText},I.a.t("offersPreText")),e.filter((function(e){return e.category==t})).map((function(e,t){return c.createElement(bv,{key:t,offer:e,value:n.offerValues[e.id]||zt(e),onChange:function(t){return r(function(e,t){return{type:ye.SET_ONBOARDING_OFFER_VALUE,id:e,value:t}}(e.id,t))},style:a.offerControl})})))}function Cv(e){var t=function(e){var t={type:e.type,firstName:e.firstname,lastName:e.lastname,gender:e.gender,birthdate:e.birthdate.toJSON(),nationality:e.nationality,languages:e.languages,interests:e.interestIds.map((function(e){return{id:e}})),profileOffers:Object.values(e.offerValues),educationFields:e.educationFields.map((function(e){return{id:e}}))};return"student"==e.type?Sv(Sv({},t),{},{degree:e.degree}):"staff"==e.type?Sv(Sv({},t),{},{staffRoles:Object.keys(e.staffRoles).filter((function(t){return e.staffRoles[t]})).map((function(e){return{id:e}}))}):null}(e);t&&Mo.dispatch(Ee(t))}function Rv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}function wv(){return c.createElement(ca.a,{style:{width:10,height:1}})}var Pv=function(e){Yo()(n,e);var t=Rv(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.subtitle,o=t.index,a=t.hideNavNext,i=t.hasNext,s=t.handleSubmit,u=t.next,l=t.containerStyle,f=t.background,p=t.illustration,d=t.textColor,h=t.noKeyboardAvoidance,m=t.theme,g=hi(m),y=o>0,v=function(){s?s():i&&u()},b=ra.isWideDevice;return c.createElement(fa,{forceFullWidth:!0,containerStyle:g.root},b?c.createElement(ca.a,{style:g.wideDeviceLeftPanel},p):c.createElement(c.Fragment,null),c.createElement(ca.a,{style:g.slideWrapper},f,c.createElement(yc.a,{style:g.slideScrollView,contentContainerStyle:[l,g.slideContentWrapper]},c.createElement(_i.a,{behavior:"position",keyboardVerticalOffset:70,enabled:!h,style:g.slideContentContainer},c.createElement(ca.a,{style:g.header},n&&"string"===typeof n&&c.createElement($o.a,{style:[g.title,d?{color:d}:{}]},n),n&&"string"!==typeof n&&n,r&&c.createElement($o.a,{style:[g.subtitle,d?{color:d}:{}]},r)),!b&&p,this.props.children)),c.createElement(Uc.b.Consumer,null,(function(t){return c.createElement(ca.a,{style:[g.slideNavWrapper,{marginBottom:((null==t?void 0:t.bottom)||0)+40}]},c.createElement(ca.a,{style:g.slideNavButtons},y&&c.createElement(Oa,{style:[g.navButton,g.navButtonBack],skin:"rounded-hollow",text:I.a.t("onboarding.back"),onPress:function(){return e.props.previous()}}),!y&&c.createElement(Oa,{style:[g.navButton,g.navButtonBack],skin:"rounded-hollow",text:I.a.t("onboarding.leave"),onPress:function(){return e.quitOnboarding()}}),!a&&i&&c.createElement(c.Fragment,null,c.createElement(wv,null),c.createElement(Oa,{style:g.navButton,skin:"rounded-filled",text:I.a.t("onboarding.next"),onPress:v})),!i&&c.createElement(c.Fragment,null,c.createElement(wv,null),c.createElement(Oa,{style:g.navButton,skin:"rounded-filled",text:I.a.t("onboarding.submit"),onPress:function(){s&&s(),Cv(Mo.getState().auth.onboarding)}}))))}))))}},{key:"quitOnboarding",value:function(){var e=function(){return Mo.dispatch(Ue())};"web"===T.a.OS?e():G.a.alert(I.a.t("onboarding.quit.title"),I.a.t("onboarding.quit.text"),[{text:I.a.t("onboarding.quit.cancel"),style:"cancel"},{text:I.a.t("onboarding.quit.yes"),onPress:e,style:"destructive"}])}}]),n}(c.Component),Tv=Object(ia.j)(Pv);function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var kv=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding}})),jv=ft.c().shape({firstname:Ct,lastname:Rt}),_v=function(e){Yo()(n,e);var t=Iv(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).lastNameInputRef=c.createRef(),e}return Rn()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.firstname!=n.firstname||t.lastname!=n.lastname}},{key:"submit",value:function(e){za.a.dismiss(),this.props.dispatch(Qe(e)),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.onboardingState;return c.createElement(Wa.a,{initialValues:r,validationSchema:jv,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,a=t.errors,i=t.touched,s=t.handleChange,u=t.handleBlur,l=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xv(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({field:e,value:o[e],error:a[e],touched:i[e],handleChange:s,handleBlur:u},function(e){return{wrapperStyle:{width:"100%",marginVertical:10},style:{width:"100%",height:55,borderRadius:12,borderWidth:0,backgroundColor:e.onboardingInputBackground},focusedStyle:{backgroundColor:e.accentSlight},errorStyle:{borderBottomWidth:2,borderBottomColor:e.error},validStyle:{},inputStyle:{fontSize:18,color:e.text,marginHorizontal:15}}}(n))};return c.createElement(Tv,$t()({title:I.a.t("onboarding.name.title"),subtitle:I.a.t("onboarding.name.subtitle"),illustration:c.createElement(Dv,null),handleSubmit:r},e.props),c.createElement(fi,$t()({},l("firstname"),{label:I.a.t("firstname"),placeholder:I.a.t("firstname"),autoCompleteType:"name",enablesReturnKeyAutomatically:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.lastNameInputRef.current)?void 0:t.focus()}})),c.createElement(fi,$t()({},l("lastname"),{ref:e.lastNameInputRef,label:I.a.t("lastname"),placeholder:I.a.t("lastname"),autoCompleteType:"name",enablesReturnKeyAutomatically:!0,returnKeyType:"done",onSubmitEditing:function(){return r()}})))}))}}]),n}(c.Component);function Dv(){var e=ra.isWideDevice,t=e?600:380,n=e?350:200,r=Object(c.useState)(0),o=a()(r,2),i=o[0],s=o[1],u=function(){return s(i+1)},l=Nc("woman-holding-phone-2",(function(){return u()})),f=Nc("man-holding-phone",(function(){return u()})),p=Nc("blob-4",(function(){return u()})),d=Nc("blob-5",(function(){return u()}));return c.createElement(ca.a,{style:{width:t,height:n,alignSelf:"center"}},c.createElement(p,{style:{position:"absolute",left:0,top:0},width:1.04*n,height:n,viewBox:"0 0 260 250",preserveAspectRatio:"xMinYMid"}),c.createElement(l,{style:{position:"absolute",left:.15*t,top:.1*n},width:.8*n*.7,height:.8*n,viewBox:"0 0 140 200",preserveAspectRatio:"xMinYMid"}),c.createElement(d,{style:{position:"absolute",right:0},width:n*(250/275),height:n,viewBox:"0 0 250 275",preserveAspectRatio:"xMaxYMid"}),c.createElement(f,{style:{position:"absolute",right:.12*t,top:.1*n},width:.8*n*.75,height:.8*n,viewBox:"0 0 150 200",preserveAspectRatio:"xMaxYMid"}))}var Av=kv(Object(ia.j)(_v));var Fv=Object(ia.j)((function(e){var t=yt.map((function(e){return I.a.t("genders."+e)})),n=e.gender,r=e.disabled,o=e.styleVariant,a=e.theme;return c.createElement(ia.c,$t()({onPress:function(t){e.onSelect&&e.onSelect(yt[t])},selectedIndex:void 0!==n&&null!==n?yt.indexOf(n):-1,buttons:t,disabled:r},Zf(o,a)))}));function Mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mv(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Nv=function(e){Yo()(n,e);var t=Bv(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={open:void 0===e.open||e.open},r}return Rn()(n,[{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&this.showModal(),e.open&&!this.props.open&&this.hideModal()}},{key:"showModal",value:function(){this.state.open||this.setState(Lv(Lv({},this.state),{},{open:!0}))}},{key:"hideModal",value:function(){this.state.open&&(this.setState(Lv(Lv({},this.state),{},{open:!1})),void 0!==this.props.onHide&&this.props.onHide())}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.onSelect,o=this.state.open,a=Uv(n);return c.createElement(Hl.d,{countryCode:this.props.nationality||"FR",filterProps:{placeholder:I.a.t("search")},withFlag:!0,withFilter:!0,withEmoji:!1,onSelect:function(e){r&&r(e.cca2)},onClose:function(){return e.hideModal()},translation:I.a.t("countryPickerLanguageCode"),visible:o,containerButtonStyle:a.pickerContainerButton,theme:"dark"===n.id?Hl.a:Hl.b})}}]),n}(c.Component),Uv=aa((function(){return Xo.a.create({pickerContainerButton:{display:"none"}})})),Gv=Object(ia.j)(Nv),Hv=n(81);function Vv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var zv=function(e){Yo()(n,e);var t=Vv(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={countryName:""},r.updateCountryName(),r}return Rn()(n,[{key:"updateCountryName",value:function(){var e=this,t=this.props.countryCode,n=I.a.t("countryPickerLanguageCode");Object(Hv.d)({countryCode:t,translation:n}).then((function(t){e.setState({countryName:t.countryName})}))}},{key:"componentDidUpdate",value:function(e){this.props.countryCode!=e.countryCode&&this.updateCountryName()}},{key:"render",value:function(){var e=this.props,t=e.countryCode,n=Ya()(e,["countryCode"]),r=this.state.countryName,o=this.props.flagSize||20;return c.createElement(ca.a,{style:{flexDirection:"row"}},c.createElement(Hl.c,{countryCode:t,flagSize:o,withEmoji:!1}),c.createElement($o.a,n,r))}}]),n}(c.Component);function Wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wv(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Kv=function(e){Yo()(n,e);var t=Yv(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={open:!1},r}return Rn()(n,[{key:"showModal",value:function(){this.state.open||this.setState(qv(qv({},this.state),{},{open:!0}))}},{key:"hideModal",value:function(){this.state.open&&(this.setState(qv(qv({},this.state),{},{open:!1})),this.props.onHide&&this.props.onHide())}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSelect,r=t.onHide,o=t.nationality,a=t.buttonStyle,i=t.buttonValidStyle,s=t.theme,u=this.state.open,l=Jv(s);return c.createElement(ca.a,{style:l.wrapper},c.createElement(va.a,{style:[l.button,a,o?[l.buttonOk,i]:{}],onPress:function(){return e.showModal()}},o&&c.createElement(zv,{countryCode:o,style:l.nationality}),!o&&c.createElement($o.a,{style:l.placeholder},I.a.t("nationalityPicker.placeholder"))),c.createElement(Gv,{nationality:this.props.nationality,open:u,onSelect:function(e){n&&n(e)},onHide:function(){e.hideModal(),r&&r()}}))}}]),n}(c.Component),Jv=aa((function(e){return Xo.a.create({wrapper:{width:"100%"},button:{width:"100%",height:60,borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:e.accentTernary,backgroundColor:"transparent",justifyContent:"center"},buttonOk:{borderBottomWidth:1,borderBottomColor:e.okay},nationality:{fontSize:16,color:e.text},placeholder:{fontSize:16,color:e.textLight,paddingHorizontal:10}})})),Qv=Object(ia.j)(Kv);function Zv(e){var t=e.date,n=Ya()(e,["date"]);if(t){var r=I.a.t("months."+t.getMonth()),o=t.getDate()+""+" "+r+" "+t.getFullYear();return c.createElement($o.a,n,o)}return c.createElement(c.Fragment,null)}function Xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xv(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var tb=function(e,t,n,r,o){return{autoCorrect:!1,clearTextOnFocus:!0,keyboardType:"number-pad",returnKeyType:r?"next":"done",value:t,maxLength:n,onSubmitEditing:function(){var e;r&&(null==(e=r.current)||e.focus())},onChangeText:function(t){var a,i;(t=t.replace(/\D+/g,""),o&&o(t),t.length==n)&&(r?null==(a=r.current)||a.focus():null==(i=e.current)||i.blur())}}},nb=function(e){Yo()(n,e);var t=eb(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).input1Ref=c.createRef(),r.input2Ref=c.createRef(),r.input3Ref=c.createRef(),r.state=r.deriveStateFromDate(e.date),r}return Rn()(n,[{key:"componentDidUpdate",value:function(e){this.props.date!=e.date&&this.setState($v($v({},this.state),this.deriveStateFromDate(this.props.date)))}},{key:"focus",value:function(){var e;null==(e=this.input1Ref.current)||e.focus()}},{key:"validDate",value:function(){var e=this.state,t=e.year,n=e.month,r=e.day;if(t.length>=4&&n.length>0&&r.length>0){try{var o=parseInt(t),a=parseInt(n)-1,i=parseInt(r);if(o>0&&a>=0&&a<12&&i>0&&i<=31){var c=new Date(o,a,i),s=this.getError(c);return s?{error:s}:{date:c}}}catch(u){}return{error:"validation.date.invalid"}}return this.state.touched?{error:"validation.date.invalid"}:{}}},{key:"getError",value:function(e){var t=this.props,n=t.minimumDate,r=t.maximumDate;return r&&e>r?"validation.date.tooYoung":n&&e<n?"validation.date.invalid":void 0}},{key:"deriveStateFromDate",value:function(e){var t=null==e?void 0:e.getFullYear(),n=null==e?void 0:e.getMonth(),r=null==e?void 0:e.getDate();return{year:void 0===t?"":t+"",month:void 0===n?"":n+1+"",day:void 0===r?"":r+"",touched:void 0!==e,error:e?this.getError(e):void 0,focused1:!!this.state&&this.state.focused1,focused2:!!this.state&&this.state.focused2,focused3:!!this.state&&this.state.focused3}}},{key:"set",value:function(e){var t=this,n=this.props.onChange;this.setState($v($v({},this.state),e),(function(){if(n){var e=t.validDate(),r=e.date,o=e.error;(r||o)&&(n(r,o),t.setState($v($v({},t.state),{},{touched:!0,error:o})))}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputStyle,r=t.containerStyle,o=t.autoFocus,a=t.theme,i=this.state,s=i.year,u=i.month,l=i.day,f=i.touched,p=i.error,d=i.focused1,h=i.focused2,m=i.focused3,g=rb(a),y=f&&!p?this.props.inputStyleValid:{},v=["web"===T.a.OS?{outline:"none"}:{},this.props.inputStyleFocused];return c.createElement(ca.a,{style:[g.container,r]},c.createElement(ca.a,{style:g.containerDay},c.createElement(Ka.a,$t()({},tb(this.input1Ref,l,2,this.input2Ref,(function(t){return e.set({day:t})})),{ref:this.input1Ref,style:[g.input,g.inputDay,n,d?v:{},y],blurOnSubmit:!1,returnKeyType:"next",placeholder:I.a.t("dateInput.dayPlaceholder"),autoFocus:o,onBlur:function(){return e.setState({focused1:!1})},onFocus:function(){return e.setState({focused1:!0})}}))),c.createElement(ca.a,{style:g.containerMonth},c.createElement(Ka.a,$t()({},tb(this.input2Ref,u,2,this.input3Ref,(function(t){return e.set({month:t})})),{ref:this.input2Ref,style:[g.input,g.inputMonth,n,h?v:{},y],blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.input3Ref.current)?void 0:t.focus()},returnKeyType:"next",placeholder:I.a.t("dateInput.monthPlaceholder"),onBlur:function(){return e.setState({focused2:!1})},onFocus:function(){return e.setState({focused2:!0})}}))),c.createElement(ca.a,{style:g.containerYear},c.createElement(Ka.a,$t()({},tb(this.input3Ref,s,4,void 0,(function(t){return e.set({year:t})})),{ref:this.input3Ref,style:[g.input,g.inputYear,n,m?v:{},y],returnKeyType:"done",placeholder:I.a.t("dateInput.yearPlaceholder"),onBlur:function(){return e.setState({focused3:!1})},onFocus:function(){return e.setState({focused3:!0})}}))))}}]),n}(c.Component),rb=aa((function(e){return Xo.a.create({container:{flex:1,width:"100%",flexDirection:"row"},input:{borderWidth:1,borderColor:e.componentBorder,paddingHorizontal:6,textAlign:"center"},containerDay:{flex:1},containerMonth:{flex:1,paddingLeft:10},containerYear:{flex:2,paddingLeft:10},inputDay:{},inputMonth:{},inputYear:{}})})),ob=Object(ia.j)(nb);function ab(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ib=new Date(1920,0,0),cb=new Date(Date.now());cb.setFullYear(cb.getFullYear()-16);var sb=function(e){Yo()(n,e);var t=ab(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).dateInputRef=c.createRef(),e}return Rn()(n,[{key:"focus",value:function(){var e;null==(e=this.dateInputRef.current)||e.focus()}},{key:"render",value:function(){var e=this.props;return c.createElement(ob,$t()({ref:this.dateInputRef,minimumDate:ib,maximumDate:cb},e))}}]),n}(c.Component),ub=Object(ia.j)(sb);function lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var db=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding}})),hb=ft.c().shape({birthdate:wt,gender:Pt,nationality:Tt}),mb=function(e){Yo()(n,e);var t=pb(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.birthdate!=n.birthdate||t.gender!=n.gender||t.nationality!=n.nationality||t.educationFields!=n.educationFields}},{key:"submit",value:function(e){e.birthdate&&e.gender&&e.nationality&&e.educationFields&&(this.props.next(),this.props.dispatch(Qe({birthdate:e.birthdate,gender:e.gender,nationality:e.nationality,educationFields:e.educationFields})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onboardingState,r=t.theme,o=gb(r);return c.createElement(Wa.a,{initialValues:n,validationSchema:hb,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,a=t.errors,i=t.touched,s=t.setFieldValue,u=t.setFieldError,l=t.setFieldTouched;return c.createElement(Tv,$t()({title:I.a.t("onboarding.profile1.title"),illustration:c.createElement(yb,null),handleSubmit:n,noKeyboardAvoidance:!0},e.props),c.createElement(Xa,null,I.a.t("dateOfBirth")),c.createElement(ub,{inputStyle:o.dateTextInput,inputStyleFocused:o.dateTextInputFocused,inputStyleValid:o.dateTextInputValid,onChange:function(e,t){t?u("birthdate",t):s("birthdate",e),l("birthdate",!0)}}),r.birthdate&&!a.birthdate&&c.createElement(Zv,{style:o.birthdateText,date:r.birthdate}),i.birthdate&&c.createElement(ni,{error:a.birthdate}),c.createElement(Xa,{style:{marginTop:30}},I.a.t("nationality")),c.createElement(Qv,{buttonStyle:o.nationalityButton,buttonValidStyle:o.nationalityButtonValid,nationality:r.nationality||void 0,onSelect:function(e){return s("nationality",e)}}),i.nationality&&c.createElement(ni,{error:a.nationality}),c.createElement(Xa,{style:{marginTop:30}},I.a.t("gender")),c.createElement(Fv,{gender:r.gender,onSelect:function(e){return s("gender",e)},styleVariant:"onboarding"}),i.gender&&c.createElement(ni,{error:a.gender}),c.createElement(Xa,{style:{marginTop:30}},I.a.t("fieldsOfEducation")),c.createElement(wp,{fields:r.educationFields,onChange:function(e){return s("educationFields",e)},showChips:!0,buttonStyleVariant:"onboarding"}))}))}}]),n}(c.Component),gb=aa((function(e){return Xo.a.create({dateTextInput:{height:48,borderRadius:12,paddingHorizontal:10,borderWidth:0,backgroundColor:e.onboardingInputBackground,fontSize:16,color:e.text},dateTextInputFocused:{backgroundColor:e.accentSlight},dateTextInputValid:{borderBottomWidth:1,borderBottomColor:e.okay},birthdateText:{textAlign:"right",marginTop:4,fontSize:12},nationalityButton:{height:48,borderRadius:12,backgroundColor:e.onboardingInputBackground,paddingHorizontal:10,borderBottomWidth:0},nationalityButtonValid:{}})}));function yb(){var e=ra.isWideDevice,t=e?400:300,n=Object(c.useState)(0),r=a()(n,2),o=r[0],i=r[1],s=function(){return i(o+1)},u=Nc("woman-holding-phone-3",s),l=Nc("blob-6",s);return c.createElement(ca.a,{style:[{height:t,zIndex:-1},!e&&{position:"absolute",top:-200,right:-150}]},c.createElement(l,{width:t*(350/360),height:t,viewBox:"0 0 350 360"}),c.createElement(u,{style:fb({position:"absolute"},e?{left:.075*t,top:.1*t}:{left:.1*t,top:.28*t}),width:t*(e?.9:.7)*(275/385),height:t*(e?.9:.7),viewBox:"0 0 275 385"}))}var vb=db(Object(ia.j)(mb));function bb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Eb=function(e){Yo()(n,e);var t=bb(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.level,r=e.theme,o=e.buttonStyle,a=e.buttonStyleVariant,i=Sb(r);return c.createElement(iu,{values:dt,label:function(e){return I.a.t("languageLevels."+e)},placeholder:I.a.t("languageLevelPicker.placeholder"),selected:n?[n]:[],buttonStyle:[i.button,o],buttonStyleVariant:a,onSelect:function(e){e.length>0&&t&&t(e[0])}})}}]),n}(c.Component),Sb=aa((function(){return Xo.a.create({button:{width:70,height:32,alignItems:"center",paddingHorizontal:0,paddingVertical:0}})})),Ob=Object(ia.j)(Eb);function Cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cb(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Pb=function(e){Yo()(n,e);var t=wb(n);function n(e){var r;On()(this,n),r=t.call(this,e);var o=e.languages||[];return r.state={languages:o},r}return Rn()(n,[{key:"onChange",value:function(e){this.setState(Rb(Rb({},this.state),{},{languages:e}));var t=e.filter((function(e){return!e.level})).length>0;this.props.onChange&&this.props.onChange(e.filter((function(e){return e.code&&e.level})).map((function(e){return e})),t)}},{key:"removeRow",value:function(e){e>=0&&e<this.state.languages.length&&this.onChange(this.state.languages.filter((function(t,n){return n!==e})))}},{key:"setLanguages",value:function(e){var t=new Map(this.state.languages.map((function(e){return[e.code,e.level]}))),n=e.map((function(e){return{code:e,level:t.get(e)}}));this.onChange(n),this.setState(Rb(Rb({},this.state),{},{languages:n}))}},{key:"setLanguageLevel",value:function(e,t){var n=this.state.languages.map((function(n,r){return r===e?Rb(Rb({},n),{},{level:t}):n}));this.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.style,o=t.pickerButtonStyleVariant,a=this.state.languages,i=Tb(n),s=a.map((function(t,n){return c.createElement(ca.a,{key:"spoken-languages-input-"+t.code,style:[i.rowContainer,0===n?i.firstRowContainer:{}]},c.createElement(ca.a,{style:i.languageLabelContainer},c.createElement($o.a,{style:i.languageLabel,numberOfLines:1},I.a.t("languageNames."+t.code))),c.createElement(Ob,{level:t.level,buttonStyle:i.levelPicker,onChange:function(t){return e.setLanguageLevel(n,t)},buttonStyleVariant:o}),c.createElement(va.a,{style:i.deleteIconContainer,onPress:function(){return e.removeRow(n)}},c.createElement(Pi.a,{style:i.deleteIcon,name:"close"})))}));return c.createElement(ca.a,{style:r},c.createElement(tp,{multiple:!0,languages:a.map((function(e){return e.code||""})),style:i.languagePicker,onChange:function(t){t.length>8&&G.a.alert("You cannot select more than 8 languages"),e.setLanguages(t.slice(0,8))},showChips:!1,buttonStyleVariant:o}),s)}}]),n}(c.Component),Tb=aa((function(e){return Xo.a.create({rowContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",height:32,marginVertical:3},firstRowContainer:{marginTop:10},deleteIconContainer:{width:30,height:30,justifyContent:"center",alignItems:"center",backgroundColor:e.error,borderRadius:100},deleteIcon:{fontSize:16,color:oa.dark.text},languagePicker:{},languageLabelContainer:{flex:1,paddingHorizontal:10,backgroundColor:e.onboardingInputBackground,borderRadius:12,alignItems:"center",justifyContent:"center",height:"100%"},languageLabel:{fontSize:14,color:e.text},levelPicker:{marginHorizontal:5}})})),xb=Object(ia.j)(Pb);function Ib(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var kb=Object(ka.b)((function(e){return{allInterests:e.profile.interests}})),jb=[],_b=kb(function(e){Yo()(n,e);var t=Ib(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"componentDidMount",value:function(){0==jb.length&&this.updateValues()}},{key:"componentDidUpdate",value:function(e){e.allInterests.length!=this.props.allInterests.length&&this.updateValues()}},{key:"updateValues",value:function(){jb=this.props.allInterests.map((function(e){return e.id})),this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.interests,n=e.onChange,r=Ya()(e,["interests","onChange"]);return c.createElement(Yf,$t()({values:jb,genLabel:function(e){return"interestNames."+e},selected:t,onChange:function(e){n&&n(e)},placeholder:I.a.t("interestsPicker.placeholder"),multipleText:I.a.t("interestsPicker.multiple"),searchablePlaceholder:I.a.t("interestsPicker.searchPlaceholder")},r))}}]),n}(c.Component));function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ab(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Mb=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding}})),Lb=ft.c().shape({languages:It,interestIds:kt});function Bb(){var e=ra.isWideDevice,t=e?400:300,n=Object(c.useState)(0),r=a()(n,2),o=r[0],i=r[1],s=function(){return i(o+1)},u=Nc("woman-holding-phone-3",(function(){return s()})),l=Nc("blob-6",(function(){return s()}));return c.createElement(ca.a,{style:[{height:t,zIndex:-1},!e&&{position:"absolute",top:-220,right:-150}]},c.createElement(l,{width:t*(350/360),height:t,viewBox:"0 0 350 360"}),c.createElement(u,{style:Ab({position:"absolute"},e?{left:.075*t,top:.1*t}:{left:.1*t,top:.28*t}),width:t*(e?.9:.7)*(275/385),height:t*(e?.9:.7),viewBox:"0 0 275 385"}))}var Nb=Mb(function(e){Yo()(n,e);var t=Fb(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={hasErrors:!1},r}return Rn()(n,[{key:"submit",value:function(e){this.state.hasErrors||(this.props.dispatch(Qe({languages:e.languages,interestIds:e.interestIds})),this.props.next())}},{key:"render",value:function(){var e=this,t=this.props.onboardingState,n=this.state.hasErrors;return c.createElement(Wa.a,{initialValues:t,validationSchema:Lb,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,a=t.touched,i=t.setFieldValue,s=t.errors;return c.createElement(Tv,$t()({title:I.a.t("onboarding.profile2.title"),illustration:c.createElement(Bb,null),handleSubmit:r},e.props),c.createElement(Xa,null,I.a.t("spokenLanguages")),c.createElement(xb,{languages:o.languages,onChange:function(t,n){i("languages",t),e.setState(Ab(Ab({},e.state),{},{hasErrors:n}))},pickerButtonStyleVariant:"onboarding"}),a.languages&&n&&c.createElement(ni,{error:"validation.language.specifyLevel",style:{marginBottom:0,marginTop:10}}),a.languages&&!n&&0==o.languages.length&&c.createElement(ni,{error:"validation.language.atLeastOne",style:{marginBottom:0,marginTop:10}}),c.createElement(Xa,{style:{marginTop:30}},I.a.t("chooseInterests")),c.createElement(_b,{interests:o.interestIds,onChange:function(e){i("interestIds",e)},showChips:!0,buttonStyleVariant:"onboarding"}),a.interestIds&&c.createElement(ni,{error:s.interestIds}))}))}}]),n}(c.Component)),Ub=n(190);function Gb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Hb=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding}})),Vb=function(e){Yo()(n,e);var t=Gb(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"submit",value:function(e){this.props.dispatch(Qe(e)),this.props.next()}},{key:"render",value:function(){var e=this,t=this.props.theme,n=zb(t),r=Nc("blob-9",(function(){return e.forceUpdate()})),o=Nc("student",(function(){return e.forceUpdate()})),a=Nc("blob-8",(function(){return e.forceUpdate()})),i=Nc("staff",(function(){return e.forceUpdate()})),s=c.createElement(c.Fragment,null);ra.isWideDevice&&(s=c.createElement(Ub.a,{style:{width:"100%",height:"100%"},colors:["#007AC2","#18ADB5"]}));var u=(ea.a.get("window").height-280)/2;return c.createElement(Tv,$t()({title:I.a.t("onboarding.role.title"),hideNavNext:!0,illustration:s},this.props),c.createElement(ca.a,{style:[n.buttonsContainer,{maxWidth:1.3*u}]},c.createElement(va.a,{style:{alignSelf:"flex-start"},activeOpacity:.8,onPress:function(){return e.submit({type:"student"})}},c.createElement(r,{width:u*(300/280),height:u,viewBox:"0 0 300 280"}),c.createElement(o,{style:{position:"absolute",left:.26*u,top:.1*u},width:.85*u*(200/240),height:.85*u,viewBox:"0 0 200 240"})),c.createElement(va.a,{style:{alignSelf:"flex-end",marginTop:-20},activeOpacity:.8,onPress:function(){return e.submit({type:"staff"})}},c.createElement(a,{width:u*(290/305),height:u,viewBox:"0 0 290 305"}),c.createElement(i,{style:{position:"absolute",right:.1*u,top:.12*u},width:.82*u*(210/235),height:.82*u,viewBox:"0 0 210 235"}))))}}]),n}(c.Component),zb=aa((function(){return Xo.a.create({buttonsContainer:{width:"100%",alignSelf:"center"}})})),Wb=Hb(Object(ia.j)(Vb));function qb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Yb=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),Kb=function(e){Yo()(n,e);var t=qb(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,o=e.theme,a=mi(o),i=ra.isWideDevice,s=Gt.Discover;return c.createElement(Tv,$t()({title:c.createElement(sp,{category:s,textStyle:a.categoryTitleText,fontSize:24,withoutIcon:i}),subtitle:I.a.t("onboarding.offersDiscover.subtitle"),illustration:i?c.createElement(op,{category:s,size:.4*ea.a.get("window").width}):c.createElement(c.Fragment,null)},this.props),Ov(n,s,t,r,o))}}]),n}(c.Component),Jb=Yb(Object(ia.j)(Kb));function Qb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var Zb=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),Xb=function(e){Yo()(n,e);var t=Qb(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,o=e.theme,a=mi(o),i=ra.isWideDevice,s=Gt.Collaborate;return c.createElement(Tv,$t()({title:c.createElement(sp,{category:s,textStyle:a.categoryTitleText,fontSize:24,withoutIcon:i}),subtitle:I.a.t("onboarding.offersCollaborate.subtitle"),illustration:i?c.createElement(op,{category:s,size:.4*ea.a.get("window").width}):c.createElement(c.Fragment,null)},this.props),Ov(n,s,t,r,o))}}]),n}(c.Component),$b=Zb(Object(ia.j)(Xb));function eE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var tE=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding,offers:e.profile.offers}})),nE=function(e){Yo()(n,e);var t=eE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.onboardingState,n=e.onboardingState;return t.offerValues!=n.offerValues}},{key:"render",value:function(){var e=this.props,t=e.onboardingState,n=e.offers,r=e.dispatch,o=e.theme,a=mi(o),i=ra.isWideDevice,s=Gt.Meet;return c.createElement(Tv,$t()({title:c.createElement(sp,{category:s,textStyle:a.categoryTitleText,fontSize:24,withoutIcon:i}),subtitle:I.a.t("onboarding.offersMeet.subtitle"),illustration:i?c.createElement(op,{category:s,size:.4*ea.a.get("window").width}):c.createElement(c.Fragment,null)},this.props),Ov(n,s,t,r,o))}}]),n}(c.Component),rE=tE(Object(ia.j)(nE));function oE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var aE=function(e){Yo()(n,e);var t=oE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this,t=pt.map((function(e){return I.a.t("degrees."+e)})),n=this.props,r=n.degree,o=n.theme,a=n.styleVariant;return c.createElement(ia.c,$t()({onPress:function(t){e.props.onUpdate&&e.props.onUpdate(-1==t?void 0:pt[t])},selectedIndex:r?pt.indexOf(r):-1,buttons:t},Zf(a,o)))}}]),n}(c.Component),iE=Object(ia.j)(aE);function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cE(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var lE=Object(ka.b)((function(e){return{onboardingState:e.auth.onboarding}})),fE=ft.c().shape({degree:xt}),pE=function(e){Yo()(n,e);var t=uE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"submit",value:function(e){this.props.dispatch(Qe(e)),this.props.next()}},{key:"studentRender",value:function(){var e=this,t=this.props,n=t.onboardingState,r=t.theme,o=dE(r);return c.createElement(Wa.a,{initialValues:n,validationSchema:fE,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var n=t.handleSubmit,r=t.values,a=t.errors,i=t.touched,s=t.setFieldValue;return c.createElement(Tv,$t()({title:I.a.t("onboarding.roleSpecific1.student.title"),illustration:c.createElement(mE,null),handleSubmit:n},e.props),c.createElement(Xa,{style:o.label},I.a.t("levelOfStudy")),c.createElement(iE,{degree:r.degree,onUpdate:function(e){return s("degree",e)},styleVariant:"onboarding"}),i.degree&&c.createElement(ni,{error:a.degree}))}))}},{key:"staffRender",value:function(){var e=this.props,t=e.theme,n=e.onboardingState,r=e.dispatch,o=hE(t),a=n.staffRoles,i=Object.values(a).some((function(e){return!0===e})),s=function(e,t){return r(Qe({staffRoles:sE(sE({},a),{},p()({},e,t))}))},u=mt.map((function(e,n){return c.createElement(va.a,{key:n,style:o.button,activeOpacity:.6,onPress:function(){return s(e,!a[e])}},c.createElement(Pi.a,{name:gt[n],style:o.buttonIcon}),c.createElement($o.a,{style:o.buttonText},I.a.t("staffRoles."+e)),c.createElement(Uf.a,{value:a[e],thumbColor:t.accent,trackColor:{true:t.accentTernary,false:t.accentSlight},onValueChange:function(t){return s(e,t)}}))}));return c.createElement(Tv,$t()({title:I.a.t("onboarding.roleSpecific1.staff.title"),illustration:c.createElement(gE,null),hideNavNext:!i},this.props),u)}},{key:"render",value:function(){var e=this.props.onboardingState;return c.createElement(c.Fragment,null,"student"===e.type&&this.studentRender(),"staff"===e.type&&this.staffRender())}}]),n}(c.Component),dE=aa((function(){return Xo.a.create({label:{marginTop:30}})})),hE=aa((function(e){return Xo.a.create({button:{height:60,flexDirection:"row",alignItems:"center"},buttonText:sE(sE({},pa),{},{fontSize:25,letterSpacing:1.25,color:e.text,flexGrow:1}),buttonIcon:{fontSize:30,marginRight:10,color:e.accent}})}));function mE(){var e=ra.isWideDevice,t=e?500:275,n=Object(c.useState)(0),r=a()(n,2),o=r[0],i=r[1],s=function(){return i(o+1)},u=Nc("woman-holding-phone-4",(function(){return s()})),l=Nc("blob-10",(function(){return s()}));return c.createElement(ca.a,{style:[{height:t},!e&&{marginLeft:.4*t}]},c.createElement(l,{width:t*(405/365),height:t,viewBox:"0 0 405 365"}),c.createElement(u,{style:sE({position:"absolute"},e?{left:.25*t,top:.1*t}:{right:.22*-t,top:.12*t}),width:.85*t*(225/320),height:.85*t,viewBox:"0 0 225 320"}))}function gE(){var e=ra.isWideDevice,t=e?500:300,n=Object(c.useState)(0),r=a()(n,2),o=r[0],i=r[1],s=function(){return i(o+1)},u=Nc("woman-holding-phone-4",(function(){return s()})),l=Nc("blob-11",(function(){return s()}));return c.createElement(ca.a,{style:[{height:t,zIndex:-1},!e&&{position:"absolute",top:-120,right:-150}]},c.createElement(l,{width:t*(415/450),height:t,viewBox:"0 0 415 450"}),c.createElement(u,{style:sE({position:"absolute"},e?{left:.11*t,top:.1*t}:{left:.12*t,top:.06*t}),width:.8*t*(225/320),height:.8*t,viewBox:"0 0 225 320"}))}var yE=lE(Object(ia.j)(pE));function vE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var bE=function(e){Yo()(n,e);var t=vE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=$t()({},this.props);return s.a.createElement(Xi,$t()({title:I.a.t("legal.modal.title"),text:I.a.t("legal.modal.disclaimer"),justifyText:!0,buttons:[{preset:"cancel"},{preset:"delete",text:I.a.t("legal.decline"),onPress:function(e){e(),j("LoginRoot",{screen:"LoginScreens",params:{screen:"SigninScreen"}})}}]},e))}}]),n}(s.a.Component),EE=Object(ia.j)(bE);var SE=function(e){var t=e.text,n=Ya()(e,["text"]);return c.createElement($o.a,$t()({},n,{style:[n?n.style:{},{color:"#2e78b7"}]}),t)},OE=n(748);function CE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var RE=function(e){Yo()(n,e);var t=CE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.title,r=e.text,o=e.specialBackground,a=e.next,i=Ya()(e,["theme","title","text","specialBackground","next"]),s=wE(t),u=ra.isWideDevice,l=c.createElement(Ub.a,{style:s.background,colors:[t.accent,"#862ADF"]}),f=o&&!u?oa.dark.text:t.textLight;return c.createElement(Tv,$t()({title:n,hideNavNext:!0,next:a},o&&!u?{background:l,textColor:oa.dark.text}:{},{illustration:u?l:c.createElement(c.Fragment,null)},i),c.createElement($o.a,{style:[s.legalText,{color:f}]},r),c.createElement($o.a,{style:[s.readMoreText,{color:f}]},I.a.t("legal.readMore")[0],c.createElement(SE,{onPress:function(){return OE.a.openURL(P)},text:I.a.t("legal.readMore")[1],style:{fontWeight:"bold"}}),I.a.t("legal.readMore")[2]),c.createElement(ca.a,{style:s.actionsWrapper},c.createElement(EE,{activator:function(e){return c.createElement(va.a,{style:[s.actionButton,s.actionButtonDecline],onPress:e},c.createElement($o.a,{style:s.actionButtonText},I.a.t("legal.decline")),c.createElement(Pi.a,{name:"close",style:s.actionButtonText}))}}),c.createElement(va.a,{style:[s.actionButton,s.actionButtonAccept],onPress:function(){return a()}},c.createElement($o.a,{style:s.actionButtonText},I.a.t("legal.accept")),c.createElement(Pi.a,{name:"check",style:s.actionButtonText}))))}}]),n}(c.Component),wE=aa((function(e){return Xo.a.create({background:{position:"absolute",width:"100%",height:"100%"},actionsWrapper:{flexDirection:"row",justifyContent:"space-around",borderRadius:100,shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27,elevation:10},actionButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:14},actionButtonDecline:{backgroundColor:e.error,borderTopLeftRadius:100,borderBottomLeftRadius:100},actionButtonAccept:{backgroundColor:e.okay,borderTopRightRadius:100,borderBottomRightRadius:100},actionButtonText:{fontSize:18,paddingHorizontal:2,color:oa.dark.text},readMoreText:{fontSize:16,lineHeight:20,textAlign:"justify",marginVertical:30,letterSpacing:.4},legalText:{textAlign:"justify",fontSize:16,lineHeight:22}})})),PE=Object(ia.j)(RE);function TE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}function xE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}function IE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var kE={OnboardingNameScreen:Av,OnboardingProfileScreen1:vb,OnboardingProfileScreen2:Nb,OnboardingRoleScreen:Wb,OnboardingRoleSpecificScreen:yE,OnboardingOffersScreen1:Jb,OnboardingOffersScreen2:$b,OnboardingOffersScreen3:rE,OnboardingLegalScreen1:function(e){Yo()(n,e);var t=TE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){return c.createElement(PE,$t()({title:I.a.t("onboarding.legal1.title"),text:I.a.t("onboarding.legal1.text"),specialBackground:!0},this.props))}}]),n}(c.Component),OnboardingLegalScreen2:function(e){Yo()(n,e);var t=xE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){return c.createElement(PE,$t()({title:I.a.t("onboarding.legal2.title"),text:I.a.t("onboarding.legal2.text")},this.props))}}]),n}(c.Component),OnboardingLegalScreen3:function(e){Yo()(n,e);var t=IE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){return c.createElement(PE,$t()({title:I.a.t("onboarding.legal3.title"),text:I.a.t("onboarding.legal3.text"),specialBackground:!0},this.props))}}]),n}(c.Component)},jE=Object(Va.a)(),_E=wo.map((function(e,t){var n=t<wo.length-1,r=function(){return n&&Mo.dispatch({type:ye.NEXT_ONBOARDING_SLIDE})},o=function(){return t>0&&Mo.dispatch({type:ye.PREVIOUS_ONBOARDING_SLIDE})},a=kE[e];return c.createElement(jE.Screen,{key:t,name:e,component:function(){return c.createElement(a,{next:r,previous:o,index:t,hasNext:n})},options:{title:F(e)}})}));var DE=Object(ka.b)((function(e){return{onboardingIndex:e.auth.onboardingIndex}}))((function(e){var t=e.onboardingIndex;return c.createElement(c.Fragment,null,c.createElement(jE.Navigator,{initialRouteName:wo[t],tabBarOptions:{showLabel:!1,showIcon:!1},tabBar:function(){return c.createElement(c.Fragment,null)},springConfig:{stiffness:500,damping:2e3,mass:5},swipeEnabled:!1,lazy:!0,lazyPreloadDistance:0},_E),c.createElement(pv,{index:t}))}));function AE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var FE=function(e){Yo()(n,e);var t=AE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props.theme,n=ME(t),r=Nc("large-wave-bg",(function(){return e.forceUpdate()})),o=Nc("woman-holding-phone",(function(){return e.forceUpdate()})),a=ea.a.get("window").width,i=ea.a.get("window").height,s=a*(700/450),u=Math.max(250,i-s+30);return c.createElement(fa,{forceFullWidth:!0},c.createElement(ca.a,{style:n.root},ra.isWideDevice?c.createElement(ca.a,{style:n.wideDeviceLeftPanel},c.createElement(Ub.a,{style:n.gradient,colors:["#32C5FF","#B620E0","#F7B500"],locations:[0,.6,1],start:{x:1,y:0},end:{x:.3,y:.6}}),c.createElement(ca.a,{style:{position:"absolute",bottom:-150,left:-100,width:"100%"}},c.createElement(o,null))):c.createElement(c.Fragment,null,c.createElement(ca.a,{style:{position:"absolute",width:"100%",top:u}},c.createElement(r,{width:a,height:a*(700/450),viewBox:"0 0 450 700"})),c.createElement(ca.a,{style:{position:"absolute",width:"100%",top:u+100,left:-100}},c.createElement(o,{width:a,height:1.5*a,viewBox:"0 0 500 750"}))),c.createElement(ca.a,{style:n.container},c.createElement(ca.a,null,c.createElement($o.a,{style:n.title},I.a.t("onboarding.success.title")),c.createElement($o.a,{style:n.subtitle},I.a.t("onboarding.success.subtitle")),ra.isWideDevice&&c.createElement($o.a,{style:n.wideDeviceIcon},S?"\ud83c\udf46":"\ud83d\ude80")),c.createElement(Oa,{text:I.a.t("onboarding.success.button"),onPress:function(){return j("MainScreen")},skin:"rounded-filled",style:{opacity:.9}}))))}}]),n}(c.Component),ME=aa((function(e,t){return Xo.a.create({root:{width:"100%",height:"100%",flexDirection:"row",justifyContent:"center"},wideDeviceLeftPanel:{width:"50%"},gradient:{width:"100%",height:"100%"},container:{width:t?"50%":"100%",height:"100%",paddingTop:t?150:100,paddingBottom:100,paddingHorizontal:60,justifyContent:"space-between",alignItems:t?"center":"flex-start"},title:{fontSize:36,letterSpacing:.5,lineHeight:40,color:e.text,fontWeight:"600",maxWidth:t?9999:200,textAlign:t?"center":"left"},subtitle:{fontSize:18,marginTop:20,color:e.text,textAlign:t?"center":"left"},wideDeviceIcon:{fontSize:80,textAlign:"center",marginVertical:100}})})),LE=Object(ia.j)(FE);function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BE(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var GE=ft.c().shape({password:bt,passwordRepeat:Et}),HE=function(e){Yo()(n,e);var t=UE(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).pwdRepeatRef=c.createRef(),r.state={submitting:!1},r}return Rn()(n,[{key:"submit",value:function(e){var t=this,n=this.props,r=n.token,o=n.onSuccessfulSubmit;this.setState(NE(NE({},this.state),{},{submitting:!0})),r?Mo.dispatch(function(e,t){return function(n){var r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l.a.awrap(W("auth/password/reset","POST",{},{token:e,password:t}));case 2:if((r=o.sent).status!=U.OK){o.next=8;break}return n(Ye()),o.abrupt("return",{success:!0});case 8:return o.abrupt("return",{success:!1,errors:Te(r)});case 9:case"end":return o.stop()}}),null,null,null,Promise)}}(r,e.password)).then((function(n){var r=n.success,a=n.errors;if(t.setState({remoteErrors:a,submitting:!1}),a&&a.fields){var i=a.fields;Object.keys(i).forEach((function(e){return t.setFieldError&&t.setFieldError(e,we(i[e]))}))}r&&o&&o(e)})):this.setState({remoteErrors:{general:"error.reset_password_no_token",fields:{}},submitting:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=this.state,a=o.remoteErrors,i=o.submitting,s=VE(n);return c.createElement(ca.a,{style:r},c.createElement($o.a,{style:s.title},I.a.t("resetPassword.title")),c.createElement(Wa.a,{initialValues:{password:"",passwordRepeat:""},validationSchema:GE,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,u=t.errors,l=t.touched,f=t.handleChange,p=t.handleBlur,d=t.setFieldError,h=NE({handleChange:f,handleBlur:p},yi(n,15));return e.setFieldError=d,c.createElement(c.Fragment,null,c.createElement(fi,$t()({field:"password",placeholder:I.a.t("password"),error:u.password,value:o.password,touched:l.password,isPassword:!0,returnKeyType:"next",blurOnSubmit:!1,onSubmitEditing:function(){var t;return null==(t=e.pwdRepeatRef.current)?void 0:t.focus()}},h)),c.createElement(Ka.a,{style:{width:1,height:1}}),c.createElement(fi,$t()({ref:e.pwdRepeatRef,field:"passwordRepeat",placeholder:I.a.t("passwordRepeat"),error:u.passwordRepeat,value:o.passwordRepeat,touched:l.passwordRepeat,isPassword:!0,returnKeyType:"done"},h)),c.createElement(Oi,{error:xe(a)}),c.createElement(wi,{onPress:function(){return r()},style:s.button,skin:"rounded-filled",text:I.a.t("resetPassword.button"),submitting:i}))})))}}]),n}(c.Component),VE=aa((function(e){return Xo.a.create({title:{width:"100%",fontSize:22,color:e.text,marginBottom:20},button:{marginTop:30}})})),zE=Object(ia.j)(HE);function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WE(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var KE=function(e){Yo()(n,e);var t=YE(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this.props.route.params;e&&e.token&&this.setState(qE(qE({},this.state),{},{token:e.token}))}},{key:"render",value:function(){var e=this.state.token;return c.createElement(fa,null,c.createElement(Cc,null,c.createElement(zE,{token:e,containerStyle:{width:"80%",maxWidth:400}})))}}]),n}(c.Component),JE=Object(ia.j)(KE);function QE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var ZE=function(e){Yo()(n,e);var t=QE(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props.theme,t=XE(e);return c.createElement(fa,null,c.createElement(ca.a,{style:t.container},c.createElement(d.a,{name:"envelope-o",style:t.mailIcon}),c.createElement($o.a,{style:t.description},I.a.t("resetPassword.instructions"))))}}]),n}(c.Component),XE=aa((function(e){return Xo.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},description:{fontSize:16,textAlign:"center",color:e.text},mailIcon:{marginVertical:30,fontSize:50,color:e.text}})})),$E=Object(ia.j)(ZE);function eS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var tS=function(e){Yo()(n,e);var t=eS(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props.theme,t=nS(e);return c.createElement(fa,null,c.createElement(ca.a,{style:t.container},c.createElement($o.a,{style:t.successText},I.a.t("resetPassword.success")),c.createElement(Oa,{text:I.a.t("login"),icon:c.createElement(Ti.a,{name:"login",style:t.buttonIcon}),onPress:function(){j("LoginRoot",{screen:"LoginScreens",params:{screen:"SigninScreen"}})},skin:"rounded-filled",style:t.button})))}}]),n}(c.Component),nS=aa((function(e){return Xo.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},successText:{fontSize:18,lineHeight:40,textAlign:"center",color:e.text},button:{marginTop:30},buttonIcon:{fontSize:20,color:oa.dark.text,marginLeft:4}})})),rS=Object(ia.j)(tS);var oS=aa((function(){return Xo.a.create({container:{height:35,marginLeft:0,marginRight:0}})})),aS=Object(ia.j)((function(e){var t=e.role,n=e.onSelect,r=e.theme,o=Ya()(e,["role","onSelect","theme"]),a=oS(r),i=Zf(!1,r),s=ht.map((function(e){return I.a.t("allRoles."+e)}));return c.createElement(ia.c,$t()({onPress:function(e){n&&n(ht[e])},selectedIndex:ht.indexOf(t),buttons:s,containerStyle:a.container},i,o))}));function iS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var cS=function(e){Yo()(n,e);var t=iS(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.style,r=e.onPictureSelected,o=sS(t);return c.createElement(pg,{style:[o.button,n],quality:.75,aspect:R,onPictureSelected:r})}}]),n}(c.Component),sS=aa((function(){return Xo.a.create({button:{position:"absolute",bottom:0,right:0}})})),uS=Object(ia.j)(cS);function lS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lS(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var dS=function(e){Yo()(n,e);var t=pS(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).renderModalContent=function(e){var t=r.props,n=t.label,o=t.renderInput,a=t.oneLine,i=r.state,s=i.value,u=i.error,l=hS(a)(e);return c.createElement(c.Fragment,null,c.createElement($o.a,{style:l.modalLabel},n),o&&s?o(s,u,(function(e,t){return r.onChange(e,t)})):c.createElement(c.Fragment,null),c.createElement($o.a,{style:l.modalErrorText},u?I.a.t(u):""),c.createElement(ca.a,{style:l.modalButtonsContainer},c.createElement(Oa,{onPress:function(){return r.apply()},style:l.modalButton,text:I.a.t("apply"),skin:"rounded-filled"}),c.createElement(Oa,{onPress:function(){return r.setModal(!1)},style:l.modalButton,text:I.a.t("cancel"),skin:"rounded-hollow"})))},r.state={modalOpen:!1,error:null,value:e.initialValue},r}return Rn()(n,[{key:"setModal",value:function(e){var t=this.props.initialValue;this.setState(fS(fS({},this.state),{},{modalOpen:e,value:t,error:null}))}},{key:"setError",value:function(e){this.setState(fS(fS({},this.state),{},{error:e}))}},{key:"onChange",value:function(e,t){var n=this;void 0===t&&(t=this.state.error),this.setState(fS(fS({},this.state),{},{value:e,error:t}),(function(){return n.validate()}))}},{key:"validate",value:function(){var e=this.props.validator;if(!e)return!0;try{return e.validateSync(this.state.value),this.setError(null),!0}catch(t){return this.setError(t.errors[0]),!1}}},{key:"apply",value:function(){this.validate()&&(this.props.apply&&this.state.value&&this.props.apply(this.state.value),this.setModal(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.icon,o=t.display,a=t.overrideModal,i=t.noModal,s=t.style,u=t.locked,l=t.oneLine,f=t.blank,p=t.onPress,d=t.onModalShown,h=Ya()(t,["label","icon","display","overrideModal","noModal","style","locked","oneLine","blank","onPress","onModalShown"]),m=this.state.modalOpen,g=function(){d&&d()};return c.createElement(ia.g,null,(function(t){var d=t.theme,y=hS(l)(d);return c.createElement(c.Fragment,null,c.createElement(va.a,$t()({style:[y.cardWrapper,s],activeOpacity:.9,disabled:i&&!p,onPress:function(){i?p&&p():u||e.setModal(!0)}},h),c.createElement(ca.a,{style:y.cardContent},c.createElement(ca.a,{style:y.cardLabelContainer},!f&&r,c.createElement($o.a,{style:y.cardLabel},!f&&n)),c.createElement(ca.a,null,!f&&void 0!==o&&o,!f&&void 0===o&&e.props.children)),!i&&c.createElement(ca.a,{style:y.rightIconContainer},c.createElement(Pi.a,{name:u?"lock":"keyboard-arrow-right",size:u?30:40,style:y.rightIcon}))),!i&&c.createElement(c.Fragment,null,void 0!==a&&m&&a((function(){return e.setModal(!1)})),void 0===a&&m&&c.createElement(qi,{visible:m,modalViewStyle:y.modalContent,animationType:"slide",renderContent:function(){return e.renderModalContent(d)},onShow:g,onHide:function(){return e.setModal(!1)}})))}))}}]),n}(c.Component),hS=function(e){return aa((function(t){return Xo.a.create({modalContent:{alignItems:"flex-start",paddingHorizontal:20},modalErrorText:{fontSize:12,color:t.error},modalLabel:{color:t.textLight,textTransform:"uppercase",letterSpacing:1.5,fontSize:13,marginBottom:12},modalButtonsContainer:{flexDirection:"column",width:"100%"},modalButton:{marginVertical:0,marginTop:15},cardWrapper:{width:"100%",flexDirection:"row",backgroundColor:t.cardBackground,paddingHorizontal:10,justifyContent:"space-evenly",paddingVertical:15,minHeight:e?0:80,borderRadius:10},cardContent:fS(fS({flex:1,flexDirection:e?"row":"column"},e?{alignItems:"center"}:{}),{},{justifyContent:"space-between"}),cardLabelContainer:{flexDirection:"row",alignItems:"center",marginBottom:e?0:10},cardLabel:{color:t.textLight,textTransform:"uppercase",letterSpacing:1,fontSize:11},rightIconContainer:{justifyContent:"center"},rightIcon:{color:t.textLight}})}))},mS=dS;function gS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var yS=Object(ka.b)((function(e){return{uploadingAvatar:e.profile.uploadingAvatar}}));function vS(){return c.createElement(ca.a,{style:{height:25}})}var bS=function(e){Yo()(n,e);var t=gS(n);function n(){var e;On()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).birthDateInputRef=c.createRef(),e}return Rn()(n,[{key:"onFieldChanged",value:function(e){void 0!==this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.user,o=t.uploadingAvatar,a=SS(n),i=r&&r.profile?r.profile.firstName+" "+r.profile.lastName:"",s=null==r?void 0:r.profile;return c.createElement(yc.a,{style:a.rootScroll,contentContainerStyle:a.scrollContent,overScrollMode:"never"},c.createElement(Eg,{style:a.header,color:n.accent},c.createElement(_h,{profile:null==r?void 0:r.profile,size:140,rounded:!0,containerStyle:a.avatarContainer,activeOpacity:.8,loading:o},r&&c.createElement(uS,{onPictureSelected:function(e){var t;Mo.dispatch((t=e,function(e,n){var r,o,a,i,c,s,u,f;return l.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(r=n(),o=r.auth.token,a=r.profile.uploadingAvatar,i=function(){return e({type:fe.SET_AVATAR_FAILURE})},o&&!a){p.next=5;break}return i(),p.abrupt("return");case 5:return e({type:fe.SET_AVATAR_BEGIN}),p.next=8,l.a.awrap(ge(o,t,i));case 8:if(!(c=p.sent)){p.next=14;break}return p.next=12,l.a.awrap(W("profiles/avatar","POST",{},{fileName:c},o));case 12:(s=p.sent).status===U.OK?(u=s.data,f=u.avatar,e((d=f,{type:fe.SET_AVATAR_SUCCESS,avatarUrl:d}))):i();case 14:case"end":return p.stop()}var d}),null,null,null,Promise)}))}})),c.createElement($o.a,{style:a.name},i),s&&c.createElement(zl,{containerStyle:a.universityContainer,style:a.university,university:s.university})),c.createElement(ca.a,{style:a.body},c.createElement($o.a,{style:a.title},I.a.t("myProfile")),!r&&c.createElement(Ia.a,{size:"large",style:a.loadingIndicator,color:n.accent}),c.createElement(mS,{blank:!r,label:I.a.t("emailAddress"),initialValue:null==r?void 0:r.email,display:r&&c.createElement($o.a,{style:a.cardText},r.email)||void 0,locked:!0}),c.createElement(vS,null),c.createElement(mS,{blank:!r,label:I.a.t("dateOfBirth"),initialValue:null==s?void 0:s.birthdate,display:s&&c.createElement(Zv,{style:a.cardText,date:s.birthdate}),renderInput:function(t,n,r){return c.createElement(ub,{ref:e.birthDateInputRef,date:t,containerStyle:a.birthdateInputContainer,inputStyle:a.birthdateInput,onChange:function(e,n){r(e||t,n||null)}})},onModalShown:function(){var t;return null==(t=e.birthDateInputRef.current)?void 0:t.focus()},apply:function(t){return e.onFieldChanged({birthdate:t})}}),c.createElement(vS,null),c.createElement(mS,{blank:!r,label:I.a.t("nationality"),initialValue:null==s?void 0:s.nationality,display:s&&c.createElement(zv,{style:a.cardText,countryCode:s.nationality}),overrideModal:s&&function(t){return c.createElement(Gv,{nationality:s.nationality,onSelect:function(t){return e.onFieldChanged({nationality:t})},onHide:t})}}),c.createElement(vS,null),c.createElement(mS,{blank:!r,label:I.a.t("gender"),initialValue:null==s?void 0:s.gender,display:s&&c.createElement(Fv,{gender:s.gender,onSelect:function(t){return e.onFieldChanged({gender:t})}}),noModal:!0}),c.createElement(vS,null),c.createElement(mS,{blank:!r,label:I.a.t("profileType"),initialValue:null==s?void 0:s.type,display:s&&c.createElement(c.Fragment,null,c.createElement(aS,{role:s.type,disabled:!0}),"staff"==s.type&&c.createElement(Tp,{staffRoles:s.staffRoles,onChange:function(t){return e.onFieldChanged({staffRoles:t})},multiple:!0,atLeastOne:!0,buttonStyle:a.staffRoleButton}),"student"==s.type&&c.createElement(iE,{degree:s.degree,onUpdate:function(t){return e.onFieldChanged({degree:t})}})),noModal:!0}),c.createElement(vS,null),c.createElement(mS,{blank:!r,label:I.a.t("fieldsOfEducation"),initialValue:null==s?void 0:s.educationFields,display:c.createElement(wp,{fields:null==s?void 0:s.educationFields,onChange:function(t){return e.onFieldChanged({educationFields:t})},showChips:!0}),noModal:!0}),c.createElement(vS,null),c.createElement(mS,{blank:!r,label:I.a.t("interests"),initialValue:null==s?void 0:s.interests,display:s&&c.createElement(_b,{interests:s.interests,onChange:function(t){return e.onFieldChanged({interests:t})},showChips:!0}),noModal:!0}),c.createElement(vS,null),c.createElement(mS,{blank:!r,label:I.a.t("spokenLanguages"),initialValue:null==s?void 0:s.languages,validator:It,display:s&&c.createElement(Jl,{items:null==s?void 0:s.languages,label:function(e){return I.a.t("languageNames."+e.code)+" ("+I.a.t("languageLevels."+e.level)+")"}}),renderInput:function(e,t,n){return c.createElement(xb,{languages:e,onChange:function(e){return n(e)},style:{width:"100%"}})},apply:function(t){return e.onFieldChanged({languages:t})}}),c.createElement(vS,null),c.createElement(ES,{category:Gt.Discover,profileOffers:null==s?void 0:s.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}),c.createElement(vS,null),c.createElement(ES,{category:Gt.Collaborate,profileOffers:null==s?void 0:s.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n}),c.createElement(vS,null),c.createElement(ES,{category:Gt.Meet,profileOffers:null==s?void 0:s.profileOffers,onApply:function(t){return e.onFieldChanged({profileOffers:t})},theme:n})))}}]),n}(c.Component),ES=Object(ka.b)((function(e){return{offers:e.profile.offers,offerIdToCategory:e.profile.offerIdToCategory}}))((function(e){var t=e.category,n=e.profileOffers,r=e.onApply,o=e.offers,a=e.offerIdToCategory,i=e.theme,s=(null==n?void 0:n.filter((function(e){return a.get(e.offerId)==t})))||[];return c.createElement(mS,{blank:!n,label:I.a.t("offerCategories."+t),initialValue:n,display:s.length>0?c.createElement(Jl,{items:s,label:function(e){return I.a.t("allOffers."+e.offerId+".name")}}):c.createElement($o.a,{style:{color:i.textLight}},I.a.t("profile.noOffersSelected")),renderInput:function(e,n,r){return c.createElement(c.Fragment,null,o.filter((function(e){return e.category==t})).map((function(t){return c.createElement(bv,{key:"profile-"+t.id,offer:t,value:e.find((function(e){return e.offerId==t.id}))||zt(t),onChange:function(n){var o=e.filter((function(e){return e.offerId!=t.id})).concat([n]);r(o)},style:{marginVertical:10,width:"100%"}})})))},apply:function(e){return r(e)}})})),SS=aa((function(e){return Xo.a.create({rootScroll:{width:"100%"},scrollContent:{width:"100%",alignItems:"center"},header:{alignItems:"center",paddingBottom:10},name:{fontSize:28,color:oa.dark.text,marginTop:10},university:{fontSize:14,color:oa.dark.text},universityContainer:{marginVertical:5},avatarContainer:{backgroundColor:e.accentSecondary,borderColor:e.cardBackground,borderWidth:2},avatarAccessory:{width:40,height:40,borderRadius:20,borderWidth:0,borderColor:"transparent",shadowRadius:0,textShadowRadius:0,color:"#444"},body:{width:"90%",maxWidth:600,paddingTop:90,paddingBottom:50},loadingIndicator:{position:"absolute",top:70,left:0,right:0},title:{fontSize:22,color:e.text,marginBottom:20,width:"100%"},cardText:{color:e.text},staffRoleButton:{marginTop:10},birthdateInputContainer:{marginTop:20,marginBottom:50},birthdateInput:{height:50,fontSize:16,borderRadius:10,backgroundColor:e.cardBackground,color:e.text}})})),OS=yS(Object(ia.j)(bS));function CS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var RS=Object(ka.b)((function(e){return{user:e.profile.user}})),wS=function(e){Yo()(n,e);var t=CS(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){return e.onFocus()})),this.onFocus()}},{key:"onFocus",value:function(){this.props.dispatch((function(e,t){var n,r,o,a;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t().auth.token,i.next=3,l.a.awrap(W("auth/me","GET",{},{},n));case 3:(r=i.sent).status===U.OK&&(o=r.data,a=re(o),e(Ce(a)));case 5:case"end":return i.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.dispatch;return c.createElement(fa,{forceFullWidth:!0},c.createElement(OS,{user:t,onChange:function(e){return n(function(e){return function(t,n){var r,o,a,i,c;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=n().auth.token,i=null==(r=n().profile.user)||null==(o=r.profile)?void 0:o.type,c=ne(e,i),s.next=5,l.a.awrap(W("profiles","PATCH",{},c,a));case 5:s.sent.status===U.OK?t(ve(e)):t({type:fe.PROFILE_SET_FIELDS_FAILURE});case 7:case"end":return s.stop()}}),null,null,null,Promise)}}(e))}}))}}]),n}(c.Component),PS=RS(Object(ia.j)(wS));function TS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var xS=function(e){Yo()(n,e);var t=TS(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.gender,n=e.containerStyle,r=e.iconStyle,o=e.theme,a=Ya()(e,["gender","containerStyle","iconStyle","theme"]),i="female"===t?"female":"male"===t?"male":void 0;return c.createElement(ca.a,{style:[{flexDirection:"row",alignItems:"center"},n]},i&&c.createElement(d.a,{name:i,size:24,color:o.textLight,style:r}),c.createElement($o.a,$t()({},a,{style:[{marginLeft:i?10:0},a.style]}),I.a.t("genders."+t)))}}]),n}(c.Component),IS=Object(ia.j)(xS);function kS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}function jS(){return c.createElement(ca.a,{style:{height:25}})}var _S=function(e){Yo()(n,e);var t=kS(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.profile,r=e.actionBar,o=AS(t),a=n?n.firstName+" "+n.lastName:"";return c.createElement(yc.a,{style:o.rootScroll,contentContainerStyle:o.scrollContent,overScrollMode:"never"},c.createElement(Eg,{style:o.header,color:t.accent},c.createElement(_h,{profile:n||void 0,size:120,rounded:!0,containerStyle:o.avatarContainer,activeOpacity:.8}),!n&&c.createElement(Ia.a,{size:"large",color:oa.dark.text,style:o.loadingIndicator}),c.createElement($o.a,{style:o.name},a),c.createElement(zl,{containerStyle:o.universityContainer,style:o.university,university:(null==n?void 0:n.university)||null}),r),c.createElement(ca.a,{style:o.body},c.createElement(mS,{blank:!n,label:I.a.t("dateOfBirth"),display:n?c.createElement(Zv,{style:o.cardText,date:n.birthdate}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(jS,null),c.createElement(mS,{blank:!n,label:I.a.t("nationality"),display:n?c.createElement(zv,{style:o.cardText,countryCode:n.nationality}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(jS,null),c.createElement(mS,{blank:!n,label:I.a.t("gender"),display:n?c.createElement(IS,{style:o.cardText,gender:n.gender}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(jS,null),c.createElement(mS,{blank:!n,label:I.a.t("profileType"),display:n?c.createElement(c.Fragment,null,c.createElement($o.a,{style:o.cardText},I.a.t("allRoles."+n.type)),"staff"==n.type&&c.createElement(c.Fragment,null,n.staffRoles.map((function(e){return c.createElement($o.a,{key:"profile-staff-role-"+e},I.a.t("staffRoles."+e))}))),"student"==n.type&&c.createElement($o.a,{style:o.cardText},I.a.t("degrees."+n.degree))):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(jS,null),c.createElement(mS,{blank:!n,label:I.a.t("fieldsOfEducation"),display:n?c.createElement(Jl,{items:n.educationFields,label:function(e){return I.a.t("educationFields."+e)}}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(jS,null),c.createElement(mS,{blank:!n,label:I.a.t("interests"),display:n?c.createElement(Jl,{items:n.interests,label:function(e){return I.a.t("interestNames."+e)}}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(jS,null),c.createElement(mS,{blank:!n,label:I.a.t("spokenLanguages"),display:n?c.createElement(Jl,{items:n.languages,label:function(e){return I.a.t("languageNames."+e.code)+" ("+I.a.t("languageLevels."+e.level)+")"}}):c.createElement(c.Fragment,null),noModal:!0}),c.createElement(jS,null),c.createElement(DS,{category:Gt.Discover,profileOffers:(null==n?void 0:n.profileOffers)||null}),c.createElement(jS,null),c.createElement(DS,{category:Gt.Collaborate,profileOffers:(null==n?void 0:n.profileOffers)||null}),c.createElement(jS,null),c.createElement(DS,{category:Gt.Meet,profileOffers:(null==n?void 0:n.profileOffers)||null})))}}]),n}(c.Component),DS=Object(ka.b)((function(e){return{offerIdToCategory:e.profile.offerIdToCategory}}))(Object(ia.j)((function(e){var t=e.category,n=e.profileOffers,r=e.offerIdToCategory,o=e.theme,a=(null==n?void 0:n.filter((function(e){return r.get(e.offerId)==t})))||[],i=AS(o);return c.createElement(mS,{blank:!n,label:I.a.t("offerCategories."+t),display:a.length>0?c.createElement(Jl,{items:a,label:function(e){return I.a.t("allOffers."+e.offerId+".name")}}):c.createElement($o.a,{style:i.cardText},I.a.t("profile.noOffersSelected")),noModal:!0})}))),AS=aa((function(e){return Xo.a.create({rootScroll:{width:"100%"},scrollContent:{width:"100%",alignItems:"center"},header:{alignItems:"center"},body:{width:"90%",maxWidth:600,paddingTop:90,paddingBottom:50},loadingIndicator:{position:"absolute",left:0,right:0,top:140},name:{fontSize:24,color:oa.dark.text,marginTop:10,height:30},university:{fontSize:14,color:oa.dark.text},universityContainer:{height:25,marginTop:5},avatarContainer:{borderColor:oa.dark.text,borderWidth:1,backgroundColor:e.accentSecondary},cardText:{color:e.text}})})),FS=Object(ia.j)(_S);function MS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MS(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var NS=function(e){Yo()(n,e);var t=BS(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={block:!1},r}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.profile,o=t.matchId,a=t.onSubmit,i=Ya()(t,["theme","profile","matchId","onSubmit"]),c=this.state.block,u=US(n);return s.a.createElement(Xi,$t()({title:I.a.t("unmatch.title"),text:r?I.a.t("unmatch.text",{firstname:r.firstName,lastname:r.lastName}):"",justifyText:!0,icon:function(e){return s.a.createElement(Pi.a,$t()({},e,{name:"delete-sweep",color:n.error}))},additionalContent:function(t,n){return s.a.createElement(s.a.Fragment,null,s.a.createElement($o.a,n,r?I.a.t("unmatch.blockQuestion",{firstname:r.firstName,lastname:r.lastName}):""),s.a.createElement(va.a,{style:u.blockTouchable,onPress:function(){return e.setState(LS(LS({},e.state),{},{block:!c}))}},s.a.createElement(ia.d,{containerStyle:u.checkboxContainer,checked:c,onPress:function(){return e.setState(LS(LS({},e.state),{},{block:!c}))}}),s.a.createElement($o.a,n,I.a.t("block.action"))))},buttons:[{preset:"cancel"},{preset:"delete",text:I.a.t("unmatch.action"),onPress:function(e){e(),o&&Mo.dispatch(yn(o,!0)),r&&c&&Mo.dispatch(pn(r.id)),a&&a(c)}}]},i))}}]),n}(s.a.Component),US=aa((function(){return Xo.a.create({blockTouchable:{width:"100%",flexDirection:"row",alignItems:"center"},checkboxContainer:{padding:0,marginLeft:0,marginRight:5}})})),GS=Object(ia.j)(NS);function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HS(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zS=Object(ia.j)((function(e){var t=e.text,n=e.icon,r=e.onPress,o=e.blank,a=e.theme,i=WS(a);return c.createElement(va.a,{style:i.button,activeOpacity:.75,onPress:o?void 0:r},n&&c.createElement(ca.a,{style:[i.buttonTop,o?i.buttonTopBlank:{}]},!o&&c.createElement(Pi.a,{name:n,style:i.buttonTopIcon})),c.createElement($o.a,{style:i.buttonText},t))})),WS=aa((function(e){return Xo.a.create({container:{width:"100%",flexDirection:"row",justifyContent:"center",marginVertical:15},button:{width:75,marginHorizontal:10,flexDirection:"column",alignItems:"center",justifyContent:"center"},buttonText:VS({fontSize:12,textTransform:"uppercase",letterSpacing:.5,color:oa.dark.text,textAlign:"center"},da),buttonTop:{fontSize:24,width:36,height:36,justifyContent:"center",alignItems:"center",borderRadius:60,marginBottom:5,backgroundColor:"#fff4"},buttonTopBlank:{opacity:.4,backgroundColor:"transparent",borderColor:oa.dark.text,borderWidth:1},buttonTopIcon:{fontSize:24,color:e.textInverted}})})),qS=Object(ia.j)((function(e){var t,n=e.profile,r=e.isMatched,o=e.roomId,a=e.matchId,i=e.theme,s=WS(i),u=c.createElement(Gl,{profile:n,activator:function(e){return c.createElement(zS,{blank:!n,text:I.a.t("profile.action.block"),icon:"block",onPress:e})}}),l=c.createElement(Ru,{entity:n,entityType:cu.PROFILE_ENTITY,activator:function(e){return c.createElement(zS,{blank:!n,text:I.a.t("profile.action.report"),icon:"report",onPress:e})}});if(r){var f=c.createElement(zS,{blank:!n,text:I.a.t("profile.action.chat"),icon:"chat",onPress:function(){return o&&L(o)}}),p=c.createElement(c.Fragment,null),d=c.createElement(GS,{profile:n,matchId:a,onSubmit:function(e){e&&_()},activator:function(e){return c.createElement(zS,{blank:!n,text:I.a.t("profile.action.unmatch"),icon:"close",onPress:e})}});t=c.createElement(c.Fragment,null,f,p,d,l)}else t=c.createElement(c.Fragment,null,u,l);return c.createElement(ca.a,{style:s.container},t)}));function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YS(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var QS=Object(ka.b)((function(){return{}})),ZS=function(e){Yo()(n,e);var t=JS(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={profile:null,isMatched:!1,roomId:null,matchId:null},r}return Rn()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.navigation,o=t.route;r.addListener("focus",(function(){var t=D(o).id;!t||e.state.profile&&e.state.profile.id===t||n(function(e){return function(t,n){var r,o,a,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n().auth.token,c.next=3,l.a.awrap(W("profiles/"+e,"GET",{},{},r));case 3:if((o=c.sent).status!==U.OK){c.next=9;break}return a=o.data,i=$($({},s=a),{},{profile:te(s.profile)}),t(Re(i)),c.abrupt("return",i);case 9:return c.abrupt("return",null);case 10:case"end":return c.stop()}var s}),null,null,null,Promise)}}(t)).then((function(t){if(t){var n=t.profile,r=t.isMatched,o=t.roomId,a=t.matchingId;e.setState(KS(KS({},e.state),{},{profile:n,isMatched:r,roomId:o,matchId:a}))}else e.setState(KS(KS({},e.state),{},{profile:null,isMatched:!1,roomId:null,matchId:null}))}))}))}},{key:"render",value:function(){var e=this.state,t=e.profile,n=e.isMatched,r=e.roomId,o=e.matchId;return c.createElement(fa,{forceFullWidth:!0},c.createElement(FS,{profile:t,actionBar:c.createElement(qS,{profile:t,isMatched:n,roomId:r,matchId:o})}))}}]),n}(c.Component),XS=QS(Object(ia.j)(ZS));function $S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var eO=function(e){Yo()(n,e);var t=$S(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.locale,r=e.theme,o=e.buttonStyle,a=e.valueStyle,i=e.buttonStyleVariant;tO(r);return c.createElement(iu,{values:Ft,label:function(e){return I.a.t("locales."+e)},selected:n?[n]:[],valueStyle:a,buttonStyle:o,buttonStyleVariant:i,onSelect:function(e){e.length>0&&t&&t(e[0])},noOkUnderline:!0})}}]),n}(c.Component),tO=aa((function(){return Xo.a.create({})})),nO=Object(ia.j)(eO),rO=["auth","cache","settings"];function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oO(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var cO=Object(ka.b)((function(e){return{cookies:e.settings.userSettings.cookies}})),sO=function(e){Yo()(n,e);var t=iO(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={cookies:e.cookies},r}return Rn()(n,[{key:"onShow",value:function(){var e=this.props.cookies,t=this.state.cookies;Object.keys(e).some((function(n){return e[n]!=t[n]}))&&this.setState(aO(aO({},this.state),{},{cookies:this.props.cookies}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=Ya()(t,["theme"]),o=this.state.cookies,a=uO(n),i=this.state.cookies,c=function(t){return e.setState(aO(aO({},e.state),{},{cookies:aO(aO({},o),{},p()({},t,!i[t]))}))};return s.a.createElement(Xi,$t()({title:I.a.t("cookies.title"),text:I.a.t("cookies.preferences.text"),justifyText:!0,additionalContent:function(){return s.a.createElement(s.a.Fragment,null,rO.map((function(e){return s.a.createElement(ca.a,{style:a.preferenceRow,key:"cookie-preference-"+e},s.a.createElement(va.a,{style:a.preferenceRowButton,onPress:function(){return c(e)}},s.a.createElement(ia.d,{checked:i[e],containerStyle:a.checkBoxContainer,onPress:function(){return c(e)}}),s.a.createElement($o.a,{style:a.preferenceName},I.a.t("cookies.preferences."+e+".name"))),s.a.createElement($o.a,{style:a.preferenceDescription},I.a.t("cookies.preferences."+e+".description")))})))},buttons:[{preset:"cancel",onPress:function(t){t(),e.setState(aO(aO({},e.state),{},{cookies:e.props.cookies}))}},{preset:"confirm",text:I.a.t("save"),onPress:function(e){e(),Mo.dispatch(et(o))}}],onShow:function(){e.onShow(),r.onShow&&r.onShow()}},r))}}]),n}(s.a.Component),uO=aa((function(e){return Xo.a.create({preferenceRow:{marginBottom:10},preferenceRowButton:{flexDirection:"row",alignItems:"center"},checkBoxContainer:{marginLeft:0,marginRight:5,paddingLeft:0,paddingRight:0,paddingVertical:0},preferenceName:{fontSize:16,color:e.text},preferenceDescription:{fontSize:14,color:e.textLight}})})),lO=cO(Object(ia.j)(sO));function fO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var pO=Object(ka.b)((function(e){return{settings:e.settings.userSettings}})),dO=0,hO=function(e){Yo()(n,e);var t=fO(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.settings,r=e.dispatch,o=gO(t);return c.createElement(fa,null,c.createElement(yc.a,{style:o.scroll,contentContainerStyle:o.container},c.createElement(mO,{theme:t,title:I.a.t("settings.sections.general")},c.createElement(mS,{style:o.card,label:I.a.t("settings.language"),icon:c.createElement(d.a,{name:"language",style:o.cardIcon}),oneLine:!0,display:c.createElement(nO,{locale:n.locale,onChange:function(e){return r(Xe(e))},buttonStyle:o.localeButton,valueStyle:o.localButtonValue}),noModal:!0}),c.createElement(mS,{style:o.card,label:I.a.t("settings.darkTheme"),icon:c.createElement(Ti.a,{name:"theme-light-dark",style:o.cardIcon}),oneLine:!0,onPress:function(){return r(Ze("dark"===n.theme?"light":"dark"))},display:c.createElement(Uf.a,{value:"dark"===n.theme,onValueChange:function(){return r(Ze("dark"===n.theme?"light":"dark"))}}),noModal:!0}),c.createElement(mS,{style:o.card,label:I.a.t("settings.logOut"),icon:c.createElement(Ti.a,{name:"logout",style:o.cardIcon}),oneLine:!0,display:c.createElement(Oa,{text:I.a.t("settings.logOut"),onPress:function(){return r(Ue())},skin:"rounded-filled",textStyle:o.cardButtonText,style:[o.oneLineCardButton,o.redBackground]}),noModal:!0}),c.createElement(mS,{style:o.card,label:I.a.t("settings.customizeCookies"),icon:c.createElement(Ti.a,{name:"cookie",style:o.cardIcon}),oneLine:!0,overrideModal:function(e){return c.createElement(lO,{visible:!0,onHide:e})}})),c.createElement(mO,{theme:t,title:I.a.t("settings.sections.about"),icon:{name:"info",color:t.accent}},c.createElement(mS,{style:o.card,label:I.a.t("settings.version"),oneLine:!0,onPress:function(){7===++dO&&(dO=0,G.a.alert("Insert easter egg here")),setTimeout((function(){return dO=Math.max(0,dO-1)}),3e3)},display:c.createElement($o.a,{style:o.infoText},v),noModal:!0}),c.createElement(mS,{style:o.card,label:I.a.t("settings.termsOfService"),oneLine:!0,onPress:function(){return Ga.openURL(P)},display:c.createElement($o.a,{style:o.infoText},""),noModal:!0}),c.createElement(mS,{style:o.card,label:I.a.t("settings.reportABug"),icon:c.createElement(Pi.a,{name:"bug-report",style:o.cardIcon}),oneLine:!0,onPress:function(){var e,t=ea.a.get("window"),n=t.width,r=t.height,o=null==(e=Mo.getState().profile.user)?void 0:e.email,a="";a+="Platform: "+T.a.OS+" ("+T.a.Version+")\n",a+="Dimensions: "+Math.round(n)+" x "+Math.round(r)+"\n",a+="App version: "+v+"\n",a+="User: "+o+"\n",a+="_______________________\n\n",a+=I.a.t("bugReport.mailTitle")+"\n\n";var i=I.a.t("bugReport.mailSubject");Ga.openURL("mailto:sea-eu.around@univ-brest.fr?subject="+i+"&body="+a)},display:c.createElement($o.a,{style:o.infoText},""),noModal:!0})),c.createElement(mO,{theme:t,title:I.a.t("settings.sections.danger"),icon:{name:"warning",color:t.warn}},c.createElement(mS,{style:[o.card,{height:100}],label:I.a.t("settings.deleteAccount"),display:c.createElement(Oa,{text:I.a.t("settings.deleteMyAccount"),onPress:function(){return j("DeleteAccountScreen")},skin:"rounded-filled",style:[o.cardButton,o.redBackground],textStyle:o.cardButtonText}),noModal:!0})),c.createElement(ca.a,{style:o.logosContainer},c.createElement(ps,{imageKey:"logos.sea-eu-around.small",resizeMode:"contain",style:[o.logo,o.logoSeaEuAround]}),c.createElement(ps,{imageKey:"logos.erasmusLeft",resizeMode:"contain",style:[o.logo,o.logoErasmus]}))))}}]),n}(c.Component),mO=function(e){Yo()(n,e);var t=fO(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,r=e.theme,o=e.children,a=gO(r);return c.createElement(ca.a,{style:a.section},c.createElement(ca.a,{style:a.sectionTitleContainer},n&&c.createElement(Pi.a,{name:n.name,color:n.color,style:a.sectionIcon}),c.createElement($o.a,{style:a.sectionTitle},t)),o)}}]),n}(c.Component),gO=aa((function(e){return Xo.a.create({scroll:{flex:1,width:"100%"},container:{width:"100%",maxWidth:700,alignSelf:"center",paddingTop:10,paddingBottom:50,paddingHorizontal:20},section:{paddingVertical:10,justifyContent:"flex-start"},sectionTitleContainer:{flexDirection:"row",alignItems:"center",marginBottom:10},sectionTitle:{textTransform:"uppercase",letterSpacing:1,fontSize:11,color:e.textLight},sectionIcon:{fontSize:16,marginRight:5},card:{marginVertical:6,height:60},cardIcon:{marginRight:6,padding:0,fontSize:18,color:e.textLight},localeButton:{height:30},localButtonValue:{fontSize:14,marginHorizontal:10},cardButton:{height:42,marginVertical:0},oneLineCardButton:{width:140,height:40,marginVertical:0},cardButtonText:{fontSize:16},redBackground:{backgroundColor:e.error},infoText:{color:e.text,fontSize:16},logosContainer:{},logo:{marginTop:30,width:"100%"},logoErasmus:{height:40},logoSeaEuAround:{height:60}})})),yO=pO(Object(ia.j)(hO));function vO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var bO=function(e){Yo()(n,e);var t=vO(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props.theme,t=EO(e);return c.createElement(fa,null,c.createElement(ca.a,{style:t.container},c.createElement($o.a,{style:t.successText},I.a.t("deleteAccount.success1")),c.createElement($o.a,{style:t.successText},I.a.t("deleteAccount.success2")),c.createElement(Oa,{text:I.a.t("deleteAccount.leave"),icon:c.createElement(Ti.a,{name:"logout",style:t.buttonIcon}),onPress:function(){return j("LoginRoot",{screen:"WelcomeScreen"})},skin:"rounded-filled",style:t.button})))}}]),n}(c.Component),EO=aa((function(e){return Xo.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"75%"},successText:{fontSize:18,lineHeight:25,marginTop:20,textAlign:"center",color:e.text},button:{marginTop:30,backgroundColor:e.error},buttonIcon:{fontSize:20,color:oa.dark.text,marginLeft:5}})})),SO=Object(ia.j)(bO);function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var wO=ft.c().shape({password:Ot}),PO=function(e){Yo()(n,e);var t=RO(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={submitting:!1},r}return Rn()(n,[{key:"submit",value:function(e){var t,n=this,r=this.props.onSuccessfulSubmit;this.setState(CO(CO({},this.state),{},{submitting:!0})),Mo.dispatch((t=e.password,function(e,n){var r,o;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().auth.token,a.next=3,l.a.awrap(W("users","DELETE",{},{password:t},r));case 3:if((o=a.sent).status!=U.NO_CONTENT){a.next=10;break}return e(Ue(!1)),e(Ke()),a.abrupt("return",{success:!0});case 10:return a.abrupt("return",{success:!1,errors:Te(o)});case 11:case"end":return a.stop()}}),null,null,null,Promise)})).then((function(t){var o=t.success,a=t.errors;if(n.setState({remoteErrors:a,submitting:!1}),a&&a.fields){var i=a.fields;Object.keys(i).forEach((function(e){return n.setFieldError&&n.setFieldError(e,we(i[e]))}))}o&&r&&r(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.containerStyle,o=this.state,a=o.remoteErrors,i=o.submitting,s=TO(n);return c.createElement(ca.a,{style:r},c.createElement(ca.a,{style:s.titleWrapper},c.createElement($o.a,{style:s.title},I.a.t("deleteAccount.title")),c.createElement(Pi.a,{name:"warning",style:s.warningIcon}),c.createElement($o.a,{style:s.warning},I.a.t("deleteAccount.warning"))),c.createElement(Wa.a,{initialValues:{password:""},validationSchema:wO,validateOnChange:!0,validateOnBlur:!1,onSubmit:function(t){return e.submit(t)}},(function(t){var r=t.handleSubmit,o=t.values,u=t.errors,l=t.touched,f=t.handleChange,p=t.handleBlur,d=t.setFieldError,h=CO({handleChange:f,handleBlur:p},yi(n,15));return e.setFieldError=d,c.createElement(c.Fragment,null,c.createElement(fi,$t()({field:"password",placeholder:I.a.t("password"),error:u.password,value:o.password,touched:l.password,label:I.a.t("deleteAccount.inputLabel"),isPassword:!0},h)),c.createElement(Oi,{error:xe(a)}),c.createElement(wi,{onPress:function(){return r()},style:s.button,skin:"rounded-filled",text:I.a.t("deleteAccount.button"),submitting:i}))})))}}]),n}(c.Component),TO=aa((function(e){return Xo.a.create({titleWrapper:{width:"100%",flexDirection:"column",justifyContent:"flex-start",marginBottom:20},title:{fontSize:22,color:e.text},warning:{fontSize:16,color:e.text,textAlign:"justify"},warningIcon:{color:e.warn,fontSize:32,marginTop:20},button:{backgroundColor:e.error,marginTop:30}})})),xO=Object(ia.j)(PO);function IO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var kO=function(e){Yo()(n,e);var t=IO(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){return c.createElement(fa,null,c.createElement(Cc,null,c.createElement(xO,{containerStyle:{width:"80%",maxWidth:400}})))}}]),n}(c.Component),jO=Object(ia.j)(kO),_O=n(124);function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DO(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var MO=function(e){Yo()(n,e);var t=FO(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"retry",value:function(){var e,t,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(Go());case 2:e=r.sent,t=e.reachable,n=e.userLoggedInFromCache,t&&j(A(!!n,(null==n?void 0:n.onboarded)||!1));case 6:case"end":return r.stop()}}),null,null,null,Promise)}},{key:"render",value:function(){var e=this,t=this.props.theme,n=LO(t);return c.createElement(fa,{forceFullWidth:!0,containerStyle:{justifyContent:"center"}},c.createElement(ca.a,{style:n.iconBanner},c.createElement(Ti.a,{name:"server-network-off",style:n.icon})),c.createElement(ca.a,{style:n.container},c.createElement($o.a,{style:n.title},I.a.t("backendUnreachable.title")),c.createElement($o.a,{style:n.subtitle},I.a.t("backendUnreachable.subtitle")),c.createElement(yf,{style:n.retryButton,icon:c.createElement(Pi.a,{style:n.retryIcon,name:"refresh"}),onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(e.retry());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)},loadingIndicatorColor:t.text,loadingIndicatorStyle:n.retryLoading,loadingIndicatorSize:36})))}}]),n}(c.Component),LO=aa((function(e){return Xo.a.create({container:{justifyContent:"center",alignItems:"center",padding:40},iconBanner:{width:"100%",height:80,justifyContent:"center",alignItems:"center",backgroundColor:e.error},icon:{fontSize:48,color:oa.dark.text},title:AO(AO({fontSize:36,maxWidth:450},da),{},{textAlign:"center",color:e.text}),subtitle:{fontSize:18,maxWidth:400,marginTop:40,marginBottom:20,textAlign:"center",color:e.textLight},retryButton:{padding:10},retryIcon:{fontSize:48,color:e.text},retryLoading:{marginTop:20}})})),BO=Object(ia.j)(MO);function NO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var UO=function(e){Yo()(n,e);var t=NO(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"getLoginEmail",value:function(){return D(this.props.route).email||null}},{key:"render",value:function(){var e=this,t=this.props.theme,n=GO(t),r=Mo.dispatch;return c.createElement(fa,{containerStyle:n.container},c.createElement(ca.a,{style:n.topContainer},c.createElement(ss,{text:I.a.t("resendVerifyScreen.title"),fontSize:28,textStyle:n.title}),c.createElement($o.a,{style:n.infoText},I.a.t("resendVerifyScreen.text"))),c.createElement(ca.a,{style:n.actionsContainer},c.createElement(yf,{text:I.a.t("resendVerifyScreen.send"),onPress:function(){var t=e.getLoginEmail();return t?r(function(e){return function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(W("auth/verify/resend","POST",{},{email:e}));case 2:if(n.sent.status!=U.OK){n.next=8;break}return t(ze()),n.abrupt("return",!0);case 8:return n.abrupt("return",!1);case 9:case"end":return n.stop()}}),null,null,null,Promise)}}(t)):new Promise((function(e){return e()}))},skin:"rounded-filled",icon:c.createElement(Pi.a,{name:"mail-outline",style:{color:oa.dark.text,fontSize:24,marginLeft:10}})}),c.createElement(Oa,{text:I.a.t("cancel"),onPress:function(){return j("LoginRoot",{screen:"LoginScreens",params:{screen:"SigninScreen"}})},skin:"rounded-hollow"})))}}]),n}(c.Component),GO=aa((function(e){return Xo.a.create({container:{flex:1,maxWidth:"85%",justifyContent:"space-between",alignItems:"center"},topContainer:{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},title:{color:e.themeAwareAccent,fontFamily:"RalewayBold"},infoText:{color:e.themeAwareAccent,fontFamily:"RalewaySemiBold",fontSize:18,lineHeight:22,textAlign:"justify",marginTop:25,maxWidth:500},actionsContainer:{width:"100%",maxWidth:300,marginBottom:30}})})),HO=Object(ia.j)(UO);function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var WO=Object(Wo.a)(),qO=!1,YO=void 0,KO=void 0,JO=void 0;function QO(e){var t,n;e&&(JO=e);var r=null==(t=k.current)||null==(n=t.getCurrentRoute())?void 0:n.name;r&&(S||!Mo.getState().auth.authenticated&&wl.includes(r)&&j("LoginRoot",{screen:"WelcomeScreen"}),function(e,t){var n=Cl.includes(e),r=t&&Cl.includes(t);!r&&n&&Mo.dispatch(Mn()),r&&!n&&Mo.dispatch(Ln())}(r,YO),KO=YO,YO=r)}var ZO=Object(ia.j)((function(e){var t=e.theme,n=e.initialRoute,r=e.onReady,o=qO?YO:n;qO=!0;var a={dark:"dark"===t.id,colors:zO(zO({},("dark"===t.id?Ho.a:Vo.a).colors),{},{background:t.background})};return c.createElement(zo.a,{ref:k,initialState:JO,linking:Ha,theme:a,onReady:function(){QO(void 0),_O.a.addEventListener("hardwareBackPress",(function(){if(KO){var e=-1!==wl.indexOf(KO),t=Mo.getState().auth.authenticated;if(e&&!t)return!0;if(!e&&t)return!0}return!1})),r&&r()},onStateChange:QO},c.createElement(WO.Navigator,{screenOptions:{headerShown:!1},initialRouteName:o},c.createElement(WO.Screen,{name:"LoginRoot",component:Ls}),c.createElement(WO.Screen,{name:"ForgotPasswordEmailSentScreen",component:$E,options:{title:F("ForgotPasswordEmailSentScreen")}}),c.createElement(WO.Screen,{name:"ValidationEmailSentScreen",component:Ua,options:{title:F("ValidationEmailSentScreen")}}),c.createElement(WO.Screen,{name:"ValidateEmailScreen",component:Fa,options:{title:F("ValidateEmailScreen")}}),c.createElement(WO.Screen,{name:"ResetPasswordScreen",component:JE,options:{title:F("ResetPasswordScreen")}}),c.createElement(WO.Screen,{name:"ResetPasswordSuccessScreen",component:rS,options:{title:F("ResetPasswordSuccessScreen")}}),c.createElement(WO.Screen,{name:"MainScreen",component:sv}),c.createElement(WO.Screen,{name:"MyProfileScreen",component:PS,options:{headerShown:!0,title:F("MyProfileScreen"),header:function(e){return c.createElement(tl,$t()({},e,{backButton:!0,noAvatar:!0,noShadow:!0,buttonBackgroundColor:t.accent,wrapperStyle:{backgroundColor:t.accent},color:oa.dark.text}))}}}),c.createElement(WO.Screen,{name:"ProfileScreen",component:XS,options:{headerShown:!0,title:F("ProfileScreen"),header:function(e){return c.createElement(tl,$t()({},e,{backButton:!0,noShadow:!0,buttonBackgroundColor:t.accent,wrapperStyle:{backgroundColor:t.accent},color:oa.dark.text}))}}}),c.createElement(WO.Screen,{name:"SettingsScreen",component:yO,options:{headerShown:!0,title:F("SettingsScreen"),header:function(e){return c.createElement(tl,$t()({},e,{backButton:!0,noSettingsButton:!0}))}}}),c.createElement(WO.Screen,{name:"DeleteAccountScreen",component:jO,options:{headerShown:!0,title:F("DeleteAccountScreen"),header:function(e){return c.createElement(tl,$t()({},e,{backButton:!0}))}}}),c.createElement(WO.Screen,{name:"DeleteAccountSuccessScreen",component:SO,options:{title:F("DeleteAccountSuccessScreen")}}),c.createElement(WO.Screen,{name:"OnboardingScreen",component:DE}),c.createElement(WO.Screen,{name:"OnboardingSuccessfulScreen",component:LE,options:{title:F("OnboardingSuccessfulScreen")}}),c.createElement(WO.Screen,{name:"BackendUnreachableScreen",component:BO,options:{title:F("BackendUnreachableScreen")}}),c.createElement(WO.Screen,{name:"ResendVerifyEmailScreen",component:HO,options:{title:F("ResendVerifyEmailScreen")}}),c.createElement(WO.Screen,{name:"NotFoundScreen",component:xa,options:{title:F("NotFoundScreen")}})))}));function XO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var $O=Object(ka.b)((function(e){return{currentTheme:e.settings.userSettings.theme}}))(function(e){Yo()(n,e);var t=XO(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.currentTheme;return s.a.createElement(ia.h,{key:n,theme:oa[n]},t)}}]),n}(s.a.Component));function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var rC=Object(ka.b)((function(e){return{cookies:e.settings.userSettings.cookies,consentDate:e.settings.userSettings.cookieConsentDate}})),oC=function(e){Yo()(n,e);var t=nC(n);function n(e){var r;return On()(this,n),(r=t.call(this,e)).state={showCustomize:!1},r}return Rn()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.consentDate,o=this.state.showCustomize,a=aC(n);return Po(r)?s.a.createElement(s.a.Fragment,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(qi,{visible:!o,animationType:"slide",fullWidth:!0,bottom:!0,nonDismissable:!0,modalViewStyle:a.modalView,renderContent:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement($o.a,{style:a.cookieText},I.a.t("cookies.bannerText")),s.a.createElement(ca.a,{style:a.actions},s.a.createElement(Oa,{text:I.a.t("cookies.acceptAll"),onPress:function(){return Mo.dispatch((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(et({auth:!0,cache:!0,settings:!0}));case 1:case"end":return t.stop()}}),null,null,null,Promise)}))},style:a.action,textStyle:a.actionText,skin:"rounded-filled"}),s.a.createElement(Oa,{text:I.a.t("cookies.customize"),onPress:function(){return e.setState(tC(tC({},e.state),{},{showCustomize:!0}))},style:a.action,textStyle:a.actionText,skin:"rounded-hollow"})))}}),s.a.createElement(lO,{visible:o,onHide:function(){return e.setState(tC(tC({},e.state),{},{showCustomize:!1}))}}))}}]),n}(s.a.Component),aC=aa((function(e){return Xo.a.create({modalView:{paddingHorizontal:20,paddingVertical:20,justifyContent:"center"},cookieText:{fontSize:14,lineHeight:20,color:e.text,textAlign:"justify"},actions:{flexDirection:"row",marginTop:20,width:"100%",maxWidth:350},action:{flex:1,height:40,marginHorizontal:10,marginVertical:0},actionText:{fontSize:16}})})),iC=rC(Object(ia.j)(oC));function cC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo()(e);if(t){var o=Zo()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo()(this,n)}}var sC=function(e){Yo()(n,e);var t=cC(n);function n(){return On()(this,n),t.apply(this,arguments)}return Rn()(n,[{key:"render",value:function(){return c.createElement(c.Fragment,null,this.props.children)}}]),n}(c.Component);t.default=Object(i.a)((function(){ia.i.platform.web||(ia.i.platform.web={primary:"#2089dc",secondary:"#ca71eb",grey:"#393e42",searchBg:"#303337",success:"#52c41a",error:"#ff190c",warning:"#faad14"});var e=function(){var e=c.useState(!1),t=a()(e,2),r=t[0],o=t[1];c.useEffect((function(){!function(){var e,t,r,a;l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,m.b(),e=Mo.dispatch,i.next=5,l.a.awrap(h.b(Bo(Bo({},d.a.font),{},{Raleway:n(683),RalewayThin:n(684),RalewayLight:n(685),RalewaySemiBold:n(686),RalewayBold:n(687)})));case 5:return me("cookieConsentDate").then((function(t){me("cookies").then((function(n){if(t&&n){var r=new Date(t.data);e($e(n.data,r))}else e($e({auth:!0,cache:!0,settings:!0},new Date))}))})),me("version").then((function(t){e(tt(t?t.data:null)),de("version",v,!0)})),me("theme").then((function(t){t&&e(Ze(t.data,!0))})),me("locale").then((function(t){t?e(Xe(t.data,!0)):Mo.dispatch(Xe("en",!0))})),i.next=11,l.a.awrap(Go());case 11:t=i.sent,r=t.reachable,a=t.userLoggedInFromCache,Uo=r,No=a,i.next=21;break;case 18:i.prev=18,i.t0=i.catch(0),console.warn(i.t0);case 21:return i.prev=21,o(!0),m.a(),i.finish(21);case 25:case"end":return i.stop()}}),null,null,[[0,18,21,25]],Promise)}()}),[]);var i=void 0;return Uo?No&&(i=A(!0,No.onboarded)):i="BackendUnreachableScreen",{isLoadingComplete:r,initialRoute:i}}(),t=e.isLoadingComplete,r=e.initialRoute;I.a.translations=At,I.a.fallbacks=!0,ko()&&(xo.setNotificationHandler({handleNotification:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!1});case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),xo.addNotificationReceivedListener((function(e){var t=jo(e);if(S&&(console.log("Notification received:"),console.log(t)),t.roomId&&t.text){var n=t;Mo.dispatch(Vn(n))}})),xo.addNotificationResponseReceivedListener((function(e){var t=e.notification?jo(e.notification):e.body;t.roomId&&(L(t.roomId),xo.getPresentedNotificationsAsync().then((function(e){e.filter((function(e){return jo(e).roomId===t.roomId})).map((function(e){return e.request.identifier})).forEach(xo.dismissNotificationAsync)}))),t.groupId&&j("MainScreen",{screen:"TabGroups",params:{screen:"TabGroupsScreen"}})})),"android"===T.a.OS&&xo.setNotificationChannelAsync("default",{name:"default",importance:xo.AndroidImportance.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}));var o=Object(c.useState)(!1),i=a()(o,2),u=i[0],f=i[1];return t?s.a.createElement(Uc.c,null,s.a.createElement(ka.a,{store:Mo},s.a.createElement($O,null,s.a.createElement(sC,null,s.a.createElement(ZO,{onReady:function(){return f(!0)},initialRoute:r}),u&&s.a.createElement(ch,null)),s.a.createElement(iC,null)))):null}))}},[[542,1,2]]]);
//# sourceMappingURL=app.9079b997.chunk.js.map
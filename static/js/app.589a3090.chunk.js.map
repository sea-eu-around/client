{"version":3,"sources":["web-build/register-service-worker.js","src/state/types.ts","src/constants/config.ts","src/constants/universities.ts","src/model/utils.ts","src/state/auth/reducer.ts","src/constants/profile-constants.ts","src/validators/index.ts","src/constants/translations.ts","src/localization.ts","src/model/languages.ts","src/state/settings/reducer.ts","src/api/converters.ts","src/state/profile/reducer.ts","src/state/matching/reducer.ts","src/navigation/utils.ts","src/state/navigation-middleware.ts","src/state/auth-storage-middleware.ts","src/state/static-storage-middleware.ts","src/state/store.ts","src/api/utils.ts","src/state/profile/actions.ts","src/state/auth/actions.ts","src/constants/themes.ts","src/styles/utils.ts","src/screens/NotFoundScreen.tsx","src/screens/ValidateEmailScreen.tsx","src/screens/ValidationEmailSentScreen.tsx","src/navigation/linking-config.ts","src/components/LoginTabBar.tsx","src/components/InputLabel.tsx","src/components/InputErrorText.tsx","src/components/ValidatedTextInput.tsx","src/components/FormTextInput.tsx","src/styles/forms.ts","src/components/forms/FormError.tsx","src/components/forms/LoginForm.tsx","src/components/forms/ForgotPasswordForm.tsx","src/screens/TabLoginScreen.tsx","src/state/settings/actions.ts","src/components/forms/SignupForm.tsx","src/screens/TabSignupFormScreen.tsx","src/navigation/LoginNavigator.tsx","src/components/LogOutButton.tsx","src/screens/TabNotImplementedScreen.tsx","src/styles/picker.ts","src/components/SectionedMultiPicker.tsx","src/model/education-fields.ts","src/components/EducationFieldPicker.tsx","src/components/DegreeToggle.tsx","src/components/RoleToggle.tsx","src/components/StaffRoleToggle.tsx","src/components/GenderToggle.tsx","src/components/BirthDatePicker.tsx","src/components/AvatarEditButton.tsx","src/components/forms/FormRow.tsx","src/components/FormattedDate.tsx","src/components/NationalityPicker.tsx","src/components/FormattedNationality.tsx","src/components/FormattedUniversity.tsx","src/components/MultiPicker.tsx","src/components/InterestsPicker.tsx","src/api/dto.ts","src/components/LanguagePicker.tsx","src/components/LanguageLevelPicker.tsx","src/components/SpokenLanguagesInput.tsx","src/components/EnlargeableAvatar.tsx","src/styles/toggles.ts","src/components/GenderToggleMulti.tsx","src/components/RoleToggleMulti.tsx","src/styles/tooltips.ts","src/components/CustomTooltip.tsx","src/components/OfferControl.tsx","src/components/forms/EditProfileForm.tsx","src/screens/TabProfileScreen.tsx","src/components/modals/CustomModal.tsx","src/components/modals/BlockProfileModal.tsx","src/state/matching/actions.ts","src/styles/general.ts","src/components/ProfilePreview.tsx","src/screens/TabMatchingScreen.tsx","src/components/MultiUniversityPicker.tsx","src/components/DegreeToggleMulti.tsx","src/components/MultiLanguagePicker.tsx","src/screens/MatchFilteringScreen.tsx","src/screens/messaging/ChatScreen.tsx","src/components/messaging/ProfileMessagingCard.tsx","src/screens/messaging/IndividualMessagingTab.tsx","src/screens/messaging/GroupMessagingTab.tsx","src/navigation/MessagingNavigator.tsx","src/screens/TabHomeScreen.tsx","src/navigation/MainNavigator.tsx","src/styles/onboarding.ts","src/screens/onboarding/helpers.tsx","src/screens/onboarding/OnboardingSlide.tsx","src/screens/onboarding/OnboardingNameScreen.tsx","src/components/BirthDateControl.tsx","src/components/NationalityControl.tsx","src/screens/onboarding/OnboardingPersonalInfoScreen.tsx","src/screens/onboarding/OnboardingLanguageScreen.tsx","src/screens/onboarding/OnboardingInterestsScreen.tsx","src/screens/onboarding/OnboardingRoleScreen.tsx","src/screens/onboarding/OnboardingOffersScreen1.tsx","src/screens/onboarding/OnboardingOffersScreen2.tsx","src/screens/onboarding/OnboardingOffersScreen3.tsx","src/screens/onboarding/OnboardingRoleSpecificScreen1.tsx","src/screens/onboarding/OnboardingRoleSpecificScreen2.tsx","src/components/modals/TOSDeclinedModal.tsx","src/components/TextLink.tsx","src/screens/onboarding/OnboardingTosScreen.tsx","src/screens/onboarding/OnboardingPrivacyScreen.tsx","src/screens/onboarding/index.ts","src/navigation/OnboardingNavigator.tsx","src/screens/onboarding/OnboardingSuccessfulScreen.tsx","src/screens/MatchSuccessScreen.tsx","src/components/forms/ChangePasswordForm.tsx","src/screens/ChangePasswordScreen.tsx","src/navigation/index.tsx","src/components/providers/ConnectedThemeProvider.tsx","src/components/ThemedStatusBar.tsx","src/App.tsx","src/hooks/useCachedResources.ts"],"names":["navigator","window","addEventListener","serviceWorker","register","scope","then","info","catch","error","console","AUTH_ACTION_TYPES","SETTINGS_ACTION_TYPES","PROFILE_ACTION_TYPES","MATCHING_ACTION_TYPES","BACKEND_URL","PARTNER_UNIVERSITIES","key","domain","country","extractNamesFromEmail","email","splitName","split","capitalize","str","length","toUpperCase","slice","firstname","lastname","getUniversityFromEmail","trim","find","uni","initialState","authenticated","token","connecting","validated","registerEmail","registerFailure","registerErrors","validatedEmail","loginErrors","onboarded","onboarding","birthdate","gender","nationality","role","degree","staffRole","languages","offerValues","interestIds","educationFields","DEGREES","LANGUAGE_LEVELS","ROLES","STAFF_ROLES","GENDERS","VALID_EMAIL_DOMAINS","map","VALIDATOR_EMAIL_SIGNUP","Yup","required","test","value","undefined","some","endsWith","VALIDATOR_PASSWORD_SIGNUP","min","matches","VALIDATOR_PASSWORD_REPEAT","oneOf","VALIDATOR_EMAIL_LOGIN","VALIDATOR_PASSWORD_LOGIN","VALIDATOR_FIRSTNAME","VALIDATOR_LASTNAME","VALIDATOR_ONBOARDING_BIRTHDATE","nullable","VALIDATOR_ONBOARDING_GENDER","VALIDATOR_ONBOARDING_NATIONALITY","VALIDATOR_ONBOARDING_DEGREE","VALIDATOR_ONBOARDING_LANGUAGES","VALIDATOR_ONBOARDING_INTERESTS","en","welcome","picker","callToAction","login","tabsignin","tabsignup","emailAddress","password","passwordRepeat","send","forgotPassword","newPassword","forgotPasswordExplanation","cancel","signupWelcome","noResultsFound","tos","modal","disclaimer1","disclaimer2","decline","accept","readMore","privacy","emailNotificationsLabel","emailValidation","validating","success","createAccount","validation","atLeastOne","addAtLeastOne","invalid","invalidDomain","tooShort","noDigit","noUpperCase","noLowerCase","noSymbol","repeatWrong","multiple","pageNotFound","pageDoesntExist","goHome","tabs","home","matching","messaging","profile","notifications","myProfile","editProfile","educationFieldsPicker","placeholder","searchPlaceholder","educationFieldCategories","education","services","handicrafts","economics","psychology","law","biology","biochemistry","chemistry","physics","mathematics","statistics","materials","textiles","horticulture","forestry","fisheries","veterinary","medicine","pharmacy","sports","levelOfStudy","degrees","bsc1","bsc2","bsc3","m1","m2","phd","university","search","selectCountry","countryPickerLanguageCode","profileType","profileTypes","allRoles","student","staff","staffRoles","teaching","researcher","supporting","administrative","technical","ambassador","other","genders","male","female","dateOfBirth","months","0","1","2","3","4","5","6","7","8","9","10","11","fieldsOfEducation","apply","universities","universitiesPicker","logOut","name","title","subtitle","personalInfo","language","interests","roleSpecific1","offersMeet","offersDiscover","offersCollaborate","submit","getStarted","profileCreated","spokenLanguages","languagePicker","placeholderSingle","placeholderMultiple","languageLevelPicker","languageLevels","a1","a2","b1","b2","c1","c2","native","languageNames","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rc","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu","chooseInterests","interestsPicker","interestNames","tango","sneakers","baking","tarot","art","tea","picnicking","motorcycles","parties","shopping","couchsurfing","netflix","cooking","vegan","brunch","politics","bbq","surfing","spirituality","gardening","astrology","climbing","tennis","writer","comedy","wine","diy","coffee","sailing","music","cycling","activism","trivia","travel","instagram","museum","karaoke","fashion","disney","blogging","yoga","investing","petanque","theater","environmentalism","crossfit","dancing","hiking","running","golf","photography","vlogging","volunteering","tattoos","outdoors","esports","snowboarding","athlete","extrovert","podcasts","walking","vegetarian","reading","movies","foodie","soccer","skiing","sushi","introvert","skateboarder","festivals","fishing","swimming","expositions","gamer","piano","offerCategories","meet","discover","collaborate","offers","allOffers","help","block","warning","action","tabIndividual","tabGroup","noMatches","noResults","noResultsAdvice","filtering","sectionGeneral","buttonReset","actionLike","actionHide","chat","continue","noOffersSelected","signup","SUPPORTED_LOCALES","getDefaultLocale","l","Localization","LANGUAGES_CODES","getLocalizedLanguageItems","locale","translations","code","label","theme","localizedLanguageItems","stripSuperfluousOffers","filter","o","allowFemale","allowMale","allowOther","allowStaff","allowStudent","convertDtoToProfile","dto","avatarUrl","avatar","Date","profileOffers","convertPartialProfileToCreateDto","toJSON","convertDtoToUser","user","offerIdToCategory","Map","filters","roles","fetchedProfiles","fetchingProfiles","fetchingPage","canFetchMore","myMatches","fetchingMyMatches","rootNavigationRef","React","rootNavigate","route","current","navigate","attemptRedirectToApp","path","fallbackRoute","fallback","Platform","OS","link","APP_SCHEME","location","replace","log","setTimeout","readCachedCredentials","a","async","SecureStore","raw","JSON","parse","storeStaticData","data","storageObject","updatedAt","AsyncStorage","setItem","stringify","readCachedStaticData","getItem","rootReducer","combineReducers","auth","state","type","REGISTER_BEGIN","REGISTER_FAILURE","errors","REGISTER_SUCCESS","verificationToken","VALIDATE_ACCOUNT_SUCCESS","VALIDATE_ACCOUNT_FAILURE","LOG_IN_BEGIN","LOG_IN_FAILURE","LOG_IN_SUCCESS","names","LOG_OUT","SET_ONBOARDING_VALUES","values","SET_ONBOARDING_OFFER_VALUE","settings","SET_THEME","TOGGLE_THEME","SET_LOCALE","PROFILE_SET_FIELDS_SUCCESS","fields","LOAD_PROFILE_OFFERS_SUCCESS","category","LOAD_PROFILE_INTERESTS_SUCCESS","sort","b","FETCH_USER_SUCCESS","SET_AVATAR_SUCCESS","SET_OFFER_FILTER","offerId","SET_FILTERS","FETCH_PROFILES_BEGIN","FETCH_PROFILES_FAILURE","FETCH_PROFILES_SUCCESS","profiles","concat","FETCH_PROFILES_REFRESH","FETCH_MY_MATCHES_BEGIN","FETCH_MY_MATCHES_FAILURE","FETCH_MY_MATCHES_SUCCESS","LIKE_PROFILE_SUCCESS","profileId","p","DISLIKE_PROFILE_SUCCESS","BLOCK_PROFILE_SUCCESS","combinedMiddleware","applyMiddleware","thunk","next","usingCachedCredentials","available","toStore","storeAuthInformation","PROFILE_CREATE_SUCCESS","matchStatus","createStore","encodeRequestParams","args","Object","keys","encodeURIPrimitive","v","Array","isArray","join","encodeURIComponent","requestBackend","endpoint","method","params","body","verbose","authToken","headers","Accept","store","getState","Authorization","accessToken","Alert","alert","codes","formattedParams","fetch","response","json","setProfileFieldsSuccess","createProfile","dispatch","loadProfileOffersSuccess","loadProfileInterestsSuccess","fetchUserSuccess","registerBegin","requestRegister","registerSuccess","loginBegin","loginSuccess","loginFailure","requestLogin","payload","requestValidateAccount","validationToken","validateAccountSuccess","validateAccountFailure","setOnboardingValues","light","text","textWhite","textBlack","textLight","textInverted","background","cardBackground","accent","accentSlight","accentSecondary","accentTernary","tint","actionNeutral","okay","warn","tabIconDefault","tabIconSelected","componentBorder","dark","preTheme","generator","styles","themes","forEach","NotFoundScreen","this","props","navigation","themedStyles","View","style","container","Text","i18n","t","TouchableOpacity","onPress","linkText","StyleSheet","create","flex","alignItems","justifyContent","padding","backgroundColor","fontSize","fontWeight","marginTop","paddingVertical","color","withTheme","reduxConnector","connect","ValidateEmailScreen","Linking","parsed","verifToken","queryParams","wrapper","ActivityIndicator","size","successText","width","height","marginVertical","textAlign","lineHeight","ValidationEmailSentScreen","FontAwesome","mailIcon","description","d","config","prefixes","screens","LoginScreen","TabSignin","LoginForm","ForgotPassword","TabSignup","MainScreen","TabHome","TabHomeScreen","TabMatching","TabMatchingScreen","MAtchFilteringScren","TabMessaging","ChatScreen","MessagingScreen","TabProfile","TabProfileScreen","TabNotifications","TabNotificationsScreen","ValidateEmailSentScreen","ChangePassword","OnboardingScreen","OnboardingNameScreen","OnboardingPersonalInfoScreen","OnboardingLanguageScreen","OnboardingInterestsScreen","OnboardingRoleScreen","OnboardingRoleSpecificScreen1","OnboardingRoleSpecificScreen2","OnboardingOffersScreen1","OnboardingOffersScreen2","OnboardingOffersScreen3","OnboardingTosScreen","OnboardingPrivacyScreen","OnboardingSuccessfulScreen","MatchSuccessScreen","TabBarComponent","index","isFocused","event","emit","target","canPreventDefault","defaultPrevented","descriptors","position","tabBarWrapper","tabBar","routes","options","toLowerCase","inputRange","_","i","opacity","Animated","interpolate","outputRange","tabButton","tabButtonBg","accessibilityRole","accessibilityLabel","tabBarAccessibilityLabel","testID","tabBarTestID","onLongPress","tabButtonText","tabButtonTextFocused","Component","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","maxWidth","flexDirection","letterSpacing","textTransform","waveImageStyle","bottom","margin","InputLabel","otherProps","children","InputErrorText","errorStr","marginBottom","ValidatedTextInput","focused","showErrorText","wrapperStyle","untouched","errorStyle","validStyle","focusedStyle","errorTextStyle","labelStyle","onBlur","onFocus","e","setState","defaultProps","FormTextInput","field","touched","handleChange","handleBlur","onChangeText","formStyle","inputErrorText","inputRow","actionRow","buttonMajor","borderRadius","buttonMajorText","getLoginTextInputsStyleProps","wrapperVerticalMargin","outline","commonStyle","textInputWrapper","textInput","paddingHorizontal","borderWidth","textInputError","borderBottomWidth","borderBottomColor","textInputValid","placeholderTextColor","loginTabsStyles","formWrapper","versionInfoContainer","left","versionText","versionDisclaimerContainer","versionDisclaimerIcon","debugContainer","debugTitle","debugButton","debugButtonText","toggleThemeContainer","right","toggleThemeButton","toggleThemeIcon","FormError","LoginFormSchema","shape","remoteErrors","LoginFormComponent","setFieldValue","oldProps","onSuccessfulSubmit","initialValues","validationSchema","validateOnBlur","onSubmit","formikProps","handleSubmit","textInputProps","keyboardType","autoCompleteType","secureTextEntry","loginButton","disabled","forgotPwdLink","forgotPasswordText","ForgotPasswordFormSchema","ForgotPasswordForm","titleWrapper","submitForm","formikCfg","goBack","buttonCancel","buttonSend","marginLeft","marginRight","LoginTabComponent","KeyboardAvoidingView","behavior","Math","round","random","firstName","lastName","level","MaterialIcons","MaterialCommunityIcons","ForgotPasswordTabComponent","SubTabLogin","SubTabForgotPassword","SignupFormSchema","SignupForm","validateOnChange","createAccountButton","inlineInputs","inlineInputLeft","inlineInputRight","SignupTabComponent","contentContainerStyle","SigninStack","createStackNavigator","Tab","createMaterialTopTabNavigator","LoginNavigator","Navigator","initialRouteName","LoginTabBar","Screen","component","headerShown","TabSignupFormScreen","LogOutButton","onLogOut","TabNotImplementedScreen","FontAwesome5","constructionIcon","separator","logoutButton","pickerStyles","overlay","maxHeight","overflow","dropdownWrapper","dropdownStyle","dropdownItemStyle","dropdownActiveItemStyle","dropdownActiveLabelStyle","dropdownLabelStyle","okButton","okButtonText","openButton","borderStyle","borderColor","openButtonText","selectedItemView","selectedItemText","SectionedMultiPicker","selectRef","items","open","tempSelected","selected","has","get","set","section","genSectionLabel","genLabel","updateItems","_toggleSelector","onChange","searchablePlaceholder","showSelected","viewProps","multiSelectStyles","sectionedMultiSelectStyles","miscStyles","selectedItems","toString","val","numberOfLines","ref","onSelectedItemsChange","onCancel","close","onConfirm","IconRenderer","uniqueKey","displayKey","subKey","showDropDowns","readOnlyHeadings","showChips","showCancelButton","selectedIconOnLeft","animateDropDowns","hideSelect","noResultsComponent","noResultsText","searchIconComponent","searchIcon","confirmText","searchPlaceholderText","colors","primary","subText","searchPlaceholderTextColor","selectToggleTextColor","itemBackground","subItemBackground","EducationFieldCategory","marginHorizontal","scrollView","searchBar","searchTextInput","toggleIcon","subItem","selectedItem","itemText","fontFamily","EducationFieldSubCategory","EDUCATION_FIELD_CATEGORIES","EDUCATION_FIELDS","GPQ","subCategory","EDU","AH","SSJI","BAL","NSMS","ICT","EMC","AFFV","HW","SER","sectioned","f","push","EDUCATION_FIELDS_SECTIONED","EducationFieldPicker","multipleText","DegreeToggle","buttonLabels","idx","onUpdate","selectedIndex","indexOf","buttons","containerStyle","onSelect","r","StaffRoleToggle","pickerItems","Picker","Item","selectedValue","onValueChange","GenderToggle","BirthDatePicker","showModal","hideModal","onHide","date","maxDate","now","setFullYear","getFullYear","minimumDate","maximumDate","mode","AvatarEditButton","ensurePermission","Permissions","status","showPicker","ImagePicker","mediaTypes","Images","allowsEditing","aspect","quality","result","cancelled","onPictureSelected","buttonStyle","FormRowComponent","renderModalContent","renderInput","modalTouchable","setModal","activeOpacity","modalWrapper","modalLabel","modalErrorText","modalActions","modalCancel","modalActionText","modalOk","modalOpen","initialValue","validate","validator","validateSync","setError","err","display","overrideModal","noModal","locked","cardWrapper","cardContent","cardLabel","rightIconContainer","rightIcon","Modal","transparent","visible","animationType","minHeight","FormattedDate","localizedMonth","getMonth","formattedDate","getDate","NationalityPicker","countryCode","filterProps","withFlag","withFilter","withEmoji","cca2","onClose","translation","containerButtonStyle","pickerContainerButton","FormattedNationality","countryName","updateCountryName","getCountryInfoAsync","prevProps","flagSize","FormattedUniversity","MultiPicker","dropdownWrapperHeight","overlayStyle","isVisible","onRequestClose","onBackdropPress","onLayout","nativeEvent","layout","searchable","defaultValue","onChangeItem","scrollViewProps","keyboardShouldPersistTaps","showArrow","dropDownMaxHeight","selectedLabelStyle","itemStyle","activeItemStyle","activeLabelStyle","OfferCategory","allInterests","updateValues","interest","forceUpdate","interestId","initOfferValue","genderVal","allowChooseGender","typeVal","allowChooseProfileType","languageItems","LanguagePicker","single","pickerItem","pickerLabel","arrowSize","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","LanguageLevelPicker","item","pickerContainer","SpokenLanguagesInput","addRow","computeErrors","hasErrors","splice","rows","rowContainer","inputRowContainer","pickerStyle","inputs","languageCodes","setLanguageCode","levelPicker","setLanguageLevel","removeRow","deleteIcon","errorRowContainer","canAddMore","plusButtonWrapper","plusButton","flexGrow","EnlargeableAvatar","enlarged","avatarProps","source","toggleEnlarged","backdropStyle","overlayBackdrop","rounded","enlargedAvatarContainer","avatarStyle","enlargedAvatar","aspectRatio","getToggleStyleProps","nobuttonBariant","innerBorderStyle","buttonContainerStyle","textStyle","flexShrink","selectedButtonStyle","selectedTextStyle","noButtonVariant","selectMultiple","selectedIndexes","tooltipStyles","alignContent","CustomTooltip","popover","OfferControl","changed","offerValueChange","offer","isSomethingSelected","allowInterRole","checked","setAllValues","offerName","helpIcon","buttonsWrapper","FormFieldSpacer","EditProfileForm","avatarTitle","avatarSource","uri","profileFieldComponents","FormRow","cardText","hide","onFieldChanged","cc","OfferCategoryRow","Discover","onApply","Collaborate","Meet","screenWrapper","topView","imageInfo","image","mimeType","fail","SET_AVATAR_FAILURE","fileName","url","s3Url","blob","imageBlob","response2","universityContainer","ScrollView","scrollWrapper","keyboardVerticalOffset","offerVal","updatedVal","alignSelf","paddingTop","avatarAccessory","textShadowRadius","setProfileFields","CustomModal","modalVisible","modalViewStyle","centeredView","setModalVisible","modalView","renderContent","BlockProfileModal","onBlock","actionButtonsWrapper","TouchableHighlight","actionButton","actionButtonCancel","actionText","actionButtonDecline","fetchProfilesFailure","fetchProfilesSuccess","refreshFetchedProfiles","likeProfileSuccess","dislikeProfileSuccess","blockProfileSuccess","fetchMyMatches","resp","styleTextThin","styleTextLight","ProfilePreview","expanded","ReAnimated","Value","PROFILE_PREVIEW_COLLAPSED_HEIGHT","blockModalOpen","animating","x","y","timing","toValue","PROFILE_PREVIEW_EXPANDED_HEIGHT","duration","easing","Easing","elastic","start","out","linear","onFinish","onHidden","collapse","expand","onExpand","univ","fullName","Swipeable","swipeableContainer","childrenContainerStyle","swipeable","onSwipeableRightWillOpen","onSwipeLeft","onSwipeableLeftWillOpen","onSwipeRight","leftThreshold","rightThreshold","renderRightActions","swipeAction","swipeActionRight","swipeActionContent","swipeActionContentRight","swipeActionText","renderLeftActions","swipeActionLeft","swipeActionContentLeft","toggleExpanded","touchable","collapsedContent","avatarContainer","infoContainer","infoText","expandedContent","expandedSectionTitle","chipsContainer","ItemChip","blockButton","blockButtonIcon","toProfileId","chipStyles","chip","chipText","paddingRight","sideMargin","paddingLeft","verticalSpacing","cardPadding","flexWrap","actionContainer","justRefreshed","scrollViewRef","nonEmptyOrUndef","filterParams","page","limit","meta","currentPage","totalPages","fetchMore","hiddenProfiles","previewComponents","scroll","scrollTo","animated","toUserId","scroller","refreshControl","RefreshControl","refreshing","onRefresh","onScroll","layoutMeasurement","contentOffset","distanceToBottom","contentSize","matchContainer","loadingIndicatorContainer","noResultsContainer","noResultsText1","noResultsText2","topBar","flexBasis","filtersIcon","headerContainer","MatchingHeaderRight","MultiUniversityPicker","univKey","styleProps","MultiLanguagePicker","languageId","Separator","filteringScreenRef","MatchFilteringScreen","localFilters","haveFiltersChanged","updateLocalFilters","offerSections","sectionContainer","sectionTitle","entryContainer","entryLabel","Switch","updateLocalOfferFilters","scrollContainer","resetButton","resetLocalFilters","resetButtonText","entryControls","ClearFilterButton","twoLineEntryContainer","headerStyles","headerButtonIcon","FilteringHeaderLeft","FilteringHeaderRight","applyFilters","ProfileMessagingCard","CARD_HEIGHT","overshootRight","SwipeActionButton","icon","swipeActionButton","swipeActionButtonIcon","ACTION_BUTTON_WIDTH","fetchingMatches","IndividualMessagingTab","matchesContainer","noMatchesContainer","noMatchesText","GroupMessagingTab","Stack","MessagingNavigator","insets","useSafeAreaInsets","headerMode","tabBarOptions","top","tabBarLabel","alphaText","paddingBottom","TabNavigator","createBottomTabNavigator","TabBarIcon","TabBarLabel","TabHomeStack","TabHomeNavigator","TabMatchingStack","TabMatchingNavigator","headerLeft","headerTitle","headerTitleStyle","headerTitleAlign","headerRight","TabNotificationsStack","TabNotificationsNavigator","TabProfileStack","TabProfileNavigator","activeTintColor","tabBarIcon","onboardingStyle","slideWrapper","header","slideContentWrapper","slideNavWrapper","navButton","navButtonIcon","finishButtonText","tosSlideStyle","actionsWrapper","actionButtonTextDecline","actionButtonTextAccept","readMoreText","createOfferControls","onboardingState","setOnboardingOfferValue","finishOnboarding","createProfileDto","base","onboardingStateToDto","OnboardingSlide","hideNavNext","hasNext","hasPrevious","previous","VALIDATION_SCHEMA","nextProps","prev","Keyboard","dismiss","getOnboardingTextInputsStyleProps","BirthDateControl","button","buttonOk","dateText","NationalityControl","roleButton","roleButtonIconStudent","roleButtonTextStudent","roleButtonIconStaff","roleButtonTextStaff","studentColor","staffColor","common","roleButtonText","roleButtonIcon","studentThemedStyles","staffThemedStyles","icons","buttonIcon","buttonText","isStudent","studentRender","staffRender","TOSDeclinedModal","TextLink","textProps","declined","ONBOARDING_SCREENS","ONBOARDING_ORDER","OnboardingStack","ComponentClass","temp","OnboardingNavigator","showLabel","showIcon","springConfig","stiffness","damping","mass","swipeEnabled","lazy","lazyPreloadDistance","ReciprocalMatchScreen","ChangePasswordFormSchema","ChangePasswordForm","ChangePasswordScreen","NavigationContainer","linking","LinkingConfiguration","DarkTheme","DefaultTheme","screenOptions","MainNavigator","cardStyleInterpolator","CardStyleInterpolators","forVerticalIOS","forFadeFromBottomAndroid","currentTheme","StatusBar","registerRootComponent","isLoadingComplete","setLoadingComplete","SplashScreen","fromCache","Font","font","credentials","loadResourcesAndDataAsync","useCachedResources","fallbacks"],"mappings":"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BACNC,SAAU,mBAIlBpY,QAAS,CACLqY,iBAAkB,wBAG1BhP,GAAI,CACArM,QAAS,YACTG,MAAO,YACPmb,OAAQ,cACRhb,aAAc,gBACdC,SAAU,eACVG,eAAgB,yBAChB8E,0BAA2B,QCzqBtB+V,EAAuC,CAAC,KAAM,MAEpD,SAASC,IACZ,OAAOD,EAAkB/e,MAAK,SAACif,GAAD,OAAwBA,GAAKC,QAAwB,KCPhF,IAAMC,GAA4B,CACrC,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,M,qkBCtLJ,SAASC,GA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","file":"static/js/app.589a3090.chunk.js","sourcesContent":["/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {Action, AnyAction} from \"redux\";\r\nimport {ThemeKey} from \"../types\";\r\nimport {\r\n    CreateProfileDto,\r\n    InterestDto,\r\n    LikeProfileResponseDto,\r\n    OfferCategory,\r\n    OfferDto,\r\n    OfferValueDto,\r\n    SpokenLanguageDto,\r\n    TokenDto,\r\n} from \"../api/dto\";\r\nimport {UserProfile} from \"../model/user-profile\";\r\nimport {User} from \"../model/user\";\r\nimport {Degree, Gender, Role, StaffRole} from \"../constants/profile-constants\";\r\nimport {CountryCode} from \"../model/country-codes\";\r\nimport {SupportedLocale} from \"../localization\";\r\n\r\nexport type OnboardingState = {\r\n    firstname: string;\r\n    lastname: string;\r\n    birthdate: Date | null;\r\n    gender: Gender | null;\r\n    nationality: CountryCode | null;\r\n    role: Role | null;\r\n    degree: Degree | null;\r\n    staffRole: StaffRole | null;\r\n    languages: SpokenLanguageDto[];\r\n    interestIds: string[];\r\n    offerValues: {[key: string]: OfferValueDto};\r\n    educationFields: string[];\r\n};\r\n\r\nexport type AuthState = {\r\n    authenticated: boolean;\r\n    validated: boolean;\r\n    token: null | TokenDto;\r\n    connecting: boolean;\r\n    registerEmail: string;\r\n    registerFailure: boolean;\r\n    registerErrors: string[];\r\n    loginErrors: string[];\r\n    validatedEmail: string | null;\r\n    // This is available only in DEBUG_MODE on the staging server\r\n    verificationToken?: string;\r\n    onboarded: boolean;\r\n    onboarding: OnboardingState;\r\n};\r\n\r\nexport type SettingsState = {\r\n    theme: ThemeKey;\r\n    locale: SupportedLocale;\r\n    localizedLanguageItems: {value: string; label: string}[];\r\n};\r\n\r\nexport type ProfileState = {\r\n    user: User | null;\r\n    offers: OfferDto[];\r\n    offerIdToCategory: Map<string, OfferCategory>;\r\n    interests: InterestDto[];\r\n};\r\n\r\nexport type MatchingFiltersState = {\r\n    offers: {[key: string]: boolean};\r\n    universities: string[];\r\n    degrees: Degree[];\r\n    languages: string[];\r\n    roles: Role[];\r\n};\r\n\r\nexport type MatchingState = {\r\n    filters: MatchingFiltersState;\r\n    fetchedProfiles: UserProfile[];\r\n    fetchingProfiles: boolean;\r\n    fetchingPage: number;\r\n    canFetchMore: boolean;\r\n    myMatches: UserProfile[];\r\n    fetchingMyMatches: boolean;\r\n};\r\n\r\nexport type AppState = {\r\n    auth: AuthState;\r\n    settings: SettingsState;\r\n    profile: ProfileState;\r\n    matching: MatchingState;\r\n};\r\n\r\n// Shortcut type for redux-thunk actions (async actions)\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, AppState, unknown, Action<string>>;\r\n\r\n// Shortcut type for redux-thunk dispatch (cast dispatch function to this for async actions)\r\nexport type MyThunkDispatch = ThunkDispatch<AppState, void, AnyAction>;\r\n\r\n/*### AUTH ###*/\r\n\r\nexport enum AUTH_ACTION_TYPES {\r\n    REGISTER_BEGIN = \"AUTH/REGISTER_BEGIN\",\r\n    REGISTER_SUCCESS = \"AUTH/REGISTER_SUCCESS\",\r\n    REGISTER_FAILURE = \"AUTH/REGISTER_FAILURE\",\r\n    LOG_IN_BEGIN = \"AUTH/LOG_IN_BEGIN\",\r\n    LOG_IN_SUCCESS = \"AUTH/LOG_IN_SUCCESS\",\r\n    LOG_IN_FAILURE = \"AUTH/LOG_IN_FAILURE\",\r\n    LOG_OUT = \"AUTH/LOG_OUT\",\r\n    VALIDATE_ACCOUNT = \"AUTH/VALIDATE_ACCOUNT\",\r\n    VALIDATE_ACCOUNT_SUCCESS = \"AUTH/VALIDATE_ACCOUNT_SUCCESS\",\r\n    VALIDATE_ACCOUNT_FAILURE = \"AUTH/VALIDATE_ACCOUNT_FAILURE\",\r\n    SET_ONBOARDING_VALUES = \"AUTH/SET_ONBOARDING_VALUES\",\r\n    SET_ONBOARDING_OFFER_VALUE = \"AUTH/SET_ONBOARDING_OFFER_VALUE\",\r\n}\r\n\r\nexport type RegisterBeginAction = {\r\n    type: string;\r\n    email: string;\r\n    password: string;\r\n};\r\n\r\nexport type RegisterSuccessAction = {\r\n    type: string;\r\n    user: User;\r\n};\r\n\r\nexport type RegisterFailureAction = {\r\n    type: string;\r\n    errors: string[];\r\n};\r\n\r\nexport type LogInBeginAction = {\r\n    type: string;\r\n    email: string;\r\n    password: string;\r\n};\r\n\r\nexport type LogInSuccessAction = {\r\n    type: string;\r\n    token: TokenDto;\r\n    user: User;\r\n    usingCachedCredentials: boolean;\r\n};\r\n\r\nexport type LogInFailureAction = {\r\n    type: string;\r\n    errors: string[];\r\n};\r\n\r\nexport type LogOutAction = {\r\n    type: string;\r\n};\r\n\r\nexport type ValidateAccountSuccessAction = {\r\n    type: string;\r\n    email: string;\r\n};\r\n\r\nexport type ValidateAccountFailureAction = {\r\n    type: string;\r\n    errors: string[];\r\n};\r\n\r\nexport type SetOnboardingValuesAction = {\r\n    type: string;\r\n    values: Partial<OnboardingState>;\r\n};\r\n\r\nexport type SetOnboardingOfferValueAction = {\r\n    type: string;\r\n    id: string;\r\n    value: OfferValueDto;\r\n};\r\n\r\nexport type AuthAction =\r\n    | RegisterBeginAction\r\n    | RegisterSuccessAction\r\n    | RegisterFailureAction\r\n    | LogInBeginAction\r\n    | LogInSuccessAction\r\n    | LogInFailureAction\r\n    | LogOutAction\r\n    | ValidateAccountSuccessAction\r\n    | ValidateAccountFailureAction\r\n    | SetOnboardingValuesAction\r\n    | SetOnboardingOfferValueAction;\r\n\r\n/*### SETTINGS ###*/\r\n\r\nexport enum SETTINGS_ACTION_TYPES {\r\n    SET_THEME = \"SETTINGS/SET_THEME\",\r\n    TOGGLE_THEME = \"SETTINGS/TOGGLE_THEME\",\r\n    SET_LOCALE = \"SETTINGS/SET_LOCALE\",\r\n}\r\n\r\nexport type SetThemeAction = {\r\n    type: string;\r\n    theme: ThemeKey;\r\n};\r\n\r\nexport type ToggleThemeAction = {\r\n    type: string;\r\n};\r\n\r\nexport type SetLocaleAction = {\r\n    type: string;\r\n    locale: SupportedLocale;\r\n};\r\n\r\nexport type SettingsAction = SetThemeAction | SetLocaleAction;\r\n\r\n/*### PROFILE ###*/\r\n\r\nexport enum PROFILE_ACTION_TYPES {\r\n    LOAD_USER_PROFILE = \"PROFILE/LOAD_USER_PROFILE\",\r\n    LOAD_PROFILE_OFFERS = \"LOAD_PROFILE_OFFERS\",\r\n    LOAD_PROFILE_OFFERS_SUCCESS = \"LOAD_PROFILE_OFFERS_SUCCESS\",\r\n    LOAD_PROFILE_INTERESTS = \"LOAD_PROFILE_INTERESTS\",\r\n    LOAD_PROFILE_INTERESTS_SUCCESS = \"LOAD_PROFILE_INTERESTS_SUCCESS\",\r\n    PROFILE_SET_FIELDS_SUCCESS = \"PROFILE/SET_FIELDS_SUCCESS\",\r\n    PROFILE_CREATE = \"PROFILE/CREATE\",\r\n    PROFILE_CREATE_SUCCESS = \"PROFILE/CREATE_SUCCESS\",\r\n    FETCH_USER_SUCCESS = \"PROFILE/FETCH_USER_SUCCESS\",\r\n    SET_AVATAR = \"PROFILE/SET_AVATAR\",\r\n    SET_AVATAR_SUCCESS = \"PROFILE/SET_AVATAR_SUCCESS\",\r\n    SET_AVATAR_FAILURE = \"PROFILE/SET_AVATAR_FAILURE\",\r\n}\r\n\r\nexport type LoadUserProfileAction = {\r\n    type: string;\r\n    id: string;\r\n};\r\n\r\nexport type SetProfileFieldsAction = {\r\n    type: string;\r\n    fields: Partial<UserProfile>;\r\n};\r\n\r\nexport type SetProfileFieldsSuccessAction = {\r\n    type: string;\r\n    fields: Partial<UserProfile>;\r\n};\r\n\r\nexport type CreateProfileAction = {\r\n    type: string;\r\n    profile: CreateProfileDto;\r\n};\r\n\r\nexport type CreateProfileSuccessAction = {\r\n    type: string;\r\n};\r\n\r\nexport type LoadProfileOffersAction = {\r\n    type: string;\r\n};\r\n\r\nexport type LoadProfileOffersSuccessAction = {\r\n    type: string;\r\n    offers: OfferDto[];\r\n};\r\n\r\nexport type LoadProfileInterestsAction = {\r\n    type: string;\r\n};\r\n\r\nexport type LoadProfileInterestsSuccessAction = {\r\n    type: string;\r\n    interests: InterestDto[];\r\n};\r\n\r\nexport type FetchUserSuccessAction = {\r\n    type: string;\r\n    user: User;\r\n};\r\n\r\nexport type SetAvatarSuccessAction = {\r\n    type: string;\r\n    avatarUrl: string;\r\n};\r\n\r\nexport type SetAvatarFailureAction = {\r\n    type: string;\r\n};\r\n\r\nexport type ProfileAction =\r\n    | SetProfileFieldsAction\r\n    | CreateProfileAction\r\n    | CreateProfileSuccessAction\r\n    | LoadProfileOffersAction\r\n    | LoadProfileOffersSuccessAction\r\n    | LoadProfileInterestsAction\r\n    | LoadProfileInterestsSuccessAction\r\n    | FetchUserSuccessAction\r\n    | SetAvatarSuccessAction\r\n    | SetAvatarFailureAction;\r\n\r\n/*### MATCHING ###*/\r\n\r\nexport enum MATCHING_ACTION_TYPES {\r\n    SET_FILTERS = \"MATCHING/SET_FILTERS\",\r\n    SET_OFFER_FILTER = \"MATCHING/SET_OFFER_FILTER\",\r\n    FETCH_PROFILES_BEGIN = \"MATCHING/FETCH_PROFILES_BEGIN\",\r\n    FETCH_PROFILES_SUCCESS = \"MATCHING/FETCH_PROFILES_SUCCESS\",\r\n    FETCH_PROFILES_FAILURE = \"MATCHING/FETCH_PROFILES_FAILURE\",\r\n    FETCH_PROFILES_REFRESH = \"MATCHING/FETCH_PROFILES_REFRESH\",\r\n    LIKE_PROFILE_SUCCESS = \"MATCHING/LIKE_PROFILE_SUCCESS\",\r\n    DISLIKE_PROFILE_SUCCESS = \"MATCHING/DISLIKE_PROFILE_SUCCESS\",\r\n    BLOCK_PROFILE_SUCCESS = \"MATCHING/BLOCK_PROFILE_SUCCESS\",\r\n    FETCH_MY_MATCHES_BEGIN = \"MATCHING/FETCH_MY_MATCHES_BEGIN\",\r\n    FETCH_MY_MATCHES_FAILURE = \"MATCHING/FETCH_MY_MATCHES_FAILURE\",\r\n    FETCH_MY_MATCHES_SUCCESS = \"MATCHING/FETCH_MY_MATCHES_SUCCESS\",\r\n}\r\n\r\nexport type SetOfferFilterAction = {\r\n    type: string;\r\n    offerId: string;\r\n    value: boolean;\r\n};\r\n\r\nexport type ResetMatchingFiltersAction = {\r\n    type: string;\r\n};\r\n\r\nexport type SetMatchingFiltersAction = {\r\n    type: string;\r\n    filters: Partial<MatchingFiltersState>;\r\n};\r\n\r\nexport type LikeProfileSuccessAction = {\r\n    type: string;\r\n    profileId: string;\r\n    matchStatus: LikeProfileResponseDto;\r\n};\r\n\r\nexport type DislikeProfileSuccessAction = {\r\n    type: string;\r\n    profileId: string;\r\n};\r\n\r\nexport type BlockProfileSuccessAction = {\r\n    type: string;\r\n    profileId: string;\r\n};\r\n\r\nexport type FetchProfilesRefreshAction = {\r\n    type: string;\r\n};\r\n\r\nexport type BeginFetchProfilesAction = {\r\n    type: string;\r\n};\r\n\r\nexport type FetchProfilesFailureAction = {\r\n    type: string;\r\n};\r\n\r\nexport type FetchProfilesSuccessAction = {\r\n    type: string;\r\n    profiles: UserProfile[];\r\n    canFetchMore: boolean;\r\n};\r\n\r\nexport type BeginFetchMyMatchesAction = {\r\n    type: string;\r\n};\r\n\r\nexport type FetchMyMatchesFailureAction = {\r\n    type: string;\r\n};\r\n\r\nexport type FetchMyMatchesSuccessAction = {\r\n    type: string;\r\n    profiles: UserProfile[];\r\n};\r\n\r\nexport type MatchingAction =\r\n    | SetOfferFilterAction\r\n    | SetMatchingFiltersAction\r\n    | ResetMatchingFiltersAction\r\n    | BeginFetchProfilesAction\r\n    | FetchProfilesSuccessAction\r\n    | FetchProfilesFailureAction\r\n    | FetchProfilesRefreshAction\r\n    | LikeProfileSuccessAction\r\n    | DislikeProfileSuccessAction\r\n    | BlockProfileSuccessAction\r\n    | BeginFetchMyMatchesAction\r\n    | FetchMyMatchesFailureAction\r\n    | FetchMyMatchesSuccessAction;\r\n","export const APP_VERSION = \"0.0.1\";\r\nexport const APP_SCHEME = \"sea-eu-around\";\r\nexport const DEBUG_MODE = true;\r\nexport const ENVIRONMENT: \"staging\" | \"production\" = \"staging\";\r\n\r\nexport const BACKEND_URL =\r\n    ENVIRONMENT == \"staging\"\r\n        ? \"https://api-staging.sea-eu-around.lad-dev.team\"\r\n        : \"https://api.sea-eu-around.lad-dev.team\";\r\n\r\n/**\r\n * Specify the quality of compression, from 0 to 1.\r\n * 0 means compress for small size, 1 means compress for maximum quality.\r\n */\r\nexport const AVATAR_QUALITY = 0.75;\r\n\r\n/**\r\n * The number of profiles fetched per request when scrolling in the Matching tab.\r\n */\r\nexport const PROFILES_FETCH_LIMIT = 8;\r\n\r\n/**\r\n * The maximum number of spoken languages a user can select.\r\n * (limited for rendering reasons).\r\n */\r\nexport const MAX_SPOKEN_LANGUAGES = 8;\r\n","import {CountryCode} from \"../model/country-codes\";\r\n\r\nexport type UniversityKey = \"univ-cadiz\" | \"univ-brest\" | \"univ-gdansk\" | \"univ-malta\" | \"univ-kiel\" | \"univ-split\";\r\n\r\nexport type University = {\r\n    key: UniversityKey;\r\n    domain: string;\r\n    country: CountryCode;\r\n};\r\n\r\n// List of partner universities\r\nexport const PARTNER_UNIVERSITIES: University[] = [\r\n    {\r\n        key: \"univ-cadiz\",\r\n        domain: \"uca.es\",\r\n        country: \"ES\",\r\n    },\r\n    {\r\n        key: \"univ-brest\",\r\n        domain: \"univ-brest.fr\",\r\n        country: \"FR\",\r\n    },\r\n    {\r\n        key: \"univ-gdansk\",\r\n        domain: \"ug.edu.pl\",\r\n        country: \"PL\",\r\n    },\r\n    {\r\n        key: \"univ-malta\",\r\n        domain: \"um.edu.mt\",\r\n        country: \"MT\",\r\n    },\r\n    {\r\n        key: \"univ-kiel\",\r\n        domain: \"kms.uni-kiel.de\",\r\n        country: \"DE\",\r\n    },\r\n    {\r\n        key: \"univ-split\",\r\n        domain: \"unist.hr\",\r\n        country: \"HR\",\r\n    },\r\n];\r\n","import {PARTNER_UNIVERSITIES, University} from \"../constants/universities\";\r\n\r\n/**\r\n * Attempts to extract names from a given email.\r\n * @param email A valid email address.\r\n * @returns the first and last name if they were successfuly extracted, null otherwise.\r\n */\r\nexport function extractNamesFromEmail(email: string): {firstname: string; lastname: string} | null {\r\n    const splitName = email.split(\"@\")[0].split(\".\");\r\n    const capitalize = (str: string) => (str.length == 0 ? str : str[0].toUpperCase() + str.slice(1));\r\n    return splitName.length >= 2\r\n        ? {\r\n              firstname: capitalize(splitName[0]),\r\n              lastname: capitalize(splitName[1]),\r\n          }\r\n        : null;\r\n}\r\n\r\n/**\r\n * Extracts a partner university from a given email.\r\n * @param email A valid email address.\r\n * @returns a University object if one matches the given email, null otherwise.\r\n */\r\nexport function getUniversityFromEmail(email: string): University | null {\r\n    const split = email.split(\"@\");\r\n    if (split.length > 0) {\r\n        const domain = split[1].trim();\r\n        return PARTNER_UNIVERSITIES.find((uni: University) => uni.domain == domain) || null;\r\n    }\r\n    return null;\r\n}\r\n","import {extractNamesFromEmail} from \"../../model/utils\";\r\nimport {\r\n    AuthState,\r\n    AuthAction,\r\n    LogInSuccessAction,\r\n    RegisterFailureAction,\r\n    LogInFailureAction,\r\n    RegisterBeginAction,\r\n    RegisterSuccessAction,\r\n    ValidateAccountSuccessAction,\r\n    SetOnboardingValuesAction,\r\n    AUTH_ACTION_TYPES,\r\n    SetOnboardingOfferValueAction,\r\n} from \"../types\";\r\n\r\nexport const initialState: AuthState = {\r\n    authenticated: false,\r\n    token: null,\r\n    connecting: false,\r\n    validated: false,\r\n    registerEmail: \"\",\r\n    registerFailure: false,\r\n    registerErrors: [],\r\n    validatedEmail: null,\r\n    loginErrors: [],\r\n    onboarded: false,\r\n    onboarding: {\r\n        firstname: \"\",\r\n        lastname: \"\",\r\n        birthdate: null,\r\n        gender: null,\r\n        nationality: null,\r\n        role: null,\r\n        degree: null,\r\n        staffRole: null,\r\n        languages: [],\r\n        offerValues: {},\r\n        interestIds: [],\r\n        educationFields: [],\r\n    },\r\n};\r\n\r\nexport const authReducer = (state: AuthState = initialState, action: AuthAction): AuthState => {\r\n    switch (action.type) {\r\n        case AUTH_ACTION_TYPES.REGISTER_BEGIN: {\r\n            const {email} = <RegisterBeginAction>action;\r\n            return {\r\n                ...state,\r\n                registerFailure: false,\r\n                registerErrors: [],\r\n                registerEmail: email,\r\n            };\r\n        }\r\n        case AUTH_ACTION_TYPES.REGISTER_FAILURE: {\r\n            const {errors} = <RegisterFailureAction>action;\r\n            return {...state, registerFailure: true, registerErrors: errors};\r\n        }\r\n        case AUTH_ACTION_TYPES.REGISTER_SUCCESS: {\r\n            const {\r\n                user: {verificationToken, onboarded},\r\n            } = <RegisterSuccessAction>action;\r\n            return {\r\n                ...state,\r\n                registerFailure: false,\r\n                registerErrors: [],\r\n                verificationToken,\r\n                onboarded,\r\n            };\r\n        }\r\n        case AUTH_ACTION_TYPES.VALIDATE_ACCOUNT_SUCCESS: {\r\n            const {email} = <ValidateAccountSuccessAction>action;\r\n            return {...state, validated: true, validatedEmail: email};\r\n        }\r\n        case AUTH_ACTION_TYPES.VALIDATE_ACCOUNT_FAILURE: {\r\n            return {...state, validated: false};\r\n        }\r\n        case AUTH_ACTION_TYPES.LOG_IN_BEGIN: {\r\n            return {...state, connecting: true, loginErrors: []};\r\n        }\r\n        case AUTH_ACTION_TYPES.LOG_IN_FAILURE: {\r\n            const {errors} = <LogInFailureAction>action;\r\n            return {...state, connecting: false, loginErrors: errors};\r\n        }\r\n        case AUTH_ACTION_TYPES.LOG_IN_SUCCESS: {\r\n            const {\r\n                token,\r\n                user: {onboarded, email},\r\n            } = <LogInSuccessAction>action;\r\n\r\n            // Pre-fill some of the on-boarding values\r\n            const onboarding = {...state.onboarding};\r\n            if (!onboarded) {\r\n                const names = extractNamesFromEmail(email);\r\n                if (names) {\r\n                    onboarding.firstname = names.firstname;\r\n                    onboarding.lastname = names.lastname;\r\n                }\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                connecting: false,\r\n                authenticated: true,\r\n                loginErrors: [],\r\n                token,\r\n                onboarded,\r\n                onboarding,\r\n            };\r\n        }\r\n        case AUTH_ACTION_TYPES.LOG_OUT: {\r\n            return {...state, token: null, authenticated: false};\r\n        }\r\n        case AUTH_ACTION_TYPES.SET_ONBOARDING_VALUES: {\r\n            const {values} = <SetOnboardingValuesAction>action;\r\n            return {...state, onboarding: {...state.onboarding, ...values}};\r\n        }\r\n        case AUTH_ACTION_TYPES.SET_ONBOARDING_OFFER_VALUE: {\r\n            const {id, value} = <SetOnboardingOfferValueAction>action;\r\n            return {\r\n                ...state,\r\n                onboarding: {\r\n                    ...state.onboarding,\r\n                    offerValues: {\r\n                        ...state.onboarding.offerValues,\r\n                        [id]: value,\r\n                    },\r\n                },\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","export type Degree = \"bsc1\" | \"bsc2\" | \"bsc3\" | \"m1\" | \"m2\" | \"phd\";\r\nexport const DEGREES: Degree[] = [\"bsc1\", \"bsc2\", \"bsc3\", \"m1\", \"m2\", \"phd\"];\r\n\r\nexport type LanguageLevel = \"a1\" | \"a2\" | \"b1\" | \"b2\" | \"c1\" | \"c2\" | \"native\";\r\nexport const LANGUAGE_LEVELS: LanguageLevel[] = [\"a1\", \"a2\", \"b1\", \"b2\", \"c1\", \"c2\", \"native\"];\r\n\r\nexport type Role = \"student\" | \"staff\";\r\nexport const ROLES: Role[] = [\"student\", \"staff\"];\r\n\r\nexport type StaffRole =\r\n    | \"teaching\"\r\n    | \"researcher\"\r\n    | \"supporting\"\r\n    | \"administrative\"\r\n    | \"technical\"\r\n    | \"ambassador\"\r\n    | \"other\";\r\nexport const STAFF_ROLES: StaffRole[] = [\r\n    \"teaching\",\r\n    \"researcher\",\r\n    \"supporting\",\r\n    \"administrative\",\r\n    \"technical\",\r\n    \"ambassador\",\r\n    \"other\",\r\n];\r\n\r\nexport type Gender = \"male\" | \"female\" | \"other\";\r\nexport const GENDERS: Gender[] = [\"male\", \"female\", \"other\"];\r\n\r\nexport const MIN_AGE = 18;\r\n","import * as Yup from \"yup\";\r\nimport {DEGREES} from \"../constants/profile-constants\";\r\nimport {PARTNER_UNIVERSITIES, University} from \"../constants/universities\";\r\n\r\nexport const MIN_PASSWORD_LENGTH = 8;\r\n\r\nconst VALID_EMAIL_DOMAINS = PARTNER_UNIVERSITIES.map((uni: University) => uni.domain);\r\n\r\nexport const VALIDATOR_EMAIL_SIGNUP = Yup.string()\r\n    .required(\"validation.required\")\r\n    .email(\"validation.email.invalid\")\r\n    .test(\"email-domain\", \"validation.email.invalidDomain\", (value: string | null | undefined) => {\r\n        return value !== null && value !== undefined && VALID_EMAIL_DOMAINS.some((domain) => value.endsWith(domain));\r\n    });\r\n\r\nexport const VALIDATOR_PASSWORD_SIGNUP = Yup.string()\r\n    .required(\"validation.required\")\r\n    .min(MIN_PASSWORD_LENGTH, \"validation.password.tooShort\")\r\n    // At least one digit\r\n    .matches(/(?=.*\\d)/, \"validation.password.noDigit\")\r\n    // At least one lower-case character\r\n    .matches(/(?=.*[a-z])/, \"validation.password.noLowerCase\")\r\n    // At least one upper-case character\r\n    .matches(/(?=.*[A-Z])/, \"validation.password.noUpperCase\")\r\n    // At least one symbol\r\n    .matches(/(?=.*[#@$!%*?&])/, \"validation.password.noSymbol\");\r\n\r\nexport const VALIDATOR_PASSWORD_REPEAT = Yup.string()\r\n    .required(\"validation.required\")\r\n    .oneOf([Yup.ref(\"password\")], \"validation.password.repeatWrong\");\r\n\r\nexport const VALIDATOR_EMAIL_LOGIN = Yup.string().required(\"validation.required\").email(\"validation.email.invalid\");\r\nexport const VALIDATOR_PASSWORD_LOGIN = Yup.string().required(\"validation.required\");\r\n\r\nexport const VALIDATOR_FIRSTNAME = Yup.string().trim().required(\"validation.required\");\r\n\r\nexport const VALIDATOR_LASTNAME = Yup.string().trim().required(\"validation.required\");\r\n\r\nexport const VALIDATOR_ONBOARDING_BIRTHDATE = Yup.date().nullable().required(\"validation.required\"); // make it nullable so we can use null to represent a non given value (will fail the 'required' test anyway)\r\nexport const VALIDATOR_ONBOARDING_GENDER = Yup.string().nullable().required(\"validation.required\");\r\nexport const VALIDATOR_ONBOARDING_NATIONALITY = Yup.string().nullable().required(\"validation.required\");\r\nexport const VALIDATOR_ONBOARDING_DEGREE = Yup.string().oneOf(DEGREES, \"validation.required\");\r\nexport const VALIDATOR_ONBOARDING_LANGUAGES = Yup.array().required(\"validation.addAtLeastOne\");\r\nexport const VALIDATOR_ONBOARDING_INTERESTS = Yup.array().required(\"validation.addAtLeastOne\");\r\n","import {MIN_PASSWORD_LENGTH} from \"../validators\";\r\n\r\nexport default {\r\n    en: {\r\n        welcome: \"Welcome\",\r\n        // Component-related\r\n        picker: {\r\n            callToAction: \"Select (%d selected)\",\r\n        },\r\n\r\n        login: \"Log in\",\r\n        tabsignin: \"Log in\",\r\n        tabsignup: \"Sign up\",\r\n        emailAddress: \"Email address\",\r\n        password: \"Password\",\r\n        passwordRepeat: \"Repeat password\",\r\n        send: \"Send\",\r\n        forgotPassword: \"Forgot Password\",\r\n        newPassword: \"New Password\",\r\n        forgotPasswordExplanation:\r\n            \"Enter the email address associated with your account below. Instructions for choosing a new password will be sent shortly.\",\r\n        cancel: \"Cancel\",\r\n        signupWelcome: \"We can't wait for you to join our community!\\n\\nJust one more step.\",\r\n        firstname: \"First name\",\r\n        lastname: \"Last name\",\r\n        noResultsFound: \"No results found\",\r\n        tos: {\r\n            modal: {\r\n                disclaimer1:\r\n                    \"Please understand that you will not be able to use our services if you decide to decline the terms of service.\",\r\n                disclaimer2: \"Declining will abort the profile creation process.\",\r\n            },\r\n            decline: \"Decline\",\r\n            accept: \"Accept\",\r\n            readMore: [\"Read more about our terms of service \", \"here\", \".\"],\r\n        },\r\n        privacy: {\r\n            readMore: [\"Read more about our privacy policy \", \"here\", \".\"],\r\n        },\r\n        emailNotificationsLabel: \"Send me useful notifications by email.\",\r\n        emailValidation: {\r\n            validating: \"Validating\",\r\n            success: [\"Your account has been validated! You may now \", \"log in\"],\r\n        },\r\n        createAccount: \"Create account\",\r\n        validation: {\r\n            required: \"Required field.\",\r\n            atLeastOne: \"Please select at least one.\",\r\n            addAtLeastOne: \"Please add at least one.\",\r\n            email: {\r\n                invalid: \"Please provide a valid email address.\",\r\n                invalidDomain: \"Your email address must match one of our partner universities.\",\r\n            },\r\n            password: {\r\n                tooShort: `Your password must have at least ${MIN_PASSWORD_LENGTH} characters.`,\r\n                noDigit: \"Your password must contain at least one digit.\",\r\n                noUpperCase: \"Your password must contain at least one upper case character.\",\r\n                noLowerCase: \"Your password must contain at least one lower case character.\",\r\n                noSymbol: \"Your password must contain at least one symbol (#@$!%*?&).\",\r\n                repeatWrong: \"These passwords don't match.\",\r\n            },\r\n            languages: {\r\n                multiple: \"You cannot add two entries for the same language.\",\r\n            },\r\n        },\r\n        pageNotFound: \"404: Page not found.\",\r\n        pageDoesntExist: \"This page doesn't exist.\",\r\n        goHome: \"Go to home screen\",\r\n        tabs: {\r\n            home: \"Home\",\r\n            matching: \"Matching\",\r\n            messaging: \"Messaging\",\r\n            profile: \"Profile\",\r\n            notifications: \"Notifications\",\r\n        },\r\n        myProfile: \"My Profile\",\r\n        editProfile: \"Edit profile\",\r\n        educationFieldsPicker: {\r\n            placeholder: \"Select fields\",\r\n            searchPlaceholder: \"Search\",\r\n            multiple: \"%d selected\",\r\n        },\r\n        educationFieldCategories: {\r\n            \"generic-programmes-qualifications\": \"Generic programmes and qualifications\",\r\n            education: \"Education\",\r\n            \"arts-humanities\": \"Arts and humanities\",\r\n            \"social-sciences-journalism-information\": \"Social sciences, journalism and information\",\r\n            \"business-administration-law\": \"Business, administration and law\",\r\n            \"natural-sciences-mathematics-statistics\": \"Natural sciences, mathematics and statistics\",\r\n            \"information-communication-technologies\": \"Information and Communication Technologies (ICTs)\",\r\n            \"engineering-manufacturing-construction\": \"Engineering, manufacturing and construction\",\r\n            \"agriculture-forestry-fisheries-veterinary\": \"Agriculture, forestry, fisheries and veterinary\",\r\n            \"health-welfare\": \"Health and welfare\",\r\n            services: \"Services\",\r\n        },\r\n        educationFields: {\r\n            \"basic-programmes-qualifications\": \"Basic programmes and qualifications\",\r\n            \"literacy-numeracy\": \"Literacy and numeracy\",\r\n            \"personal-skills-development\": \"Personal skills and development\",\r\n            \"education-science\": \"Education science\",\r\n            \"training-for-pre-school-teachers\": \"Training for pre-school teachers\",\r\n            \"teacher-training-without-subject-specialisation\": \"Teacher training without subject specialisation\",\r\n            \"teacher-training-with-subject-specialisation\": \"Teacher training with subject specialisation\",\r\n            \"audio-visual-techniques-media-production\": \"Audio-visual techniques and media production\",\r\n            \"fashion-interior-industrial-design\": \"Fashion, interior and industrial design\",\r\n            \"fine-arts\": \"Fine arts\",\r\n            handicrafts: \"Handicrafts\",\r\n            \"music-performing-arts\": \"Music and performing arts\",\r\n            \"religion-theology\": \"Religion and theology\",\r\n            \"history-archaeology\": \"History and archaeology\",\r\n            \"philosophy-ethics\": \"Philosophy and ethics\",\r\n            \"language-acquisition\": \"Language acquisition\",\r\n            \"literature-linguistics\": \"Literature and linguistics\",\r\n            economics: \"Economics\",\r\n            \"political-sciences-civics\": \"Political sciences and civics\",\r\n            psychology: \"Psychology\",\r\n            \"sociology-cultural-studies\": \"Sociology and cultural studies\",\r\n            \"journalism-reporting\": \"Journalism and reporting\",\r\n            \"library-information-archival-studies\": \"Library, information and archival studies\",\r\n            \"accounting-taxation\": \"Accounting and taxation\",\r\n            \"finance-banking-insurance\": \"Finance, banking and insurance\",\r\n            \"management-administration\": \"Management and administration\",\r\n            \"marketing-advertising\": \"Marketing and advertising\",\r\n            \"secretarial-office-work\": \"Secretarial and office work\",\r\n            \"wholesale-retail-sales\": \"Wholesale and retail sales\",\r\n            \"work-skills\": \"Work skills\",\r\n            law: \"Law\",\r\n            biology: \"Biology\",\r\n            biochemistry: \"Biochemistry\",\r\n            \"environmental-sciences\": \"Environmental sciences\",\r\n            \"natural-environments-wildlife\": \"Natural environments and wildlife\",\r\n            chemistry: \"Chemistry\",\r\n            \"earth-sciences\": \"Earth sciences\",\r\n            physics: \"Physics\",\r\n            mathematics: \"Mathematics\",\r\n            statistics: \"Statistics\",\r\n            \"computer-use\": \"Computer use\",\r\n            \"database-network-design-administration\": \"Database and network design and administration\",\r\n            \"software-applications-development-analysis\": \"Software and applications development and analysis\",\r\n            \"chemical-engineering-processes\": \"Chemical engineering and processes\",\r\n            \"environmental-protection-technology\": \"Environmental protection technology\",\r\n            \"electricity-energy\": \"Electricity and energy\",\r\n            \"electronics-automation\": \"Electronics and automation\",\r\n            \"mechanics-metal-trades\": \"Mechanics and metal trades\",\r\n            \"motor-vehicles-ships-aircraft\": \"Motor vehicles, ships and aircraft\",\r\n            \"food-processing\": \"Food processing\",\r\n            materials: \"Materials (glass, paper, plastic and wood)\",\r\n            textiles: \"Textiles (clothes, footwear and leather)\",\r\n            \"mining-extraction\": \"Mining and extraction\",\r\n            \"architecture-town-planning\": \"Architecture and town planning\",\r\n            \"building-civil-engineering\": \"Building and civil engineering\",\r\n            \"crop-livestock-production\": \"Crop and livestock production\",\r\n            horticulture: \"Horticulture\",\r\n            forestry: \"Forestry\",\r\n            fisheries: \"Fisheries\",\r\n            veterinary: \"Veterinary\",\r\n            \"dental-studies\": \"Dental studies\",\r\n            medicine: \"Medicine\",\r\n            \"nursing-midwifery\": \"Nursing and midwifery\",\r\n            \"medical-diagnostic-treatment-technology\": \"Medical diagnostic and treatment technology\",\r\n            \"therapy-rehabilitation\": \"Therapy and rehabilitation\",\r\n            pharmacy: \"Pharmacy\",\r\n            \"traditional-complementary-medicine-therapy\": \"Traditional and complementary medicine and therapy\",\r\n            \"domestic-services\": \"Domestic services\",\r\n            \"hair-beauty-services\": \"Hair and beauty services\",\r\n            \"hotel-restaurants-catering\": \"Hotel, restaurants and catering\",\r\n            sports: \"Sports\",\r\n            \"travel-tourism-leisure\": \"Travel, tourism and leisure\",\r\n            \"community-sanitation\": \"Community sanitation\",\r\n            \"occupational-health-safety\": \"Occupational health and safety\",\r\n            \"military-defence\": \"Military and defence\",\r\n            \"protection-of-persons-property\": \"Protection of persons and property\",\r\n            \"transport-services\": \"Transport services\",\r\n        },\r\n        levelOfStudy: \"Level of study\",\r\n        degrees: {\r\n            bsc1: \"BSC1\",\r\n            bsc2: \"BSC2\",\r\n            bsc3: \"BSC3\",\r\n            m1: \"M1\",\r\n            m2: \"M2\",\r\n            phd: \"PhD\",\r\n        },\r\n        nationality: \"Nationality\",\r\n        university: \"University\",\r\n        search: \"Search\",\r\n        selectCountry: \"Select country\",\r\n        countryPickerLanguageCode: \"common\", // see TranslationLanguageCode from react-native-country-picker-modal\r\n        profileType: \"Type\",\r\n        profileTypes: \"Types\",\r\n        allRoles: {\r\n            student: \"Student\",\r\n            staff: \"Staff\",\r\n        },\r\n        staffRoles: {\r\n            teaching: \"Teaching\",\r\n            researcher: \"Researcher\",\r\n            supporting: \"Supporting\",\r\n            administrative: \"Administrative\",\r\n            technical: \"Technical\",\r\n            ambassador: \"SEA-EU Ambassador\",\r\n            other: \"Other\",\r\n        },\r\n        gender: \"Gender\",\r\n        genders: {\r\n            male: \"Male\",\r\n            female: \"Female\",\r\n            other: \"Other\",\r\n        },\r\n        dateOfBirth: \"Date of birth\",\r\n        months: {\r\n            0: \"January\",\r\n            1: \"February\",\r\n            2: \"March\",\r\n            3: \"April\",\r\n            4: \"May\",\r\n            5: \"June\",\r\n            6: \"July\",\r\n            7: \"August\",\r\n            8: \"September\",\r\n            9: \"October\",\r\n            10: \"November\",\r\n            11: \"December\",\r\n        },\r\n        fieldsOfEducation: \"Fields of education\",\r\n        apply: \"Apply\",\r\n        universities: {\r\n            \"univ-cadiz\": \"University of Cádiz\",\r\n            \"univ-brest\": \"University of Western Brittany\",\r\n            \"univ-gdansk\": \"University of Gdańsk\",\r\n            \"univ-malta\": \"University of Malta\",\r\n            \"univ-kiel\": \"University of Kiel\",\r\n            \"univ-split\": \"University of Split\",\r\n        },\r\n        universitiesPicker: {\r\n            placeholder: \"Select universities\",\r\n            searchPlaceholder: \"Search\",\r\n            multiple: \"%d selected\",\r\n        },\r\n        logOut: \"Log out\",\r\n        onboarding: {\r\n            name: {\r\n                title: \"Welcome\",\r\n                subtitle:\r\n                    \"Before we start, we need to know a little bit more about you to ensure the best possible recommendations.\",\r\n            },\r\n            personalInfo: {\r\n                title: \"Profile\",\r\n            },\r\n            language: {\r\n                title: \"Languages\",\r\n            },\r\n            interests: {\r\n                title: \"Interests\",\r\n            },\r\n            role: {\r\n                title: \"I am a...\",\r\n            },\r\n            roleSpecific1: {\r\n                student: {\r\n                    title: \"Student information\",\r\n                },\r\n                staff: {\r\n                    title: \"Staff position\",\r\n                },\r\n            },\r\n            offersMeet: {\r\n                title: \"Meet\",\r\n                subtitle: \"Meet up with new friends in real life.\",\r\n            },\r\n            offersDiscover: {\r\n                title: \"Discover\",\r\n                subtitle: \"Find out about other cultures.\",\r\n            },\r\n            offersCollaborate: {\r\n                title: \"Collaborate\",\r\n                subtitle: \"Find people to work on projects, academic or not.\",\r\n            },\r\n            tos: {\r\n                title: \"Terms of service\",\r\n                subtitle:\r\n                    \"I am aware that I am entering a space of intercultural exchange and I am committed to caring and respectful exchanges with other members. My name and surname will be visible by other users.\",\r\n            },\r\n            privacy: {\r\n                title: \"Privacy policy\",\r\n                subtitle:\r\n                    \"I am entering a university community. I agree to provide some personal data, that will not be shared with anyone but the SEA-EU Around community.\",\r\n            },\r\n            submit: \"Submit\",\r\n            getStarted: \"Get Started\",\r\n            profileCreated: \"Welcome! Your profile is now created.\",\r\n        },\r\n        spokenLanguages: \"Spoken languages\",\r\n        languagePicker: {\r\n            placeholderSingle: \"Language\",\r\n            placeholderMultiple: \"Select languages\",\r\n            searchPlaceholder: \"Search for languages\",\r\n            multiple: \"%d selected\",\r\n        },\r\n        languageLevelPicker: {\r\n            placeholder: \"Level\",\r\n        },\r\n        languageLevels: {\r\n            a1: \"A1\",\r\n            a2: \"A2\",\r\n            b1: \"B1\",\r\n            b2: \"B2\",\r\n            c1: \"C1\",\r\n            c2: \"C2\",\r\n            native: \"native\",\r\n        },\r\n        languageNames: {\r\n            aa: \"Afar\",\r\n            ab: \"Abkhazian\",\r\n            ae: \"Avestan\",\r\n            af: \"Afrikaans\",\r\n            ak: \"Akan\",\r\n            am: \"Amharic\",\r\n            an: \"Aragonese\",\r\n            ar: \"Arabic\",\r\n            as: \"Assamese\",\r\n            av: \"Avaric\",\r\n            ay: \"Aymara\",\r\n            az: \"Azerbaijani\",\r\n            ba: \"Bashkir\",\r\n            be: \"Belarusian\",\r\n            bg: \"Bulgarian\",\r\n            bh: \"Bihari languages\",\r\n            bi: \"Bislama\",\r\n            bm: \"Bambara\",\r\n            bn: \"Bengali\",\r\n            bo: \"Tibetan\",\r\n            br: \"Breton\",\r\n            bs: \"Bosnian\",\r\n            ca: \"Catalan / Valencian\",\r\n            ce: \"Chechen\",\r\n            ch: \"Chamorro\",\r\n            co: \"Corsican\",\r\n            cr: \"Cree\",\r\n            cs: \"Czech\",\r\n            cu: \"Old Bulgarian / Church Slavic / Slavonic\",\r\n            cv: \"Chuvash\",\r\n            cy: \"Welsh\",\r\n            da: \"Danish\",\r\n            de: \"German\",\r\n            dv: \"Divehi / Dhivehi / Maldivian\",\r\n            dz: \"Dzongkha\",\r\n            ee: \"Ewe\",\r\n            el: \"Greek\",\r\n            en: \"English\",\r\n            eo: \"Esperanto\",\r\n            es: \"Spanish\",\r\n            et: \"Estonian\",\r\n            eu: \"Basque\",\r\n            fa: \"Persian\",\r\n            ff: \"Fulah\",\r\n            fi: \"Finnish\",\r\n            fj: \"Fijian\",\r\n            fo: \"Faroese\",\r\n            fr: \"French\",\r\n            fy: \"Western Frisian\",\r\n            ga: \"Irish\",\r\n            gd: \"Scottish Gaelic\",\r\n            gl: \"Galician\",\r\n            gn: \"Guarani\",\r\n            gu: \"Gujarati\",\r\n            gv: \"Manx\",\r\n            ha: \"Hausa\",\r\n            he: \"Hebrew\",\r\n            hi: \"Hindi\",\r\n            ho: \"Hiri Motu\",\r\n            hr: \"Croatian\",\r\n            ht: \"Haitian Creole\",\r\n            hu: \"Hungarian\",\r\n            hy: \"Armenian\",\r\n            hz: \"Herero\",\r\n            ia: \"Interlingua\",\r\n            id: \"Indonesian\",\r\n            ie: \"Interlingue / Occidental\",\r\n            ig: \"Igbo\",\r\n            ii: \"Sichuan Yi / Nuosu\",\r\n            ik: \"Inupiaq\",\r\n            io: \"Ido\",\r\n            is: \"Icelandic\",\r\n            it: \"Italian\",\r\n            iu: \"Inuktitut\",\r\n            ja: \"Japanese\",\r\n            jv: \"Javanese\",\r\n            ka: \"Georgian\",\r\n            kg: \"Kongo\",\r\n            ki: \"Kikuyu / Gikuyu\",\r\n            kj: \"Kuanyama / Kwanyama\",\r\n            kk: \"Kazakh\",\r\n            kl: \"Kalaallisut / Greenlandic\",\r\n            km: \"Central Khmer\",\r\n            kn: \"Kannada\",\r\n            ko: \"Korean\",\r\n            kr: \"Kanuri\",\r\n            ks: \"Kashmiri\",\r\n            ku: \"Kurdish\",\r\n            kv: \"Komi\",\r\n            kw: \"Cornish\",\r\n            ky: \"Kirghiz / Kyrgyz\",\r\n            la: \"Latin\",\r\n            lb: \"Luxembourgish / Letzeburgesch\",\r\n            lg: \"Ganda\",\r\n            li: \"Limburgan / Limburger / Limburgish\",\r\n            ln: \"Lingala\",\r\n            lo: \"Lao\",\r\n            lt: \"Lithuanian\",\r\n            lu: \"Luba-Katanga\",\r\n            lv: \"Latvian\",\r\n            mg: \"Malagasy\",\r\n            mh: \"Marshallese\",\r\n            mi: \"Maori\",\r\n            mk: \"Macedonian\",\r\n            ml: \"Malayalam\",\r\n            mn: \"Mongolian\",\r\n            mr: \"Marathi\",\r\n            ms: \"Malay\",\r\n            mt: \"Maltese\",\r\n            my: \"Burmese\",\r\n            na: \"Nauru\",\r\n            nb: \"Norwegian Bokmål\",\r\n            nd: \"North Ndebele\",\r\n            ne: \"Nepali\",\r\n            ng: \"Ndonga\",\r\n            nl: \"Dutch / Flemish\",\r\n            nn: \"Norwegian Nynorsk\",\r\n            no: \"Norwegian\",\r\n            nr: \"South Ndebele\",\r\n            nv: \"Navajo / Navaho\",\r\n            ny: \"Chichewa / Chewa / Nyanja\",\r\n            oc: \"Occitan\",\r\n            oj: \"Ojibwa\",\r\n            om: \"Oromo\",\r\n            or: \"Oriya\",\r\n            os: \"Ossetian / Ossetic\",\r\n            pa: \"Punjabi / Panjabi\",\r\n            pi: \"Pali\",\r\n            pl: \"Polish\",\r\n            ps: \"Pashto / Pushto\",\r\n            pt: \"Portuguese\",\r\n            qu: \"Quechua\",\r\n            rc: \"Reunionese\",\r\n            rm: \"Romansh\",\r\n            rn: \"Rundi\",\r\n            ro: \"Romanian / Moldavian\",\r\n            ru: \"Russian\",\r\n            rw: \"Kinyarwanda\",\r\n            sa: \"Sanskrit\",\r\n            sc: \"Sardinian\",\r\n            sd: \"Sindhi\",\r\n            se: \"Northern Sami\",\r\n            sg: \"Sango\",\r\n            sh: \"Serbo-Croatian\",\r\n            si: \"Sinhala / Sinhalese\",\r\n            sk: \"Slovak\",\r\n            sl: \"Slovenian\",\r\n            sm: \"Samoan\",\r\n            sn: \"Shona\",\r\n            so: \"Somali\",\r\n            sq: \"Albanian\",\r\n            sr: \"Serbian\",\r\n            ss: \"Swati\",\r\n            st: \"Southern Sotho\",\r\n            su: \"Sundanese\",\r\n            sv: \"Swedish\",\r\n            sw: \"Swahili\",\r\n            ta: \"Tamil\",\r\n            te: \"Telugu\",\r\n            tg: \"Tajik\",\r\n            th: \"Thai\",\r\n            ti: \"Tigrinya\",\r\n            tk: \"Turkmen\",\r\n            tl: \"Tagalog\",\r\n            tn: \"Tswana\",\r\n            to: \"Tonga (Tonga Islands)\",\r\n            tr: \"Turkish\",\r\n            ts: \"Tsonga\",\r\n            tt: \"Tatar\",\r\n            tw: \"Twi\",\r\n            ty: \"Tahitian\",\r\n            ug: \"Uighur / Uyghur\",\r\n            uk: \"Ukrainian\",\r\n            ur: \"Urdu\",\r\n            uz: \"Uzbek\",\r\n            ve: \"Venda\",\r\n            vi: \"Vietnamese\",\r\n            vo: \"Volapük\",\r\n            wa: \"Walloon\",\r\n            wo: \"Wolof\",\r\n            xh: \"Xhosa\",\r\n            yi: \"Yiddish\",\r\n            yo: \"Yoruba\",\r\n            za: \"Zhuang / Chuang\",\r\n            zh: \"Chinese\",\r\n            zu: \"Zulu\",\r\n        },\r\n        interests: \"Interests\",\r\n        chooseInterests: \"Choose interests\",\r\n        interestsPicker: {\r\n            placeholder: \"Select interests\",\r\n            searchPlaceholder: \"Search\",\r\n            multiple: \"%d selected\",\r\n        },\r\n        interestNames: {\r\n            \"language-exchange\": \"Language exchange\",\r\n            \"second-hand-apparel\": \"Second hand apparel\",\r\n            \"board-games\": \"Board games\",\r\n            \"road-trips\": \"Road trips\",\r\n            tango: \"Tango\",\r\n            sneakers: \"Sneakers\",\r\n            sports: \"Sports\",\r\n            baking: \"Baking\",\r\n            tarot: \"Tarot\",\r\n            art: \"Art\",\r\n            tea: \"Tea\",\r\n            picnicking: \"Picnicking\",\r\n            motorcycles: \"Motorcycles\",\r\n            parties: \"Parties\",\r\n            shopping: \"Shopping\",\r\n            couchsurfing: \"Couch-surfing\",\r\n            netflix: \"Netflix\",\r\n            cooking: \"Cooking\",\r\n            vegan: \"Vegan\",\r\n            brunch: \"Brunch\",\r\n            \"motor-sports\": \"Motor sports\",\r\n            \"grab-a-drink\": \"Grab a drink\",\r\n            \"working-out\": \"Working out\",\r\n            \"start-ups\": \"Start ups\",\r\n            \"street-food\": \"Street food\",\r\n            \"craft-beer\": \"Craft beer\",\r\n            \"amateur-cook\": \"Amateur cook\",\r\n            \"happy-hour\": \"Happy hour\",\r\n            \"vintage-fashion\": \"Vintage fashion\",\r\n            \"walking-my-dog\": \"Walking my dog\",\r\n            \"second-hand-shopping\": \"Second hand shopping\",\r\n            politics: \"Politics\",\r\n            bbq: \"BBQ\",\r\n            surfing: \"Surfing\",\r\n            spirituality: \"Spirituality\",\r\n            gardening: \"Gardening\",\r\n            astrology: \"Astrology\",\r\n            climbing: \"Climbing\",\r\n            tennis: \"Tennis\",\r\n            writer: \"Writer\",\r\n            comedy: \"Comedy\",\r\n            wine: \"Wine\",\r\n            diy: \"Diy\",\r\n            coffee: \"Coffee\",\r\n            sailing: \"Sailing\",\r\n            music: \"Music\",\r\n            cycling: \"Cycling\",\r\n            activism: \"Activism\",\r\n            trivia: \"Trivia\",\r\n            travel: \"Travel\",\r\n            instagram: \"Instagram\",\r\n            museum: \"Museum\",\r\n            karaoke: \"Karaoke\",\r\n            fashion: \"Fashion\",\r\n            disney: \"Disney\",\r\n            blogging: \"Blogging\",\r\n            yoga: \"Yoga\",\r\n            investing: \"Investing\",\r\n            petanque: \"Petanque\",\r\n            theater: \"Theater\",\r\n            environmentalism: \"Environmentalism\",\r\n            crossfit: \"Crossfit\",\r\n            dancing: \"Dancing\",\r\n            hiking: \"Hiking\",\r\n            running: \"Running\",\r\n            golf: \"Golf\",\r\n            photography: \"Photography\",\r\n            vlogging: \"Vlogging\",\r\n            volunteering: \"Volunteering\",\r\n            tattoos: \"Tattoos\",\r\n            outdoors: \"Outdoors\",\r\n            esports: \"Esports\",\r\n            snowboarding: \"Snowboarding\",\r\n            athlete: \"Athlete\",\r\n            extrovert: \"Extrovert\",\r\n            podcasts: \"Podcasts\",\r\n            walking: \"Walking\",\r\n            vegetarian: \"Vegetarian\",\r\n            reading: \"Reading\",\r\n            movies: \"Movies\",\r\n            foodie: \"Foodie\",\r\n            soccer: \"Soccer\",\r\n            skiing: \"Skiing\",\r\n            sushi: \"Sushi\",\r\n            introvert: \"Introvert\",\r\n            skateboarder: \"Skateboarder\",\r\n            festivals: \"Festivals\",\r\n            fishing: \"Fishing\",\r\n            swimming: \"Swimming\",\r\n            expositions: \"Expositions\",\r\n            gamer: \"Gamer\",\r\n            piano: \"Piano\",\r\n            \"foodie-tour\": \"Foodie Tour\",\r\n            \"dog-lover\": \"Dog Lover\",\r\n            \"cat-lover\": \"Cat Lover\",\r\n        },\r\n        offerCategories: {\r\n            meet: \"Meet\",\r\n            discover: \"Discover\",\r\n            collaborate: \"Collaborate\",\r\n        },\r\n        offers: \"Offers\",\r\n        allOffers: {\r\n            \"grab-a-drink\": {\r\n                name: \"Grab a drink\",\r\n                help: \"I am open to having a drink with the people I meet on this platform.\",\r\n            },\r\n            \"provide-a-couch\": {\r\n                name: \"Provide a couch\",\r\n                help: \"I am open to letting someone sleep on my couch.\",\r\n            },\r\n            \"do-a-campus-tour\": {\r\n                name: \"Do a campus tour\",\r\n                help: \"I am open to helping someone visit my campus.\",\r\n            },\r\n            \"help-on-a-project\": {\r\n                name: \"Help on a project\",\r\n                help: \"I am open to helping someone work on a project.\",\r\n            },\r\n            \"look-for-collaborators\": {\r\n                name: \"Look for collaborators\",\r\n                help: \"\",\r\n            },\r\n            \"answer-questions\": {\r\n                name: \"Answer questions\",\r\n                help: \"\",\r\n            },\r\n            \"talk-a-bit\": {\r\n                name: \"Talk a bit\",\r\n                help: \"\",\r\n            },\r\n            \"chat-to-practice\": {\r\n                name: \"Chat to practice\",\r\n                help: \"\",\r\n            },\r\n            \"language-tandem\": {\r\n                name: \"Language tandem\",\r\n                help: \"\",\r\n            },\r\n        },\r\n        block: {\r\n            warning:\r\n                \"Are you sure you want to block this user? You and {{firstname}} will not be able to find each other anymore.\",\r\n            action: \"Block\",\r\n        },\r\n        // Messaging tab\r\n        messaging: {\r\n            tabIndividual: \"Matches\",\r\n            tabGroup: \"Groups\",\r\n            noMatches: \"It appears that you haven't matched with anyone yet. :(\",\r\n        },\r\n        // Matching tab\r\n        matching: {\r\n            noResults: \"No results found\",\r\n            noResultsAdvice: \"Perhaps try removing some filters\",\r\n            filtering: {\r\n                sectionGeneral: \"General\",\r\n                buttonReset: \"Reset\",\r\n            },\r\n            actionLike: \"Like\",\r\n            actionHide: \"Hide\",\r\n            success: {\r\n                title: \"It's a match !\",\r\n                chat: \"Start chatting\",\r\n                continue: \"Keep scrolling\",\r\n            },\r\n        },\r\n        // Profile tab\r\n        profile: {\r\n            noOffersSelected: \"No offers selected.\",\r\n        },\r\n    },\r\n    fr: {\r\n        welcome: \"Bienvenue\",\r\n        login: \"Connexion\",\r\n        signup: \"Inscription\",\r\n        emailAddress: \"Adresse email\",\r\n        password: \"Mot de passe\",\r\n        forgotPassword: \"Mot de passe oublié\",\r\n        countryPickerLanguageCode: \"fra\", // see TranslationLanguageCode from react-native-country-picker-modal\r\n    },\r\n};\r\n","import * as Localization from \"expo-localization\";\r\nimport i18n from \"i18n-js\";\r\nimport translations from \"./constants/translations\";\r\n\r\nexport type SupportedLocale = \"en\" | \"fr\";\r\nexport const SUPPORTED_LOCALES: SupportedLocale[] = [\"en\", \"fr\"];\r\n\r\nexport function getDefaultLocale(): SupportedLocale {\r\n    return SUPPORTED_LOCALES.find((l: SupportedLocale) => l == Localization.locale) || \"en\";\r\n}\r\n\r\nexport default function configureLocalization(): void {\r\n    // Set the key-value pairs for the supported languages.\r\n    i18n.translations = translations;\r\n\r\n    // Set the locale on startup\r\n    i18n.locale = getDefaultLocale();\r\n\r\n    // When a value is missing from a language, fallback to another language with the key present.\r\n    i18n.fallbacks = true;\r\n}\r\n","// ISO 639-1 Language codes\r\nexport const LANGUAGES_CODES: string[] = [\r\n    \"de\",\r\n    \"en\",\r\n    \"hr\",\r\n    \"es\",\r\n    \"fr\",\r\n    \"mt\",\r\n    \"pl\",\r\n    \"aa\",\r\n    \"ab\",\r\n    \"ae\",\r\n    \"af\",\r\n    \"ak\",\r\n    \"am\",\r\n    \"an\",\r\n    \"ar\",\r\n    \"as\",\r\n    \"av\",\r\n    \"ay\",\r\n    \"az\",\r\n    \"ba\",\r\n    \"be\",\r\n    \"bg\",\r\n    \"bh\",\r\n    \"bi\",\r\n    \"bm\",\r\n    \"bn\",\r\n    \"bo\",\r\n    \"br\",\r\n    \"bs\",\r\n    \"ca\",\r\n    \"ce\",\r\n    \"ch\",\r\n    \"co\",\r\n    \"cr\",\r\n    \"cs\",\r\n    \"cu\",\r\n    \"cv\",\r\n    \"cy\",\r\n    \"da\",\r\n    \"dv\",\r\n    \"dz\",\r\n    \"ee\",\r\n    \"el\",\r\n    \"eo\",\r\n    \"et\",\r\n    \"eu\",\r\n    \"fa\",\r\n    \"ff\",\r\n    \"fi\",\r\n    \"fj\",\r\n    \"fo\",\r\n    \"fy\",\r\n    \"ga\",\r\n    \"gd\",\r\n    \"gl\",\r\n    \"gn\",\r\n    \"gu\",\r\n    \"gv\",\r\n    \"ha\",\r\n    \"he\",\r\n    \"hi\",\r\n    \"ho\",\r\n    \"ht\",\r\n    \"hu\",\r\n    \"hy\",\r\n    \"hz\",\r\n    \"ia\",\r\n    \"id\",\r\n    \"ie\",\r\n    \"ig\",\r\n    \"ii\",\r\n    \"ik\",\r\n    \"io\",\r\n    \"is\",\r\n    \"it\",\r\n    \"iu\",\r\n    \"ja\",\r\n    \"jv\",\r\n    \"ka\",\r\n    \"kg\",\r\n    \"ki\",\r\n    \"kj\",\r\n    \"kk\",\r\n    \"kl\",\r\n    \"km\",\r\n    \"kn\",\r\n    \"ko\",\r\n    \"kr\",\r\n    \"ks\",\r\n    \"ku\",\r\n    \"kv\",\r\n    \"kw\",\r\n    \"ky\",\r\n    \"la\",\r\n    \"lb\",\r\n    \"lg\",\r\n    \"li\",\r\n    \"ln\",\r\n    \"lo\",\r\n    \"lt\",\r\n    \"lu\",\r\n    \"lv\",\r\n    \"mg\",\r\n    \"mh\",\r\n    \"mi\",\r\n    \"mk\",\r\n    \"ml\",\r\n    \"mn\",\r\n    \"mr\",\r\n    \"ms\",\r\n    \"my\",\r\n    \"na\",\r\n    \"nb\",\r\n    \"nd\",\r\n    \"ne\",\r\n    \"ng\",\r\n    \"nl\",\r\n    \"nn\",\r\n    \"no\",\r\n    \"nr\",\r\n    \"nv\",\r\n    \"ny\",\r\n    \"oc\",\r\n    \"oj\",\r\n    \"om\",\r\n    \"or\",\r\n    \"os\",\r\n    \"pa\",\r\n    \"pi\",\r\n    \"ps\",\r\n    \"pt\",\r\n    \"qu\",\r\n    \"rc\",\r\n    \"rm\",\r\n    \"rn\",\r\n    \"ro\",\r\n    \"ru\",\r\n    \"rw\",\r\n    \"sa\",\r\n    \"sc\",\r\n    \"sd\",\r\n    \"se\",\r\n    \"sg\",\r\n    \"sh\",\r\n    \"si\",\r\n    \"sk\",\r\n    \"sl\",\r\n    \"sm\",\r\n    \"sn\",\r\n    \"so\",\r\n    \"sq\",\r\n    \"sr\",\r\n    \"ss\",\r\n    \"st\",\r\n    \"su\",\r\n    \"sv\",\r\n    \"sw\",\r\n    \"ta\",\r\n    \"te\",\r\n    \"tg\",\r\n    \"th\",\r\n    \"ti\",\r\n    \"tk\",\r\n    \"tl\",\r\n    \"tn\",\r\n    \"to\",\r\n    \"tr\",\r\n    \"ts\",\r\n    \"tt\",\r\n    \"tw\",\r\n    \"ty\",\r\n    \"ug\",\r\n    \"uk\",\r\n    \"ur\",\r\n    \"uz\",\r\n    \"ve\",\r\n    \"vi\",\r\n    \"vo\",\r\n    \"wa\",\r\n    \"wo\",\r\n    \"xh\",\r\n    \"yi\",\r\n    \"yo\",\r\n    \"za\",\r\n    \"zh\",\r\n    \"zu\",\r\n];\r\n\r\n/* Mining translations from https://www.loc.gov/standards/iso639-2/php/code_list.php */\r\n/*\r\nlet entries = {};\r\nlet items = $(\"body > table > tbody > tr > td > table:nth-child(6) tbody\").children;\r\nfor(const tr of items) {\r\n    const code = tr.children[1].innerText.trim();\r\n    if(code.length == 2) {\r\n        const english = tr.children[2].innerText.trim();\r\n        const french = tr.children[3].innerText.trim();\r\n        const german = tr.children[4].innerText.trim();\r\n        entries[code] = english;\r\n    }\r\n}\r\nconsole.log(entries);\r\n*/\r\n\r\n/* Mining translations from https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes */\r\n/*\r\nlet entries = {};\r\n$(\"#Table > tbody\").children().each((i,tr) => {\r\n    const code = tr.children[4].innerText.trim();\r\n    if(code.length == 2) {\r\n        const english = tr.children[2].innerText.trim();\r\n        entries[code] = english;\r\n    }\r\n});\r\nconsole.log(entries);\r\n*/\r\n","import {getDefaultLocale, SupportedLocale} from \"../../localization\";\r\nimport {LANGUAGES_CODES} from \"../../model/languages\";\r\nimport {SettingsState, SettingsAction, SetThemeAction, SetLocaleAction, SETTINGS_ACTION_TYPES} from \"../types\";\r\nimport translations from \"../../constants/translations\";\r\n\r\nfunction getLocalizedLanguageItems(locale: SupportedLocale) {\r\n    const trans = (translations as {[key: string]: {[key: string]: unknown}})[locale];\r\n    const languageNames = trans.languageNames as {[key: string]: string};\r\n    return LANGUAGES_CODES.map((code: string) => ({\r\n        label: languageNames[code] || `Missing translation (${code})`, //i18n.t(`languageNameM${code}`${code})s, // Cannot rely on i18n as it is not initialized yet\r\n        value: code,\r\n    }));\r\n}\r\n\r\nexport const initialState: SettingsState = {\r\n    theme: \"light\",\r\n    locale: getDefaultLocale(),\r\n    localizedLanguageItems: getLocalizedLanguageItems(getDefaultLocale()),\r\n};\r\n\r\nexport const settingsReducer = (state: SettingsState = initialState, action: SettingsAction): SettingsState => {\r\n    switch (action.type) {\r\n        case SETTINGS_ACTION_TYPES.SET_THEME: {\r\n            const {theme} = <SetThemeAction>action;\r\n            return {...state, theme};\r\n        }\r\n        case SETTINGS_ACTION_TYPES.TOGGLE_THEME: {\r\n            return {...state, theme: state.theme == \"light\" ? \"dark\" : \"light\"};\r\n        }\r\n        case SETTINGS_ACTION_TYPES.SET_LOCALE: {\r\n            const {locale} = <SetLocaleAction>action;\r\n            return {...state, locale, localizedLanguageItems: getLocalizedLanguageItems(locale)};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {\r\n    CreateProfileDto,\r\n    CreateProfileDtoCommon,\r\n    EducationFieldDto,\r\n    OfferValueDto,\r\n    ResponseProfileDto,\r\n    ResponseUserDto,\r\n} from \"./dto\";\r\nimport {UserProfile} from \"../model/user-profile\";\r\nimport {User} from \"../model/user\";\r\n\r\nexport function stripSuperfluousOffers(offers: OfferValueDto[]): OfferValueDto[] {\r\n    return offers\r\n        ? offers.filter((o) => o.allowFemale || o.allowMale || o.allowOther || o.allowStaff || o.allowStudent)\r\n        : [];\r\n}\r\n\r\nexport function convertDtoToProfile(dto: ResponseProfileDto): UserProfile {\r\n    return {\r\n        ...dto,\r\n        avatarUrl: dto.avatar,\r\n        birthdate: new Date(dto.birthdate),\r\n        educationFields: (dto.educationFields || []).map((dto: EducationFieldDto) => dto.id),\r\n        profileOffers: dto.profileOffers || [],\r\n        interests: dto.interests || [],\r\n        languages: dto.languages || [],\r\n    };\r\n}\r\n\r\nexport function convertProfileToCreateDto(profile: UserProfile): CreateProfileDto {\r\n    /* eslint-disable @typescript-eslint/no-non-null-assertion */\r\n    const common: CreateProfileDtoCommon = {\r\n        ...profile,\r\n        birthdate: profile.birthdate.toJSON(),\r\n        educationFields: profile.educationFields.map((id: string) => ({id})),\r\n        profileOffers: stripSuperfluousOffers(profile.profileOffers),\r\n    };\r\n\r\n    return {...common, ...(profile.type == \"staff\" ? {staffRole: profile.staffRole!} : {degree: profile.degree!})};\r\n}\r\n\r\nexport function convertPartialProfileToCreateDto(profile: Partial<UserProfile>): Partial<CreateProfileDto> {\r\n    return {\r\n        ...profile,\r\n        birthdate: profile.birthdate?.toJSON(),\r\n        educationFields: profile.educationFields?.map((id: string) => ({id})),\r\n        profileOffers: profile.profileOffers ? stripSuperfluousOffers(profile.profileOffers) : undefined,\r\n    };\r\n}\r\n\r\nexport function convertDtoToUser(dto: ResponseUserDto): User {\r\n    return {\r\n        ...dto,\r\n        profile: convertDtoToProfile(dto.profile),\r\n    };\r\n}\r\n","import {stripSuperfluousOffers} from \"../../api/converters\";\r\nimport {OfferDto} from \"../../api/dto\";\r\nimport {\r\n    ProfileState,\r\n    ProfileAction,\r\n    PROFILE_ACTION_TYPES,\r\n    LoadProfileOffersSuccessAction,\r\n    LoadProfileInterestsSuccessAction,\r\n    SetProfileFieldsSuccessAction,\r\n    FetchUserSuccessAction,\r\n    SetAvatarSuccessAction,\r\n} from \"../types\";\r\n\r\nexport const initialState: ProfileState = {\r\n    user: null,\r\n    offers: [],\r\n    offerIdToCategory: new Map(),\r\n    interests: [],\r\n};\r\n\r\nexport const profileReducer = (state: ProfileState = initialState, action: ProfileAction): ProfileState => {\r\n    switch (action.type) {\r\n        case PROFILE_ACTION_TYPES.PROFILE_SET_FIELDS_SUCCESS: {\r\n            if (state.user) {\r\n                const {fields} = <SetProfileFieldsSuccessAction>action;\r\n                if (fields.profileOffers) fields.profileOffers = stripSuperfluousOffers(fields.profileOffers);\r\n                return {...state, user: {...state.user, profile: {...state.user.profile, ...fields}}};\r\n            } else return {...state};\r\n        }\r\n        case PROFILE_ACTION_TYPES.LOAD_PROFILE_OFFERS_SUCCESS: {\r\n            const {offers} = <LoadProfileOffersSuccessAction>action;\r\n            const offerIdToCategory = new Map(offers.map((o: OfferDto) => [o.id, o.category]));\r\n            return {...state, offers, offerIdToCategory};\r\n        }\r\n        case PROFILE_ACTION_TYPES.LOAD_PROFILE_INTERESTS_SUCCESS: {\r\n            const {interests} = <LoadProfileInterestsSuccessAction>action;\r\n            // Sort alphabetically\r\n            interests.sort((a, b) => (a.id > b.id ? 1 : -1));\r\n            return {...state, interests};\r\n        }\r\n        case PROFILE_ACTION_TYPES.FETCH_USER_SUCCESS: {\r\n            const {user} = <FetchUserSuccessAction>action;\r\n            return {...state, user};\r\n        }\r\n        case PROFILE_ACTION_TYPES.SET_AVATAR_SUCCESS: {\r\n            const {avatarUrl} = <SetAvatarSuccessAction>action;\r\n            if (state.user === null) return {...state};\r\n            else return {...state, user: {...state.user, profile: {...state.user.profile, avatarUrl}}};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {UserProfile} from \"../../model/user-profile\";\r\nimport {\r\n    MatchingState,\r\n    MatchingAction,\r\n    MATCHING_ACTION_TYPES,\r\n    SetOfferFilterAction,\r\n    SetMatchingFiltersAction,\r\n    FetchProfilesSuccessAction,\r\n    DislikeProfileSuccessAction,\r\n    BlockProfileSuccessAction,\r\n    LikeProfileSuccessAction,\r\n    MatchingFiltersState,\r\n    FetchMyMatchesSuccessAction,\r\n} from \"../types\";\r\n\r\nexport const defaultMatchingFilters = (): MatchingFiltersState => ({\r\n    offers: {},\r\n    universities: [],\r\n    degrees: [],\r\n    languages: [],\r\n    roles: [],\r\n});\r\n\r\nexport const initialState: MatchingState = {\r\n    filters: defaultMatchingFilters(),\r\n    fetchedProfiles: [],\r\n    fetchingProfiles: false,\r\n    fetchingPage: 1,\r\n    canFetchMore: true,\r\n    myMatches: [],\r\n    fetchingMyMatches: false,\r\n};\r\n\r\nexport const matchingReducer = (state: MatchingState = initialState, action: MatchingAction): MatchingState => {\r\n    switch (action.type) {\r\n        case MATCHING_ACTION_TYPES.SET_OFFER_FILTER: {\r\n            const {offerId, value} = <SetOfferFilterAction>action;\r\n            return {\r\n                ...state,\r\n                filters: {\r\n                    ...state.filters,\r\n                    offers: {...state.filters.offers, [offerId]: value},\r\n                },\r\n            };\r\n        }\r\n        case MATCHING_ACTION_TYPES.SET_FILTERS: {\r\n            const {filters} = <SetMatchingFiltersAction>action;\r\n            return {\r\n                ...state,\r\n                filters: {...state.filters, ...filters},\r\n            };\r\n        }\r\n        case MATCHING_ACTION_TYPES.FETCH_PROFILES_BEGIN: {\r\n            return {...state, fetchingProfiles: true};\r\n        }\r\n        case MATCHING_ACTION_TYPES.FETCH_PROFILES_FAILURE: {\r\n            return {...state, fetchingProfiles: false, canFetchMore: false};\r\n        }\r\n        case MATCHING_ACTION_TYPES.FETCH_PROFILES_SUCCESS: {\r\n            const {profiles, canFetchMore} = <FetchProfilesSuccessAction>action;\r\n            return {\r\n                ...state,\r\n                fetchedProfiles: state.fetchedProfiles.concat(profiles),\r\n                fetchingProfiles: false,\r\n                fetchingPage: state.fetchingPage + 1,\r\n                canFetchMore,\r\n            };\r\n        }\r\n        case MATCHING_ACTION_TYPES.FETCH_PROFILES_REFRESH: {\r\n            return {\r\n                ...state,\r\n                fetchedProfiles: [],\r\n                fetchingProfiles: false,\r\n                fetchingPage: 1,\r\n                canFetchMore: true,\r\n            };\r\n        }\r\n        case MATCHING_ACTION_TYPES.FETCH_MY_MATCHES_BEGIN: {\r\n            return {...state, fetchingMyMatches: true};\r\n        }\r\n        case MATCHING_ACTION_TYPES.FETCH_MY_MATCHES_FAILURE: {\r\n            return {...state, fetchingMyMatches: false};\r\n        }\r\n        case MATCHING_ACTION_TYPES.FETCH_MY_MATCHES_SUCCESS: {\r\n            const {profiles} = <FetchMyMatchesSuccessAction>action;\r\n            return {\r\n                ...state,\r\n                myMatches: profiles,\r\n                fetchingMyMatches: false,\r\n            };\r\n        }\r\n        case MATCHING_ACTION_TYPES.LIKE_PROFILE_SUCCESS: {\r\n            const {profileId} = <LikeProfileSuccessAction>action;\r\n            return {\r\n                ...state,\r\n                fetchedProfiles: state.fetchedProfiles.filter((p: UserProfile) => p.id != profileId),\r\n            };\r\n        }\r\n        case MATCHING_ACTION_TYPES.DISLIKE_PROFILE_SUCCESS: {\r\n            const {profileId} = <DislikeProfileSuccessAction>action;\r\n            return {\r\n                ...state,\r\n                fetchedProfiles: state.fetchedProfiles.filter((p: UserProfile) => p.id != profileId),\r\n            };\r\n        }\r\n        case MATCHING_ACTION_TYPES.BLOCK_PROFILE_SUCCESS: {\r\n            const {profileId} = <BlockProfileSuccessAction>action;\r\n            return {\r\n                ...state,\r\n                fetchedProfiles: state.fetchedProfiles.filter((p: UserProfile) => p.id != profileId),\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import * as React from \"react\";\r\nimport {NavigationContainerRef} from \"@react-navigation/native\";\r\nimport {NavigatorRoute} from \"./types\";\r\nimport {Platform} from \"react-native\";\r\nimport {APP_SCHEME} from \"../constants/config\";\r\n\r\n// Store a ref to several navigators\r\nexport const rootNavigationRef = React.createRef<NavigationContainerRef>();\r\n\r\nexport function rootNavigate(route: NavigatorRoute): void {\r\n    rootNavigationRef.current?.navigate(route as string);\r\n}\r\n\r\nexport function attemptRedirectToApp(path: string, fallbackRoute: NavigatorRoute): void {\r\n    const fallback = () => rootNavigate(fallbackRoute);\r\n\r\n    if (Platform.OS == \"web\") {\r\n        const link = `${APP_SCHEME}://${path}`;\r\n        window.location.replace(link);\r\n\r\n        console.log(`window.location.replace(${link})`);\r\n        // TODO fallback after a timeout ?\r\n        setTimeout(fallback, 5000);\r\n    } else fallback();\r\n}\r\n","import {AnyAction, Middleware, Dispatch} from \"redux\";\r\nimport {attemptRedirectToApp, rootNavigate} from \"../navigation/utils\";\r\nimport {\r\n    AppState,\r\n    AUTH_ACTION_TYPES,\r\n    LikeProfileSuccessAction,\r\n    LogInSuccessAction,\r\n    MATCHING_ACTION_TYPES,\r\n    PROFILE_ACTION_TYPES,\r\n} from \"./types\";\r\n\r\nexport const navigationMiddleware: Middleware<unknown, AppState> = (/*store: MiddlewareAPI<Dispatch, AppState>*/) => (\r\n    next: Dispatch<AnyAction>,\r\n) => (action: AnyAction) => {\r\n    // TEMP action printing\r\n    console.log(action.type);\r\n\r\n    switch (action.type) {\r\n        case PROFILE_ACTION_TYPES.PROFILE_CREATE_SUCCESS: {\r\n            rootNavigate(\"OnboardingSuccessfulScreen\");\r\n            break;\r\n        }\r\n        case AUTH_ACTION_TYPES.LOG_IN_SUCCESS: {\r\n            const {user} = action as LogInSuccessAction;\r\n            rootNavigate(user.onboarded ? \"MainScreen\" : \"OnboardingScreen\");\r\n            break;\r\n        }\r\n        case AUTH_ACTION_TYPES.REGISTER_SUCCESS: {\r\n            rootNavigate(\"ValidationEmailSentScreen\");\r\n            break;\r\n        }\r\n        case AUTH_ACTION_TYPES.VALIDATE_ACCOUNT_SUCCESS: {\r\n            attemptRedirectToApp(\"login\", \"TabSignin\");\r\n            break;\r\n        }\r\n        case MATCHING_ACTION_TYPES.LIKE_PROFILE_SUCCESS: {\r\n            const {matchStatus} = action as LikeProfileSuccessAction;\r\n            if (matchStatus == \"matched\") rootNavigate(\"MatchSuccessScreen\");\r\n            break;\r\n        }\r\n    }\r\n\r\n    next(action);\r\n};\r\n","import {AnyAction, Middleware, Dispatch} from \"redux\";\r\nimport {TokenDto} from \"../api/dto\";\r\nimport {AppState, AUTH_ACTION_TYPES, LogInSuccessAction} from \"./types\";\r\nimport * as SecureStore from \"expo-secure-store\";\r\n\r\nexport type CredentialsStorageObject = {\r\n    email: string;\r\n    token: TokenDto;\r\n};\r\n\r\n/**\r\n * Override auth information in secure storage. Data will be stored if expo-secure-store is available on the device.\r\n * @param email - The user's email.\r\n * @param token - The user's authentication token.\r\n */\r\nfunction storeAuthInformation(email: string, token: TokenDto): void {\r\n    // Use expo-secure-store to securely store sensitive data\r\n    SecureStore.isAvailableAsync().then((available: boolean) => {\r\n        if (available) {\r\n            const toStore: CredentialsStorageObject = {email, token};\r\n            SecureStore.setItemAsync(\"auth\", JSON.stringify(toStore));\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Remove the user's auth information from the secure storage.\r\n */\r\nfunction discardAuthInformation(): void {\r\n    SecureStore.isAvailableAsync().then((available: boolean) => {\r\n        if (available) SecureStore.deleteItemAsync(\"auth\");\r\n    });\r\n}\r\n\r\n/**\r\n * Read auth information from secure storage, if available on the device.\r\n * @return an object containing the email and auth token, or false if SecureStore is unavailable or no data was stored.\r\n */\r\nexport async function readCachedCredentials(): Promise<false | CredentialsStorageObject> {\r\n    const available = await SecureStore.isAvailableAsync();\r\n    if (available) {\r\n        const raw = await SecureStore.getItemAsync(\"auth\");\r\n        return raw ? JSON.parse(raw) : false;\r\n    } else return false;\r\n}\r\n\r\nexport const authStorageMiddleware: Middleware<unknown, AppState> = () => (next: Dispatch<AnyAction>) => (\r\n    action: AnyAction,\r\n) => {\r\n    switch (action.type) {\r\n        case AUTH_ACTION_TYPES.LOG_IN_SUCCESS: {\r\n            const {token, user, usingCachedCredentials} = action as LogInSuccessAction;\r\n            // Store the authentication info only if we didn't use it already to login (in that case it is already stored)\r\n            if (!usingCachedCredentials) storeAuthInformation(user.email, token);\r\n            break;\r\n        }\r\n        case AUTH_ACTION_TYPES.LOG_OUT:\r\n        case AUTH_ACTION_TYPES.LOG_IN_FAILURE: {\r\n            discardAuthInformation();\r\n            break;\r\n        }\r\n    }\r\n\r\n    next(action);\r\n};\r\n","import {AnyAction, Middleware, Dispatch} from \"redux\";\r\nimport {\r\n    AppState,\r\n    LoadProfileInterestsSuccessAction,\r\n    LoadProfileOffersSuccessAction,\r\n    PROFILE_ACTION_TYPES,\r\n} from \"./types\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\ntype StaticDataObject<T> = {\r\n    updatedAt: string;\r\n    data: T;\r\n};\r\n\r\n/**\r\n * Store the given data (with the current date) to unsecure persistent storage (unsuitable for sensitive info).\r\n * @param key - The name under which to store the given object.\r\n * @param data - An object to store.\r\n */\r\nfunction storeStaticData<T>(key: string, data: T) {\r\n    console.log(`Updating cache entry for '${key}'.`);\r\n\r\n    // Store the data along with the date\r\n    const storageObject = {\r\n        updatedAt: new Date().toJSON(),\r\n        data,\r\n    };\r\n\r\n    AsyncStorage.setItem(key, JSON.stringify(storageObject));\r\n}\r\n\r\n/**\r\n * Read static data that was stored under a given key.\r\n * @param key - A key that identifies the resource we want to get (@see storeStaticData).\r\n * @return The object along with the date at which it was stored (in JSON format), or false if nothing was stored under this key.\r\n */\r\nexport async function readCachedStaticData<T>(key: string): Promise<false | StaticDataObject<T>> {\r\n    const raw = await AsyncStorage.getItem(key);\r\n    return raw ? JSON.parse(raw) : false;\r\n}\r\n\r\nexport const staticStorageMiddleware: Middleware<unknown, AppState> = () => (next: Dispatch<AnyAction>) => (\r\n    action: AnyAction,\r\n) => {\r\n    switch (action.type) {\r\n        case PROFILE_ACTION_TYPES.LOAD_PROFILE_INTERESTS_SUCCESS: {\r\n            const {interests} = action as LoadProfileInterestsSuccessAction;\r\n            storeStaticData(\"interests\", interests);\r\n            break;\r\n        }\r\n        case PROFILE_ACTION_TYPES.LOAD_PROFILE_OFFERS_SUCCESS: {\r\n            const {offers} = action as LoadProfileOffersSuccessAction;\r\n            storeStaticData(\"offers\", offers);\r\n            break;\r\n        }\r\n    }\r\n\r\n    next(action);\r\n};\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {authReducer} from \"./auth/reducer\";\r\nimport {settingsReducer} from \"./settings/reducer\";\r\nimport {profileReducer} from \"./profile/reducer\";\r\nimport {matchingReducer} from \"./matching/reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {navigationMiddleware} from \"./navigation-middleware\";\r\nimport {authStorageMiddleware} from \"./auth-storage-middleware\";\r\nimport {staticStorageMiddleware} from \"./static-storage-middleware\";\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    settings: settingsReducer,\r\n    profile: profileReducer,\r\n    matching: matchingReducer,\r\n});\r\n\r\nconst combinedMiddleware = applyMiddleware(thunk, authStorageMiddleware, staticStorageMiddleware, navigationMiddleware);\r\n\r\nexport default createStore(rootReducer, combinedMiddleware);\r\n","import {Alert} from \"react-native\";\r\nimport {BACKEND_URL} from \"../constants/config\";\r\nimport store from \"../state/store\";\r\nimport {TokenDto} from \"./dto\";\r\n\r\nexport type Primitive = string | number | boolean | Primitive[] | undefined;\r\nexport type URLParams = {[key: string]: Primitive};\r\nexport type URLBodyParams = {[key: string]: Primitive | Primitive[] | URLBodyParams | URLBodyParams[]};\r\nexport type RequestResponse = {success: boolean; codes: string[]} & {[key: string]: unknown};\r\n\r\nfunction encodeURIPrimitive(v: Primitive): string {\r\n    return Array.isArray(v)\r\n        ? v.map((v) => encodeURIPrimitive(v)).join(\",\")\r\n        : encodeURIComponent(v as string | number | boolean);\r\n}\r\n\r\n/**\r\n * Encode parameters for an HTTP request (e.g. param1=value1&param2=value2)\r\n * @param args - A map that contains argument keys and associated values.\r\n * @returns the given arguments, formatted into a HTTP request suffix.\r\n */\r\nexport function encodeRequestParams(args: URLParams): string {\r\n    const str = Object.keys(args)\r\n        .filter((key: string) => args[key] !== undefined)\r\n        .map((key: string) => `${key}=${encodeURIPrimitive(args[key])}`)\r\n        .join(\"&\");\r\n    return str.length == 0 ? str : \"?\" + str;\r\n}\r\n\r\n/**\r\n * Send a request to the backend.\r\n * @param endpoint - Which endpoint to hit (e.g. auth/login)\r\n * @param method - Which HTTP method to use (GET, PUT, POST, ...)\r\n * @param params - The URL parameters (?param1=value1&param2=value2 ...)\r\n * @param body - The body of the request.\r\n * @param auth - Whether or not this request should be authenticated.\r\n * @param verbose - Whether or not to print information about the request and response.\r\n * @param authToken - The authentication token. If not given, the token from the redux store will be used.\r\n */\r\nexport async function requestBackend(\r\n    endpoint: string,\r\n    method = \"GET\",\r\n    params: URLParams = {},\r\n    body: URLBodyParams = {},\r\n    auth = false,\r\n    verbose = false,\r\n    authToken: TokenDto | undefined = undefined,\r\n): Promise<RequestResponse> {\r\n    const headers: {[key: string]: string} = {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n    };\r\n\r\n    if (auth) {\r\n        const token = authToken || store.getState().auth.token;\r\n        if (token) headers.Authorization = `Bearer ${token.accessToken}`;\r\n        else {\r\n            console.error(`Cannot authentify request to ${endpoint} : no auth token available.`);\r\n            Alert.alert(\"A request could not be authenticated.\");\r\n            return {success: false, codes: [\"error.no-auth\"]};\r\n        }\r\n    }\r\n\r\n    const formattedParams = encodeRequestParams(params);\r\n\r\n    try {\r\n        if (verbose) {\r\n            console.log(`Sending request: ${method} /${endpoint}${formattedParams}`);\r\n            console.log(`  headers: ${JSON.stringify(headers)}`);\r\n            console.log(`  body   : ${JSON.stringify(body)}`);\r\n        }\r\n\r\n        const response = await fetch(`${BACKEND_URL}/${endpoint}${formattedParams}`, {\r\n            method,\r\n            headers,\r\n            ...(method == \"GET\" ? {} : {body: JSON.stringify(body)}),\r\n        });\r\n\r\n        const json = await response.json();\r\n        if (verbose) {\r\n            console.log(`Response from endpoint ${endpoint}:`);\r\n            console.log(json);\r\n        }\r\n\r\n        return json;\r\n    } catch (error) {\r\n        console.error(\r\n            `An unexpected error occured with a request to ${endpoint}. ` +\r\n                `Method = ${method}, auth = ${auth}, params=${JSON.stringify(params)}, body=${JSON.stringify(body)}`,\r\n        );\r\n        console.error(error);\r\n        return {success: false, codes: [\"error.unknown\"]};\r\n    }\r\n}\r\n","import {\r\n    AppThunk,\r\n    CreateProfileSuccessAction,\r\n    PROFILE_ACTION_TYPES,\r\n    LoadProfileOffersSuccessAction,\r\n    LoadProfileInterestsSuccessAction,\r\n    SetProfileFieldsSuccessAction,\r\n    FetchUserSuccessAction,\r\n    SetAvatarSuccessAction,\r\n    SetAvatarFailureAction,\r\n} from \"../types\";\r\nimport {\r\n    AvatarSuccessfulUpdatedDto,\r\n    CreateProfileDto,\r\n    InterestDto,\r\n    OfferDto,\r\n    ResponseUserDto,\r\n    SignedUrlResponseDto,\r\n} from \"../../api/dto\";\r\nimport {UserProfile} from \"../../model/user-profile\";\r\nimport {User} from \"../../model/user\";\r\nimport {requestBackend} from \"../../api/utils\";\r\nimport {convertDtoToUser, convertPartialProfileToCreateDto} from \"../../api/converters\";\r\nimport {ImageInfo} from \"expo-image-picker/build/ImagePicker.types\";\r\nimport {readCachedStaticData} from \"../static-storage-middleware\";\r\n\r\nexport const setProfileFieldsSuccess = (fields: Partial<UserProfile>): SetProfileFieldsSuccessAction => ({\r\n    type: PROFILE_ACTION_TYPES.PROFILE_SET_FIELDS_SUCCESS,\r\n    fields,\r\n});\r\n\r\nexport const setProfileFields = (fields: Partial<UserProfile>): AppThunk => async (dispatch) => {\r\n    const dto: Partial<CreateProfileDto> = convertPartialProfileToCreateDto(fields);\r\n    const response = await requestBackend(\"profiles\", \"PATCH\", {}, dto, true);\r\n    if (response.success) {\r\n        dispatch(setProfileFieldsSuccess(fields));\r\n    } else {\r\n        console.log(\"error in setProfileFields\");\r\n    }\r\n};\r\n\r\nexport const createProfileSuccess = (): CreateProfileSuccessAction => ({\r\n    type: PROFILE_ACTION_TYPES.PROFILE_CREATE_SUCCESS,\r\n});\r\n\r\nexport const createProfile = (profile: CreateProfileDto): AppThunk => async (dispatch) => {\r\n    const response = await requestBackend(\"profiles\", \"POST\", {}, profile, true);\r\n    if (response.success) dispatch(createProfileSuccess());\r\n};\r\n\r\nexport const loadProfileOffers = (): AppThunk => async (dispatch) => {\r\n    const fromCache = await readCachedStaticData<OfferDto[]>(\"offers\");\r\n\r\n    if (fromCache) {\r\n        // If we already have the data in cache, we send the request in case an update is needed, but we're not awaiting for it\r\n        requestBackend(\"offers\", \"GET\", {updatedAt: fromCache.updatedAt}).then((response) => {\r\n            const offers = response.data as OfferDto[];\r\n            if (response.success) dispatch(loadProfileOffersSuccess(offers.length == 0 ? fromCache.data : offers));\r\n        });\r\n    } else {\r\n        const response = await requestBackend(\"offers\", \"GET\");\r\n        if (response.success) dispatch(loadProfileOffersSuccess(response.data as OfferDto[]));\r\n    }\r\n};\r\n\r\nexport const loadProfileOffersSuccess = (offers: OfferDto[]): LoadProfileOffersSuccessAction => ({\r\n    type: PROFILE_ACTION_TYPES.LOAD_PROFILE_OFFERS_SUCCESS,\r\n    offers,\r\n});\r\n\r\nexport const loadProfileInterests = (): AppThunk => async (dispatch) => {\r\n    const fromCache = await readCachedStaticData<InterestDto[]>(\"interests\");\r\n\r\n    if (fromCache) {\r\n        // If we already have the data in cache, we send the request in case an update is needed, but we're not awaiting for it\r\n        requestBackend(\"interests\", \"GET\", {updatedAt: fromCache.updatedAt}).then((response) => {\r\n            const interests = response.data as InterestDto[];\r\n            if (response.success)\r\n                dispatch(loadProfileInterestsSuccess(interests.length == 0 ? fromCache.data : interests));\r\n        });\r\n    } else {\r\n        const response = await requestBackend(\"interests\", \"GET\");\r\n        if (response.success) dispatch(loadProfileInterestsSuccess(response.data as InterestDto[]));\r\n    }\r\n};\r\n\r\nexport const loadProfileInterestsSuccess = (interests: InterestDto[]): LoadProfileInterestsSuccessAction => ({\r\n    type: PROFILE_ACTION_TYPES.LOAD_PROFILE_INTERESTS_SUCCESS,\r\n    interests,\r\n});\r\n\r\nexport const fetchUser = (): AppThunk => async (dispatch) => {\r\n    const response = await requestBackend(\"auth/me\", \"GET\", {}, {}, true);\r\n    if (response.success) {\r\n        const dto = response.data as ResponseUserDto;\r\n        dispatch(fetchUserSuccess(convertDtoToUser(dto)));\r\n    }\r\n};\r\n\r\nexport const fetchUserSuccess = (user: User): FetchUserSuccessAction => ({\r\n    type: PROFILE_ACTION_TYPES.FETCH_USER_SUCCESS,\r\n    user,\r\n});\r\n\r\nexport const setAvatarSuccess = (avatarUrl: string): SetAvatarSuccessAction => ({\r\n    type: PROFILE_ACTION_TYPES.SET_AVATAR_SUCCESS,\r\n    avatarUrl,\r\n});\r\n\r\nexport const setAvatarFailure = (): SetAvatarFailureAction => ({\r\n    type: PROFILE_ACTION_TYPES.SET_AVATAR_FAILURE,\r\n});\r\n\r\nexport const setAvatar = (image: ImageInfo): AppThunk => async (dispatch) => {\r\n    const response = await requestBackend(\"common/signedUrl\", \"GET\", {mimeType: \"image/jpeg\"}, {}, true);\r\n\r\n    const fail = () => dispatch(setAvatarFailure());\r\n\r\n    if (response.success) {\r\n        const dto = response.data as SignedUrlResponseDto;\r\n        const fileName = dto.fileName;\r\n        const url = dto.s3Url;\r\n\r\n        try {\r\n            // Fetch the image from the device and convert it to a blob\r\n            const imageBlob = await (await fetch(image.uri)).blob();\r\n\r\n            // PUT the image in the aws bucket\r\n            await fetch(url, {\r\n                method: \"PUT\",\r\n                body: imageBlob,\r\n            });\r\n\r\n            // Submit the file name to the server\r\n            const response2 = await requestBackend(\"profiles/avatar\", \"POST\", {}, {fileName}, true);\r\n\r\n            if (response2.success) {\r\n                const {avatar} = response2.data as AvatarSuccessfulUpdatedDto;\r\n                dispatch(setAvatarSuccess(avatar));\r\n            } else fail();\r\n        } catch (error) {\r\n            console.error(error);\r\n            console.error(\"An unexpected error occured with a request to the avatar bucket.\");\r\n            fail();\r\n        }\r\n    } else fail();\r\n};\r\n","import {\r\n    LogOutAction,\r\n    LogInBeginAction,\r\n    LogInSuccessAction,\r\n    LogInFailureAction,\r\n    AppThunk,\r\n    RegisterBeginAction,\r\n    RegisterSuccessAction,\r\n    RegisterFailureAction,\r\n    ValidateAccountSuccessAction,\r\n    ValidateAccountFailureAction,\r\n    OnboardingState,\r\n    SetOnboardingValuesAction,\r\n    AUTH_ACTION_TYPES,\r\n    SetOnboardingOfferValueAction,\r\n} from \"../types\";\r\nimport {LoginDto, OfferValueDto, ResponseUserDto, TokenDto} from \"../../api/dto\";\r\nimport {User} from \"../../model/user\";\r\nimport {requestBackend} from \"../../api/utils\";\r\nimport store from \"../store\";\r\nimport {createProfile} from \"../profile/actions\";\r\nimport {readCachedCredentials} from \"../auth-storage-middleware\";\r\nimport {convertDtoToUser} from \"../../api/converters\";\r\n\r\n// Register actions\r\n\r\nexport const registerBegin = (email: string, password: string): RegisterBeginAction => ({\r\n    type: AUTH_ACTION_TYPES.REGISTER_BEGIN,\r\n    email,\r\n    password,\r\n});\r\n\r\n// Redux-thunk asynchronous action creator\r\nexport const requestRegister = (email: string, password: string): AppThunk => async (dispatch) => {\r\n    dispatch(registerBegin(email, password));\r\n    const locale = store.getState().settings.locale;\r\n\r\n    const response = await requestBackend(\"auth/register\", \"POST\", {}, {email, password, locale});\r\n\r\n    if (response.success) dispatch(registerSuccess(response.data as User));\r\n    else dispatch(registerFailure(response.codes));\r\n};\r\n\r\nexport const registerSuccess = (user: User): RegisterSuccessAction => ({\r\n    type: AUTH_ACTION_TYPES.REGISTER_SUCCESS,\r\n    user,\r\n});\r\n\r\nexport const registerFailure = (errors: string[]): RegisterFailureAction => ({\r\n    type: AUTH_ACTION_TYPES.REGISTER_FAILURE,\r\n    errors,\r\n});\r\n\r\n// Log in actions\r\n\r\nexport const loginBegin = (email: string, password: string): LogInBeginAction => ({\r\n    type: AUTH_ACTION_TYPES.LOG_IN_BEGIN,\r\n    email,\r\n    password,\r\n});\r\n\r\nexport const loginSuccess = (token: TokenDto, user: User, usingCachedCredentials: boolean): LogInSuccessAction => ({\r\n    type: AUTH_ACTION_TYPES.LOG_IN_SUCCESS,\r\n    token,\r\n    user,\r\n    usingCachedCredentials,\r\n});\r\n\r\nexport const loginFailure = (errors: string[]): LogInFailureAction => ({\r\n    type: AUTH_ACTION_TYPES.LOG_IN_FAILURE,\r\n    errors,\r\n});\r\n\r\nexport const attemptLoginFromCache = (): AppThunk => async (dispatch) => {\r\n    const credentials = await readCachedCredentials();\r\n\r\n    if (credentials) {\r\n        const {token} = credentials;\r\n\r\n        // Get user information\r\n        const response = await requestBackend(\"auth/me\", \"GET\", {}, {}, true, false, token);\r\n\r\n        if (response.success) {\r\n            const user: User = convertDtoToUser(response.data as ResponseUserDto);\r\n            dispatch(loginSuccess(token, user, true));\r\n        } else {\r\n            // e.g. token is invalid\r\n            dispatch(loginFailure([]));\r\n        }\r\n    }\r\n    // If no credentials are available in cache, the action does nothing.\r\n};\r\n\r\nexport const requestLogin = (email: string, password: string): AppThunk => async (dispatch) => {\r\n    dispatch(loginBegin(email, password));\r\n\r\n    const response = await requestBackend(\"auth/login\", \"POST\", {}, {email, password}, false);\r\n    if (response.success) {\r\n        const payload = response.data as LoginDto;\r\n        dispatch(loginSuccess(payload.token, payload.user, false));\r\n    } else dispatch(loginFailure(response.codes));\r\n};\r\n\r\nexport const logout = (): LogOutAction => ({\r\n    type: AUTH_ACTION_TYPES.LOG_OUT,\r\n});\r\n\r\n// Account validation actions\r\n\r\nexport const requestValidateAccount = (validationToken: string): AppThunk => async (dispatch) => {\r\n    const response = await requestBackend(\"auth/verify\", \"POST\", {}, {token: validationToken});\r\n\r\n    if (response.success) {\r\n        const {email} = response.data as {email: string};\r\n        dispatch(validateAccountSuccess(email));\r\n    } else {\r\n        dispatch(validateAccountFailure(response.codes));\r\n    }\r\n};\r\n\r\nexport const validateAccountSuccess = (email: string): ValidateAccountSuccessAction => ({\r\n    type: AUTH_ACTION_TYPES.VALIDATE_ACCOUNT_SUCCESS,\r\n    email,\r\n});\r\n\r\nexport const validateAccountFailure = (errors: string[]): ValidateAccountFailureAction => ({\r\n    type: AUTH_ACTION_TYPES.VALIDATE_ACCOUNT_FAILURE,\r\n    errors,\r\n});\r\n\r\n// Onboarding actions\r\n\r\nexport const setOnboardingValues = (values: Partial<OnboardingState>): SetOnboardingValuesAction => ({\r\n    type: AUTH_ACTION_TYPES.SET_ONBOARDING_VALUES,\r\n    values,\r\n});\r\n\r\nexport const setOnboardingOfferValue = (id: string, value: OfferValueDto): SetOnboardingOfferValueAction => ({\r\n    type: AUTH_ACTION_TYPES.SET_ONBOARDING_OFFER_VALUE,\r\n    id,\r\n    value,\r\n});\r\n\r\nexport const debugConnect = (): AppThunk => async (dispatch) => {\r\n    const email = `test${Math.round(Math.random() * 1e6)}.test@univ-brest.fr`;\r\n    const password = \"PASSword$1\";\r\n\r\n    await dispatch(requestRegister(email, password));\r\n    const {verificationToken} = store.getState().auth;\r\n\r\n    if (verificationToken) {\r\n        await dispatch(requestValidateAccount(verificationToken));\r\n        await dispatch(requestLogin(email, password));\r\n        await dispatch(\r\n            createProfile({\r\n                type: \"student\",\r\n                birthdate: \"2002-11-12T07:21:22.110Z\",\r\n                firstName: \"Kevin410891\",\r\n                lastName: \"Test\",\r\n                gender: \"male\",\r\n                languages: [\r\n                    {code: \"fr\", level: \"native\"},\r\n                    {code: \"en\", level: \"c1\"},\r\n                ],\r\n                nationality: \"FR\",\r\n                interests: [],\r\n                profileOffers: [\r\n                    {\r\n                        offerId: \"provide-a-couch\",\r\n                        allowMale: true,\r\n                        allowFemale: true,\r\n                        allowOther: true,\r\n                        allowStaff: false,\r\n                        allowStudent: true,\r\n                    },\r\n                    {\r\n                        offerId: \"grab-a-drink\",\r\n                        allowMale: true,\r\n                        allowFemale: true,\r\n                        allowOther: true,\r\n                        allowStaff: false,\r\n                        allowStudent: true,\r\n                    },\r\n                    {\r\n                        offerId: \"talk-a-bit\",\r\n                        allowMale: true,\r\n                        allowFemale: true,\r\n                        allowOther: true,\r\n                        allowStaff: true,\r\n                        allowStudent: true,\r\n                    },\r\n                ],\r\n                educationFields: [],\r\n                degree: \"m2\",\r\n            }),\r\n        );\r\n    }\r\n};\r\n","import {ThemeKey} from \"../types\";\r\n\r\nconst tintColorLight = \"#2f95dc\";\r\nconst tintColorDark = \"#fff\";\r\n\r\nconst lightThemeText = \"#000\";\r\nconst darkThemeText = \"#fff\";\r\n\r\nexport default {\r\n    light: {\r\n        id: \"light\" as ThemeKey,\r\n        text: lightThemeText,\r\n        textWhite: darkThemeText,\r\n        textBlack: lightThemeText,\r\n        textLight: \"#666\",\r\n        textInverted: \"#fff\",\r\n        background: \"#fafafa\",\r\n        cardBackground: \"#ffffff\", //\"#f7f7f7\",\r\n        accent: \"#003da5\", // Pantone 293c\r\n        accentSlight: \"#ccd8ea\",\r\n        accentSecondary: \"#009ace\", // Pantone 801c\r\n        accentTernary: \"#fbe122\", // Pantone 207c\r\n        tint: tintColorLight,\r\n        error: \"#ff4a6a\",\r\n        actionNeutral: \"#555555\",\r\n        okay: \"#00b16a\",\r\n        warn: \"#eecc00\",\r\n        tabIconDefault: \"#ccc\",\r\n        tabIconSelected: tintColorLight,\r\n        componentBorder: \"#eee\",\r\n    },\r\n    dark: {\r\n        id: \"dark\" as ThemeKey,\r\n        text: darkThemeText,\r\n        textWhite: darkThemeText,\r\n        textBlack: lightThemeText,\r\n        textLight: \"#ccc\",\r\n        textInverted: \"#111\",\r\n        background: \"#333\",\r\n        cardBackground: \"#3d3d3d\",\r\n        accent: \"#009ace\", // Pantone 801c\r\n        accentSlight: \"#ccd8ea\",\r\n        accentSecondary: \"#003da5\", // Pantone 293c\r\n        accentTernary: \"#fbe122\", // Pantone 207c\r\n        tint: tintColorDark,\r\n        error: \"#f9819d\",\r\n        actionNeutral: \"#777\",\r\n        okay: \"#00b16a\",\r\n        warn: \"#eecc00\",\r\n        tabIconDefault: \"#ccc\",\r\n        tabIconSelected: tintColorDark,\r\n        componentBorder: \"#555\",\r\n    },\r\n};\r\n","import {ImageStyle, TextStyle, ViewStyle} from \"react-native\";\r\nimport themes from \"../constants/themes\";\r\nimport {Theme} from \"../types\";\r\n\r\ntype NamedStyles<T> = {[P in keyof T]: ViewStyle | TextStyle | ImageStyle};\r\ntype ThemedStyles<T extends NamedStyles<T>> = (theme: Theme) => T;\r\n\r\n/** Tool to pre-generate stylesheet variations for each theme.  */\r\nexport function preTheme<T extends NamedStyles<T>>(generator: ThemedStyles<T>): ThemedStyles<T> {\r\n    // Pre-generate the styles in a key:value map\r\n    const styles: {[key: string]: T} = {};\r\n    Object.values(themes).forEach((theme: Theme) => (styles[theme.id] = generator(theme)));\r\n    // Wrap the map as a function\r\n    return (theme: Theme) => styles[theme.id];\r\n}\r\n","import {StackScreenProps} from \"@react-navigation/stack\";\r\nimport * as React from \"react\";\r\nimport {StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {RootNavigatorScreens} from \"../navigation/types\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\nexport type NotFoundScreenProps = StackScreenProps<RootNavigatorScreens, \"NotFoundScreen\"> & ThemeProps;\r\n\r\nclass NotFoundScreen extends React.Component<NotFoundScreenProps> {\r\n    render(): JSX.Element {\r\n        const {navigation, theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <Text style={styles.title}>{i18n.t(\"pageNotFound\")}</Text>\r\n                <Text style={styles.subtitle}>{i18n.t(\"pageDoesntExist\")}</Text>\r\n                <TouchableOpacity onPress={() => navigation.replace(\"LoginScreen\")} style={styles.link}>\r\n                    <Text style={styles.linkText}>{i18n.t(\"goHome\")}</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            padding: 20,\r\n            backgroundColor: theme.background,\r\n        },\r\n        title: {\r\n            fontSize: 64,\r\n            fontWeight: \"100\",\r\n        },\r\n        subtitle: {\r\n            fontSize: 20,\r\n            fontWeight: \"bold\",\r\n            marginTop: 50,\r\n        },\r\n        link: {\r\n            paddingVertical: 10,\r\n        },\r\n        linkText: {\r\n            fontSize: 14,\r\n            color: \"#2e78b7\",\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(NotFoundScreen);\r\n","import * as React from \"react\";\r\nimport {Text, View, StyleSheet, Platform, ActivityIndicator} from \"react-native\";\r\nimport {AppState, MyThunkDispatch} from \"../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {requestValidateAccount} from \"../state/auth/actions\";\r\nimport {attemptRedirectToApp} from \"../navigation/utils\";\r\nimport i18n from \"i18n-js\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport * as Linking from \"expo-linking\";\r\nimport {ParsedURL} from \"expo-linking\";\r\nimport {DEBUG_MODE, ENVIRONMENT} from \"../constants/config\";\r\nimport store from \"../state/store\";\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    validated: state.auth.validated,\r\n    registerEmail: state.auth.registerEmail,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\ntype ValidateEmailScreenProps = ConnectedProps<typeof reduxConnector> & ThemeProps;\r\n\r\nclass ValidateEmailScreen extends React.Component<ValidateEmailScreenProps> {\r\n    componentDidMount() {\r\n        if (Platform.OS == \"web\") {\r\n            console.log(\"On Web\");\r\n            // Get the URL\r\n            Linking.parseInitialURLAsync().then((parsed: ParsedURL) => {\r\n                console.log(\"Parsed URL : \" + JSON.stringify(parsed));\r\n                // Extract the validation token out of the URL\r\n                const verifToken = parsed.queryParams ? parsed.queryParams[\"t\"] : undefined;\r\n                if (verifToken) (this.props.dispatch as MyThunkDispatch)(requestValidateAccount(verifToken));\r\n            });\r\n        }\r\n\r\n        // In DEBUG_MODE / staging environment, attempt to use a verification token sent by the server\r\n        const verificationToken = store.getState().auth.verificationToken;\r\n        if (DEBUG_MODE && ENVIRONMENT == \"staging\" && verificationToken) {\r\n            (this.props.dispatch as MyThunkDispatch)(requestValidateAccount(verificationToken));\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, validated} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.wrapper}>\r\n                    {!validated && (\r\n                        <>\r\n                            <Text style={styles.title}>{i18n.t(\"emailValidation.validating\")}</Text>\r\n                            <ActivityIndicator size=\"large\" color={theme.accentSecondary} />\r\n                        </>\r\n                    )}\r\n                    {validated && (\r\n                        <>\r\n                            <Text style={styles.successText}>\r\n                                {i18n.t(\"emailValidation.success\")[0]}\r\n                                <Text\r\n                                    onPress={() => attemptRedirectToApp(\"login\", \"TabSignin\")}\r\n                                    style={{color: theme.accent}}\r\n                                >\r\n                                    {i18n.t(\"emailValidation.success\")[1]}\r\n                                </Text>\r\n                            </Text>\r\n                        </>\r\n                    )}\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        wrapper: {\r\n            width: \"70%\",\r\n        },\r\n        title: {\r\n            fontSize: 20,\r\n            marginVertical: 20,\r\n            textAlign: \"center\",\r\n            color: theme.text,\r\n        },\r\n        successText: {\r\n            fontSize: 18,\r\n            lineHeight: 40,\r\n            textAlign: \"center\",\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(ValidateEmailScreen));\r\n","import * as React from \"react\";\r\nimport {Text, View, StyleSheet, TouchableOpacity} from \"react-native\";\r\nimport {AppState} from \"../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {rootNavigate} from \"../navigation/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {FontAwesome} from \"@expo/vector-icons\";\r\nimport {DEBUG_MODE} from \"../constants/config\";\r\n\r\n// Map props from state\r\nconst mapStateToProps = (state: AppState) => ({\r\n    registerEmail: state.auth.registerEmail,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\ntype ValidationEmailSentScreenProps = ConnectedProps<typeof reduxConnector> & ThemeProps;\r\n\r\nclass ValidationEmailSentScreen extends React.Component<ValidationEmailSentScreenProps> {\r\n    render(): JSX.Element {\r\n        const {registerEmail, theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.wrapper}>\r\n                    <FontAwesome name=\"envelope-o\" style={styles.mailIcon}></FontAwesome>\r\n                    <Text style={styles.description}>\r\n                        To validate your account, click the link in the email we just sent to\r\n                    </Text>\r\n                    <Text style={styles.email}>{registerEmail}</Text>\r\n\r\n                    {DEBUG_MODE && (\r\n                        <TouchableOpacity onPress={() => rootNavigate(\"ValidateEmailScreen\")}>\r\n                            <Text style={{marginVertical: 30, textAlign: \"center\", fontSize: 16, color: \"blue\"}}>\r\n                                debug: click here\r\n                            </Text>\r\n                        </TouchableOpacity>\r\n                    )}\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        wrapper: {\r\n            width: \"70%\",\r\n            alignItems: \"center\",\r\n        },\r\n        description: {\r\n            fontSize: 16,\r\n            textAlign: \"center\",\r\n            color: theme.text,\r\n        },\r\n        mailIcon: {\r\n            marginVertical: 30,\r\n            fontSize: 50,\r\n            color: theme.text,\r\n        },\r\n        email: {\r\n            fontSize: 16,\r\n            fontWeight: \"bold\",\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(ValidationEmailSentScreen));\r\n","import {LinkingOptions} from \"@react-navigation/native\";\r\nimport * as Linking from \"expo-linking\";\r\n\r\nconst DIR = \"aas-app\";\r\n//const d = (p: string) => `${DIR}/${p}`;\r\nconst d = (p: string) => `${p}`;\r\n\r\nconst config: LinkingOptions = {\r\n    prefixes: [\r\n        //Linking.makeUrl(\"/\"),\r\n        //\"https://sea-eu-around.com\",\r\n        //\"https://sea-eu-around.lad-dev.team/aas-app\",\r\n        //\"https://ladislas14.github.io/\",\r\n        \"sea-eu-around://\",\r\n    ],\r\n    config: {\r\n        //initialRouteName: `${DIR}/`,\r\n        screens: {\r\n            LoginScreen: {\r\n                screens: {\r\n                    TabSignin: {\r\n                        screens: {\r\n                            LoginForm: d(\"login\"),\r\n                            ForgotPassword: d(\"forgot-password\"),\r\n                        },\r\n                    },\r\n                    TabSignup: d(\"signup\"),\r\n                },\r\n            },\r\n            ValidationEmailSentScreen: d(\"validation-sent\"),\r\n            MainScreen: {\r\n                screens: {\r\n                    TabHome: {\r\n                        screens: {\r\n                            TabHomeScreen: d(\"home\"),\r\n                        },\r\n                    },\r\n                    TabMatching: {\r\n                        screens: {\r\n                            TabMatchingScreen: d(\"match\"),\r\n                            MAtchFilteringScren: d(\"match/filters\"),\r\n                        },\r\n                    },\r\n                    TabMessaging: {\r\n                        screens: {\r\n                            ChatScreen: d(\"messaging/talk\"),\r\n                            MessagingScreen: d(\"messaging\"),\r\n                        },\r\n                    },\r\n                    TabProfile: {\r\n                        screens: {\r\n                            TabProfileScreen: d(\"profile\"),\r\n                        },\r\n                    },\r\n                    TabNotifications: {\r\n                        screens: {\r\n                            TabNotificationsScreen: d(\"notifications\"),\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n            ValidateEmailSentScreen: d(\"validate/success\"),\r\n            ValidateEmailScreen: d(\"validate\"),\r\n            ChangePassword: d(\"reset-password\"),\r\n            OnboardingScreen: {\r\n                screens: {\r\n                    OnboardingNameScreen: d(\"onboarding/name\"),\r\n                    OnboardingPersonalInfoScreen: d(\"onboarding/info\"),\r\n                    OnboardingLanguageScreen: d(\"onboarding/language\"),\r\n                    OnboardingInterestsScreen: d(\"onboarding/interests\"),\r\n                    OnboardingRoleScreen: d(\"onboarding/role/1\"),\r\n                    OnboardingRoleSpecificScreen1: d(\"onboarding/role/2\"),\r\n                    OnboardingRoleSpecificScreen2: d(\"onboarding/role/3\"),\r\n                    OnboardingOffersScreen1: d(\"onboarding/offers/1\"),\r\n                    OnboardingOffersScreen2: d(\"onboarding/offers/2\"),\r\n                    OnboardingOffersScreen3: d(\"onboarding/offers/3\"),\r\n                    OnboardingTosScreen: d(\"onboarding/tos\"),\r\n                    OnboardingPrivacyScreen: d(\"onboarding/privacy\"),\r\n                },\r\n            },\r\n            OnboardingSuccessfulScreen: d(\"onboarding/success\"),\r\n            MatchSuccessScreen: d(\"match/success\"),\r\n            NotFoundScreen: \"*\",\r\n        },\r\n    },\r\n};\r\n\r\nexport default config;\r\n","import React from \"react\";\r\nimport {MaterialTopTabBarProps} from \"@react-navigation/material-top-tabs\";\r\nimport {View, Text, StyleSheet} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport Animated from \"react-native-reanimated\";\r\nimport {TouchableOpacity} from \"react-native-gesture-handler\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\n\r\n// Component props\r\ntype LoginTabBarProps = ThemeProps & MaterialTopTabBarProps;\r\n\r\nclass TabBarComponent extends React.Component<LoginTabBarProps> {\r\n    onPress(route: {name: string; key: string}, index: number): void {\r\n        const {navigation} = this.props;\r\n        const isFocused = index == this.props.state.index;\r\n\r\n        const event = navigation.emit({\r\n            type: \"tabPress\",\r\n            target: route.key,\r\n            canPreventDefault: true,\r\n        });\r\n\r\n        if (!isFocused && !event.defaultPrevented) {\r\n            navigation.navigate(route.name);\r\n        }\r\n    }\r\n\r\n    onLongPress(route: {name: string; key: string}): void {\r\n        const {navigation} = this.props;\r\n        navigation.emit({\r\n            type: \"tabLongPress\",\r\n            target: route.key,\r\n        });\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {state, descriptors, position, theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        // <Image source={waveImage} resizeMode=\"contain\" style={styles.waveImageStyle} />\r\n        return (\r\n            <View style={styles.tabBarWrapper}>\r\n                {/*<Text style={styles.appTitle}>SEA-EU Around</Text>*/}\r\n                <View style={styles.tabBar}>\r\n                    {state.routes.map((route, index) => {\r\n                        const {options} = descriptors[route.key];\r\n                        const label = i18n.t(route.name.toLowerCase());\r\n                        const isFocused = state.index === index;\r\n\r\n                        const inputRange = state.routes.map((_, i) => i);\r\n                        const opacity = Animated.interpolate(position, {\r\n                            inputRange,\r\n                            outputRange: inputRange.map((i) => (i === index ? 0.15 : 0)),\r\n                        });\r\n\r\n                        return (\r\n                            <View key={index} style={styles.tabButton}>\r\n                                <Animated.View style={[styles.tabButtonBg, {opacity}]} />\r\n                                <TouchableOpacity\r\n                                    accessibilityRole=\"button\"\r\n                                    accessibilityLabel={options.tabBarAccessibilityLabel}\r\n                                    testID={options.tabBarTestID}\r\n                                    onPress={() => this.onPress(route, index)}\r\n                                    onLongPress={() => this.onLongPress(route)}\r\n                                >\r\n                                    <Text style={[styles.tabButtonText, isFocused ? styles.tabButtonTextFocused : {}]}>\r\n                                        {label}\r\n                                    </Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        );\r\n                    })}\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        tabBarWrapper: {\r\n            height: \"30%\",\r\n            backgroundColor: theme.accent,\r\n            alignItems: \"center\",\r\n            justifyContent: \"flex-end\",\r\n            shadowColor: \"#000\",\r\n            shadowOffset: {\r\n                width: 0,\r\n                height: 6,\r\n            },\r\n            shadowOpacity: 0.37,\r\n            shadowRadius: 7.49,\r\n            elevation: 12,\r\n        },\r\n        tabBar: {\r\n            width: \"100%\",\r\n            maxWidth: 400,\r\n            height: 40,\r\n            flexDirection: \"row\",\r\n        },\r\n        tabButton: {\r\n            flex: 1,\r\n        },\r\n        tabButtonBg: {\r\n            position: \"absolute\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: theme.accentSecondary,\r\n        },\r\n        tabButtonText: {\r\n            fontSize: 18,\r\n            lineHeight: 40,\r\n            letterSpacing: 1,\r\n            textTransform: \"capitalize\",\r\n            textAlign: \"center\",\r\n            color: \"white\",\r\n        },\r\n        tabButtonTextFocused: {\r\n            fontWeight: \"bold\",\r\n        },\r\n        waveImageStyle: {\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            padding: 0,\r\n            margin: 0,\r\n            maxWidth: \"100%\",\r\n            width: \"100%\",\r\n            height: 200,\r\n        },\r\n        /*appTitle: {\r\n            fontSize: 16,\r\n            color: theme.textInverted,\r\n            letterSpacing: 2,\r\n            marginBottom: 70,\r\n            ...styleTextThin,\r\n        },*/\r\n    });\r\n});\r\n\r\nexport default withTheme(TabBarComponent);\r\n","import * as React from \"react\";\r\nimport {Text, TextProps, StyleSheet} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\n\r\n// Component props\r\nexport type InputLabelProps = ThemeProps & TextProps;\r\n\r\nclass InputLabel extends React.Component<InputLabelProps> {\r\n    render(): JSX.Element {\r\n        const {theme, style, ...otherProps} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <Text {...otherProps} style={[styles.text, style]}>\r\n                {this.props.children}\r\n            </Text>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        text: {\r\n            color: theme.textLight,\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1,\r\n            fontSize: 12,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(InputLabel);\r\n","import * as React from \"react\";\r\nimport {Text, TextProps, StyleSheet} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\n\r\n// Component props\r\nexport type InputErrorTextProps = ThemeProps & TextProps & {error: string | string[] | null | undefined};\r\n\r\nclass InputErrorText extends React.Component<InputErrorTextProps> {\r\n    render(): JSX.Element {\r\n        const {theme, style, error, ...otherProps} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        const errorStr: string | null = error ? (typeof error === \"string\" ? error : error[0]) : null;\r\n\r\n        return (\r\n            <Text {...otherProps} style={[styles.text, style]}>\r\n                {errorStr ? i18n.t(errorStr) : \"\"}\r\n            </Text>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        text: {\r\n            fontSize: 12,\r\n            marginTop: 2,\r\n            marginBottom: -12, // prevents an offset from appearing when there is an error\r\n            color: theme.error,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(InputErrorText);\r\n","import React from \"react\";\r\nimport {TextStyle, StyleProp, View, TextInputProps} from \"react-native\";\r\nimport {TextInput} from \"react-native-gesture-handler\";\r\nimport InputLabel from \"./InputLabel\";\r\nimport InputErrorText from \"./InputErrorText\";\r\n\r\nexport type ValidatedTextInputProps = {\r\n    value: string;\r\n    showErrorText?: boolean;\r\n    error?: string;\r\n    untouched?: boolean;\r\n    label?: string;\r\n    style?: StyleProp<TextStyle>;\r\n    wrapperStyle?: StyleProp<TextStyle>;\r\n    errorStyle?: StyleProp<TextStyle>;\r\n    validStyle?: StyleProp<TextStyle>;\r\n    focusedStyle?: StyleProp<TextStyle>;\r\n    errorTextStyle?: StyleProp<TextStyle>;\r\n    labelStyle?: StyleProp<TextStyle>;\r\n} & Partial<TextInputProps>;\r\n\r\ntype ValidatedTextInputState = {\r\n    focused: boolean;\r\n};\r\n\r\n/**\r\n * An improved TextInput that supports better styling (including specific focused style) and displays validation errors.\r\n */\r\nexport class ValidatedTextInput extends React.Component<ValidatedTextInputProps, ValidatedTextInputState> {\r\n    static defaultProps = {\r\n        untouched: false,\r\n        style: [],\r\n        wrapperStyle: [],\r\n        errorStyle: [],\r\n        validStyle: [],\r\n        focusedStyle: [],\r\n        errorTextStyle: [],\r\n        labelStyle: [],\r\n    };\r\n\r\n    constructor(props: ValidatedTextInputProps) {\r\n        super(props);\r\n        this.state = {focused: false} as ValidatedTextInputState;\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {\r\n            showErrorText,\r\n            style,\r\n            wrapperStyle,\r\n            error,\r\n            value,\r\n            label,\r\n            untouched,\r\n            errorStyle,\r\n            validStyle,\r\n            focusedStyle,\r\n            errorTextStyle,\r\n            labelStyle,\r\n            onBlur,\r\n            onFocus,\r\n            ...otherProps\r\n        } = this.props;\r\n\r\n        return (\r\n            <View style={[wrapperStyle, {width: \"100%\", flexDirection: \"column\", position: \"relative\"}]}>\r\n                {label && <InputLabel style={labelStyle}>{label}</InputLabel>}\r\n                <TextInput\r\n                    style={[\r\n                        style,\r\n                        this.state.focused ? focusedStyle : {},\r\n                        untouched ? {} : error ? errorStyle : value.length > 0 ? validStyle : {},\r\n                    ]}\r\n                    onBlur={(e) => {\r\n                        if (onBlur) onBlur(e);\r\n                        this.setState({focused: false});\r\n                    }}\r\n                    onFocus={(e) => {\r\n                        if (onFocus) onFocus(e);\r\n                        this.setState({focused: true});\r\n                    }}\r\n                    value={value}\r\n                    {...otherProps}\r\n                />\r\n                {showErrorText && !untouched && error && <InputErrorText style={errorTextStyle} error={error} />}\r\n            </View>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {ValidatedTextInput, ValidatedTextInputProps} from \"./ValidatedTextInput\";\r\n\r\n// Component props\r\nexport type FormTextInputProps = {\r\n    field: string;\r\n    touched: boolean | undefined;\r\n    showErrorText?: boolean;\r\n    handleChange<T = string | React.ChangeEvent<unknown>>(\r\n        field: T,\r\n    ): T extends React.ChangeEvent<unknown> ? void : (e: string | React.ChangeEvent<unknown>) => void;\r\n    handleBlur<T = string | unknown>(fieldOrEvent: T): T extends string ? (e: unknown) => void : void;\r\n} & ValidatedTextInputProps;\r\n\r\n/**\r\n * An improved TextInput for less verbose Formik usage.\r\n */\r\nexport class FormTextInput extends React.Component<FormTextInputProps> {\r\n    static defaultProps = {\r\n        showErrorText: true,\r\n        /* eslint-disable @typescript-eslint/no-empty-function */\r\n        handleChange: (): void => {},\r\n        handleBlur: (): void => {},\r\n        /* eslint-ensable @typescript-eslint/no-empty-function */\r\n    };\r\n\r\n    render(): JSX.Element {\r\n        const {field, touched, handleChange, handleBlur, error, onBlur, onChangeText, ...otherProps} = this.props;\r\n        return (\r\n            <ValidatedTextInput\r\n                error={touched ? error : undefined}\r\n                untouched={!touched}\r\n                onChangeText={(value: string) => {\r\n                    if (onChangeText) onChangeText(value);\r\n                    handleChange(field)(value);\r\n                }}\r\n                onBlur={(e) => {\r\n                    if (onBlur) onBlur(e);\r\n                    handleBlur(this.props.field)(e);\r\n                }}\r\n                {...otherProps}\r\n            />\r\n        );\r\n    }\r\n}\r\n","import {StyleSheet, Platform, TextStyle} from \"react-native\";\r\nimport {Theme} from \"../types\";\r\nimport {FormTextInputProps} from \"../components/FormTextInput\";\r\nimport {FormCheckBoxProps} from \"../components/FormCheckBox\";\r\nimport {preTheme} from \"./utils\";\r\n\r\nexport const formStyle = StyleSheet.create({\r\n    inputErrorText: {\r\n        fontSize: 12,\r\n        marginTop: 2,\r\n        marginBottom: -12, // prevents an offset from appearing when there is an error\r\n    },\r\n    inputRow: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        width: \"100%\",\r\n    },\r\n    actionRow: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        width: \"100%\",\r\n        marginTop: 25,\r\n    },\r\n    buttonMajor: {\r\n        justifyContent: \"center\",\r\n        height: 60,\r\n        borderRadius: 5,\r\n\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2,\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3.84,\r\n        elevation: 5,\r\n    },\r\n    buttonMajorText: {\r\n        color: \"white\",\r\n        textAlign: \"center\",\r\n        fontSize: 16,\r\n        letterSpacing: 1,\r\n        textTransform: \"uppercase\",\r\n    },\r\n});\r\n\r\nexport function getLoginTextInputsStyleProps(theme: Theme, wrapperVerticalMargin = 0): Partial<FormTextInputProps> {\r\n    const focusedStyle = Platform.OS === \"web\" ? ({outline: \"none\"} as TextStyle) : null;\r\n\r\n    const commonStyle = StyleSheet.create({\r\n        textInputWrapper: {\r\n            width: \"100%\",\r\n            marginVertical: wrapperVerticalMargin,\r\n        },\r\n        textInput: {\r\n            width: \"100%\",\r\n            height: 60,\r\n            paddingHorizontal: 20,\r\n            borderRadius: 5,\r\n            borderWidth: 0,\r\n            backgroundColor: theme.accentSlight,\r\n        },\r\n        textInputError: {\r\n            borderBottomWidth: 2,\r\n            borderBottomColor: theme.error,\r\n        },\r\n        textInputValid: {\r\n            borderBottomWidth: 2,\r\n            borderBottomColor: theme.okay,\r\n        },\r\n    });\r\n\r\n    return {\r\n        placeholderTextColor: \"#222\",\r\n        wrapperStyle: commonStyle.textInputWrapper,\r\n        style: commonStyle.textInput,\r\n        errorStyle: commonStyle.textInputError,\r\n        validStyle: commonStyle.textInputValid,\r\n        focusedStyle: focusedStyle,\r\n    };\r\n}\r\n\r\nexport function getLoginCheckBoxStyleProps(theme: Theme): Partial<FormCheckBoxProps> {\r\n    const commonStyle = StyleSheet.create({\r\n        checkboxWrapper: {\r\n            width: \"100%\",\r\n            marginVertical: 5,\r\n        },\r\n        checkboxLabel: {\r\n            fontSize: 14,\r\n        },\r\n    });\r\n\r\n    return {\r\n        wrapperStyle: commonStyle.checkboxWrapper,\r\n        labelStyle: [commonStyle.checkboxLabel, {color: theme.text}],\r\n    };\r\n}\r\n\r\nexport const loginTabsStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            padding: 0,\r\n            backgroundColor: theme.background,\r\n        },\r\n        formWrapper: {\r\n            flex: 1,\r\n            width: \"70%\",\r\n            maxWidth: 400,\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n        },\r\n        versionInfoContainer: {\r\n            position: \"absolute\",\r\n            flexDirection: \"column\",\r\n            bottom: 5,\r\n            left: 5,\r\n        },\r\n        versionText: {color: theme.textLight},\r\n        versionDisclaimerContainer: {\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n        },\r\n        versionDisclaimerIcon: {color: theme.error},\r\n        debugContainer: {\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n        },\r\n        debugTitle: {\r\n            fontWeight: \"bold\",\r\n            width: 75,\r\n            fontSize: 16,\r\n            color: theme.textLight,\r\n            letterSpacing: 0.8,\r\n        },\r\n        debugButton: {\r\n            padding: 6,\r\n        },\r\n        debugButtonText: {\r\n            fontSize: 16,\r\n            color: theme.error,\r\n        },\r\n        toggleThemeContainer: {\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            right: 0,\r\n        },\r\n        toggleThemeButton: {\r\n            padding: 10,\r\n        },\r\n        toggleThemeIcon: {\r\n            fontSize: 26,\r\n            color: theme.textLight,\r\n        },\r\n    });\r\n});\r\n\r\nexport function getOnboardingTextInputsStyleProps(theme: Theme): Partial<FormTextInputProps> {\r\n    const focusedStyle =\r\n        Platform.OS === \"web\"\r\n            ? ({\r\n                  backgroundColor: \"transparent\",\r\n                  outline: \"none\",\r\n              } as TextStyle)\r\n            : null;\r\n\r\n    const commonStyle = StyleSheet.create({\r\n        textInputWrapper: {\r\n            width: \"100%\",\r\n            marginVertical: 10,\r\n        },\r\n        textInput: {\r\n            width: \"100%\",\r\n            height: 60,\r\n            borderRadius: 0,\r\n            borderWidth: 0,\r\n            borderBottomWidth: 1,\r\n            borderBottomColor: theme.accentTernary,\r\n            backgroundColor: \"transparent\",\r\n            fontSize: 20,\r\n            color: theme.text,\r\n        },\r\n        textInputError: {\r\n            borderBottomWidth: 2,\r\n            borderBottomColor: theme.error,\r\n        },\r\n        textInputValid: {\r\n            borderBottomWidth: 2,\r\n            borderBottomColor: theme.okay,\r\n        },\r\n    });\r\n\r\n    return {\r\n        wrapperStyle: commonStyle.textInputWrapper,\r\n        style: commonStyle.textInput,\r\n        errorStyle: commonStyle.textInputError,\r\n        validStyle: commonStyle.textInputValid,\r\n        focusedStyle: focusedStyle,\r\n    };\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {Text, View, ViewProps, StyleSheet} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\n\r\n// Component props\r\nexport type FormErrorProps = ThemeProps & {\r\n    error: string;\r\n} & ViewProps;\r\n\r\nclass FormError extends React.Component<FormErrorProps> {\r\n    render(): JSX.Element {\r\n        const {error, theme, style, ...otherProps} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={[styles.wrapper, style]} {...otherProps}>\r\n                <Text style={[styles.text]}>{error}</Text>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            marginVertical: 10,\r\n        },\r\n        text: {\r\n            fontSize: 14,\r\n            color: theme.error,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(FormError);\r\n","import * as React from \"react\";\r\nimport {ActivityIndicator, StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {Formik, FormikProps} from \"formik\";\r\nimport {FormTextInput} from \"../FormTextInput\";\r\nimport {StackNavigationProp} from \"@react-navigation/stack\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState, MyThunkDispatch} from \"../../state/types\";\r\nimport {VALIDATOR_EMAIL_LOGIN, VALIDATOR_PASSWORD_LOGIN} from \"../../validators\";\r\nimport {formStyle, getLoginTextInputsStyleProps} from \"../../styles/forms\";\r\nimport {requestLogin} from \"../../state/auth/actions\";\r\nimport FormError from \"./FormError\";\r\nimport {FormProps, Theme, ThemeProps} from \"../../types\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {TabLoginSigninScreens} from \"../../navigation/types\";\r\n\r\ntype LoginFormState = {\r\n    email: string;\r\n    password: string;\r\n};\r\n\r\n// Use Yup to create the validation schema\r\nconst LoginFormSchema = Yup.object().shape({\r\n    email: VALIDATOR_EMAIL_LOGIN,\r\n    password: VALIDATOR_PASSWORD_LOGIN,\r\n});\r\n\r\n// Map props from the store\r\nconst mapStateToProps = (state: AppState) => ({\r\n    connecting: state.auth.connecting,\r\n    remoteErrors: state.auth.loginErrors,\r\n    validatedEmail: state.auth.validatedEmail,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\n// Component props\r\ntype LoginFormProps = ConnectedProps<typeof reduxConnector> &\r\n    ThemeProps &\r\n    FormProps<LoginFormState> & {navigation: StackNavigationProp<TabLoginSigninScreens, \"LoginForm\">};\r\n\r\nclass LoginFormComponent extends React.Component<LoginFormProps> {\r\n    setFieldValue: null | ((field: string, value: string, shouldValidate?: boolean | undefined) => void) = null;\r\n\r\n    componentDidUpdate(oldProps: LoginFormProps) {\r\n        const {validatedEmail} = this.props;\r\n        if (this.setFieldValue && validatedEmail && oldProps.validatedEmail != validatedEmail)\r\n            this.setFieldValue(\"email\", validatedEmail);\r\n    }\r\n\r\n    submit(values: LoginFormState) {\r\n        console.log(\"Login form submitted\", values);\r\n        (this.props.dispatch as MyThunkDispatch)(requestLogin(values.email, values.password));\r\n        if (this.props.onSuccessfulSubmit !== undefined) this.props.onSuccessfulSubmit(values);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, navigation, connecting, remoteErrors} = this.props;\r\n\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <Formik\r\n                initialValues={{email: \"\", password: \"\"} as LoginFormState}\r\n                validationSchema={LoginFormSchema}\r\n                validateOnBlur={false}\r\n                onSubmit={(values: LoginFormState) => this.submit(values)}\r\n            >\r\n                {(formikProps: FormikProps<LoginFormState>) => {\r\n                    const {\r\n                        handleSubmit,\r\n                        values,\r\n                        errors,\r\n                        touched,\r\n                        handleChange,\r\n                        handleBlur,\r\n                        setFieldValue,\r\n                    } = formikProps;\r\n                    const textInputProps = {handleChange, handleBlur, ...getLoginTextInputsStyleProps(theme, 15)};\r\n                    this.setFieldValue = setFieldValue;\r\n\r\n                    return (\r\n                        <>\r\n                            <FormTextInput\r\n                                field=\"email\"\r\n                                placeholder={i18n.t(\"emailAddress\")}\r\n                                error={errors.email}\r\n                                value={values.email}\r\n                                touched={touched.email}\r\n                                keyboardType=\"email-address\"\r\n                                autoCompleteType=\"email\"\r\n                                {...textInputProps}\r\n                            />\r\n\r\n                            <FormTextInput\r\n                                field=\"password\"\r\n                                placeholder={i18n.t(\"password\")}\r\n                                error={errors.password}\r\n                                value={values.password}\r\n                                touched={touched.password}\r\n                                secureTextEntry={true}\r\n                                autoCompleteType=\"password\"\r\n                                {...textInputProps}\r\n                            />\r\n\r\n                            <View style={formStyle.actionRow}>\r\n                                <TouchableOpacity\r\n                                    accessibilityRole=\"button\"\r\n                                    accessibilityLabel={i18n.t(\"login\")}\r\n                                    onPress={() => handleSubmit()}\r\n                                    style={[styles.loginButton]}\r\n                                    disabled={connecting}\r\n                                >\r\n                                    {!connecting && <Text style={formStyle.buttonMajorText}>{i18n.t(\"login\")}</Text>}\r\n                                    {connecting && <ActivityIndicator size=\"large\" color={theme.accentSecondary} />}\r\n                                </TouchableOpacity>\r\n                            </View>\r\n\r\n                            <FormError error={remoteErrors.length > 0 ? remoteErrors[0] : \"\"} />\r\n\r\n                            <TouchableOpacity\r\n                                accessibilityRole=\"link\"\r\n                                accessibilityLabel={i18n.t(\"forgotPassword\")}\r\n                                onPress={() => {\r\n                                    navigation.navigate(\"ForgotPassword\");\r\n                                }}\r\n                                style={styles.forgotPwdLink}\r\n                            >\r\n                                <Text style={styles.forgotPasswordText}>{i18n.t(\"forgotPassword\")}</Text>\r\n                            </TouchableOpacity>\r\n                        </>\r\n                    );\r\n                }}\r\n            </Formik>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        loginButton: {\r\n            ...formStyle.buttonMajor,\r\n            width: \"60%\",\r\n            backgroundColor: theme.accent,\r\n        },\r\n        forgotPwdLink: {\r\n            marginTop: 40,\r\n            padding: 8, // make the button larger to click on\r\n        },\r\n        forgotPasswordText: {\r\n            fontSize: 14,\r\n            letterSpacing: 0.5,\r\n            color: theme.textLight,\r\n        },\r\n    });\r\n});\r\n\r\nexport const LoginForm = reduxConnector(withTheme(LoginFormComponent));\r\n","import * as React from \"react\";\r\nimport {Text, TouchableOpacity, View, StyleSheet} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {Formik, FormikProps} from \"formik\";\r\nimport {FormTextInput} from \"../FormTextInput\";\r\nimport {StackNavigationProp} from \"@react-navigation/stack\";\r\nimport {LoginTabNavigatorScreens} from \"../../navigation/types\";\r\nimport {formStyle, getLoginTextInputsStyleProps} from \"../../styles/forms\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {VALIDATOR_EMAIL_LOGIN} from \"../../validators\";\r\nimport {preTheme} from \"../../styles/utils\";\r\n\r\ntype ForgotPasswordFormState = {\r\n    email: string;\r\n};\r\n\r\n// Use Yup to create the validation schema\r\nconst ForgotPasswordFormSchema = Yup.object().shape({\r\n    email: VALIDATOR_EMAIL_LOGIN,\r\n});\r\n\r\n// Component props\r\nexport type ForgotPasswordFormProps = ThemeProps & {\r\n    navigation: StackNavigationProp<LoginTabNavigatorScreens, \"ForgotPassword\">;\r\n};\r\n\r\nclass ForgotPasswordForm extends React.Component<ForgotPasswordFormProps> {\r\n    // Form submission handler\r\n    submitForm({email}: ForgotPasswordFormState) {\r\n        console.log(\"Reset Password form submitted\", email);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, navigation} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <View style={styles.titleWrapper}>\r\n                    <Text style={styles.title}>{i18n.t(\"newPassword\")}</Text>\r\n                    <Text style={styles.description}>{i18n.t(\"forgotPasswordExplanation\")}</Text>\r\n                </View>\r\n                <Formik\r\n                    initialValues={{email: \"\"} as ForgotPasswordFormState}\r\n                    validationSchema={ForgotPasswordFormSchema}\r\n                    validateOnBlur={false}\r\n                    onSubmit={this.submitForm}\r\n                >\r\n                    {(formikCfg: FormikProps<ForgotPasswordFormState>) => {\r\n                        const {handleSubmit, values, errors, touched, handleChange, handleBlur} = formikCfg;\r\n                        const textInputProps = {handleChange, handleBlur, ...getLoginTextInputsStyleProps(theme)};\r\n\r\n                        return (\r\n                            <React.Fragment>\r\n                                <FormTextInput\r\n                                    field=\"email\"\r\n                                    placeholder={i18n.t(\"emailAddress\")}\r\n                                    error={errors.email}\r\n                                    value={values.email}\r\n                                    touched={touched.email}\r\n                                    keyboardType=\"email-address\"\r\n                                    autoCompleteType=\"email\"\r\n                                    {...textInputProps}\r\n                                />\r\n\r\n                                <View style={formStyle.actionRow}>\r\n                                    <TouchableOpacity\r\n                                        accessibilityRole=\"button\"\r\n                                        accessibilityLabel={i18n.t(\"cancel\")}\r\n                                        onPress={() => navigation.goBack()}\r\n                                        style={[formStyle.buttonMajor, styles.buttonCancel]}\r\n                                    >\r\n                                        <Text style={formStyle.buttonMajorText}>{i18n.t(\"cancel\")}</Text>\r\n                                    </TouchableOpacity>\r\n                                    <TouchableOpacity\r\n                                        accessibilityRole=\"button\"\r\n                                        accessibilityLabel={i18n.t(\"send\")}\r\n                                        onPress={() => handleSubmit()}\r\n                                        style={[formStyle.buttonMajor, styles.buttonSend]}\r\n                                    >\r\n                                        <Text style={formStyle.buttonMajorText}>{i18n.t(\"send\")}</Text>\r\n                                    </TouchableOpacity>\r\n                                </View>\r\n                            </React.Fragment>\r\n                        );\r\n                    }}\r\n                </Formik>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        titleWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"flex-start\",\r\n            marginBottom: 20,\r\n        },\r\n        title: {\r\n            fontSize: 22,\r\n            color: theme.text,\r\n        },\r\n        description: {\r\n            textAlign: \"justify\",\r\n            fontSize: 16,\r\n            marginTop: 10,\r\n            color: theme.textLight,\r\n        },\r\n        buttonSend: {\r\n            flex: 1,\r\n            backgroundColor: theme.accent,\r\n            marginLeft: 6,\r\n        },\r\n        buttonCancel: {\r\n            flex: 1,\r\n            backgroundColor: theme.actionNeutral,\r\n            marginRight: 6,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(ForgotPasswordForm);\r\n","import * as React from \"react\";\r\nimport {View, KeyboardAvoidingView, Text} from \"react-native\";\r\nimport {StackScreenProps} from \"@react-navigation/stack\";\r\nimport {MyThunkDispatch} from \"../state/types\";\r\nimport {LoginForm} from \"../components/forms/LoginForm\";\r\nimport ForgotPasswordForm from \"../components/forms/ForgotPasswordForm\";\r\nimport {loginTabsStyles} from \"../styles/forms\";\r\nimport {TouchableOpacity} from \"react-native-gesture-handler\";\r\nimport {debugConnect} from \"../state/auth/actions\";\r\nimport {rootNavigate} from \"../navigation/utils\";\r\nimport {ThemeProps} from \"../types\";\r\nimport store from \"../state/store\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {APP_VERSION, DEBUG_MODE} from \"../constants/config\";\r\nimport {MaterialCommunityIcons, MaterialIcons} from \"@expo/vector-icons\";\r\nimport {toggleTheme} from \"../state/settings/actions\";\r\nimport {TabLoginSigninScreens} from \"../navigation/types\";\r\n\r\ntype TabLoginScreenProps = ThemeProps & StackScreenProps<TabLoginSigninScreens, \"LoginForm\">;\r\n\r\nclass LoginTabComponent extends React.Component<TabLoginScreenProps> {\r\n    render(): JSX.Element {\r\n        const {theme, navigation} = this.props;\r\n        const styles = loginTabsStyles(theme);\r\n\r\n        return (\r\n            <KeyboardAvoidingView behavior=\"height\" style={styles.container}>\r\n                <View style={styles.formWrapper}>\r\n                    <LoginForm navigation={navigation}></LoginForm>\r\n                    {DEBUG_MODE && (\r\n                        <View style={styles.debugContainer}>\r\n                            <Text style={styles.debugTitle}>[DEBUG]</Text>\r\n                            <TouchableOpacity style={styles.debugButton} onPress={() => rootNavigate(\"MainScreen\")}>\r\n                                <Text style={styles.debugButtonText}>access</Text>\r\n                            </TouchableOpacity>\r\n                            <Text style={styles.debugButtonText}> | </Text>\r\n                            <TouchableOpacity\r\n                                style={styles.debugButton}\r\n                                onPress={() => {\r\n                                    (store.dispatch as MyThunkDispatch)(debugConnect());\r\n                                }}\r\n                            >\r\n                                <Text style={styles.debugButtonText}>register</Text>\r\n                            </TouchableOpacity>\r\n                            <Text style={styles.debugButtonText}> | </Text>\r\n                            <TouchableOpacity\r\n                                style={styles.debugButton}\r\n                                onPress={() => rootNavigate(\"OnboardingScreen\")}\r\n                            >\r\n                                <Text style={styles.debugButtonText}>on-boarding</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n                    )}\r\n                </View>\r\n                <View style={styles.versionInfoContainer}>\r\n                    <Text style={styles.versionText}>\r\n                        <Text style={{fontWeight: \"bold\"}}>Version:</Text>\r\n                        <Text> {APP_VERSION}</Text>\r\n                    </Text>\r\n                    <View style={styles.versionDisclaimerContainer}>\r\n                        <MaterialIcons style={styles.versionDisclaimerIcon} name=\"warning\" size={16}></MaterialIcons>\r\n                        <Text style={styles.versionText}> This is an alpha version</Text>\r\n                    </View>\r\n                </View>\r\n                <View style={styles.toggleThemeContainer}>\r\n                    <TouchableOpacity style={styles.toggleThemeButton} onPress={() => store.dispatch(toggleTheme())}>\r\n                        <MaterialCommunityIcons style={styles.toggleThemeIcon} name=\"theme-light-dark\" color=\"black\" />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </KeyboardAvoidingView>\r\n        );\r\n    }\r\n}\r\n\r\ntype TabForgotPasswordProps = ThemeProps & StackScreenProps<TabLoginSigninScreens, \"ForgotPassword\">;\r\n\r\nclass ForgotPasswordTabComponent extends React.Component<TabForgotPasswordProps> {\r\n    render(): JSX.Element {\r\n        const {theme, navigation} = this.props;\r\n        const styles = loginTabsStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.formWrapper}>\r\n                    <ForgotPasswordForm navigation={navigation}></ForgotPasswordForm>\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport const SubTabLogin = withTheme(LoginTabComponent);\r\nexport const SubTabForgotPassword = withTheme(ForgotPasswordTabComponent);\r\n","import {SetLocaleAction, SetThemeAction, SETTINGS_ACTION_TYPES, ToggleThemeAction} from \"../types\";\r\nimport {ThemeKey} from \"../../types\";\r\nimport {SupportedLocale} from \"../../localization\";\r\nimport i18n from \"i18n-js\";\r\n\r\nexport const setTheme = (theme: ThemeKey): SetThemeAction =>\r\n    ({type: SETTINGS_ACTION_TYPES.SET_THEME, theme} as SetThemeAction);\r\n\r\nexport const toggleTheme = (): ToggleThemeAction => ({type: SETTINGS_ACTION_TYPES.TOGGLE_THEME} as ToggleThemeAction);\r\n\r\nexport const setLocale = (locale: SupportedLocale): SetLocaleAction => {\r\n    i18n.locale = locale;\r\n    return {type: SETTINGS_ACTION_TYPES.SET_THEME, locale} as SetLocaleAction;\r\n};\r\n","import * as React from \"react\";\r\nimport {Alert, StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {Formik, FormikProps} from \"formik\";\r\nimport {FormTextInput} from \"../FormTextInput\";\r\nimport {AppState, MyThunkDispatch} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {VALIDATOR_EMAIL_SIGNUP, VALIDATOR_PASSWORD_SIGNUP, VALIDATOR_PASSWORD_REPEAT} from \"../../validators\";\r\nimport {formStyle, getLoginTextInputsStyleProps} from \"../../styles/forms\";\r\nimport {FormProps, Theme, ThemeProps} from \"../../types\";\r\nimport {requestRegister} from \"../../state/auth/actions\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\n\r\nexport type SignupFormState = {\r\n    email: string;\r\n    password: string;\r\n    passwordRepeat: string;\r\n};\r\n\r\nconst initialState = (): SignupFormState => ({\r\n    email: `kevin${Math.round(Math.random() * 1e6)}.test@univ-brest.fr`,\r\n    password: \"PASSword$1\",\r\n    passwordRepeat: \"PASSword$1\",\r\n});\r\n\r\n// Use Yup to create the validation schema\r\nconst SignupFormSchema = Yup.object().shape({\r\n    email: VALIDATOR_EMAIL_SIGNUP,\r\n    password: VALIDATOR_PASSWORD_SIGNUP,\r\n    passwordRepeat: VALIDATOR_PASSWORD_REPEAT,\r\n});\r\n\r\n// Map props from the store\r\nconst mapStateToProps = (state: AppState) => ({\r\n    registerFailure: state.auth.registerFailure,\r\n    registerErrors: state.auth.registerErrors,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\n// Component props\r\ntype SignupFormProps = FormProps<SignupFormState> & ConnectedProps<typeof reduxConnector> & ThemeProps;\r\n\r\nclass SignupForm extends React.Component<SignupFormProps> {\r\n    submit(values: SignupFormState) {\r\n        console.log(\"Signup form submitted\", values);\r\n        (this.props.dispatch as MyThunkDispatch)(requestRegister(values.email, values.password));\r\n        if (this.props.onSuccessfulSubmit !== undefined) this.props.onSuccessfulSubmit(values);\r\n    }\r\n\r\n    componentDidUpdate(/*prevProps: SignupFormProps*/) {\r\n        if (this.props.registerFailure) {\r\n            /*const errorTexts = this.props.registerErrors.map((err: string, i: number) => (\r\n                <Text key={i} style={[formStyle.errorText, {color: this.props.theme.error}]}>\r\n                    {err}\r\n                </Text>\r\n            ));*/\r\n\r\n            Alert.alert(\"Unable to register\", this.props.registerErrors[0], [\r\n                {text: \"OK\", onPress: () => console.log(\"OK Pressed\")},\r\n            ]);\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <View style={styles.titleWrapper}>\r\n                    <Text style={styles.title}>{i18n.t(\"signupWelcome\")}</Text>\r\n                </View>\r\n                <Formik\r\n                    initialValues={initialState()}\r\n                    validationSchema={SignupFormSchema}\r\n                    validateOnChange={true}\r\n                    validateOnBlur={false}\r\n                    onSubmit={(values: SignupFormState) => this.submit(values)}\r\n                >\r\n                    {(formikProps: FormikProps<SignupFormState>) => {\r\n                        const {handleSubmit, values, errors, touched, handleChange, handleBlur} = formikProps;\r\n                        const textInputProps = {handleChange, handleBlur, ...getLoginTextInputsStyleProps(theme, 15)};\r\n\r\n                        return (\r\n                            <React.Fragment>\r\n                                <FormTextInput\r\n                                    field=\"email\"\r\n                                    placeholder={i18n.t(\"emailAddress\")}\r\n                                    error={errors.email}\r\n                                    value={values.email}\r\n                                    touched={touched.email}\r\n                                    keyboardType=\"email-address\"\r\n                                    autoCompleteType=\"email\"\r\n                                    {...textInputProps}\r\n                                />\r\n\r\n                                <FormTextInput\r\n                                    field=\"password\"\r\n                                    placeholder={i18n.t(\"password\")}\r\n                                    error={errors.password}\r\n                                    value={values.password}\r\n                                    touched={touched.password}\r\n                                    secureTextEntry={true}\r\n                                    autoCompleteType=\"password\"\r\n                                    {...textInputProps}\r\n                                />\r\n\r\n                                <FormTextInput\r\n                                    field=\"passwordRepeat\"\r\n                                    placeholder={i18n.t(\"passwordRepeat\")}\r\n                                    error={errors.passwordRepeat}\r\n                                    value={values.passwordRepeat}\r\n                                    touched={touched.passwordRepeat}\r\n                                    secureTextEntry={true}\r\n                                    autoCompleteType=\"password\"\r\n                                    {...textInputProps}\r\n                                />\r\n\r\n                                <View style={formStyle.actionRow}>\r\n                                    <TouchableOpacity\r\n                                        accessibilityRole=\"button\"\r\n                                        accessibilityLabel={i18n.t(\"createAccount\")}\r\n                                        onPress={() => handleSubmit()}\r\n                                        style={styles.createAccountButton}\r\n                                    >\r\n                                        <Text style={formStyle.buttonMajorText}>{i18n.t(\"createAccount\")}</Text>\r\n                                    </TouchableOpacity>\r\n                                </View>\r\n                            </React.Fragment>\r\n                        );\r\n                    }}\r\n                </Formik>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        titleWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"flex-start\",\r\n            marginBottom: 20,\r\n        },\r\n        title: {\r\n            fontSize: 22,\r\n            color: theme.text,\r\n        },\r\n        inlineInputs: {\r\n            flex: 1,\r\n        },\r\n        inlineInputLeft: {\r\n            marginRight: 5,\r\n        },\r\n        inlineInputRight: {\r\n            marginLeft: 5,\r\n        },\r\n        createAccountButton: {\r\n            ...formStyle.buttonMajor,\r\n            width: \"60%\",\r\n            backgroundColor: theme.accent,\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(SignupForm));\r\n","import * as React from \"react\";\r\nimport {View} from \"react-native\";\r\nimport {ScrollView} from \"react-native-gesture-handler\";\r\nimport SignupForm from \"../components/forms/SignupForm\";\r\nimport {loginTabsStyles} from \"../styles/forms\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {ThemeProps} from \"../types\";\r\n\r\ntype SignupFormProps = ThemeProps;\r\n\r\nclass SignupTabComponent extends React.Component<SignupFormProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = loginTabsStyles(theme);\r\n\r\n        return (\r\n            <ScrollView contentContainerStyle={{paddingVertical: 50, backgroundColor: theme.background}}>\r\n                <View style={styles.container}>\r\n                    <View style={styles.formWrapper}>\r\n                        <SignupForm />\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(SignupTabComponent);\r\n","import {createStackNavigator} from \"@react-navigation/stack\";\r\nimport * as React from \"react\";\r\nimport {createMaterialTopTabNavigator} from \"@react-navigation/material-top-tabs\";\r\nimport LoginTabBar from \"../components/LoginTabBar\";\r\nimport {SubTabLogin, SubTabForgotPassword} from \"../screens/TabLoginScreen\";\r\nimport TabSignupFormScreen from \"../screens/TabSignupFormScreen\";\r\nimport {TabLoginRoot, TabLoginSigninScreens} from \"./types\";\r\n\r\nconst SigninStack = createStackNavigator<TabLoginSigninScreens>();\r\nconst Tab = createMaterialTopTabNavigator<TabLoginRoot>();\r\n\r\n/*\r\nfunction SigninTabNavigator(): JSX.Element {\r\n    return (\r\n        <SigninStack.Navigator initialRouteName=\"LoginForm\">\r\n            <SigninStack.Screen name=\"LoginForm\" component={SubTabLogin} options={{headerShown: false}} />\r\n            <SigninStack.Screen name=\"ForgotPassword\" component={SubTabForgotPassword} options={{headerShown: false}} />\r\n        </SigninStack.Navigator>\r\n    );\r\n}\r\n\r\nfunction SignupTabNavigator(): JSX.Element {\r\n    return (\r\n        <SignupTabStack.Navigator>\r\n            <SignupTabStack.Screen name=\"SignupForm\" component={TabSignupFormScreen} options={{headerShown: false}} />\r\n        </SignupTabStack.Navigator>\r\n    );\r\n}*/\r\n\r\nconst LoginNavigator = (): JSX.Element => (\r\n    <Tab.Navigator initialRouteName=\"TabSignin\" tabBar={(props) => <LoginTabBar {...props} />}>\r\n        <Tab.Screen name=\"TabSignin\">\r\n            {() => (\r\n                <SigninStack.Navigator initialRouteName=\"LoginForm\">\r\n                    <SigninStack.Screen name=\"LoginForm\" component={SubTabLogin} options={{headerShown: false}} />\r\n                    <SigninStack.Screen\r\n                        name=\"ForgotPassword\"\r\n                        component={SubTabForgotPassword}\r\n                        options={{headerShown: false}}\r\n                    />\r\n                </SigninStack.Navigator>\r\n            )}\r\n        </Tab.Screen>\r\n        <Tab.Screen name=\"TabSignup\" component={TabSignupFormScreen} />\r\n    </Tab.Navigator>\r\n);\r\n\r\nexport default LoginNavigator;\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport {Text, TextStyle, TouchableOpacity, StyleSheet} from \"react-native\";\r\nimport {logout} from \"../state/auth/actions\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\n\r\n// Map props from store\r\nconst reduxConnector = connect();\r\n\r\n// Component props\r\nexport type LogOutButtonProps = {\r\n    onLogOut: () => void;\r\n    style: TextStyle;\r\n} & ConnectedProps<typeof reduxConnector> &\r\n    ThemeProps;\r\n\r\nclass LogOutButton extends React.Component<LogOutButtonProps> {\r\n    render(): JSX.Element {\r\n        const {dispatch, theme, onLogOut, style} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <TouchableOpacity\r\n                onPress={() => {\r\n                    dispatch(logout());\r\n                    if (onLogOut) onLogOut();\r\n                }}\r\n            >\r\n                <Text style={[styles.text, style]}>{i18n.t(\"logOut\")}</Text>\r\n            </TouchableOpacity>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        text: {\r\n            fontSize: 20,\r\n            color: theme.error,\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(LogOutButton));\r\n","import {FontAwesome5} from \"@expo/vector-icons\";\r\nimport * as React from \"react\";\r\nimport {StyleSheet, Text, View} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport LogOutButton from \"../components/LogOutButton\";\r\nimport {rootNavigate} from \"../navigation/utils\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\n\r\nexport type TabNotImplementedScreenProps = ThemeProps;\r\n\r\nclass TabNotImplementedScreen extends React.Component<TabNotImplementedScreenProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <FontAwesome5 style={styles.constructionIcon} name=\"hard-hat\"></FontAwesome5>\r\n                <Text style={styles.title}>Under construction</Text>\r\n                <View style={styles.separator} />\r\n                <LogOutButton style={styles.logoutButton} onLogOut={() => rootNavigate(\"LoginScreen\")} />\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            width: \"100%\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        title: {\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n            fontSize: 20,\r\n            fontWeight: \"bold\",\r\n            color: theme.text,\r\n        },\r\n        constructionIcon: {\r\n            color: \"#eecc00\",\r\n            fontSize: 40,\r\n        },\r\n        separator: {\r\n            marginVertical: 30,\r\n            height: 1,\r\n            width: \"80%\",\r\n            backgroundColor: theme.cardBackground,\r\n        },\r\n        logoutButton: {\r\n            marginVertical: 20,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(TabNotImplementedScreen);\r\n","import {Theme} from \"../types\";\r\nimport {StyleSheet, ViewStyle} from \"react-native\";\r\nimport {preTheme} from \"./utils\";\r\n\r\nexport const pickerStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        overlay: {\r\n            width: \"90%\",\r\n            maxHeight: \"70%\",\r\n            overflow: \"hidden\",\r\n        },\r\n        dropdownWrapper: {\r\n            flex: 1,\r\n        },\r\n        dropdownStyle: {backgroundColor: \"#fafafa\"},\r\n        dropdownItemStyle: {justifyContent: \"flex-start\"} as ViewStyle,\r\n        dropdownActiveItemStyle: {},\r\n        dropdownActiveLabelStyle: {color: theme.accentSecondary},\r\n        dropdownLabelStyle: {fontSize: 16},\r\n        okButton: {\r\n            width: \"100%\",\r\n            height: 50,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            marginVertical: 5,\r\n            paddingVertical: 20,\r\n            borderRadius: 4,\r\n            backgroundColor: theme.accent,\r\n        },\r\n        okButtonText: {\r\n            fontSize: 20,\r\n            color: theme.textInverted,\r\n        },\r\n        openButton: {\r\n            width: \"100%\",\r\n            height: 30,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            paddingVertical: 20,\r\n            paddingHorizontal: 20,\r\n            borderWidth: 1,\r\n            borderStyle: \"solid\",\r\n            borderRadius: 2,\r\n            backgroundColor: theme.background,\r\n            borderColor: theme.componentBorder,\r\n        },\r\n        openButtonText: {\r\n            fontSize: 14,\r\n            color: theme.text,\r\n        },\r\n        selectedItemView: {\r\n            width: \"100%\",\r\n            height: 20,\r\n            marginTop: 5,\r\n            fontSize: 12,\r\n            overflow: \"hidden\",\r\n        },\r\n        selectedItemText: {\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n","import * as React from \"react\";\r\nimport {View, ViewProps, TouchableOpacity, Text, StyleSheet} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState} from \"../state/types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {pickerStyles} from \"../styles/picker\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {SupportedLocale} from \"../localization\";\r\nimport SectionedMultiSelect from \"react-native-sectioned-multi-select\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\n\r\ntype PickerItem = {\r\n    id: string;\r\n    label: string;\r\n};\r\n\r\ntype PickerItemSection = {\r\n    id: string;\r\n    label: string;\r\n    children: PickerItem[];\r\n};\r\n\r\ntype SectionDescriptor = {id: string; items: string[]};\r\n\r\n// Map props from store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    locale: state.settings.locale,\r\n}));\r\n\r\n// Component props\r\nexport type SectionedMultiPickerProps = ConnectedProps<typeof reduxConnector> & {\r\n    values: SectionDescriptor[];\r\n    genLabel?: (value: string) => string;\r\n    genSectionLabel?: (id: string) => string;\r\n    onChange?: (values: string[]) => void;\r\n    selected?: string[];\r\n    searchablePlaceholder?: string;\r\n    showSelected?: boolean;\r\n} & ViewProps &\r\n    ThemeProps;\r\n\r\n// Component state\r\nexport type SectionedMultiPickerState = {\r\n    items: Map<SupportedLocale, PickerItemSection[]>;\r\n    open: boolean;\r\n    tempSelected: string[];\r\n};\r\n\r\nclass SectionedMultiPicker extends React.Component<SectionedMultiPickerProps, SectionedMultiPickerState> {\r\n    static defaultProps = {\r\n        items: [],\r\n        showSelected: true,\r\n        selected: [],\r\n    };\r\n\r\n    selectRef: React.RefObject<SectionedMultiSelect<PickerItem>>;\r\n\r\n    constructor(props: SectionedMultiPickerProps) {\r\n        super(props);\r\n        this.selectRef = React.createRef<SectionedMultiSelect<PickerItem>>();\r\n        this.state = {\r\n            items: new Map(),\r\n            open: false,\r\n            tempSelected: props.selected || [],\r\n        };\r\n    }\r\n\r\n    updateItems() {\r\n        const locale = this.props.locale;\r\n        if (!this.state.items.has(locale) || this.state.items.get(locale)?.length != this.props.values.length) {\r\n            const items = new Map(this.state.items);\r\n            items.set(\r\n                locale,\r\n                this.props.values.map((section: SectionDescriptor) => ({\r\n                    id: section.id,\r\n                    label: this.props.genSectionLabel ? i18n.t(this.props.genSectionLabel(section.id)) : section.id,\r\n                    children: section.items.map((value: string) => ({\r\n                        id: value,\r\n                        label: this.props.genLabel ? i18n.t(this.props.genLabel(value)) : value,\r\n                    })),\r\n                })),\r\n            );\r\n            this.setState({...this.state, items});\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateItems();\r\n    }\r\n\r\n    componentDidUpdate(oldProps: SectionedMultiPickerProps) {\r\n        if (oldProps.locale != this.props.locale || oldProps.values.length != this.props.values.length) {\r\n            this.updateItems();\r\n        }\r\n    }\r\n\r\n    open() {\r\n        if (this.selectRef.current) this.selectRef.current._toggleSelector();\r\n        this.setState({...this.state, open: true, tempSelected: this.props.selected || this.state.tempSelected});\r\n    }\r\n\r\n    close(apply: boolean) {\r\n        this.setState({\r\n            ...this.state,\r\n            open: false,\r\n            tempSelected: apply ? this.state.tempSelected : this.props.selected || [],\r\n        });\r\n        if (this.selectRef.current) this.selectRef.current._toggleSelector();\r\n        if (apply && this.props.onChange) this.props.onChange(this.state.tempSelected);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {\r\n            theme,\r\n            locale,\r\n            selected,\r\n            genLabel,\r\n            searchablePlaceholder,\r\n            showSelected,\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            onChange,\r\n            ...viewProps\r\n        } = this.props;\r\n        const styles = pickerStyles(theme);\r\n        const multiSelectStyles = sectionedMultiSelectStyles(theme);\r\n        const miscStyles = themedStyles(theme);\r\n\r\n        const selectedItems = selected || [];\r\n\r\n        return (\r\n            <View {...viewProps}>\r\n                <View>\r\n                    <TouchableOpacity onPress={() => this.open()} style={styles.openButton}>\r\n                        <Text style={styles.openButtonText}>\r\n                            {i18n.t(\"picker.callToAction\").replace(\"%d\", selectedItems.length.toString())}\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n                    <View>\r\n                        {showSelected &&\r\n                            selectedItems.map((val: string, i: number) => (\r\n                                <View key={i} style={styles.selectedItemView}>\r\n                                    <Text style={styles.selectedItemText} numberOfLines={1}>\r\n                                        {genLabel ? i18n.t(genLabel(val)) : val}\r\n                                    </Text>\r\n                                </View>\r\n                            ))}\r\n                    </View>\r\n                </View>\r\n                <View /*style={{height: 0, overflow: \"hidden\"}}*/>\r\n                    {this.state.items.get(locale) && (\r\n                        <SectionedMultiSelect\r\n                            ref={this.selectRef}\r\n                            items={this.state.items.get(locale)}\r\n                            onSelectedItemsChange={(items) =>\r\n                                this.setState({...this.state, tempSelected: (items as unknown) as string[]})\r\n                            }\r\n                            selectedItems={this.state.tempSelected}\r\n                            // Listeners\r\n                            onCancel={() => this.close(false)}\r\n                            onConfirm={() => this.close(true)}\r\n                            // Technical\r\n                            // Dirty work-around to get the typing to work. This is due to a mistake in react-native-sectioned-multi-select\r\n                            IconRenderer={(MaterialIcons as unknown) as JSX.Element}\r\n                            uniqueKey=\"id\"\r\n                            displayKey=\"label\"\r\n                            subKey=\"children\"\r\n                            // Customization\r\n                            showDropDowns={true}\r\n                            readOnlyHeadings={true}\r\n                            showChips={false}\r\n                            showCancelButton={true}\r\n                            selectedIconOnLeft={true}\r\n                            animateDropDowns={false}\r\n                            hideSelect={true}\r\n                            noResultsComponent={\r\n                                <Text style={miscStyles.noResultsText}>{i18n.t(\"noResultsFound\")}</Text>\r\n                            }\r\n                            searchIconComponent={<MaterialIcons name=\"search\" style={miscStyles.searchIcon} />}\r\n                            // Localization\r\n                            confirmText={i18n.t(\"apply\")}\r\n                            searchPlaceholderText={searchablePlaceholder}\r\n                            // Styling\r\n                            colors={{\r\n                                primary: theme.accent,\r\n                                cancel: theme.error,\r\n                                success: theme.okay,\r\n                                text: theme.text,\r\n                                subText: theme.textLight,\r\n                                searchPlaceholderTextColor: theme.textLight,\r\n                                selectToggleTextColor: theme.error,\r\n                                itemBackground: theme.cardBackground,\r\n                                subItemBackground: theme.cardBackground,\r\n                            }}\r\n                            styles={multiSelectStyles}\r\n                        />\r\n                    )}\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        noResultsText: {\r\n            textAlign: \"center\",\r\n            color: theme.text,\r\n            fontSize: 16,\r\n            marginVertical: 20,\r\n        },\r\n        searchIcon: {\r\n            fontSize: 26,\r\n            marginHorizontal: 10,\r\n            color: theme.textLight,\r\n        },\r\n    });\r\n});\r\n\r\nconst sectionedMultiSelectStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {backgroundColor: theme.cardBackground},\r\n        scrollView: {paddingVertical: 10},\r\n        searchBar: {backgroundColor: theme.background},\r\n        searchTextInput: {color: theme.text},\r\n        toggleIcon: {backgroundColor: theme.cardBackground},\r\n        subItem: {\r\n            borderRadius: 4,\r\n            marginVertical: 2,\r\n        },\r\n        selectedItem: {backgroundColor: theme.background},\r\n        itemText: {\r\n            fontFamily: \"sans-serif-light\",\r\n            fontWeight: \"normal\",\r\n            letterSpacing: 1.5,\r\n            fontSize: 14,\r\n            lineHeight: 18,\r\n            textTransform: \"uppercase\",\r\n        },\r\n        separator: {marginVertical: 8},\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(SectionedMultiPicker));\r\n","/**\r\n * University education fields as specified by the International Standard Classification of Education (ISCED), 2013.\r\n * @see {@link https://ec.europa.eu/eurostat/statistics-explained/index.php/International_Standard_Classification_of_Education_(ISCED)}\r\n * See translations for the actual display name of each field.\r\n */\r\n\r\nexport enum EducationFieldCategory {\r\n    GPQ = \"generic-programmes-qualifications\",\r\n    EDU = \"education\",\r\n    AH = \"arts-humanities\",\r\n    SSJI = \"social-sciences-journalism-information\",\r\n    BAL = \"business-administration-law\",\r\n    NSMS = \"natural-sciences-mathematics-statistics\",\r\n    ICT = \"information-communication-technologies\",\r\n    EMC = \"engineering-manufacturing-construction\",\r\n    AFFV = \"agriculture-forestry-fisheries-veterinary\",\r\n    HW = \"health-welfare\",\r\n    SER = \"services\",\r\n}\r\n\r\nexport const EDUCATION_FIELD_CATEGORIES = Object.values(EducationFieldCategory) as EducationFieldCategory[];\r\n\r\nexport enum EducationFieldSubCategory {\r\n    \"basic-programmes-qualifications\",\r\n    \"literacy-numeracy\",\r\n    \"personal-skills-development\",\r\n    \"education\",\r\n    \"arts\",\r\n    \"humanities\",\r\n    \"languages\",\r\n    \"social-behavioural-sciences\",\r\n    \"journalism-information\",\r\n    \"business-administration\",\r\n    \"law\",\r\n    \"biological-related-sciences\",\r\n    \"environment\",\r\n    \"physical-sciences\",\r\n    \"mathematics-statistics\",\r\n    \"information-communication-technologies\",\r\n    \"engineering-engineering-trades\",\r\n    \"manufacturing-processing\",\r\n    \"architecture-construction\",\r\n    \"agriculture\",\r\n    \"forestry\",\r\n    \"fisheries\",\r\n    \"veterinary\",\r\n    \"health\",\r\n    \"personal-services\",\r\n    \"hygiene-occupational-health-services\",\r\n    \"security-services\",\r\n    \"transport-services\",\r\n}\r\n\r\nexport type EducationField = {\r\n    id: string;\r\n    category: EducationFieldCategory;\r\n    subCategory: EducationFieldSubCategory;\r\n};\r\n\r\nexport const EDUCATION_FIELDS: EducationField[] = [\r\n    {\r\n        id: \"basic-programmes-qualifications\",\r\n        category: EducationFieldCategory.GPQ,\r\n        subCategory: EducationFieldSubCategory[\"basic-programmes-qualifications\"],\r\n    },\r\n    {\r\n        id: \"literacy-numeracy\",\r\n        category: EducationFieldCategory.GPQ,\r\n        subCategory: EducationFieldSubCategory[\"literacy-numeracy\"],\r\n    },\r\n    {\r\n        id: \"personal-skills-development\",\r\n        category: EducationFieldCategory.GPQ,\r\n        subCategory: EducationFieldSubCategory[\"personal-skills-development\"],\r\n    },\r\n    {\r\n        id: \"education-science\",\r\n        category: EducationFieldCategory.EDU,\r\n        subCategory: EducationFieldSubCategory[\"education\"],\r\n    },\r\n    {\r\n        id: \"training-for-pre-school-teachers\",\r\n        category: EducationFieldCategory.EDU,\r\n        subCategory: EducationFieldSubCategory[\"education\"],\r\n    },\r\n    {\r\n        id: \"teacher-training-without-subject-specialisation\",\r\n        category: EducationFieldCategory.EDU,\r\n        subCategory: EducationFieldSubCategory[\"education\"],\r\n    },\r\n    {\r\n        id: \"teacher-training-with-subject-specialisation\",\r\n        category: EducationFieldCategory.EDU,\r\n        subCategory: EducationFieldSubCategory[\"education\"],\r\n    },\r\n    {\r\n        id: \"audio-visual-techniques-media-production\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"arts\"],\r\n    },\r\n    {\r\n        id: \"fashion-interior-industrial-design\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"arts\"],\r\n    },\r\n    {\r\n        id: \"fine-arts\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"arts\"],\r\n    },\r\n    {\r\n        id: \"handicrafts\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"arts\"],\r\n    },\r\n    {\r\n        id: \"music-performing-arts\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"arts\"],\r\n    },\r\n    {\r\n        id: \"religion-theology\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"humanities\"],\r\n    },\r\n    {\r\n        id: \"history-archaeology\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"humanities\"],\r\n    },\r\n    {\r\n        id: \"philosophy-ethics\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"humanities\"],\r\n    },\r\n    {\r\n        id: \"language-acquisition\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"languages\"],\r\n    },\r\n    {\r\n        id: \"literature-linguistics\",\r\n        category: EducationFieldCategory.AH,\r\n        subCategory: EducationFieldSubCategory[\"languages\"],\r\n    },\r\n    {\r\n        id: \"economics\",\r\n        category: EducationFieldCategory.SSJI,\r\n        subCategory: EducationFieldSubCategory[\"social-behavioural-sciences\"],\r\n    },\r\n    {\r\n        id: \"political-sciences-civics\",\r\n        category: EducationFieldCategory.SSJI,\r\n        subCategory: EducationFieldSubCategory[\"social-behavioural-sciences\"],\r\n    },\r\n    {\r\n        id: \"psychology\",\r\n        category: EducationFieldCategory.SSJI,\r\n        subCategory: EducationFieldSubCategory[\"social-behavioural-sciences\"],\r\n    },\r\n    {\r\n        id: \"sociology-cultural-studies\",\r\n        category: EducationFieldCategory.SSJI,\r\n        subCategory: EducationFieldSubCategory[\"social-behavioural-sciences\"],\r\n    },\r\n    {\r\n        id: \"journalism-reporting\",\r\n        category: EducationFieldCategory.SSJI,\r\n        subCategory: EducationFieldSubCategory[\"journalism-information\"],\r\n    },\r\n    {\r\n        id: \"library-information-archival-studies\",\r\n        category: EducationFieldCategory.SSJI,\r\n        subCategory: EducationFieldSubCategory[\"journalism-information\"],\r\n    },\r\n    {\r\n        id: \"accounting-taxation\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"business-administration\"],\r\n    },\r\n    {\r\n        id: \"finance-banking-insurance\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"business-administration\"],\r\n    },\r\n    {\r\n        id: \"management-administration\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"business-administration\"],\r\n    },\r\n    {\r\n        id: \"marketing-advertising\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"business-administration\"],\r\n    },\r\n    {\r\n        id: \"secretarial-office-work\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"business-administration\"],\r\n    },\r\n    {\r\n        id: \"wholesale-retail-sales\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"business-administration\"],\r\n    },\r\n    {\r\n        id: \"work-skills\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"business-administration\"],\r\n    },\r\n    {\r\n        id: \"law\",\r\n        category: EducationFieldCategory.BAL,\r\n        subCategory: EducationFieldSubCategory[\"law\"],\r\n    },\r\n    {\r\n        id: \"biology\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"biological-related-sciences\"],\r\n    },\r\n    {\r\n        id: \"biochemistry\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"biological-related-sciences\"],\r\n    },\r\n    {\r\n        id: \"environmental-sciences\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"environment\"],\r\n    },\r\n    {\r\n        id: \"natural-environments-wildlife\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"environment\"],\r\n    },\r\n    {\r\n        id: \"chemistry\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"physical-sciences\"],\r\n    },\r\n    {\r\n        id: \"earth-sciences\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"physical-sciences\"],\r\n    },\r\n    {\r\n        id: \"physics\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"physical-sciences\"],\r\n    },\r\n    {\r\n        id: \"mathematics\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"mathematics-statistics\"],\r\n    },\r\n    {\r\n        id: \"statistics\",\r\n        category: EducationFieldCategory.NSMS,\r\n        subCategory: EducationFieldSubCategory[\"mathematics-statistics\"],\r\n    },\r\n    {\r\n        id: \"computer-use\",\r\n        category: EducationFieldCategory.ICT,\r\n        subCategory: EducationFieldSubCategory[\"information-communication-technologies\"],\r\n    },\r\n    {\r\n        id: \"database-network-design-administration\",\r\n        category: EducationFieldCategory.ICT,\r\n        subCategory: EducationFieldSubCategory[\"information-communication-technologies\"],\r\n    },\r\n    {\r\n        id: \"software-applications-development-analysis\",\r\n        category: EducationFieldCategory.ICT,\r\n        subCategory: EducationFieldSubCategory[\"information-communication-technologies\"],\r\n    },\r\n    {\r\n        id: \"chemical-engineering-processes\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"engineering-engineering-trades\"],\r\n    },\r\n    {\r\n        id: \"environmental-protection-technology\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"engineering-engineering-trades\"],\r\n    },\r\n    {\r\n        id: \"electricity-energy\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"engineering-engineering-trades\"],\r\n    },\r\n    {\r\n        id: \"electronics-automation\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"engineering-engineering-trades\"],\r\n    },\r\n    {\r\n        id: \"mechanics-metal-trades\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"engineering-engineering-trades\"],\r\n    },\r\n    {\r\n        id: \"motor-vehicles-ships-aircraft\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"engineering-engineering-trades\"],\r\n    },\r\n    {\r\n        id: \"food-processing\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"manufacturing-processing\"],\r\n    },\r\n    {\r\n        id: \"materials\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"manufacturing-processing\"],\r\n    },\r\n    {\r\n        id: \"textiles\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"manufacturing-processing\"],\r\n    },\r\n    {\r\n        id: \"mining-extraction\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"manufacturing-processing\"],\r\n    },\r\n    {\r\n        id: \"architecture-town-planning\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"architecture-construction\"],\r\n    },\r\n    {\r\n        id: \"building-civil-engineering\",\r\n        category: EducationFieldCategory.EMC,\r\n        subCategory: EducationFieldSubCategory[\"architecture-construction\"],\r\n    },\r\n    {\r\n        id: \"crop-livestock-production\",\r\n        category: EducationFieldCategory.AFFV,\r\n        subCategory: EducationFieldSubCategory[\"agriculture\"],\r\n    },\r\n    {\r\n        id: \"horticulture\",\r\n        category: EducationFieldCategory.AFFV,\r\n        subCategory: EducationFieldSubCategory[\"agriculture\"],\r\n    },\r\n    {\r\n        id: \"forestry\",\r\n        category: EducationFieldCategory.AFFV,\r\n        subCategory: EducationFieldSubCategory[\"forestry\"],\r\n    },\r\n    {\r\n        id: \"fisheries\",\r\n        category: EducationFieldCategory.AFFV,\r\n        subCategory: EducationFieldSubCategory[\"fisheries\"],\r\n    },\r\n    {\r\n        id: \"veterinary\",\r\n        category: EducationFieldCategory.AFFV,\r\n        subCategory: EducationFieldSubCategory[\"veterinary\"],\r\n    },\r\n    {\r\n        id: \"dental-studies\",\r\n        category: EducationFieldCategory.HW,\r\n        subCategory: EducationFieldSubCategory[\"health\"],\r\n    },\r\n    {\r\n        id: \"medicine\",\r\n        category: EducationFieldCategory.HW,\r\n        subCategory: EducationFieldSubCategory[\"health\"],\r\n    },\r\n    {\r\n        id: \"nursing-midwifery\",\r\n        category: EducationFieldCategory.HW,\r\n        subCategory: EducationFieldSubCategory[\"health\"],\r\n    },\r\n    {\r\n        id: \"medical-diagnostic-treatment-technology\",\r\n        category: EducationFieldCategory.HW,\r\n        subCategory: EducationFieldSubCategory[\"health\"],\r\n    },\r\n    {\r\n        id: \"therapy-rehabilitation\",\r\n        category: EducationFieldCategory.HW,\r\n        subCategory: EducationFieldSubCategory[\"health\"],\r\n    },\r\n    {\r\n        id: \"pharmacy\",\r\n        category: EducationFieldCategory.HW,\r\n        subCategory: EducationFieldSubCategory[\"health\"],\r\n    },\r\n    {\r\n        id: \"traditional-complementary-medicine-therapy\",\r\n        category: EducationFieldCategory.HW,\r\n        subCategory: EducationFieldSubCategory[\"health\"],\r\n    },\r\n    {\r\n        id: \"domestic-services\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"personal-services\"],\r\n    },\r\n    {\r\n        id: \"hair-beauty-services\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"personal-services\"],\r\n    },\r\n    {\r\n        id: \"hotel-restaurants-catering\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"personal-services\"],\r\n    },\r\n    {\r\n        id: \"sports\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"personal-services\"],\r\n    },\r\n    {\r\n        id: \"travel-tourism-leisure\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"personal-services\"],\r\n    },\r\n    {\r\n        id: \"community-sanitation\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"hygiene-occupational-health-services\"],\r\n    },\r\n    {\r\n        id: \"occupational-health-safety\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"hygiene-occupational-health-services\"],\r\n    },\r\n    {\r\n        id: \"military-defence\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"security-services\"],\r\n    },\r\n    {\r\n        id: \"protection-of-persons-property\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"security-services\"],\r\n    },\r\n    {\r\n        id: \"transport-services\",\r\n        category: EducationFieldCategory.SER,\r\n        subCategory: EducationFieldSubCategory[\"transport-services\"],\r\n    },\r\n];\r\n\r\n/*const organized: Map<EducationFieldCategory, string[]> = new Map();\r\nEDUCATION_FIELD_CATEGORIES.forEach((cat: EducationFieldCategory) => organized.set(cat, []));\r\nEDUCATION_FIELDS.forEach((f) => organized.get(f.category)?.push(f.id));\r\n\r\nexport const EDUCATION_FIELDS_ORGANIZED = organized;*/\r\n\r\n// Pre-process the education fields to pass as the \"items\" prop of dropdowns\r\nconst sectioned: {[key: string]: {id: string; items: string[]}} = {};\r\nEDUCATION_FIELD_CATEGORIES.forEach((id: EducationFieldCategory) => (sectioned[id] = {id, items: []}));\r\nEDUCATION_FIELDS.forEach((f) => sectioned[f.category].items.push(f.id));\r\n\r\nexport const EDUCATION_FIELDS_SECTIONED = Object.values(sectioned);\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport {MultiPickerProps} from \"./MultiPicker\";\r\nimport SectionedMultiPicker from \"./SectionedMultiPicker\";\r\nimport {EDUCATION_FIELDS_SECTIONED} from \"../model/education-fields\";\r\n\r\n// Component props\r\nexport type EducationFieldPickerProps = {\r\n    fields?: string[];\r\n    onChange?: (fields: string[]) => void;\r\n} & Partial<MultiPickerProps>;\r\n\r\nclass EducationFieldPicker extends React.Component<EducationFieldPickerProps> {\r\n    render(): JSX.Element {\r\n        const {fields, onChange, ...otherProps} = this.props;\r\n\r\n        return (\r\n            <SectionedMultiPicker\r\n                values={EDUCATION_FIELDS_SECTIONED}\r\n                genLabel={(field: string) => `educationFields.${field}`}\r\n                genSectionLabel={(section: string) => `educationFieldCategories.${section}`}\r\n                selected={fields}\r\n                onChange={(values: string[]) => {\r\n                    if (onChange) onChange(values);\r\n                }}\r\n                placeholder={i18n.t(\"educationFieldsPicker.placeholder\")}\r\n                multipleText={i18n.t(\"educationFieldsPicker.multiple\")}\r\n                searchablePlaceholder={i18n.t(\"educationFieldsPicker.searchPlaceholder\")}\r\n                {...otherProps}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default EducationFieldPicker;\r\n","import * as React from \"react\";\r\nimport {ButtonGroup} from \"react-native-elements\";\r\nimport i18n from \"i18n-js\";\r\nimport {Degree, DEGREES} from \"../constants/profile-constants\";\r\nimport {ViewStyle} from \"react-native\";\r\n\r\nexport type DegreeToggleProps = {\r\n    degree?: Degree;\r\n    onUpdate?: (degree?: Degree) => void;\r\n    style?: ViewStyle;\r\n};\r\n\r\nclass DegreeToggle extends React.Component<DegreeToggleProps> {\r\n    render(): JSX.Element {\r\n        const buttonLabels = DEGREES.map((d: string) => i18n.t(`degrees.${d}`));\r\n        const {degree, style} = this.props;\r\n\r\n        return (\r\n            <ButtonGroup\r\n                onPress={(idx: number) => {\r\n                    if (this.props.onUpdate) this.props.onUpdate(idx == -1 ? undefined : DEGREES[idx]);\r\n                }}\r\n                selectedIndex={degree ? DEGREES.indexOf(degree) : -1}\r\n                buttons={buttonLabels}\r\n                containerStyle={[{height: 35, marginLeft: 0, marginRight: 0}, style]}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default DegreeToggle;\r\n","import * as React from \"react\";\r\nimport {StyleSheet} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {Role, ROLES} from \"../constants/profile-constants\";\r\nimport {ButtonGroup, ButtonGroupProps, withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {ThemeProps} from \"../types\";\r\n\r\nexport type RoleToggleProps = {\r\n    role: Role;\r\n    onSelect?: (role: Role) => void;\r\n} & Partial<ButtonGroupProps> &\r\n    ThemeProps;\r\n\r\nfunction RoleToggle(props: RoleToggleProps): JSX.Element {\r\n    const {role, onSelect, theme, ...otherProps} = props;\r\n    const styles = themedStyles(theme);\r\n\r\n    const buttonLabels = ROLES.map((r: string) => i18n.t(`allRoles.${r}`));\r\n\r\n    return (\r\n        <ButtonGroup\r\n            onPress={(idx: number) => {\r\n                if (onSelect) onSelect(ROLES[idx]);\r\n            }}\r\n            selectedIndex={ROLES.indexOf(role)}\r\n            buttons={buttonLabels}\r\n            containerStyle={styles.container}\r\n            {...otherProps}\r\n        />\r\n    );\r\n}\r\n\r\nconst themedStyles = preTheme(() => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            height: 35,\r\n            marginLeft: 0,\r\n            marginRight: 0,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(RoleToggle);\r\n","import * as React from \"react\";\r\nimport {View} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {StaffRole, STAFF_ROLES} from \"../constants/profile-constants\";\r\nimport {Picker} from \"react-native\";\r\n\r\n// Component props\r\nexport type StaffRoleToggleProps = {\r\n    staffRole: StaffRole | null;\r\n    onSelect?: (staffRole: StaffRole) => void;\r\n};\r\n\r\nexport default function StaffRoleToggle(props: StaffRoleToggleProps): JSX.Element {\r\n    const {staffRole} = props;\r\n\r\n    const onSelect = (value: string) => {\r\n        if (props.onSelect) props.onSelect(value as StaffRole);\r\n    };\r\n\r\n    const pickerItems = STAFF_ROLES.map((r) => <Picker.Item key={r} label={i18n.t(`staffRoles.${r}`)} value={r} />);\r\n\r\n    return (\r\n        <View style={{width: \"100%\"}}>\r\n            <Picker selectedValue={staffRole} onValueChange={onSelect}>\r\n                {pickerItems}\r\n            </Picker>\r\n        </View>\r\n    );\r\n}\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport {Gender, GENDERS} from \"../constants/profile-constants\";\r\nimport {ButtonGroup} from \"react-native-elements\";\r\n\r\n// Component props\r\nexport type GenderToggleProps = {\r\n    gender?: Gender | null;\r\n    onSelect?: (gender: Gender) => void;\r\n};\r\n\r\nexport function GenderToggle(props: GenderToggleProps): JSX.Element {\r\n    const buttonLabels = GENDERS.map((r: string) => i18n.t(`genders.${r}`));\r\n    const {gender} = props;\r\n\r\n    const onUpdate = (idx: number) => {\r\n        if (props.onSelect) props.onSelect(GENDERS[idx]);\r\n    };\r\n\r\n    return (\r\n        <ButtonGroup\r\n            onPress={onUpdate}\r\n            selectedIndex={gender !== undefined && gender !== null ? GENDERS.indexOf(gender) : -1}\r\n            buttons={buttonLabels}\r\n            containerStyle={{height: 35, marginLeft: 0, marginRight: 0}}\r\n        />\r\n    );\r\n}\r\n","import * as React from \"react\";\r\nimport {Platform} from \"react-native\";\r\nimport {MIN_AGE} from \"../constants/profile-constants\";\r\nimport DateTimePicker, {Event} from \"@react-native-community/datetimepicker\";\r\n\r\n// Component props\r\nexport type BirthDatePickerProps = {\r\n    date?: Date;\r\n    open: boolean;\r\n    onSelect?: (date: Date) => void;\r\n    onHide?: () => void;\r\n};\r\n\r\n// Component state\r\nexport type BirthDatePickerState = {\r\n    open: boolean;\r\n};\r\n\r\nclass BirthDatePicker extends React.Component<BirthDatePickerProps, BirthDatePickerState> {\r\n    constructor(props: BirthDatePickerProps) {\r\n        super(props);\r\n        this.state = {\r\n            open: props.open,\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(oldProps: BirthDatePickerProps): void {\r\n        if (!oldProps.open && this.props.open) this.showModal();\r\n        if (oldProps.open && !this.props.open) this.hideModal();\r\n    }\r\n\r\n    showModal(): void {\r\n        if (!this.state.open) this.setState({...this.state, open: true});\r\n    }\r\n\r\n    hideModal(): void {\r\n        if (this.state.open) {\r\n            this.setState({...this.state, open: false});\r\n            if (this.props.onHide !== undefined) this.props.onHide();\r\n        }\r\n    }\r\n\r\n    onChange(date: Date | undefined): void {\r\n        if (Platform.OS != \"ios\") this.hideModal();\r\n        if (date && this.props.onSelect) this.props.onSelect(date);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {date} = this.props;\r\n        const {open} = this.state;\r\n\r\n        const maxDate = new Date(Date.now());\r\n        maxDate.setFullYear(maxDate.getFullYear() - MIN_AGE);\r\n\r\n        return (\r\n            <>\r\n                {open && (\r\n                    <DateTimePicker\r\n                        minimumDate={new Date(1900, 0, 0)}\r\n                        maximumDate={maxDate}\r\n                        value={date || maxDate}\r\n                        onChange={(e: Event, date: Date | undefined) => this.onChange(date)}\r\n                        mode=\"date\"\r\n                    />\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BirthDatePicker;\r\n","import {MaterialIcons} from \"@expo/vector-icons\";\r\nimport * as React from \"react\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport {Platform, StyleSheet} from \"react-native\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {ImageInfo} from \"expo-image-picker/build/ImagePicker.types\";\r\nimport {AVATAR_QUALITY} from \"../constants/config\";\r\n\r\n// Component props\r\nexport type AvatarEditButtonProps = ThemeProps & {\r\n    onPictureSelected?: (imageInfo: ImageInfo) => void;\r\n};\r\n\r\nclass AvatarEditButton extends React.Component<AvatarEditButtonProps> {\r\n    ensurePermission = async () => {\r\n        if (Platform.OS !== \"web\") {\r\n            let {status} = await Permissions.getAsync(Permissions.CAMERA_ROLL);\r\n            if (status !== \"granted\") {\r\n                status = await (await Permissions.askAsync(Permissions.CAMERA_ROLL)).status;\r\n                /*if (status !== \"granted\") {\r\n                    alert(\"Sorry, we need camera roll permissions to make this work!\");\r\n                }*/\r\n                return status === \"granted\";\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    showPicker = async () => {\r\n        const authorized = this.ensurePermission();\r\n\r\n        if (authorized) {\r\n            try {\r\n                const result = await ImagePicker.launchImageLibraryAsync({\r\n                    mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n                    allowsEditing: true,\r\n                    aspect: [1, 1],\r\n                    quality: AVATAR_QUALITY,\r\n                });\r\n                if (!result.cancelled) {\r\n                    const info: ImageInfo = result;\r\n                    if (this.props.onPictureSelected) this.props.onPictureSelected(info);\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Could not get image. Check console for error.\");\r\n                console.log(e);\r\n            }\r\n        }\r\n    };\r\n\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return <MaterialIcons onPress={() => this.showPicker()} style={styles.buttonStyle} name=\"edit\" />;\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        buttonStyle: {\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            right: 0,\r\n            borderRadius: 20,\r\n            padding: 4,\r\n            backgroundColor: theme.cardBackground,\r\n            color: theme.text,\r\n            fontSize: 20,\r\n            elevation: 2,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(AvatarEditButton);\r\n","import * as React from \"react\";\r\nimport {Modal, Text, TouchableOpacity, TouchableOpacityProps, View, StyleSheet} from \"react-native\";\r\nimport {formStyle} from \"../../styles/forms\";\r\nimport i18n from \"i18n-js\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {Schema, ValidationError} from \"yup\";\r\nimport {Theme} from \"../../types\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport themes from \"../../constants/themes\";\r\n\r\n// Map props from the store\r\nconst mapStateToProps = (state: AppState) => ({\r\n    theme: themes[state.settings.theme],\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\n// Component props\r\ntype FormRowProps<T> = ConnectedProps<typeof reduxConnector> & {\r\n    label: string;\r\n    display?: JSX.Element;\r\n    noModal?: boolean;\r\n    overrideModal?: (hide: () => void) => JSX.Element;\r\n    renderInput?: (value: T, error: string | null, onChange: (value: T) => void) => JSX.Element;\r\n    validator?: Schema<T>;\r\n    initialValue: T;\r\n    apply?: (value: T) => void;\r\n    locked?: boolean;\r\n} & TouchableOpacityProps;\r\n\r\n// Component state\r\ntype FormRowState<T> = {\r\n    modalOpen: boolean;\r\n    error: string | null;\r\n    value: T;\r\n};\r\n\r\nclass FormRowComponent<T> extends React.Component<FormRowProps<T>, FormRowState<T>> {\r\n    constructor(props: FormRowProps<T>) {\r\n        super(props);\r\n        this.state = {\r\n            modalOpen: false,\r\n            error: null,\r\n            value: props.initialValue,\r\n        };\r\n    }\r\n\r\n    setModal(modalOpen: boolean): void {\r\n        // Reset to initial value when opening the modal\r\n        this.setState({...this.state, modalOpen, value: this.props.initialValue, error: null});\r\n    }\r\n\r\n    setError(error: string | null): void {\r\n        this.setState({...this.state, error});\r\n    }\r\n\r\n    onChange(value: T): void {\r\n        this.setState({...this.state, value}, () => {\r\n            this.validate();\r\n        });\r\n    }\r\n\r\n    validate(): boolean {\r\n        const {validator} = this.props;\r\n        if (!validator) return true;\r\n        try {\r\n            validator.validateSync(this.state.value);\r\n            this.setError(null);\r\n            return true;\r\n        } catch (err) {\r\n            this.setError((err as ValidationError).errors[0]);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    apply(): void {\r\n        if (this.validate()) {\r\n            this.setModal(false);\r\n            if (this.props.apply) this.props.apply(this.state.value);\r\n        }\r\n    }\r\n\r\n    renderModalContent = (): JSX.Element => {\r\n        const {label, theme, renderInput} = this.props;\r\n        const {value, error} = this.state;\r\n\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <TouchableOpacity style={styles.modalTouchable} onPress={() => this.setModal(false)} activeOpacity={1}>\r\n                <TouchableOpacity activeOpacity={1} style={styles.modalWrapper}>\r\n                    <Text style={styles.modalLabel}>{label}</Text>\r\n                    {renderInput ? renderInput(value, error, (value: T) => this.onChange(value)) : <></>}\r\n                    <Text style={styles.modalErrorText}>{/*touched && */ error ? i18n.t(error) : \"\"}</Text>\r\n                    <View style={styles.modalActions}>\r\n                        <TouchableOpacity\r\n                            accessibilityRole=\"button\"\r\n                            accessibilityLabel=\"CANCEL\"\r\n                            onPress={() => this.setModal(false)}\r\n                            style={styles.modalCancel}\r\n                        >\r\n                            <Text style={styles.modalActionText}>{i18n.t(\"cancel\")}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity\r\n                            accessibilityRole=\"button\"\r\n                            accessibilityLabel=\"OK\"\r\n                            onPress={() => this.apply()}\r\n                            style={styles.modalOk}\r\n                        >\r\n                            <Text style={styles.modalActionText}>{i18n.t(\"apply\")}</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </TouchableOpacity>\r\n            </TouchableOpacity>\r\n        );\r\n    };\r\n\r\n    render(): JSX.Element {\r\n        const {theme, label, display, overrideModal, noModal, style, locked, ...otherProps} = this.props;\r\n        const {modalOpen} = this.state;\r\n\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <>\r\n                <TouchableOpacity\r\n                    style={[styles.cardWrapper, style]}\r\n                    activeOpacity={0.9}\r\n                    disabled={noModal}\r\n                    onPress={() => {\r\n                        if (!locked) this.setModal(true);\r\n                    }}\r\n                    {...otherProps}\r\n                >\r\n                    <View style={styles.cardContent}>\r\n                        <Text style={styles.cardLabel}>{label}</Text>\r\n                        <View>\r\n                            {display !== undefined && display}\r\n                            {display === undefined && this.props.children}\r\n                        </View>\r\n                    </View>\r\n                    {!noModal && (\r\n                        <View style={styles.rightIconContainer}>\r\n                            <MaterialIcons\r\n                                name={locked ? \"lock\" : \"keyboard-arrow-right\"}\r\n                                size={locked ? 30 : 40}\r\n                                style={styles.rightIcon}\r\n                            ></MaterialIcons>\r\n                        </View>\r\n                    )}\r\n                </TouchableOpacity>\r\n                {!noModal && (\r\n                    <React.Fragment>\r\n                        {overrideModal !== undefined && modalOpen && overrideModal(() => this.setModal(false))}\r\n                        {overrideModal === undefined && modalOpen && (\r\n                            <Modal transparent={true} visible={modalOpen} animationType=\"slide\">\r\n                                {this.renderModalContent()}\r\n                            </Modal>\r\n                        )}\r\n                    </React.Fragment>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        modalTouchable: {\r\n            flex: 1,\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.5)\",\r\n        },\r\n        modalWrapper: {\r\n            width: \"80%\",\r\n            maxWidth: 500,\r\n            backgroundColor: theme.cardBackground,\r\n            paddingHorizontal: 10,\r\n            paddingVertical: 20,\r\n            borderRadius: 4,\r\n            borderColor: \"#ccc\",\r\n            borderWidth: 0.5,\r\n            borderStyle: \"solid\",\r\n        },\r\n        modalErrorText: {\r\n            fontSize: 12,\r\n            color: theme.error,\r\n        },\r\n        modalLabel: {\r\n            color: theme.textLight,\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1.5,\r\n            fontSize: 13,\r\n            marginBottom: 12,\r\n        },\r\n        modalActions: {\r\n            ...formStyle.actionRow,\r\n            height: 50,\r\n            marginTop: 20,\r\n        },\r\n        modalCancel: {\r\n            ...formStyle.buttonMajor,\r\n            flex: 1,\r\n            backgroundColor: theme.actionNeutral,\r\n            marginRight: 6,\r\n            height: 50,\r\n        },\r\n        modalOk: {\r\n            ...formStyle.buttonMajor,\r\n            flex: 1,\r\n            backgroundColor: theme.accent,\r\n            marginLeft: 6,\r\n            height: 50,\r\n        },\r\n        modalActionText: {\r\n            ...formStyle.buttonMajorText,\r\n            lineHeight: 50,\r\n        },\r\n        cardWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"row\",\r\n            backgroundColor: theme.cardBackground,\r\n            paddingHorizontal: 10,\r\n            elevation: 1,\r\n            justifyContent: \"space-evenly\",\r\n            paddingVertical: 15,\r\n            minHeight: 80,\r\n        },\r\n        cardContent: {\r\n            flex: 1,\r\n            flexDirection: \"column\",\r\n            //justifyContent: \"space-evenly\",\r\n            justifyContent: \"space-between\",\r\n        },\r\n        cardLabel: {\r\n            color: theme.textLight,\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1,\r\n            fontSize: 11,\r\n            marginBottom: 10,\r\n        },\r\n        rightIconContainer: {justifyContent: \"center\"},\r\n        rightIcon: {color: theme.textLight},\r\n    });\r\n});\r\n\r\nexport default reduxConnector(FormRowComponent);\r\n","import * as React from \"react\";\r\n\r\nimport {Text, TextProps} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\n\r\n// Component props\r\nexport type FormattedDateProps = {\r\n    date?: Date;\r\n} & TextProps;\r\n\r\nexport function FormattedDate(props: FormattedDateProps): JSX.Element {\r\n    const {date, ...otherProps} = props;\r\n\r\n    if (date) {\r\n        const localizedMonth = i18n.t(`months.${date.getMonth()}`);\r\n        const paddedDay = ((date.getDate() + \"\").length == 1 ? \"0\" : \"\") + date.getDate();\r\n        const formattedDate = `${paddedDay} ${localizedMonth} ${date.getFullYear()}`;\r\n\r\n        return <Text {...otherProps}>{formattedDate}</Text>;\r\n    } else return <></>;\r\n}\r\n","import * as React from \"react\";\r\nimport {StyleSheet} from \"react-native\";\r\nimport CountryPicker, {Country, CountryCode, TranslationLanguageCode} from \"react-native-country-picker-modal\";\r\nimport i18n from \"i18n-js\";\r\nimport {ThemeProps} from \"../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\n\r\n// Component props\r\nexport type NationalityPickerProps = ThemeProps & {\r\n    nationality?: CountryCode;\r\n    open?: boolean;\r\n    onSelect?: (countryCode: CountryCode) => void;\r\n    onHide?: () => void;\r\n};\r\n\r\n// Component state\r\nexport type NationalityPickerState = {\r\n    open: boolean;\r\n};\r\n\r\nclass NationalityPicker extends React.Component<NationalityPickerProps, NationalityPickerState> {\r\n    constructor(props: NationalityPickerProps) {\r\n        super(props);\r\n        this.state = {\r\n            open: props.open === undefined ? true : props.open,\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(oldProps: NationalityPickerProps) {\r\n        if (!oldProps.open && this.props.open) this.showModal();\r\n        if (oldProps.open && !this.props.open) this.hideModal();\r\n    }\r\n\r\n    showModal(): void {\r\n        if (!this.state.open) this.setState({...this.state, open: true});\r\n    }\r\n\r\n    hideModal(): void {\r\n        if (this.state.open) {\r\n            this.setState({...this.state, open: false});\r\n            if (this.props.onHide !== undefined) this.props.onHide();\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const {open} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <CountryPicker\r\n                countryCode={this.props.nationality || \"FR\"}\r\n                filterProps={{placeholder: i18n.t(\"search\")}}\r\n                withFlag={true}\r\n                withFilter={true}\r\n                withEmoji={false}\r\n                onSelect={(country: Country) => {\r\n                    if (this.props.onSelect) this.props.onSelect(country.cca2);\r\n                }}\r\n                onClose={() => this.hideModal()}\r\n                translation={i18n.t(\"countryPickerLanguageCode\") as TranslationLanguageCode}\r\n                visible={open}\r\n                containerButtonStyle={styles.pickerContainerButton}\r\n            ></CountryPicker>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme(() => {\r\n    return StyleSheet.create({\r\n        pickerContainerButton: {\r\n            display: \"none\",\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(NationalityPicker);\r\n","import * as React from \"react\";\r\nimport {Text, TextProps, View} from \"react-native\";\r\nimport {CountryCode, Flag, TranslationLanguageCode} from \"react-native-country-picker-modal\";\r\nimport {CountryInfo, getCountryInfoAsync} from \"react-native-country-picker-modal/lib/CountryService\";\r\nimport i18n from \"i18n-js\";\r\n\r\n// Component props\r\nexport type FormattedNationalityProps = {\r\n    countryCode: CountryCode;\r\n    flagSize?: number;\r\n} & TextProps;\r\n\r\n// Component state\r\nexport type FormattedNationalityState = {\r\n    countryName: string;\r\n};\r\n\r\nclass FormattedNationality extends React.Component<FormattedNationalityProps, FormattedNationalityState> {\r\n    constructor(props: FormattedNationalityProps) {\r\n        super(props);\r\n        this.state = {\r\n            countryName: \"\",\r\n        };\r\n        this.updateCountryName();\r\n    }\r\n\r\n    updateCountryName(): void {\r\n        const {countryCode} = this.props;\r\n        const translation = i18n.t(\"countryPickerLanguageCode\") as TranslationLanguageCode;\r\n        getCountryInfoAsync({countryCode, translation}).then((info: CountryInfo) => {\r\n            this.setState({countryName: info.countryName});\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps: FormattedNationalityProps): void {\r\n        if (this.props.countryCode != prevProps.countryCode) {\r\n            this.updateCountryName();\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {countryCode, ...otherProps} = this.props;\r\n        const {countryName} = this.state;\r\n\r\n        const flagSize = this.props.flagSize || 20;\r\n\r\n        return (\r\n            <View style={{flexDirection: \"row\"}}>\r\n                <Flag countryCode={countryCode} flagSize={flagSize} withEmoji={false}></Flag>\r\n                <Text {...otherProps}>{countryName}</Text>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormattedNationality;\r\n","import * as React from \"react\";\r\nimport {Text, TextProps, View, ViewStyle} from \"react-native\";\r\nimport {Flag} from \"react-native-country-picker-modal\";\r\nimport i18n from \"i18n-js\";\r\nimport {University} from \"../constants/universities\";\r\n\r\n// Component props\r\nexport type FormattedUniversityProps = {\r\n    university: University | null;\r\n    containerStyle?: ViewStyle;\r\n} & TextProps;\r\n\r\nexport default class FormattedUniversity extends React.Component<FormattedUniversityProps> {\r\n    render(): JSX.Element {\r\n        const {university, containerStyle, ...otherProps} = this.props;\r\n\r\n        return (\r\n            <View style={[{flexDirection: \"row\"}, containerStyle]}>\r\n                {university && (\r\n                    <>\r\n                        <Flag countryCode={university.country} flagSize={18} withEmoji={false}></Flag>\r\n                        <Text {...otherProps} style={[{marginLeft: -5}, otherProps.style]}>\r\n                            {i18n.t(`universities.${university.key}`)}\r\n                        </Text>\r\n                    </>\r\n                )}\r\n            </View>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport {View, ViewProps, LayoutChangeEvent, TouchableOpacity, Text} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport DropDownPicker from \"react-native-dropdown-picker\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState} from \"../state/types\";\r\nimport {Overlay, withTheme} from \"react-native-elements\";\r\nimport {pickerStyles} from \"../styles/picker\";\r\nimport {ThemeProps} from \"../types\";\r\nimport {SupportedLocale} from \"../localization\";\r\n\r\ntype PickerItem = {\r\n    value: string;\r\n    label: string;\r\n};\r\n\r\n// Map props from store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    locale: state.settings.locale,\r\n}));\r\n\r\n// Component props\r\nexport type MultiPickerProps = ConnectedProps<typeof reduxConnector> & {\r\n    values: string[];\r\n    genLabel?: (value: string) => string;\r\n    onChange?: (values: string[]) => void;\r\n    selected?: string[];\r\n    placeholder?: string;\r\n    multipleText?: string;\r\n    searchablePlaceholder?: string;\r\n    showSelected?: boolean;\r\n} & ViewProps &\r\n    ThemeProps;\r\n\r\n// Component state\r\nexport type MultiPickerState = {\r\n    items: Map<SupportedLocale, PickerItem[]>;\r\n    open: boolean;\r\n    dropdownWrapperHeight: number;\r\n};\r\n\r\nclass MultiPicker extends React.Component<MultiPickerProps, MultiPickerState> {\r\n    static defaultProps = {\r\n        items: [],\r\n        showSelected: true,\r\n        selected: [],\r\n    };\r\n\r\n    tempSelected: string[] = [];\r\n\r\n    constructor(props: MultiPickerProps) {\r\n        super(props);\r\n        this.state = {\r\n            items: new Map(),\r\n            open: false,\r\n            dropdownWrapperHeight: 0,\r\n        };\r\n    }\r\n\r\n    updateItems() {\r\n        const locale = this.props.locale;\r\n        if (!this.state.items.has(locale) || this.state.items.get(locale)?.length != this.props.values.length) {\r\n            const items = new Map(this.state.items);\r\n            items.set(\r\n                locale,\r\n                this.props.values.map((value: string) => ({\r\n                    value,\r\n                    label: this.props.genLabel ? i18n.t(this.props.genLabel(value)) : value,\r\n                })),\r\n            );\r\n            this.setState({...this.state, items});\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateItems();\r\n    }\r\n\r\n    componentDidUpdate(oldProps: MultiPickerProps) {\r\n        if (oldProps.locale != this.props.locale || oldProps.values.length != this.props.values.length) {\r\n            this.updateItems();\r\n        }\r\n    }\r\n\r\n    open() {\r\n        this.tempSelected = this.props.selected || [];\r\n        this.setState({...this.state, open: true});\r\n    }\r\n\r\n    close() {\r\n        this.setState({...this.state, open: false});\r\n        if (this.props.onChange) {\r\n            this.props.onChange(this.tempSelected);\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {\r\n            theme,\r\n            locale,\r\n            selected,\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            onChange,\r\n            genLabel,\r\n            placeholder,\r\n            multipleText,\r\n            searchablePlaceholder,\r\n            showSelected,\r\n            ...viewProps\r\n        } = this.props;\r\n        const styles = pickerStyles(theme);\r\n\r\n        const selectedItems = selected || [];\r\n        const items = this.state.items.get(locale) || [];\r\n\r\n        return (\r\n            <View {...viewProps}>\r\n                <View>\r\n                    <TouchableOpacity onPress={() => this.open()} style={styles.openButton}>\r\n                        <Text style={styles.openButtonText}>\r\n                            {i18n.t(\"picker.callToAction\").replace(\"%d\", selectedItems.length.toString())}\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n                    <View>\r\n                        {showSelected &&\r\n                            selectedItems.map((val: string, i: number) => (\r\n                                <View key={i} style={styles.selectedItemView}>\r\n                                    <Text style={styles.selectedItemText} numberOfLines={1}>\r\n                                        {genLabel ? i18n.t(genLabel(val)) : val}\r\n                                    </Text>\r\n                                </View>\r\n                            ))}\r\n                    </View>\r\n                </View>\r\n                {this.state.open && (\r\n                    <Overlay\r\n                        overlayStyle={[styles.overlay, {height: 150 + items.length * 40}]}\r\n                        isVisible={this.state.open}\r\n                        onRequestClose={() => this.close()}\r\n                        onBackdropPress={() => this.close()}\r\n                    >\r\n                        <>\r\n                            <View\r\n                                style={styles.dropdownWrapper}\r\n                                onLayout={(e: LayoutChangeEvent) => {\r\n                                    this.setState({...this.state, dropdownWrapperHeight: e.nativeEvent.layout.height});\r\n                                }}\r\n                            >\r\n                                <DropDownPicker\r\n                                    items={items}\r\n                                    multiple={true}\r\n                                    searchable={true}\r\n                                    defaultValue={selected}\r\n                                    onChangeItem={(values: string[]) => {\r\n                                        this.tempSelected = values;\r\n                                    }}\r\n                                    placeholder={placeholder}\r\n                                    multipleText={multipleText}\r\n                                    searchablePlaceholder={searchablePlaceholder}\r\n                                    scrollViewProps={{keyboardShouldPersistTaps: \"always\"}} // ensures items are clickable even when the keyboard is open\r\n                                    isVisible={true}\r\n                                    showArrow={false}\r\n                                    dropDownMaxHeight={this.state.dropdownWrapperHeight - 10}\r\n                                    // Style props\r\n                                    selectedLabelStyle={{display: \"none\"}}\r\n                                    style={styles.dropdownStyle}\r\n                                    itemStyle={styles.dropdownItemStyle}\r\n                                    activeItemStyle={styles.dropdownActiveItemStyle}\r\n                                    activeLabelStyle={styles.dropdownActiveLabelStyle}\r\n                                    labelStyle={styles.dropdownLabelStyle}\r\n                                />\r\n                            </View>\r\n                            <View>\r\n                                <TouchableOpacity onPress={() => this.close()} style={styles.okButton}>\r\n                                    <Text style={styles.okButtonText}>OK</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </>\r\n                    </Overlay>\r\n                )}\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(withTheme(MultiPicker));\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState} from \"../state/types\";\r\nimport {InterestDto} from \"../api/dto\";\r\nimport MultiPicker from \"./MultiPicker\";\r\n\r\n// Map props from store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    allInterests: state.profile.interests,\r\n}));\r\n\r\nlet values: string[] = [];\r\n\r\n// Component props\r\nexport type InterestsPickerProps = ConnectedProps<typeof reduxConnector> & {\r\n    interests: string[];\r\n    onChange?: (interests: string[]) => void;\r\n};\r\n\r\nclass InterestsPicker extends React.Component<InterestsPickerProps> {\r\n    componentDidMount() {\r\n        if (values.length == 0) this.updateValues();\r\n    }\r\n\r\n    componentDidUpdate(oldProps: InterestsPickerProps) {\r\n        if (oldProps.allInterests.length != this.props.allInterests.length) this.updateValues();\r\n    }\r\n\r\n    updateValues() {\r\n        values = this.props.allInterests.map((interest: InterestDto) => interest.id);\r\n\r\n        console.log(\"Interests : \" + this.props.allInterests.length);\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {interests, onChange} = this.props;\r\n\r\n        return (\r\n            <MultiPicker\r\n                values={values}\r\n                genLabel={(interestId: string) => `interestNames.${interestId}`}\r\n                selected={interests}\r\n                onChange={(values: string[]) => {\r\n                    if (onChange) onChange(values);\r\n                }}\r\n                placeholder={i18n.t(\"interestsPicker.placeholder\")}\r\n                multipleText={i18n.t(\"interestsPicker.multiple\")}\r\n                searchablePlaceholder={i18n.t(\"interestsPicker.searchPlaceholder\")}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(InterestsPicker);\r\n","import {Degree, Gender, LanguageLevel, Role, StaffRole} from \"../constants/profile-constants\";\r\nimport {UniversityKey} from \"../constants/universities\";\r\nimport {CountryCode} from \"../model/country-codes\";\r\nimport {User} from \"../model/user\";\r\n\r\nexport type SpokenLanguageDto = {\r\n    code: string;\r\n    level: LanguageLevel;\r\n};\r\n\r\nexport type UserRole = \"user\" | \"admin\";\r\n\r\nexport type ResponseUserDto = {\r\n    id: string;\r\n    role: UserRole;\r\n    email: string;\r\n    isVerified: boolean;\r\n    onboarded: boolean;\r\n    profile: ResponseProfileDto;\r\n};\r\n\r\nexport type TokenDto = {\r\n    expiresIn: number;\r\n    accessToken: string;\r\n};\r\n\r\nexport type LoginDto = {\r\n    user: User;\r\n    token: TokenDto;\r\n};\r\n\r\nexport type CreateProfileDtoCommon = {\r\n    type: Role;\r\n    firstName: string;\r\n    lastName: string;\r\n    gender: Gender;\r\n    birthdate: string;\r\n    nationality: CountryCode;\r\n    languages: SpokenLanguageDto[];\r\n    interests: string[];\r\n    profileOffers: OfferValueDto[];\r\n    educationFields: EducationFieldDto[];\r\n};\r\n\r\nexport type CreateProfileDtoStudent = CreateProfileDtoCommon & {\r\n    degree: Degree;\r\n};\r\n\r\nexport type CreateProfileDtoStaff = CreateProfileDtoCommon & {\r\n    staffRole: StaffRole;\r\n};\r\n\r\nexport type CreateProfileDto = CreateProfileDtoStudent | CreateProfileDtoStaff;\r\n\r\nexport type ResponseProfileDto = CreateProfileDto & {id: string; university: UniversityKey; avatar: string};\r\n\r\nexport type FetchProfilesResponseDto = {\r\n    data: ResponseProfileDto[];\r\n    meta: {\r\n        currentPage: number;\r\n        itemCount: number;\r\n        itemsPerPage: number;\r\n        totalItems: number;\r\n        totalPages: number;\r\n    };\r\n    links: {\r\n        first: string;\r\n        last: string;\r\n        next: string;\r\n        previous: string;\r\n    };\r\n};\r\n\r\nexport type FetchMyMatchesResponseDto = ResponseProfileDto[];\r\n\r\nexport enum OfferCategory {\r\n    Discover = \"discover\",\r\n    Collaborate = \"collaborate\",\r\n    Meet = \"meet\",\r\n}\r\n\r\nexport type EducationFieldDto = {\r\n    id: string;\r\n};\r\n\r\nexport type OfferDto = {\r\n    id: string;\r\n    category: OfferCategory;\r\n    allowChooseProfileType: boolean;\r\n    allowChooseGender: boolean;\r\n    allowInterRole: boolean;\r\n};\r\n\r\nexport type OfferValueDto = {\r\n    offerId: string;\r\n    allowStaff: boolean;\r\n    allowStudent: boolean;\r\n    allowMale: boolean;\r\n    allowFemale: boolean;\r\n    allowOther: boolean;\r\n};\r\n\r\nexport const initOfferValue = (o: OfferDto, val = false): OfferValueDto => {\r\n    const genderVal = val && o.allowChooseGender;\r\n    const typeVal = val && o.allowChooseProfileType;\r\n    return {\r\n        offerId: o.id,\r\n        allowFemale: genderVal,\r\n        allowMale: genderVal,\r\n        allowOther: genderVal,\r\n        allowStudent: typeVal,\r\n        allowStaff: typeVal,\r\n    };\r\n};\r\n\r\nexport type InterestDto = {\r\n    id: string;\r\n};\r\n\r\nexport type SignedUrlResponseDto = {\r\n    fileName: string;\r\n    s3Url: string;\r\n};\r\n\r\nexport type AvatarSuccessfulUpdatedDto = {\r\n    avatar: string;\r\n};\r\n\r\nexport type LikeProfileResponseDto = \"requested\" | \"matched\";\r\n","import * as React from \"react\";\r\nimport DropDownPicker from \"react-native-dropdown-picker\";\r\nimport i18n from \"i18n-js\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState} from \"../state/types\";\r\nimport {View, ViewProps, StyleSheet} from \"react-native\";\r\nimport {ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\n// Map props from store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    languageItems: state.settings.localizedLanguageItems,\r\n}));\r\n\r\n// Component props\r\nexport type LanguagePickerProps = ConnectedProps<typeof reduxConnector> & {\r\n    languages: string[];\r\n    single: boolean;\r\n    onChange?: (languages: string[]) => void;\r\n} & ViewProps &\r\n    ThemeProps;\r\n\r\ntype PickerItem = {\r\n    value: string;\r\n    label: string;\r\n};\r\n\r\nclass LanguagePicker extends React.Component<LanguagePickerProps> {\r\n    static defaultProps = {\r\n        languages: [],\r\n    };\r\n\r\n    render(): JSX.Element {\r\n        const {onChange, languageItems, single, languages, theme, ...viewProps} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View {...viewProps}>\r\n                <DropDownPicker\r\n                    items={languageItems}\r\n                    multiple={!single}\r\n                    searchable={true}\r\n                    placeholder={i18n.t(`languagePicker.placeholder${single ? \"Single\" : \"Multiple\"}`)}\r\n                    searchablePlaceholder={i18n.t(\"languagePicker.searchPlaceholder\")}\r\n                    onChangeItem={(items: PickerItem | PickerItem[]) => {\r\n                        const languages = (Array.isArray(items) ? items : [items]).map((it: PickerItem) => it.value);\r\n                        if (onChange) onChange(languages);\r\n                    }}\r\n                    defaultValue={single ? languages[0] : languages}\r\n                    style={styles.picker}\r\n                    itemStyle={styles.pickerItem}\r\n                    labelStyle={styles.pickerLabel}\r\n                    containerStyle={styles.containerStyle}\r\n                    dropDownMaxHeight={300}\r\n                    arrowSize={20}\r\n                ></DropDownPicker>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme(() => {\r\n    return StyleSheet.create({\r\n        picker: {\r\n            backgroundColor: \"#fafafa\",\r\n            // just setting borderRadius won't work.\r\n            // See https://github.com/hossein-zare/react-native-dropdown-picker#borderradius\r\n            borderTopLeftRadius: 0,\r\n            borderTopRightRadius: 0,\r\n            borderBottomLeftRadius: 0,\r\n            borderBottomRightRadius: 0,\r\n        },\r\n        containerStyle: {height: 50},\r\n        pickerItem: {justifyContent: \"flex-start\"},\r\n        pickerLabel: {fontSize: 16},\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(LanguagePicker));\r\n","import * as React from \"react\";\r\nimport DropDownPicker from \"react-native-dropdown-picker\";\r\nimport i18n from \"i18n-js\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState} from \"../state/types\";\r\nimport {View, ViewProps, StyleSheet} from \"react-native\";\r\nimport {LanguageLevel, LANGUAGE_LEVELS} from \"../constants/profile-constants\";\r\nimport {ThemeProps} from \"../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {SupportedLocale} from \"../localization\";\r\n\r\n// Map props from store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    locale: state.settings.locale,\r\n}));\r\n\r\n// Component props\r\nexport type LanguageLevelPickerProps = {\r\n    level: LanguageLevel;\r\n    onChange?: (level: LanguageLevel) => void;\r\n} & ViewProps &\r\n    ThemeProps &\r\n    ConnectedProps<typeof reduxConnector>;\r\n\r\ntype PickerItem = {\r\n    value: LanguageLevel;\r\n    label: string;\r\n};\r\n\r\nconst items: Map<SupportedLocale, PickerItem[]> = new Map();\r\n\r\nfunction updateItems(locale: SupportedLocale) {\r\n    if (!items.has(locale)) {\r\n        items.set(\r\n            locale,\r\n            LANGUAGE_LEVELS.map((code: LanguageLevel) => ({\r\n                label: i18n.t(`languageLevels.${code}`),\r\n                value: code,\r\n            })),\r\n        );\r\n    }\r\n}\r\n\r\nclass LanguageLevelPicker extends React.Component<LanguageLevelPickerProps> {\r\n    constructor(props: LanguageLevelPickerProps) {\r\n        super(props);\r\n        updateItems(this.props.locale);\r\n    }\r\n\r\n    componentDidUpdate(oldProps: LanguageLevelPickerProps) {\r\n        const locale = this.props.locale;\r\n        if (oldProps.locale != locale) updateItems(locale);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onChange, locale, level, theme, ...viewProps} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View {...viewProps}>\r\n                <DropDownPicker\r\n                    items={items.get(locale) || []}\r\n                    defaultValue={level}\r\n                    multiple={false}\r\n                    searchable={false}\r\n                    placeholder={i18n.t(\"languageLevelPicker.placeholder\")}\r\n                    onChangeItem={(item: PickerItem) => {\r\n                        if (onChange) onChange(item.value);\r\n                    }}\r\n                    style={styles.picker}\r\n                    containerStyle={styles.pickerContainer}\r\n                    itemStyle={styles.pickerItem}\r\n                    labelStyle={styles.pickerLabel}\r\n                    dropDownMaxHeight={300}\r\n                    arrowSize={20}\r\n                ></DropDownPicker>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme(() => {\r\n    return StyleSheet.create({\r\n        picker: {\r\n            backgroundColor: \"#fafafa\",\r\n            // just setting borderRadius won't work.\r\n            // See https://github.com/hossein-zare/react-native-dropdown-picker#borderradius\r\n            borderTopLeftRadius: 0,\r\n            borderTopRightRadius: 0,\r\n            borderBottomLeftRadius: 0,\r\n            borderBottomRightRadius: 0,\r\n        },\r\n        pickerContainer: {maxWidth: 120, height: 50, borderRadius: 0},\r\n        pickerItem: {justifyContent: \"flex-start\"},\r\n        pickerLabel: {fontSize: 16},\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(LanguageLevelPicker));\r\n","import * as React from \"react\";\r\nimport {View, StyleSheet, ViewStyle} from \"react-native\";\r\nimport LanguagePicker from \"./LanguagePicker\";\r\nimport LanguageLevelPicker from \"./LanguageLevelPicker\";\r\nimport InputErrorText from \"./InputErrorText\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {LanguageLevel} from \"../constants/profile-constants\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {SpokenLanguageDto} from \"../api/dto\";\r\nimport {MAX_SPOKEN_LANGUAGES} from \"../constants/config\";\r\n\r\n// Component props\r\nexport type SpokenLanguagesInputProps = ThemeProps & {\r\n    languages: SpokenLanguageDto[];\r\n    onChange?: (languages: SpokenLanguageDto[], hasErrors: boolean) => void;\r\n    style?: ViewStyle;\r\n};\r\n\r\n// Component state\r\nexport type SpokenLanguagesInputState = {\r\n    languages: Partial<SpokenLanguageDto>[];\r\n    errors: (string | boolean)[];\r\n};\r\n\r\nclass SpokenLanguagesInput extends React.Component<SpokenLanguagesInputProps, SpokenLanguagesInputState> {\r\n    constructor(props: SpokenLanguagesInputProps) {\r\n        super(props);\r\n        const languages = props.languages || [];\r\n        this.state = {\r\n            languages,\r\n            errors: languages.map(() => false),\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.languages.length == 0) this.addRow();\r\n    }\r\n\r\n    onChange(languages: Partial<SpokenLanguageDto>[]) {\r\n        const errors = this.computeErrors(languages);\r\n        this.setState({...this.state, languages, errors});\r\n\r\n        if (this.props.onChange) {\r\n            const hasErrors = errors.filter((e: string | boolean) => e !== false).length > 0;\r\n            this.props.onChange(\r\n                languages\r\n                    .filter((l: Partial<SpokenLanguageDto>) => l.code && l.level)\r\n                    .map((l: Partial<SpokenLanguageDto>) => l as SpokenLanguageDto),\r\n                hasErrors,\r\n            );\r\n        }\r\n    }\r\n\r\n    computeErrors(languages: Partial<SpokenLanguageDto>[]): (string | boolean)[] {\r\n        return languages.map((sl: Partial<SpokenLanguageDto>) => {\r\n            const multipleOccurrences =\r\n                languages.filter((l: Partial<SpokenLanguageDto>) => l.code && l.code == sl.code).length > 1;\r\n            return multipleOccurrences ? \"validation.languages.multiple\" : !sl.code || !sl.level;\r\n        });\r\n    }\r\n\r\n    addRow() {\r\n        if (this.state.languages.length < MAX_SPOKEN_LANGUAGES) {\r\n            const languages = this.state.languages.concat([{code: \"\"}]);\r\n            this.onChange(languages);\r\n        }\r\n    }\r\n\r\n    removeRow(idx: number) {\r\n        if (idx >= 0 && idx < this.state.languages.length) {\r\n            const languages = this.state.languages.slice(); // copy\r\n            languages.splice(idx, 1);\r\n            this.onChange(languages);\r\n        }\r\n    }\r\n\r\n    setLanguageCode(idx: number, code: string) {\r\n        const languages = this.state.languages.slice(); // copy\r\n        languages[idx].code = code;\r\n        this.onChange(languages);\r\n    }\r\n\r\n    setLanguageLevel(idx: number, level: LanguageLevel) {\r\n        const languages = this.state.languages.slice(); // copy\r\n        languages[idx].level = level;\r\n        this.onChange(languages);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, style} = this.props;\r\n        const {languages} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        const rows = languages.map((sl: Partial<SpokenLanguageDto>, i: number) => {\r\n            const error = this.state.errors[i];\r\n            return (\r\n                <View key={i} style={styles.rowContainer}>\r\n                    <View style={styles.inputRowContainer}>\r\n                        <LanguagePicker\r\n                            single={true}\r\n                            languages={[sl.code]}\r\n                            style={styles.languagePicker}\r\n                            pickerStyle={styles.inputs}\r\n                            onChange={(languageCodes: string[]) => this.setLanguageCode(i, languageCodes[0])}\r\n                        />\r\n                        <LanguageLevelPicker\r\n                            level={sl.level}\r\n                            style={styles.levelPicker}\r\n                            onChange={(level: LanguageLevel) => this.setLanguageLevel(i, level)}\r\n                        ></LanguageLevelPicker>\r\n                        <MaterialIcons onPress={() => this.removeRow(i)} style={styles.deleteIcon} name=\"delete\" />\r\n                    </View>\r\n                    {typeof error === \"string\" && (\r\n                        <View style={styles.errorRowContainer}>\r\n                            <InputErrorText error={error} />\r\n                        </View>\r\n                    )}\r\n                </View>\r\n            );\r\n        });\r\n\r\n        const canAddMore =\r\n            this.state.languages.length < MAX_SPOKEN_LANGUAGES &&\r\n            this.state.languages.filter((sl: Partial<SpokenLanguageDto>) => !sl.level || !sl.code).length == 0;\r\n\r\n        return (\r\n            <View style={style}>\r\n                {rows}\r\n                <View style={styles.plusButtonWrapper}>\r\n                    {canAddMore && <MaterialIcons onPress={() => this.addRow()} style={styles.plusButton} name=\"add\" />}\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        rowContainer: {\r\n            flexDirection: \"column\",\r\n            width: \"100%\",\r\n            marginBottom: 8,\r\n        },\r\n        inputRowContainer: {\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n        },\r\n        errorRowContainer: {\r\n            marginBottom: 8,\r\n        },\r\n        plusButtonWrapper: {\r\n            alignItems: \"center\",\r\n            marginTop: 10,\r\n        },\r\n        plusButton: {\r\n            width: 36,\r\n            height: 36,\r\n            fontSize: 36,\r\n            borderRadius: 18,\r\n            color: theme.background,\r\n            backgroundColor: theme.accent,\r\n        },\r\n        deleteIcon: {\r\n            fontSize: 24,\r\n            color: theme.error,\r\n        },\r\n        inputs: {\r\n            borderRadius: 0,\r\n        },\r\n        languagePicker: {\r\n            flex: 1,\r\n            flexGrow: 3,\r\n        },\r\n        levelPicker: {\r\n            flex: 1,\r\n            flexGrow: 2,\r\n            marginHorizontal: 5,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(SpokenLanguagesInput);\r\n","import * as React from \"react\";\r\nimport {Avatar, AvatarProps, Overlay, withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {ThemeProps} from \"../types\";\r\nimport {StyleSheet} from \"react-native\";\r\n\r\n// Component props\r\nexport type EnlargeableAvatarProps = AvatarProps & ThemeProps;\r\n\r\n// Component state\r\nexport type EnlargeableAvatarState = {\r\n    enlarged: boolean;\r\n};\r\n\r\nclass EnlargeableAvatar extends React.Component<EnlargeableAvatarProps, EnlargeableAvatarState> {\r\n    constructor(props: EnlargeableAvatarProps) {\r\n        super(props);\r\n        this.state = {enlarged: false};\r\n    }\r\n\r\n    toggleEnlarged() {\r\n        this.setState({...this.state, enlarged: !this.state.enlarged});\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, children, ...avatarProps} = this.props;\r\n        const {enlarged} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        const onPress = () => {\r\n            if (avatarProps.onPress) avatarProps.onPress();\r\n            this.toggleEnlarged();\r\n        };\r\n\r\n        return (\r\n            <>\r\n                <Avatar {...avatarProps} {...(avatarProps.source ? {onPress} : {})}>\r\n                    {children}\r\n                </Avatar>\r\n                <Overlay\r\n                    isVisible={enlarged}\r\n                    onBackdropPress={() => this.toggleEnlarged()}\r\n                    overlayStyle={styles.overlay}\r\n                    backdropStyle={styles.overlayBackdrop}\r\n                >\r\n                    <Avatar\r\n                        rounded\r\n                        containerStyle={styles.enlargedAvatarContainer}\r\n                        avatarStyle={styles.enlargedAvatar}\r\n                        source={avatarProps.source}\r\n                        activeOpacity={0.8}\r\n                        onPress={() => this.toggleEnlarged()}\r\n                    />\r\n                </Overlay>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport const themedStyles = preTheme(() => {\r\n    return StyleSheet.create({\r\n        overlay: {\r\n            width: \"100%\",\r\n            aspectRatio: 1,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"transparent\",\r\n            elevation: 0,\r\n            shadowOpacity: 0,\r\n        },\r\n        overlayBackdrop: {\r\n            backgroundColor: \"rgba(0, 0, 0, 0.7)\",\r\n        },\r\n        enlargedAvatar: {\r\n            borderRadius: 300,\r\n        },\r\n        enlargedAvatarContainer: {\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            maxWidth: 400,\r\n            maxHeight: 400,\r\n            flex: 1,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(EnlargeableAvatar);\r\n","import {ButtonGroupProps} from \"react-native-elements\";\r\nimport {Theme} from \"../types\";\r\n\r\nexport function getToggleStyleProps(nobuttonBariant: boolean, theme: Theme): Partial<ButtonGroupProps> {\r\n    if (nobuttonBariant) {\r\n        return {\r\n            containerStyle: {\r\n                backgroundColor: \"transparent\",\r\n                height: 28,\r\n                borderWidth: 0,\r\n                marginHorizontal: 0,\r\n                marginBottom: 5,\r\n                flexDirection: \"row\",\r\n                justifyContent: \"space-evenly\",\r\n            },\r\n            innerBorderStyle: {\r\n                width: 0,\r\n            },\r\n            buttonContainerStyle: {\r\n                marginHorizontal: 5,\r\n                flex: 0,\r\n            },\r\n            buttonStyle: {\r\n                paddingHorizontal: 10,\r\n            },\r\n            textStyle: {\r\n                color: theme.textLight,\r\n                opacity: 0.5,\r\n                fontSize: 15,\r\n                flexShrink: 1,\r\n            },\r\n            selectedButtonStyle: {\r\n                backgroundColor: \"transparent\",\r\n                borderColor: theme.accent,\r\n                borderBottomWidth: 0.5,\r\n            },\r\n            selectedTextStyle: {\r\n                color: theme.text,\r\n                opacity: 1,\r\n            },\r\n        };\r\n    } else {\r\n        return {\r\n            containerStyle: {\r\n                height: 35,\r\n                marginLeft: 0,\r\n                marginRight: 0,\r\n            },\r\n        };\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport {Gender, GENDERS} from \"../constants/profile-constants\";\r\nimport {ButtonGroup, ButtonGroupProps, withTheme} from \"react-native-elements\";\r\nimport {getToggleStyleProps} from \"../styles/toggles\";\r\nimport {ThemeProps} from \"../types\";\r\n\r\nexport type GenderToggleMultiProps = {\r\n    genders: Gender[];\r\n    onSelect?: (genders: Gender[]) => void;\r\n    noButtonVariant?: boolean;\r\n} & Partial<ButtonGroupProps> &\r\n    ThemeProps;\r\n\r\nfunction GenderToggleMulti(props: GenderToggleMultiProps): JSX.Element {\r\n    const buttonLabels = GENDERS.map((r: string) => i18n.t(`genders.${r}`));\r\n    const {theme, genders, noButtonVariant, onSelect, ...otherProps} = props;\r\n\r\n    return (\r\n        <ButtonGroup\r\n            onPress={(idx: number) => {\r\n                if (onSelect) {\r\n                    const indices: number[] = typeof idx == \"object\" ? (idx as number[]) : [idx];\r\n                    onSelect(indices.map((i: number) => GENDERS[i]));\r\n                }\r\n            }}\r\n            selectMultiple={true}\r\n            selectedIndexes={genders.map((gender: Gender) => GENDERS.indexOf(gender))}\r\n            buttons={buttonLabels}\r\n            {...getToggleStyleProps(noButtonVariant || false, theme)}\r\n            {...otherProps}\r\n        />\r\n    );\r\n}\r\n\r\nexport default withTheme(GenderToggleMulti);\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport {Role, ROLES} from \"../constants/profile-constants\";\r\nimport {ButtonGroup, ButtonGroupProps, withTheme} from \"react-native-elements\";\r\nimport {getToggleStyleProps} from \"../styles/toggles\";\r\nimport {ThemeProps} from \"../types\";\r\n\r\nexport type RoleToggleMultiProps = {\r\n    roles: Role[];\r\n    onSelect?: (roles: Role[]) => void;\r\n    noButtonVariant?: boolean;\r\n} & Partial<ButtonGroupProps> &\r\n    ThemeProps;\r\n\r\nfunction RoleToggleMulti(props: RoleToggleMultiProps): JSX.Element {\r\n    const {theme, roles, noButtonVariant, onSelect, ...otherProps} = props;\r\n    const buttonLabels = ROLES.map((r: string) => i18n.t(`allRoles.${r}`));\r\n\r\n    return (\r\n        <ButtonGroup\r\n            onPress={(idx: number) => {\r\n                if (onSelect) {\r\n                    const indices: number[] = typeof idx == \"object\" ? (idx as number[]) : [idx];\r\n                    onSelect(indices.map((i: number) => ROLES[i]));\r\n                }\r\n            }}\r\n            selectMultiple={true}\r\n            selectedIndexes={roles.map((role: Role) => ROLES.indexOf(role))}\r\n            buttons={buttonLabels}\r\n            {...getToggleStyleProps(noButtonVariant || false, theme)}\r\n            {...otherProps}\r\n        />\r\n    );\r\n}\r\n\r\nexport default withTheme(RoleToggleMulti);\r\n","import {StyleSheet} from \"react-native\";\r\nimport {preTheme} from \"./utils\";\r\n\r\nexport const tooltipStyles = preTheme(() => {\r\n    return StyleSheet.create({\r\n        text: {\r\n            textAlign: \"justify\",\r\n            paddingVertical: 10,\r\n        },\r\n        container: {\r\n            alignContent: \"center\",\r\n            borderRadius: 4,\r\n            width: undefined, // override default width so it adjusts based on the content\r\n            maxWidth: 240,\r\n            paddingHorizontal: 10,\r\n        },\r\n    });\r\n});\r\n","import React from \"react\";\r\nimport {Text} from \"react-native\";\r\nimport {Tooltip, withTheme} from \"react-native-elements\";\r\nimport {tooltipStyles} from \"../styles/tooltips\";\r\nimport {ThemeProps} from \"../types\";\r\n\r\n// Component props\r\nexport type CustomTooltipProps = {\r\n    text: string;\r\n} & ThemeProps;\r\n\r\n// Component state\r\nexport type CustomTooltipState = {\r\n    height: number | undefined;\r\n};\r\n\r\nclass CustomTooltip extends React.Component<CustomTooltipProps, CustomTooltipState> {\r\n    constructor(props: CustomTooltipProps) {\r\n        super(props);\r\n        this.state = {height: undefined};\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {height} = this.state;\r\n        const {theme, text} = this.props;\r\n        const styles = tooltipStyles(theme);\r\n\r\n        return (\r\n            <Tooltip\r\n                popover={\r\n                    <Text\r\n                        style={styles.text}\r\n                        onLayout={(e) => {\r\n                            this.setState({\r\n                                ...this.state,\r\n                                height: e.nativeEvent.layout.height,\r\n                            });\r\n                        }}\r\n                    >\r\n                        {text}\r\n                    </Text>\r\n                }\r\n                backgroundColor={theme.accentSlight}\r\n                containerStyle={styles.container}\r\n                height={height}\r\n            >\r\n                {this.props.children}\r\n            </Tooltip>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(CustomTooltip);\r\n","import React from \"react\";\r\nimport {Text, View, StyleSheet, ViewStyle, TouchableOpacity} from \"react-native\";\r\nimport {initOfferValue, OfferDto, OfferValueDto} from \"../api/dto\";\r\nimport {Gender, Role} from \"../constants/profile-constants\";\r\nimport GenderToggleMulti from \"./GenderToggleMulti\";\r\nimport RoleToggleMulti from \"./RoleToggleMulti\";\r\nimport i18n from \"i18n-js\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport CustomTooltip from \"./CustomTooltip\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {CheckBox, withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../styles/utils\";\r\n\r\nexport type OfferControlProps = {\r\n    offer: OfferDto;\r\n    value: OfferValueDto;\r\n    onChange?: (value: OfferValueDto) => void;\r\n    style?: ViewStyle;\r\n} & ThemeProps;\r\n\r\nclass OfferControl extends React.Component<OfferControlProps> {\r\n    offerValueChange(changed: Partial<OfferValueDto>): void {\r\n        const {onChange} = this.props;\r\n        if (onChange) onChange({...this.props.value, ...changed});\r\n    }\r\n\r\n    setAllValues(b: boolean) {\r\n        this.offerValueChange(initOfferValue(this.props.offer, b));\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, offer, value, style} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        const genders: Gender[] = [];\r\n        if (offer.allowChooseGender) {\r\n            if (value.allowFemale) genders.push(\"female\");\r\n            if (value.allowMale) genders.push(\"male\");\r\n            if (value.allowOther) genders.push(\"other\");\r\n        }\r\n\r\n        const roles: Role[] = [];\r\n        if (offer.allowChooseProfileType) {\r\n            if (value.allowStaff) roles.push(\"staff\");\r\n            if (value.allowStudent) roles.push(\"student\");\r\n        }\r\n\r\n        const isSomethingSelected =\r\n            (!offer.allowChooseGender || genders.length > 0) && (!offer.allowInterRole || roles.length > 0);\r\n\r\n        return (\r\n            <View style={[styles.wrapper, style]}>\r\n                <View style={styles.titleWrapper}>\r\n                    <CheckBox\r\n                        checked={isSomethingSelected}\r\n                        onPress={() => this.setAllValues(!isSomethingSelected)}\r\n                    ></CheckBox>\r\n                    <TouchableOpacity onPress={() => this.setAllValues(!isSomethingSelected)}>\r\n                        <Text style={styles.offerName}>{i18n.t(`allOffers.${offer.id}.name`)}</Text>\r\n                    </TouchableOpacity>\r\n                    <CustomTooltip text={i18n.t(`allOffers.${offer.id}.help`)}>\r\n                        <MaterialIcons style={styles.helpIcon} name=\"help\"></MaterialIcons>\r\n                    </CustomTooltip>\r\n                </View>\r\n                {isSomethingSelected && (\r\n                    <View style={styles.buttonsWrapper}>\r\n                        {offer.allowChooseGender && (\r\n                            <GenderToggleMulti\r\n                                noButtonVariant={true}\r\n                                genders={genders}\r\n                                onSelect={(selected: Gender[]) =>\r\n                                    this.offerValueChange({\r\n                                        allowFemale: selected.indexOf(\"female\") != -1,\r\n                                        allowMale: selected.indexOf(\"male\") != -1,\r\n                                        allowOther: selected.indexOf(\"other\") != -1,\r\n                                    })\r\n                                }\r\n                            />\r\n                        )}\r\n                        {offer.allowChooseProfileType && (\r\n                            <RoleToggleMulti\r\n                                noButtonVariant={true}\r\n                                roles={roles}\r\n                                onSelect={(selected: Role[]) =>\r\n                                    this.offerValueChange({\r\n                                        allowStaff: selected.indexOf(\"staff\") != -1,\r\n                                        allowStudent: selected.indexOf(\"student\") != -1,\r\n                                    })\r\n                                }\r\n                            />\r\n                        )}\r\n                    </View>\r\n                )}\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            flexDirection: \"column\",\r\n            alignItems: \"flex-start\",\r\n        },\r\n        titleWrapper: {\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n        },\r\n        offerName: {\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1,\r\n            color: theme.text,\r\n        },\r\n        helpIcon: {\r\n            fontSize: 20,\r\n            marginLeft: 5,\r\n            color: theme.textLight,\r\n        },\r\n        buttonsWrapper: {\r\n            width: \"100%\",\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(OfferControl);\r\n","import * as React from \"react\";\r\nimport {ActivityIndicator, KeyboardAvoidingView, Text, View} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport EducationFieldPicker from \"../EducationFieldPicker\";\r\nimport {ScrollView, StyleSheet} from \"react-native\";\r\nimport DegreeToggle from \"../DegreeToggle\";\r\nimport {CountryCode} from \"../../model/country-codes\";\r\nimport RoleToggle from \"../RoleToggle\";\r\nimport {Degree, Gender, StaffRole} from \"../../constants/profile-constants\";\r\nimport StaffRoleToggle from \"../StaffRoleToggle\";\r\nimport {GenderToggle} from \"../GenderToggle\";\r\nimport BirthDatePicker from \"../BirthDatePicker\";\r\nimport AvatarEditButton from \"../AvatarEditButton\";\r\nimport FormRow from \"./FormRow\";\r\nimport {FormattedDate} from \"../FormattedDate\";\r\nimport NationalityPicker from \"../NationalityPicker\";\r\nimport FormattedNationality from \"../FormattedNationality\";\r\nimport {getUniversityFromEmail} from \"../../model/utils\";\r\nimport FormattedUniversity from \"../FormattedUniversity\";\r\nimport InterestsPicker from \"../InterestsPicker\";\r\nimport {initOfferValue, OfferCategory, OfferDto, OfferValueDto, SpokenLanguageDto} from \"../../api/dto\";\r\nimport {UserProfile} from \"../../model/user-profile\";\r\nimport {User} from \"../../model/user\";\r\nimport {VALIDATOR_ONBOARDING_LANGUAGES} from \"../../validators\";\r\nimport SpokenLanguagesInput from \"../SpokenLanguagesInput\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {ImageInfo} from \"expo-image-picker/build/ImagePicker.types\";\r\nimport store from \"../../state/store\";\r\nimport {AppState, MyThunkDispatch} from \"../../state/types\";\r\nimport {setAvatar} from \"../../state/profile/actions\";\r\nimport EnlargeableAvatar from \"../EnlargeableAvatar\";\r\nimport OfferControl from \"../OfferControl\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\n\r\n// Component props\r\nexport type EditProfileFormProps = ThemeProps & {\r\n    user: User | null;\r\n    onChange?: (fields: Partial<UserProfile>) => void;\r\n};\r\n\r\nfunction FormFieldSpacer(): JSX.Element {\r\n    return <View style={{height: 30}}></View>;\r\n}\r\n\r\nclass EditProfileForm extends React.Component<EditProfileFormProps> {\r\n    onFieldChanged(fields: Partial<UserProfile>): void {\r\n        if (this.props.onChange !== undefined) this.props.onChange(fields);\r\n    }\r\n\r\n    render() {\r\n        const {theme, user} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        const avatarTitle = user ? (user.profile.firstName[0] + user.profile.lastName[0]).toUpperCase() : \"\";\r\n        const avatarSource = user && user.profile.avatarUrl ? {uri: user.profile.avatarUrl} : undefined;\r\n\r\n        /*const textInputStyleProps = {\r\n            placeholderTextColor: \"#222\",\r\n            style: {\r\n                width: \"100%\",\r\n                height: 50,\r\n                paddingHorizontal: 20,\r\n                borderRadius: 5,\r\n                borderWidth: 0,\r\n                backgroundColor: theme.accentSlight,\r\n            },\r\n            errorStyle: {\r\n                borderBottomWidth: 2,\r\n                borderBottomColor: theme.error,\r\n            },\r\n            validStyle: {\r\n                borderBottomWidth: 2,\r\n                borderBottomColor: theme.okay,\r\n            },\r\n            focusedStyle: Platform.OS === \"web\" ? ({outlineColor: \"transparent\"} as TextStyle) : null,\r\n        };*/\r\n\r\n        let profileFieldComponents = <></>;\r\n\r\n        if (user) {\r\n            const profile = user.profile;\r\n\r\n            profileFieldComponents = (\r\n                <>\r\n                    <FormRow\r\n                        label={i18n.t(\"emailAddress\")}\r\n                        initialValue={user.email}\r\n                        display={<Text style={styles.cardText}>{user.email}</Text>}\r\n                        /*\r\n                        validator={VALIDATOR_EMAIL}\r\n                        renderInput={(value: string, error: string | null, onChange: (value: string) => void) => (\r\n                            <ValidatedTextInput\r\n                                placeholder={i18n.t(\"emailAddress\")}\r\n                                value={value}\r\n                                error={error || undefined}\r\n                                onChangeText={(val) => onChange(val)}\r\n                                keyboardType=\"email-address\"\r\n                                autoCompleteType=\"email\"\r\n                                autoFocus\r\n                                {...textInputStyleProps}\r\n                            />\r\n                        )}\r\n                        apply={(email: string) => onFieldChanged({email})}\r\n                        */\r\n                        locked={true}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <FormRow\r\n                        label={i18n.t(\"dateOfBirth\")}\r\n                        initialValue={profile.birthdate}\r\n                        display={<FormattedDate style={styles.cardText} date={profile.birthdate} />}\r\n                        overrideModal={(hide: () => void) => (\r\n                            <BirthDatePicker\r\n                                date={profile.birthdate}\r\n                                open={true}\r\n                                onSelect={(birthdate: Date) => this.onFieldChanged({birthdate})}\r\n                                onHide={hide}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <FormRow\r\n                        label={i18n.t(\"nationality\")}\r\n                        initialValue={profile.nationality}\r\n                        display={<FormattedNationality style={styles.cardText} countryCode={profile.nationality} />}\r\n                        overrideModal={(hide: () => void) => (\r\n                            <NationalityPicker\r\n                                nationality={profile.nationality}\r\n                                onSelect={(cc: CountryCode) => this.onFieldChanged({nationality: cc})}\r\n                                onHide={hide}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <FormRow\r\n                        label={i18n.t(\"gender\")}\r\n                        initialValue={profile.gender}\r\n                        display={\r\n                            <GenderToggle\r\n                                gender={profile.gender}\r\n                                onSelect={(gender: Gender) => this.onFieldChanged({gender})}\r\n                            />\r\n                        }\r\n                        noModal={true}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <FormRow\r\n                        label={i18n.t(\"profileType\")}\r\n                        initialValue={profile.type}\r\n                        display={\r\n                            <>\r\n                                <RoleToggle\r\n                                    role={profile.type}\r\n                                    /*onSelect={(role: Role) => onFieldChanged({role})}*/\r\n                                    disabled={true}\r\n                                />\r\n                                {profile.type == \"staff\" && (\r\n                                    <StaffRoleToggle\r\n                                        staffRole={profile.staffRole || null}\r\n                                        onSelect={(staffRole: StaffRole) => this.onFieldChanged({staffRole})}\r\n                                    />\r\n                                )}\r\n                                {profile.type == \"student\" && (\r\n                                    <DegreeToggle\r\n                                        degree={profile.degree}\r\n                                        onUpdate={(degree?: Degree) => this.onFieldChanged({degree})}\r\n                                    />\r\n                                )}\r\n                            </>\r\n                        }\r\n                        noModal={true}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <FormRow\r\n                        label={i18n.t(\"fieldsOfEducation\")}\r\n                        initialValue={profile.educationFields}\r\n                        display={\r\n                            <EducationFieldPicker\r\n                                fields={profile.educationFields}\r\n                                onChange={(educationFields: string[]) => this.onFieldChanged({educationFields})}\r\n                            ></EducationFieldPicker>\r\n                        }\r\n                        noModal={true}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <FormRow\r\n                        label={i18n.t(\"interests\")}\r\n                        initialValue={profile.interests}\r\n                        display={\r\n                            <InterestsPicker\r\n                                interests={profile.interests}\r\n                                onChange={(interests: string[]) => this.onFieldChanged({interests})}\r\n                            ></InterestsPicker>\r\n                        }\r\n                        noModal={true}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <FormRow\r\n                        label={i18n.t(\"spokenLanguages\")}\r\n                        initialValue={profile.languages}\r\n                        validator={VALIDATOR_ONBOARDING_LANGUAGES}\r\n                        display={\r\n                            <>\r\n                                {profile.languages.map((l: SpokenLanguageDto, i: number) => (\r\n                                    <View key={i}>\r\n                                        <Text>\r\n                                            {i18n.t(`languageNames.${l.code}`)} ({i18n.t(`languageLevels.${l.level}`)})\r\n                                        </Text>\r\n                                    </View>\r\n                                ))}\r\n                            </>\r\n                        }\r\n                        renderInput={(\r\n                            value: SpokenLanguageDto[],\r\n                            error: string | null,\r\n                            onChange: (value: SpokenLanguageDto[]) => void,\r\n                        ) => (\r\n                            <>\r\n                                <SpokenLanguagesInput\r\n                                    languages={value}\r\n                                    onChange={(languages: SpokenLanguageDto[]) => onChange(languages)}\r\n                                />\r\n                                <FormFieldSpacer />\r\n                                <FormFieldSpacer />\r\n                                <FormFieldSpacer />\r\n                                <FormFieldSpacer />\r\n                                <FormFieldSpacer />\r\n                                <FormFieldSpacer />\r\n                            </>\r\n                        )}\r\n                        apply={(languages: SpokenLanguageDto[]) => this.onFieldChanged({languages})}\r\n                    />\r\n                    <FormFieldSpacer />\r\n                    <OfferCategoryRow\r\n                        category={OfferCategory.Discover}\r\n                        profileOffers={profile.profileOffers}\r\n                        onApply={(profileOffers: OfferValueDto[]) => this.onFieldChanged({profileOffers})}\r\n                    ></OfferCategoryRow>\r\n                    <FormFieldSpacer />\r\n                    <OfferCategoryRow\r\n                        category={OfferCategory.Collaborate}\r\n                        profileOffers={profile.profileOffers}\r\n                        onApply={(profileOffers: OfferValueDto[]) => this.onFieldChanged({profileOffers})}\r\n                    ></OfferCategoryRow>\r\n                    <FormFieldSpacer />\r\n                    <OfferCategoryRow\r\n                        category={OfferCategory.Meet}\r\n                        profileOffers={profile.profileOffers}\r\n                        onApply={(profileOffers: OfferValueDto[]) => this.onFieldChanged({profileOffers})}\r\n                    ></OfferCategoryRow>\r\n                </>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <View style={styles.screenWrapper}>\r\n                <View style={styles.topView}>\r\n                    <EnlargeableAvatar\r\n                        size={140}\r\n                        rounded\r\n                        title={avatarTitle}\r\n                        containerStyle={{backgroundColor: theme.accentSecondary}}\r\n                        avatarStyle={styles.avatar}\r\n                        source={avatarSource}\r\n                        activeOpacity={0.8}\r\n                    >\r\n                        {user && (\r\n                            <AvatarEditButton\r\n                                onPictureSelected={(imageInfo: ImageInfo) => {\r\n                                    (store.dispatch as MyThunkDispatch)(setAvatar(imageInfo));\r\n                                }}\r\n                            />\r\n                        )}\r\n                    </EnlargeableAvatar>\r\n                    <Text style={styles.name}>{user ? user.profile.firstName + \" \" + user.profile.lastName : \"\"}</Text>\r\n                    {user && (\r\n                        <FormattedUniversity\r\n                            containerStyle={styles.universityContainer}\r\n                            style={styles.university}\r\n                            university={getUniversityFromEmail(user.email)}\r\n                        ></FormattedUniversity>\r\n                    )}\r\n                </View>\r\n                <ScrollView style={styles.scrollWrapper} keyboardShouldPersistTaps=\"always\">\r\n                    <KeyboardAvoidingView behavior=\"padding\" keyboardVerticalOffset={-100} style={styles.formWrapper}>\r\n                        <View style={styles.titleWrapper}>\r\n                            <Text style={styles.title}>{i18n.t(\"myProfile\")}</Text>\r\n                        </View>\r\n                        {profileFieldComponents}\r\n                        {!user && <ActivityIndicator size=\"large\" color={theme.accent} />}\r\n                    </KeyboardAvoidingView>\r\n                </ScrollView>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\n// Map props from the store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    offers: state.profile.offers,\r\n    offerIdToCategory: state.profile.offerIdToCategory,\r\n}));\r\n\r\ntype OfferCategoryRowProps = {\r\n    category: OfferCategory;\r\n    profileOffers: OfferValueDto[];\r\n    onApply: (offerValues: OfferValueDto[]) => void;\r\n} & ConnectedProps<typeof reduxConnector>;\r\n\r\nconst OfferCategoryRow = reduxConnector(\r\n    ({category, profileOffers, onApply, offers, offerIdToCategory}: OfferCategoryRowProps): JSX.Element => {\r\n        let display: JSX.Element | JSX.Element[] = profileOffers\r\n            .filter((o) => offerIdToCategory.get(o.offerId) == category)\r\n            .map((value: OfferValueDto) => (\r\n                <Text key={`profile-${value.offerId}-display`}>{i18n.t(`allOffers.${value.offerId}.name`)}</Text>\r\n            ));\r\n\r\n        if (display.length == 0) display = <Text>{i18n.t(\"profile.noOffersSelected\")}</Text>;\r\n\r\n        return (\r\n            <FormRow\r\n                label={i18n.t(`offerCategories.${category}`)}\r\n                initialValue={profileOffers}\r\n                display={<>{display}</>}\r\n                renderInput={(\r\n                    value: OfferValueDto[],\r\n                    error: string | null,\r\n                    onChange: (value: OfferValueDto[]) => void,\r\n                ) => (\r\n                    <>\r\n                        {offers\r\n                            .filter((o) => o.category == category)\r\n                            .map((offer: OfferDto) => (\r\n                                <OfferControl\r\n                                    key={`profile-${offer.id}`}\r\n                                    offer={offer}\r\n                                    value={value.find((o) => o.offerId == offer.id) || initOfferValue(offer)}\r\n                                    onChange={(offerVal: OfferValueDto) => {\r\n                                        const updatedVal = value\r\n                                            .filter((o) => o.offerId != offer.id)\r\n                                            .concat([offerVal]);\r\n                                        onChange(updatedVal);\r\n                                    }}\r\n                                    style={{marginVertical: 10}}\r\n                                />\r\n                            ))}\r\n                    </>\r\n                )}\r\n                apply={(profileOffers: OfferValueDto[]) => onApply(profileOffers)}\r\n            />\r\n        );\r\n    },\r\n);\r\n\r\nexport const themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        titleWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"flex-start\",\r\n            marginBottom: 20,\r\n        },\r\n        title: {\r\n            fontSize: 22,\r\n            color: theme.text,\r\n        },\r\n        buttonSend: {\r\n            flex: 1,\r\n            backgroundColor: theme.accent,\r\n            marginLeft: 6,\r\n        },\r\n        screenWrapper: {\r\n            backgroundColor: theme.background,\r\n            width: \"100%\",\r\n        },\r\n        topView: {\r\n            width: \"160%\",\r\n            height: 280,\r\n            borderBottomLeftRadius: 200,\r\n            borderBottomRightRadius: 200,\r\n            paddingVertical: 50,\r\n            alignItems: \"center\",\r\n            alignSelf: \"center\",\r\n            backgroundColor: theme.accent,\r\n        },\r\n        scrollWrapper: {\r\n            width: \"100%\",\r\n        },\r\n        formWrapper: {\r\n            flex: 1,\r\n            width: \"90%\",\r\n            maxWidth: 600,\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            alignSelf: \"center\",\r\n            paddingTop: 40,\r\n            marginBottom: 300,\r\n        },\r\n        name: {\r\n            fontSize: 30,\r\n            color: theme.textWhite,\r\n            marginTop: 10,\r\n        },\r\n        university: {\r\n            fontSize: 14,\r\n            color: theme.textWhite,\r\n        },\r\n        universityContainer: {\r\n            marginVertical: 5,\r\n        },\r\n        avatar: {\r\n            borderColor: theme.cardBackground,\r\n            borderWidth: 2,\r\n        },\r\n        avatarAccessory: {\r\n            width: 40,\r\n            height: 40,\r\n            borderRadius: 20,\r\n            borderWidth: 0,\r\n            borderColor: \"transparent\",\r\n            shadowRadius: 0,\r\n            textShadowRadius: 0,\r\n            color: \"#444\",\r\n        },\r\n        cardText: {\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(EditProfileForm);\r\n","import {StackScreenProps} from \"@react-navigation/stack\";\r\nimport * as React from \"react\";\r\nimport {StyleSheet, View} from \"react-native\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState, MyThunkDispatch} from \"../state/types\";\r\nimport {MainNavigatorTabs} from \"../navigation/types\";\r\nimport EditProfileForm from \"../components/forms/EditProfileForm\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {fetchUser, setProfileFields} from \"../state/profile/actions\";\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    user: state.profile.user,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\ntype TabProfileScreenProps = ConnectedProps<typeof reduxConnector> &\r\n    ThemeProps &\r\n    StackScreenProps<MainNavigatorTabs, \"TabProfile\">;\r\n\r\nclass TabProfileScreen extends React.Component<TabProfileScreenProps> {\r\n    componentDidMount() {\r\n        (this.props.dispatch as MyThunkDispatch)(fetchUser());\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, user, dispatch} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <EditProfileForm\r\n                    user={user}\r\n                    onChange={(fields) => (dispatch as MyThunkDispatch)(setProfileFields(fields))}\r\n                ></EditProfileForm>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            alignItems: \"center\",\r\n            justifyContent: \"flex-start\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        title: {\r\n            fontSize: 20,\r\n            fontWeight: \"bold\",\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(TabProfileScreen));\r\n","import React from \"react\";\r\nimport {Modal, TouchableOpacity, View, ViewStyle, StyleSheet} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\n\r\nexport type CustomModalProps = ThemeProps & {\r\n    onHide?: () => void;\r\n    renderContent: (hide: () => void) => JSX.Element;\r\n    modalViewStyle?: ViewStyle;\r\n};\r\n\r\ntype CustomModalState = {\r\n    modalVisible: boolean;\r\n};\r\n\r\nclass CustomModal extends React.Component<CustomModalProps, CustomModalState> {\r\n    constructor(props: CustomModalProps) {\r\n        super(props);\r\n        this.state = {modalVisible: true};\r\n    }\r\n\r\n    setModalVisible(b: boolean): void {\r\n        this.setState({...this.state, modalVisible: b});\r\n        if (!b && this.props.onHide) this.props.onHide();\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, modalViewStyle} = this.props;\r\n        const {modalVisible} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <Modal animationType=\"fade\" transparent={true} visible={modalVisible}>\r\n                <TouchableOpacity\r\n                    style={styles.centeredView}\r\n                    activeOpacity={1.0}\r\n                    onPress={() => this.setModalVisible(false)}\r\n                >\r\n                    <View style={[styles.modalView, modalViewStyle]}>\r\n                        {this.props.renderContent(() => this.setModalVisible(false))}\r\n                    </View>\r\n                </TouchableOpacity>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport const themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        centeredView: {\r\n            flex: 1,\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.05)\",\r\n        },\r\n        modalView: {\r\n            width: \"80%\",\r\n            maxWidth: 300,\r\n            margin: 20,\r\n            borderRadius: 3,\r\n            paddingVertical: 20,\r\n            paddingHorizontal: 30,\r\n            alignItems: \"center\",\r\n            shadowColor: \"#000\",\r\n            shadowOffset: {\r\n                width: 0,\r\n                height: 2,\r\n            },\r\n            shadowOpacity: 0.25,\r\n            shadowRadius: 3.84,\r\n            elevation: 5,\r\n            backgroundColor: theme.background,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(CustomModal);\r\n","import React from \"react\";\r\nimport {Text, TouchableHighlight, View, StyleSheet} from \"react-native\";\r\nimport CustomModal, {CustomModalProps} from \"./CustomModal\";\r\nimport i18n from \"i18n-js\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {UserProfile} from \"../../model/user-profile\";\r\n\r\nexport type BlockProfileModalProps = ThemeProps &\r\n    Partial<CustomModalProps> & {onBlock: () => void; profile: UserProfile};\r\n\r\nclass BlockProfileModal extends React.Component<BlockProfileModalProps> {\r\n    render() {\r\n        const {theme, profile, onBlock, ...otherProps} = this.props;\r\n        const styles = themedStyles(theme);\r\n        return (\r\n            <CustomModal\r\n                {...otherProps}\r\n                renderContent={(hide: () => void) => (\r\n                    <>\r\n                        <Text style={styles.text}>\r\n                            {i18n.t(\"block.warning\", {firstname: profile.firstName, lastname: profile.lastName})}\r\n                        </Text>\r\n                        <View style={styles.actionButtonsWrapper}>\r\n                            <TouchableHighlight\r\n                                style={[styles.actionButton, styles.actionButtonCancel]}\r\n                                onPress={() => hide()}\r\n                            >\r\n                                <Text style={styles.actionText}>{i18n.t(\"cancel\")}</Text>\r\n                            </TouchableHighlight>\r\n                            <TouchableHighlight\r\n                                style={[styles.actionButton, styles.actionButtonDecline]}\r\n                                onPress={() => {\r\n                                    hide();\r\n                                    if (onBlock) onBlock();\r\n                                }}\r\n                            >\r\n                                <Text style={styles.actionText}>{i18n.t(\"block.action\")}</Text>\r\n                            </TouchableHighlight>\r\n                        </View>\r\n                    </>\r\n                )}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        actionButtonsWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"row\",\r\n            marginTop: 20,\r\n            justifyContent: \"space-evenly\",\r\n        },\r\n        actionButton: {\r\n            width: 110,\r\n            maxWidth: \"40%\",\r\n            borderRadius: 3,\r\n            paddingVertical: 10,\r\n            elevation: 2,\r\n        },\r\n        actionButtonCancel: {\r\n            backgroundColor: theme.accentSecondary,\r\n        },\r\n        actionButtonDecline: {\r\n            backgroundColor: theme.error,\r\n        },\r\n        actionText: {\r\n            fontWeight: \"bold\",\r\n            textAlign: \"center\",\r\n            color: theme.textWhite,\r\n        },\r\n        text: {\r\n            fontSize: 16,\r\n            textAlign: \"justify\",\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(BlockProfileModal);\r\n","import {convertDtoToProfile} from \"../../api/converters\";\r\nimport {FetchMyMatchesResponseDto, FetchProfilesResponseDto, LikeProfileResponseDto} from \"../../api/dto\";\r\nimport {UserProfile} from \"../../model/user-profile\";\r\nimport {requestBackend} from \"../../api/utils\";\r\nimport store from \"../store\";\r\nimport {\r\n    SetOfferFilterAction,\r\n    MATCHING_ACTION_TYPES,\r\n    SetMatchingFiltersAction,\r\n    MatchingFiltersState,\r\n    AppThunk,\r\n    DislikeProfileSuccessAction,\r\n    BlockProfileSuccessAction,\r\n    FetchProfilesFailureAction,\r\n    FetchProfilesSuccessAction,\r\n    FetchProfilesRefreshAction,\r\n    BeginFetchProfilesAction,\r\n    MatchingState,\r\n    LikeProfileSuccessAction,\r\n    FetchMyMatchesSuccessAction,\r\n    FetchMyMatchesFailureAction,\r\n    BeginFetchMyMatchesAction,\r\n} from \"../types\";\r\nimport {PROFILES_FETCH_LIMIT} from \"../../constants/config\";\r\n\r\nexport const setOfferFilter = (offerId: string, value: boolean): SetOfferFilterAction => ({\r\n    type: MATCHING_ACTION_TYPES.SET_OFFER_FILTER,\r\n    offerId,\r\n    value,\r\n});\r\n\r\nexport const setMatchingFilters = (filters: Partial<MatchingFiltersState>): SetMatchingFiltersAction => ({\r\n    type: MATCHING_ACTION_TYPES.SET_FILTERS,\r\n    filters,\r\n});\r\n\r\nexport const beginFetchProfiles = (): BeginFetchProfilesAction => ({\r\n    type: MATCHING_ACTION_TYPES.FETCH_PROFILES_BEGIN,\r\n});\r\n\r\nexport const fetchProfiles = (): AppThunk => async (dispatch) => {\r\n    const state: MatchingState = store.getState().matching;\r\n    if (state.fetchingProfiles || !state.canFetchMore) return;\r\n\r\n    dispatch(beginFetchProfiles());\r\n\r\n    function nonEmptyOrUndef<T>(t: Array<T>) {\r\n        return t.length == 0 ? undefined : t;\r\n    }\r\n\r\n    const filters = state.filters;\r\n    const filterParams = {\r\n        universities: nonEmptyOrUndef(filters.universities),\r\n        spokenLanguages: nonEmptyOrUndef(filters.languages),\r\n        degrees: nonEmptyOrUndef(filters.degrees),\r\n    };\r\n\r\n    const response = await requestBackend(\r\n        \"profiles\",\r\n        \"GET\",\r\n        {\r\n            page: state.fetchingPage,\r\n            limit: PROFILES_FETCH_LIMIT,\r\n            ...filterParams,\r\n        },\r\n        {},\r\n        true,\r\n    );\r\n\r\n    if (response.success) {\r\n        const resp = (response as unknown) as FetchProfilesResponseDto;\r\n        const canFetchMore = resp.meta.currentPage < resp.meta.totalPages;\r\n        dispatch(fetchProfilesSuccess(resp.data.map(convertDtoToProfile), canFetchMore));\r\n    } else dispatch(fetchProfilesFailure());\r\n};\r\n\r\nexport const fetchProfilesFailure = (): FetchProfilesFailureAction => ({\r\n    type: MATCHING_ACTION_TYPES.FETCH_PROFILES_FAILURE,\r\n});\r\n\r\nexport const fetchProfilesSuccess = (profiles: UserProfile[], canFetchMore: boolean): FetchProfilesSuccessAction => ({\r\n    type: MATCHING_ACTION_TYPES.FETCH_PROFILES_SUCCESS,\r\n    profiles,\r\n    canFetchMore,\r\n});\r\n\r\nexport const refreshFetchedProfiles = (): FetchProfilesRefreshAction => ({\r\n    type: MATCHING_ACTION_TYPES.FETCH_PROFILES_REFRESH,\r\n});\r\n\r\nexport const likeProfileSuccess = (\r\n    profileId: string,\r\n    matchStatus: LikeProfileResponseDto,\r\n): LikeProfileSuccessAction => ({\r\n    type: MATCHING_ACTION_TYPES.LIKE_PROFILE_SUCCESS,\r\n    profileId,\r\n    matchStatus,\r\n});\r\n\r\nexport const likeProfile = (profileId: string): AppThunk => async (dispatch) => {\r\n    const response = await requestBackend(\"matching/like\", \"POST\", {}, {toUserId: profileId}, true);\r\n    if (response.success) {\r\n        const matchStatus = response.data as LikeProfileResponseDto;\r\n        dispatch(likeProfileSuccess(profileId, matchStatus));\r\n    }\r\n};\r\n\r\nexport const dislikeProfileSuccess = (profileId: string): DislikeProfileSuccessAction => ({\r\n    type: MATCHING_ACTION_TYPES.DISLIKE_PROFILE_SUCCESS,\r\n    profileId,\r\n});\r\n\r\nexport const dislikeProfile = (profileId: string): AppThunk => async (dispatch) => {\r\n    const response = await requestBackend(\"matching/decline\", \"POST\", {}, {toUserId: profileId}, true);\r\n    if (response.success) dispatch(dislikeProfileSuccess(profileId));\r\n};\r\n\r\nexport const blockProfileSuccess = (profileId: string): BlockProfileSuccessAction => ({\r\n    type: MATCHING_ACTION_TYPES.BLOCK_PROFILE_SUCCESS,\r\n    profileId,\r\n});\r\n\r\nexport const blockProfile = (profileId: string): AppThunk => async (dispatch) => {\r\n    const response = await requestBackend(\"matching/block\", \"POST\", {}, {toProfileId: profileId}, true);\r\n    if (response.success) dispatch(blockProfileSuccess(profileId));\r\n};\r\n\r\nexport const beginFetchMyMatches = (): BeginFetchMyMatchesAction => ({\r\n    type: MATCHING_ACTION_TYPES.FETCH_MY_MATCHES_BEGIN,\r\n});\r\n\r\nexport const fetchMyMatchesFailure = (): FetchMyMatchesFailureAction => ({\r\n    type: MATCHING_ACTION_TYPES.FETCH_MY_MATCHES_FAILURE,\r\n});\r\n\r\nexport const fetchMyMatchesSuccess = (profiles: UserProfile[]): FetchMyMatchesSuccessAction => ({\r\n    type: MATCHING_ACTION_TYPES.FETCH_MY_MATCHES_SUCCESS,\r\n    profiles,\r\n});\r\n\r\nexport const fetchMyMatches = (): AppThunk => async (dispatch) => {\r\n    const state: MatchingState = store.getState().matching;\r\n    if (state.fetchingMyMatches) return;\r\n\r\n    dispatch(beginFetchMyMatches());\r\n\r\n    const response = await requestBackend(\"matching\", \"GET\", {}, {}, true);\r\n\r\n    if (response.success) {\r\n        const resp = response.data as FetchMyMatchesResponseDto;\r\n        dispatch(fetchMyMatchesSuccess(resp.map(convertDtoToProfile)));\r\n    } else dispatch(fetchMyMatchesFailure());\r\n};\r\n","import {Platform, TextStyle} from \"react-native\";\r\n\r\nexport const styleTextThin: TextStyle = {\r\n    fontFamily: Platform.OS == \"web\" ? undefined : \"sans-serif-thin\",\r\n    fontWeight: Platform.OS == \"web\" ? \"100\" : undefined,\r\n};\r\n\r\nexport const styleTextLight: TextStyle = {\r\n    fontFamily: Platform.OS == \"web\" ? undefined : \"sans-serif-light\",\r\n    fontWeight: Platform.OS == \"web\" ? \"200\" : undefined,\r\n};\r\n","import * as React from \"react\";\r\nimport {\r\n    LayoutChangeEvent,\r\n    LayoutRectangle,\r\n    Text,\r\n    TouchableOpacity,\r\n    View,\r\n    ViewStyle,\r\n    Animated,\r\n    StyleSheet,\r\n} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {Avatar, withTheme} from \"react-native-elements\";\r\nimport {UserProfile} from \"../model/user-profile\";\r\nimport ReAnimated, {Easing} from \"react-native-reanimated\";\r\nimport Swipeable from \"react-native-gesture-handler/Swipeable\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport BlockProfileModal from \"./modals/BlockProfileModal\";\r\nimport {MyThunkDispatch} from \"../state/types\";\r\nimport {blockProfile} from \"../state/matching/actions\";\r\nimport store from \"../state/store\";\r\nimport FormattedUniversity from \"./FormattedUniversity\";\r\nimport {PARTNER_UNIVERSITIES, University} from \"../constants/universities\";\r\nimport {OfferValueDto, SpokenLanguageDto} from \"../api/dto\";\r\nimport {styleTextThin} from \"../styles/general\";\r\n\r\n// Component props\r\nexport type ProfilePreviewProps = ThemeProps & {\r\n    profile: UserProfile;\r\n    style?: ViewStyle;\r\n    onExpand?: (layout: LayoutRectangle) => void;\r\n    onSwipeLeft?: () => void;\r\n    onSwipeRight?: () => void;\r\n    onHidden?: () => void;\r\n};\r\n\r\n// Component state\r\nexport type ProfilePreviewState = {\r\n    expanded: boolean;\r\n    animating: boolean;\r\n    height: ReAnimated.Value<number>;\r\n    blockModalOpen: boolean;\r\n};\r\n\r\nclass ProfilePreview extends React.Component<ProfilePreviewProps, ProfilePreviewState> {\r\n    layout: LayoutRectangle;\r\n\r\n    constructor(props: ProfilePreviewProps) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: false,\r\n            height: new ReAnimated.Value(PROFILE_PREVIEW_COLLAPSED_HEIGHT),\r\n            blockModalOpen: false,\r\n            animating: false,\r\n        };\r\n        this.layout = {x: 0, y: 0, width: 0, height: 0};\r\n    }\r\n\r\n    expand() {\r\n        const duration = 200;\r\n        this.setState({...this.state, animating: true});\r\n        ReAnimated.timing(this.state.height, {\r\n            toValue: PROFILE_PREVIEW_EXPANDED_HEIGHT,\r\n            duration,\r\n            easing: Easing.elastic(1.0),\r\n        }).start();\r\n        setTimeout(() => this.setState({...this.state, animating: false, expanded: true}), duration);\r\n    }\r\n\r\n    collapse() {\r\n        const duration = 100;\r\n        this.setState({...this.state, animating: true, expanded: false});\r\n        ReAnimated.timing(this.state.height, {\r\n            toValue: PROFILE_PREVIEW_COLLAPSED_HEIGHT,\r\n            duration,\r\n            easing: Easing.out(Easing.linear),\r\n        }).start();\r\n        setTimeout(() => this.setState({...this.state, animating: false}), duration);\r\n    }\r\n\r\n    hide(onFinish?: () => void) {\r\n        const duration = this.state.expanded ? 160 : 120;\r\n        this.setState({...this.state, animating: true, expanded: false});\r\n        ReAnimated.timing(this.state.height, {\r\n            toValue: 0,\r\n            duration,\r\n            easing: Easing.linear,\r\n        }).start();\r\n        setTimeout(() => {\r\n            if (onFinish) onFinish();\r\n            if (this.props.onHidden) this.props.onHidden();\r\n        }, duration);\r\n    }\r\n\r\n    toggleExpanded() {\r\n        if (!this.state.expanded) {\r\n            this.expand();\r\n            if (this.props.onExpand) this.props.onExpand(this.layout);\r\n        } else this.collapse();\r\n    }\r\n\r\n    render() {\r\n        const {theme, profile, style} = this.props;\r\n        const {expanded, animating, height, blockModalOpen} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        const university = PARTNER_UNIVERSITIES.find((univ: University) => univ.key == profile.university);\r\n        const fullName = profile.firstName + \" \" + profile.lastName;\r\n        //const fullName = profile.firstName.length % 2 == 0 ? profile.firstName + \" \" + profile.lastName : \"Jimmy Jim McLongname\";\r\n\r\n        return (\r\n            <ReAnimated.View\r\n                style={[styles.wrapper, style, {height}]}\r\n                onLayout={(e: LayoutChangeEvent) => {\r\n                    this.layout = e.nativeEvent.layout;\r\n                }}\r\n            >\r\n                <Swipeable\r\n                    containerStyle={styles.swipeableContainer}\r\n                    childrenContainerStyle={styles.swipeable}\r\n                    onSwipeableRightWillOpen={() => {\r\n                        if (this.props.onSwipeLeft) this.props.onSwipeLeft();\r\n                        this.hide();\r\n                    }}\r\n                    onSwipeableLeftWillOpen={() => {\r\n                        if (this.props.onSwipeRight) this.props.onSwipeRight();\r\n                        this.hide();\r\n                    }}\r\n                    leftThreshold={100}\r\n                    rightThreshold={100}\r\n                    renderRightActions={() => (\r\n                        <Animated.View style={[styles.swipeAction, styles.swipeActionRight]}>\r\n                            <View style={[styles.swipeActionContent, styles.swipeActionContentRight]}>\r\n                                <Text style={styles.swipeActionText}>{i18n.t(\"matching.actionHide\")}</Text>\r\n                            </View>\r\n                        </Animated.View>\r\n                    )}\r\n                    renderLeftActions={() => (\r\n                        <View style={[styles.swipeAction, styles.swipeActionLeft]}>\r\n                            <View style={[styles.swipeActionContent, styles.swipeActionContentLeft]}>\r\n                                <Text style={styles.swipeActionText}>{i18n.t(\"matching.actionLike\")}</Text>\r\n                            </View>\r\n                        </View>\r\n                    )}\r\n                >\r\n                    <TouchableOpacity\r\n                        onPress={() => this.toggleExpanded()}\r\n                        activeOpacity={0.75}\r\n                        style={styles.touchable}\r\n                    >\r\n                        <View style={styles.collapsedContent}>\r\n                            <View style={styles.avatarContainer}>\r\n                                <Avatar\r\n                                    size={120}\r\n                                    rounded\r\n                                    title={(profile.firstName[0] + profile.lastName[0]).toUpperCase()}\r\n                                    containerStyle={styles.avatar}\r\n                                    source={\r\n                                        profile.avatarUrl && profile.avatarUrl !== \"\"\r\n                                            ? {uri: profile.avatarUrl}\r\n                                            : undefined\r\n                                    }\r\n                                ></Avatar>\r\n                            </View>\r\n                            <View style={styles.infoContainer}>\r\n                                <Text style={styles.name}>{fullName}</Text>\r\n                                {university && <FormattedUniversity style={styles.infoText} university={university} />}\r\n                                <Text style={styles.infoText}>\r\n                                    {i18n.t(`genders.${profile.gender}`)}\r\n                                    {\", \"}\r\n                                    {i18n.t(`allRoles.${profile.type}`)} (\r\n                                    {profile.type == \"staff\"\r\n                                        ? i18n.t(`staffRoles.${profile.staffRole}`)\r\n                                        : i18n.t(`degrees.${profile.degree}`)}\r\n                                    )\r\n                                </Text>\r\n                                {/*<Text style={styles.infoText}>{i18n.t(`genders.${profile.gender}`)}</Text>*/}\r\n                            </View>\r\n                        </View>\r\n                        {(expanded || animating) && (\r\n                            <View style={styles.expandedContent}>\r\n                                <Text style={styles.expandedSectionTitle}>{i18n.t(\"spokenLanguages\")}</Text>\r\n                                <View style={styles.chipsContainer}>\r\n                                    {profile.languages.map((l: SpokenLanguageDto) => (\r\n                                        <ItemChip\r\n                                            key={`${profile.id}-${l.code}`}\r\n                                            text={`${i18n.t(`languageNames.${l.code}`)}${\r\n                                                l.level != \"native\" ? ` (${l.level.toUpperCase()})` : \"\"\r\n                                            }`}\r\n                                        />\r\n                                    ))}\r\n                                </View>\r\n                                <Text style={styles.expandedSectionTitle}>{i18n.t(\"offers\")}</Text>\r\n                                <View style={styles.chipsContainer}>\r\n                                    {profile.profileOffers.map((offer: OfferValueDto) => (\r\n                                        <ItemChip\r\n                                            key={`${profile.id}-${offer.offerId}`}\r\n                                            text={i18n.t(`allOffers.${offer.offerId}.name`)}\r\n                                        />\r\n                                    ))}\r\n                                </View>\r\n                                {/*<Text style={styles.expandedSectionTitle}>{i18n.t(\"fieldsOfEducation\")}</Text>\r\n                                <View style={styles.chipsContainer}>\r\n                                    {profile.educationFields.map((fieldId: string) => (\r\n                                        <ItemChip\r\n                                            key={`${profile.id}-${fieldId}`}\r\n                                            text={i18n.t(`educationFields.${fieldId}`)}\r\n                                        />\r\n                                    ))}\r\n                                </View>\r\n                                */}\r\n                                {/*\r\n                                <Text style={styles.expandedSectionTitle}>{i18n.t(\"interests\")}</Text>\r\n                                <View style={styles.chipsContainer}>\r\n                                    {profile.interests.map((interestId: string) => (\r\n                                        <ItemChip\r\n                                            key={`${profile.id}-${interestId}`}\r\n                                            text={i18n.t(`interests.${interestId}`)}\r\n                                        />\r\n                                    ))}\r\n                                </View>\r\n                                */}\r\n                                <TouchableOpacity\r\n                                    style={styles.blockButton}\r\n                                    onPress={() => this.setState({...this.state, blockModalOpen: true})}\r\n                                >\r\n                                    <MaterialIcons style={styles.blockButtonIcon} name=\"block\" />\r\n                                </TouchableOpacity>\r\n                                {blockModalOpen && (\r\n                                    <BlockProfileModal\r\n                                        profile={profile}\r\n                                        onHide={() => this.setState({...this.state, blockModalOpen: false})}\r\n                                        onBlock={() => {\r\n                                            this.hide(() =>\r\n                                                (store.dispatch as MyThunkDispatch)(blockProfile(profile.id)),\r\n                                            );\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                            </View>\r\n                        )}\r\n                    </TouchableOpacity>\r\n                </Swipeable>\r\n            </ReAnimated.View>\r\n        );\r\n    }\r\n}\r\n\r\nconst chipStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        chip: {\r\n            backgroundColor: theme.accentSlight,\r\n            borderRadius: 6,\r\n            //paddingHorizontal: 7,\r\n            paddingHorizontal: 4,\r\n            paddingVertical: 2,\r\n            marginHorizontal: 2,\r\n            marginVertical: 2,\r\n            flexGrow: 1,\r\n            alignItems: \"center\",\r\n        },\r\n        chipText: {\r\n            fontSize: 14,\r\n            color: theme.textBlack,\r\n        },\r\n    });\r\n});\r\n\r\nconst ItemChip = withTheme(\r\n    ({text, theme}: {text: string} & ThemeProps): JSX.Element => {\r\n        const styles = chipStyles(theme);\r\n        return (\r\n            <View style={styles.chip}>\r\n                <Text style={styles.chipText}>{text}</Text>\r\n            </View>\r\n        );\r\n    },\r\n);\r\n\r\nexport const Separator = withTheme(({theme}: ThemeProps) => {\r\n    return <View style={themedStyles(theme).separator}></View>;\r\n});\r\n\r\nconst sideMargin = 15;\r\nconst verticalSpacing = 10;\r\nconst cardPadding = 10;\r\nconst PROFILE_PREVIEW_COLLAPSED_HEIGHT = 180;\r\nconst PROFILE_PREVIEW_EXPANDED_HEIGHT = 400;\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            width: \"100%\",\r\n            overflow: \"hidden\",\r\n        },\r\n        swipeableContainer: {\r\n            width: \"100%\",\r\n            paddingHorizontal: sideMargin,\r\n            paddingVertical: verticalSpacing,\r\n        },\r\n        swipeable: {\r\n            width: \"100%\",\r\n            borderRadius: 10,\r\n            elevation: 1,\r\n            padding: cardPadding,\r\n            overflow: \"hidden\",\r\n            backgroundColor: theme.cardBackground,\r\n        },\r\n        touchable: {\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            flexDirection: \"column\",\r\n        },\r\n        swipeAction: {\r\n            width: \"100%\",\r\n            marginHorizontal: sideMargin,\r\n            marginVertical: verticalSpacing,\r\n        },\r\n        swipeActionLeft: {\r\n            paddingRight: sideMargin * 2,\r\n        },\r\n        swipeActionRight: {\r\n            paddingLeft: sideMargin * 2,\r\n        },\r\n        swipeActionContent: {\r\n            padding: 20,\r\n            borderRadius: 10,\r\n            justifyContent: \"center\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n        },\r\n        swipeActionContentRight: {\r\n            backgroundColor: theme.accentTernary,\r\n            alignItems: \"flex-end\",\r\n        },\r\n        swipeActionContentLeft: {\r\n            backgroundColor: theme.accentSlight,\r\n        },\r\n        swipeActionText: {\r\n            fontSize: 24,\r\n            letterSpacing: 2,\r\n            textTransform: \"uppercase\",\r\n            ...styleTextThin,\r\n        },\r\n\r\n        separator: {\r\n            height: 1,\r\n            width: \"100%\",\r\n            backgroundColor: \"#000\",\r\n            opacity: 0.1,\r\n            alignSelf: \"center\",\r\n            marginBottom: 5,\r\n        },\r\n\r\n        // Card content\r\n\r\n        collapsedContent: {\r\n            flexDirection: \"row\",\r\n            height: PROFILE_PREVIEW_COLLAPSED_HEIGHT - verticalSpacing * 2 - cardPadding * 2,\r\n        },\r\n\r\n        avatarContainer: {\r\n            justifyContent: \"center\",\r\n        },\r\n        avatar: {\r\n            backgroundColor: theme.accentSecondary,\r\n        },\r\n        infoContainer: {\r\n            flex: 1,\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            paddingLeft: 10,\r\n        },\r\n        name: {\r\n            fontSize: 22,\r\n            letterSpacing: 0.8,\r\n            marginBottom: 5,\r\n            flexShrink: 1, // Ensures text wrapping\r\n            color: theme.text,\r\n        },\r\n        infoText: {\r\n            fontSize: 16,\r\n            letterSpacing: 0.5,\r\n            color: theme.textLight,\r\n            flexShrink: 1, // Ensures text wrapping\r\n        },\r\n\r\n        expandedContent: {\r\n            flex: 1,\r\n        },\r\n\r\n        chipsContainer: {\r\n            // TODO clean-up\r\n            /*flexDirection: \"row\",\r\n            flexWrap: \"wrap\",\r\n            alignItems: \"center\",\r\n            marginTop: 4,*/\r\n            flexDirection: \"row\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n            //maxHeight: 58,\r\n            overflow: \"hidden\",\r\n        },\r\n        expandedSectionTitle: {\r\n            fontFamily: \"sans-serif-light\",\r\n            fontSize: 14,\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1,\r\n            marginTop: 5,\r\n            color: theme.text,\r\n        },\r\n        actionContainer: {\r\n            flexDirection: \"column\",\r\n            flex: 1,\r\n            justifyContent: \"flex-end\",\r\n        },\r\n        blockButton: {\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            right: 0,\r\n        },\r\n        blockButtonIcon: {\r\n            fontSize: 30,\r\n            color: theme.error,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(ProfilePreview);\r\n","import {FontAwesome} from \"@expo/vector-icons\";\r\nimport {StackNavigationProp, StackScreenProps} from \"@react-navigation/stack\";\r\nimport * as React from \"react\";\r\nimport {\r\n    ActivityIndicator,\r\n    LayoutRectangle,\r\n    NativeScrollEvent,\r\n    NativeSyntheticEvent,\r\n    RefreshControl,\r\n    ScrollView,\r\n    StyleSheet,\r\n    Text,\r\n    TouchableOpacity,\r\n    View,\r\n} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {UserProfile} from \"../model/user-profile\";\r\nimport ProfilePreview from \"../components/ProfilePreview\";\r\nimport {TabMatchingParamList} from \"../navigation/types\";\r\nimport {dislikeProfile, fetchProfiles, likeProfile, refreshFetchedProfiles} from \"../state/matching/actions\";\r\nimport store from \"../state/store\";\r\nimport {AppState, MyThunkDispatch} from \"../state/types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport i18n from \"i18n-js\";\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    profiles: state.matching.fetchedProfiles,\r\n    fetchingProfiles: state.matching.fetchingProfiles,\r\n    justRefreshed: state.matching.fetchingPage == 1,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\n// Component props\r\ntype TabMatchingScreenProps = ConnectedProps<typeof reduxConnector> &\r\n    ThemeProps &\r\n    StackScreenProps<TabMatchingParamList, \"TabMatchingScreen\">;\r\n\r\nconst SCROLL_DISTANCE_TO_LOAD = 50;\r\n\r\nclass TabMatchingScreen extends React.Component<TabMatchingScreenProps> {\r\n    scrollViewRef: React.RefObject<ScrollView> = React.createRef<ScrollView>();\r\n\r\n    fetchMore() {\r\n        (this.props.dispatch as MyThunkDispatch)(fetchProfiles());\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.profiles.length == 0) this.fetchMore();\r\n    }\r\n\r\n    componentDidUpdate(oldProps: TabMatchingScreenProps) {\r\n        if (this.props.profiles.length == 0) this.fetchMore();\r\n        // Reset the hidden profiles when the user purposedly refreshes\r\n        if (!oldProps.justRefreshed && this.props.justRefreshed) this.setState({...this.state, hiddenProfiles: {}});\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {profiles, theme, fetchingProfiles, dispatch} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        const previewComponents = profiles.map((profile: UserProfile) => (\r\n            <ProfilePreview\r\n                key={profile.id}\r\n                profile={profile}\r\n                onExpand={(layout: LayoutRectangle) => {\r\n                    const scroll = this.scrollViewRef.current;\r\n                    if (scroll) scroll.scrollTo({y: layout.y, animated: true});\r\n                }}\r\n                onSwipeRight={() => (dispatch as MyThunkDispatch)(likeProfile(profile.id))}\r\n                onSwipeLeft={() => (dispatch as MyThunkDispatch)(dislikeProfile(profile.id))}\r\n            />\r\n        ));\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <ScrollView\r\n                    ref={this.scrollViewRef}\r\n                    style={styles.scroller}\r\n                    refreshControl={\r\n                        <RefreshControl\r\n                            refreshing={fetchingProfiles}\r\n                            onRefresh={() => store.dispatch(refreshFetchedProfiles())}\r\n                        />\r\n                    }\r\n                    onScroll={(e: NativeSyntheticEvent<NativeScrollEvent>) => {\r\n                        const {layoutMeasurement, contentOffset, contentSize} = e.nativeEvent;\r\n                        const distanceToBottom = contentSize.height - contentOffset.y - layoutMeasurement.height;\r\n                        if (!fetchingProfiles && distanceToBottom < SCROLL_DISTANCE_TO_LOAD) this.fetchMore();\r\n                    }}\r\n                >\r\n                    <View style={styles.matchContainer}>\r\n                        {previewComponents}\r\n                        <View style={styles.loadingIndicatorContainer}>\r\n                            {fetchingProfiles && profiles.length > 0 && (\r\n                                <ActivityIndicator size=\"large\" color={theme.accentSecondary} />\r\n                            )}\r\n                        </View>\r\n                        {!fetchingProfiles && previewComponents.length == 0 && (\r\n                            <View style={styles.noResultsContainer}>\r\n                                <Text style={styles.noResultsText1}>{i18n.t(\"matching.noResults\")}</Text>\r\n                                <Text style={styles.noResultsText2}>{i18n.t(\"matching.noResultsAdvice\")}</Text>\r\n                            </View>\r\n                        )}\r\n                    </View>\r\n                </ScrollView>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            flexDirection: \"column\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        topBar: {\r\n            flexBasis: 90,\r\n            paddingTop: 40,\r\n            paddingHorizontal: 20,\r\n            width: \"100%\",\r\n        },\r\n        title: {\r\n            fontSize: 20,\r\n            fontWeight: \"bold\",\r\n        },\r\n        separator: {\r\n            marginVertical: 20,\r\n            height: 1,\r\n            width: \"100%\",\r\n        },\r\n        scroller: {\r\n            width: \"100%\",\r\n        },\r\n        matchContainer: {\r\n            flex: 1,\r\n            borderStyle: \"solid\",\r\n            borderColor: \"red\",\r\n            borderWidth: 0,\r\n        },\r\n        loadingIndicatorContainer: {\r\n            marginVertical: 10,\r\n            height: 50,\r\n        },\r\n        filtersIcon: {\r\n            paddingHorizontal: 5,\r\n            fontSize: 26,\r\n            color: theme.textLight,\r\n        },\r\n        headerContainer: {\r\n            flexDirection: \"row\",\r\n            paddingRight: 10,\r\n        },\r\n        noResultsContainer: {\r\n            flex: 1,\r\n            alignItems: \"center\",\r\n        },\r\n        noResultsText1: {\r\n            fontSize: 20,\r\n            letterSpacing: 0.75,\r\n            color: theme.text,\r\n            marginVertical: 5,\r\n        },\r\n        noResultsText2: {\r\n            fontSize: 16,\r\n            letterSpacing: 0.5,\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\ntype MatchingHeaderRightProps = {\r\n    navigation: StackNavigationProp<TabMatchingParamList, \"TabMatchingScreen\">;\r\n} & ThemeProps;\r\n\r\nexport const MatchingHeaderRight = withTheme(\r\n    ({navigation, theme}: MatchingHeaderRightProps): JSX.Element => {\r\n        const styles = themedStyles(theme);\r\n        return (\r\n            <View style={styles.headerContainer}>\r\n                {/*<TouchableOpacity onPress={() => store.dispatch(refreshFetchedProfiles())}>\r\n                <MaterialIcons name=\"refresh\" size={32} />\r\n            </TouchableOpacity>*/}\r\n                <TouchableOpacity onPress={() => navigation.navigate(\"MatchFilteringScreen\")}>\r\n                    <FontAwesome name=\"sliders\" style={styles.filtersIcon} />\r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n    },\r\n);\r\n\r\nexport default reduxConnector(withTheme(TabMatchingScreen));\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport MultiPicker, {MultiPickerProps} from \"./MultiPicker\";\r\nimport {PARTNER_UNIVERSITIES, University} from \"../constants/universities\";\r\n\r\nlet values: string[] = [];\r\n\r\n// Component props\r\nexport type MultiUniversityPickerProps = {\r\n    universities: string[];\r\n    onChange?: (unis: string[]) => void;\r\n} & Partial<MultiPickerProps>;\r\n\r\nclass MultiUniversityPicker extends React.Component<MultiUniversityPickerProps> {\r\n    componentDidMount(): void {\r\n        if (values.length == 0) values = PARTNER_UNIVERSITIES.map((uni: University) => uni.key);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {universities, onChange, ...otherProps} = this.props;\r\n\r\n        return (\r\n            <MultiPicker\r\n                values={values}\r\n                genLabel={(univKey: string) => `universities.${univKey}`}\r\n                selected={universities}\r\n                onChange={(values: string[]) => {\r\n                    if (onChange) onChange(values);\r\n                }}\r\n                placeholder={i18n.t(\"universitiesPicker.placeholder\")}\r\n                multipleText={i18n.t(\"universitiesPicker.multiple\")}\r\n                searchablePlaceholder={i18n.t(\"universitiesPicker.searchPlaceholder\")}\r\n                {...otherProps}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default MultiUniversityPicker;\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport {Degree, DEGREES} from \"../constants/profile-constants\";\r\nimport {ButtonGroup, ButtonGroupProps, withTheme} from \"react-native-elements\";\r\nimport {getToggleStyleProps} from \"../styles/toggles\";\r\nimport {ThemeProps} from \"../types\";\r\nimport {ViewStyle} from \"react-native\";\r\n\r\nexport type GenderToggleMultiProps = {\r\n    degrees: Degree[];\r\n    onSelect?: (degrees: Degree[]) => void;\r\n    noButtonVariant?: boolean;\r\n    style?: ViewStyle;\r\n} & Partial<ButtonGroupProps> &\r\n    ThemeProps;\r\n\r\nfunction DegreeToggleMulti(props: GenderToggleMultiProps): JSX.Element {\r\n    const buttonLabels = DEGREES.map((r: string) => i18n.t(`degrees.${r}`));\r\n    const {theme, style, degrees, noButtonVariant, onSelect, ...otherProps} = props;\r\n\r\n    const styleProps = getToggleStyleProps(noButtonVariant || false, theme);\r\n\r\n    return (\r\n        <ButtonGroup\r\n            onPress={(idx: number) => {\r\n                if (onSelect) {\r\n                    const indices: number[] = typeof idx == \"object\" ? (idx as number[]) : [idx];\r\n                    onSelect(indices.map((i: number) => DEGREES[i]));\r\n                }\r\n            }}\r\n            selectMultiple={true}\r\n            selectedIndexes={degrees.map((degree: Degree) => DEGREES.indexOf(degree))}\r\n            buttons={buttonLabels}\r\n            {...styleProps}\r\n            containerStyle={[styleProps.containerStyle, style]}\r\n            buttonContainerStyle={[styleProps.buttonContainerStyle, {marginHorizontal: 2}]}\r\n            buttonStyle={[styleProps.buttonStyle, {paddingHorizontal: 0}]}\r\n            {...otherProps}\r\n        />\r\n    );\r\n}\r\n\r\nexport default withTheme(DegreeToggleMulti);\r\n","import * as React from \"react\";\r\nimport i18n from \"i18n-js\";\r\nimport MultiPicker, {MultiPickerProps} from \"./MultiPicker\";\r\nimport {LANGUAGES_CODES} from \"../model/languages\";\r\n\r\n// Component props\r\nexport type MultiLanguagePickerProps = {\r\n    languages?: string[];\r\n    onChange?: (languages: string[]) => void;\r\n} & Partial<MultiPickerProps>;\r\n\r\nconst values = LANGUAGES_CODES;\r\n\r\nclass MultiLanguagePicker extends React.Component<MultiLanguagePickerProps> {\r\n    render(): JSX.Element {\r\n        const {languages, onChange, ...otherProps} = this.props;\r\n\r\n        return (\r\n            <MultiPicker\r\n                values={values}\r\n                genLabel={(languageId: string) => `languageNames.${languageId}`}\r\n                selected={languages}\r\n                onChange={(values: string[]) => {\r\n                    if (onChange) onChange(values);\r\n                }}\r\n                placeholder={i18n.t(\"languagePicker.placeholderMultiple\")}\r\n                multipleText={i18n.t(\"languagePicker.multiple\")}\r\n                searchablePlaceholder={i18n.t(\"languagePicker.searchPlaceholder\")}\r\n                {...otherProps}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default MultiLanguagePicker;\r\n","import * as React from \"react\";\r\nimport {ScrollView, StyleSheet, Switch, Text, TouchableOpacity, View} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {OfferCategory, OfferDto} from \"../api/dto\";\r\nimport MultiUniversityPicker from \"../components/MultiUniversityPicker\";\r\nimport {refreshFetchedProfiles, setMatchingFilters} from \"../state/matching/actions\";\r\nimport {AppState, MatchingFiltersState} from \"../state/types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport i18n from \"i18n-js\";\r\nimport DegreeToggleMulti from \"../components/DegreeToggleMulti\";\r\nimport MultiLanguagePicker from \"../components/MultiLanguagePicker\";\r\nimport {Degree, Role} from \"../constants/profile-constants\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport store from \"../state/store\";\r\nimport RoleToggleMulti from \"../components/RoleToggleMulti\";\r\nimport {StackHeaderLeftButtonProps} from \"@react-navigation/stack\";\r\nimport {defaultMatchingFilters} from \"../state/matching/reducer\";\r\nimport {rootNavigate} from \"../navigation/utils\";\r\n\r\n// Map props from state\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    offers: state.profile.offers,\r\n    filters: state.matching.filters,\r\n}));\r\n\r\n// Component props\r\ntype MatchFilteringScreenProps = ThemeProps & ConnectedProps<typeof reduxConnector>;\r\n\r\n// Component state\r\ntype MatchFilteringScreenState = {\r\n    localFilters: MatchingFiltersState;\r\n};\r\n\r\nexport const Separator = withTheme(({theme}: ThemeProps) => {\r\n    return <View style={themedStyles(theme).separator}></View>;\r\n});\r\n\r\nconst filteringScreenRef = React.createRef<MatchFilteringScreen>();\r\n\r\nclass MatchFilteringScreen extends React.Component<MatchFilteringScreenProps, MatchFilteringScreenState> {\r\n    haveFiltersChanged: boolean;\r\n\r\n    constructor(props: MatchFilteringScreenProps) {\r\n        super(props);\r\n        this.state = {\r\n            localFilters: defaultMatchingFilters(),\r\n        };\r\n        this.haveFiltersChanged = false;\r\n    }\r\n\r\n    updateLocalOfferFilters(id: string, value: boolean) {\r\n        this.haveFiltersChanged = true;\r\n        this.setState({\r\n            ...this.state,\r\n            localFilters: {...this.state.localFilters, offers: {...this.state.localFilters.offers, [id]: value}},\r\n        });\r\n    }\r\n\r\n    updateLocalFilters(filters: Partial<MatchingFiltersState>) {\r\n        this.haveFiltersChanged = true;\r\n        this.setState({...this.state, localFilters: {...this.state.localFilters, ...filters}});\r\n    }\r\n\r\n    resetLocalFilters() {\r\n        this.updateLocalFilters(defaultMatchingFilters());\r\n    }\r\n\r\n    applyFilters() {\r\n        if (this.haveFiltersChanged) this.props.dispatch(setMatchingFilters(this.state.localFilters));\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Set filters from the store when mounting\r\n        this.updateLocalFilters(this.props.filters);\r\n        this.haveFiltersChanged = false;\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, offers} = this.props;\r\n        const filters = this.state.localFilters;\r\n        const styles = themedStyles(theme);\r\n\r\n        const categories = Object.values(OfferCategory);\r\n\r\n        const offerSections = categories.map((category: OfferCategory) => (\r\n            <View key={category} style={styles.sectionContainer}>\r\n                <Separator></Separator>\r\n                <Text style={styles.sectionTitle}>{i18n.t(`offerCategories.${category}`)}</Text>\r\n                {offers\r\n                    .filter((o: OfferDto) => o.category == category)\r\n                    .map((o: OfferDto) => (\r\n                        <View key={o.id} style={styles.entryContainer}>\r\n                            <Text style={styles.entryLabel}>{i18n.t(`allOffers.${o.id}.name`)}</Text>\r\n                            <Switch\r\n                                value={filters.offers[o.id] || false}\r\n                                onValueChange={(value: boolean) => this.updateLocalOfferFilters(o.id, value)}\r\n                            ></Switch>\r\n                        </View>\r\n                    ))}\r\n            </View>\r\n        ));\r\n\r\n        return (\r\n            <ScrollView style={styles.scroll} contentContainerStyle={styles.scrollContainer}>\r\n                <TouchableOpacity style={styles.resetButton} onPress={() => this.resetLocalFilters()}>\r\n                    <Text style={styles.resetButtonText}>{i18n.t(\"matching.filtering.buttonReset\")}</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.sectionContainer}>\r\n                    <Text style={styles.sectionTitle}>{i18n.t(\"matching.filtering.sectionGeneral\")}</Text>\r\n                    <View style={styles.entryContainer}>\r\n                        <Text style={styles.entryLabel}>{i18n.t(\"university\")}</Text>\r\n                        <View style={styles.entryControls}>\r\n                            <MultiUniversityPicker\r\n                                universities={filters.universities}\r\n                                showSelected={false}\r\n                                onChange={(universities: string[]) => this.updateLocalFilters({universities})}\r\n                            ></MultiUniversityPicker>\r\n                            <ClearFilterButton onPress={() => this.updateLocalFilters({universities: []})} />\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.entryContainer}>\r\n                        <Text style={styles.entryLabel}>{i18n.t(\"spokenLanguages\")}</Text>\r\n                        <View style={styles.entryControls}>\r\n                            <MultiLanguagePicker\r\n                                languages={filters.languages}\r\n                                showSelected={false}\r\n                                onChange={(languages: string[]) => this.updateLocalFilters({languages})}\r\n                            ></MultiLanguagePicker>\r\n                            <ClearFilterButton onPress={() => this.updateLocalFilters({languages: []})} />\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.twoLineEntryContainer}>\r\n                        <Text style={styles.entryLabel}>{i18n.t(\"profileTypes\")}</Text>\r\n                        <RoleToggleMulti\r\n                            roles={filters.roles}\r\n                            onSelect={(roles: Role[]) => this.updateLocalFilters({roles})}\r\n                            noButtonVariant={true}\r\n                        ></RoleToggleMulti>\r\n                    </View>\r\n                    {filters.roles.indexOf(\"student\") != -1 && (\r\n                        <View style={styles.twoLineEntryContainer}>\r\n                            <Text style={styles.entryLabel}>{i18n.t(\"levelOfStudy\")}</Text>\r\n                            <DegreeToggleMulti\r\n                                degrees={filters.degrees}\r\n                                onSelect={(degrees: Degree[]) => this.updateLocalFilters({degrees})}\r\n                                style={{width: \"100%\"}}\r\n                                noButtonVariant={true}\r\n                            ></DegreeToggleMulti>\r\n                        </View>\r\n                    )}\r\n                </View>\r\n                {offerSections}\r\n            </ScrollView>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        scroll: {\r\n            flex: 1,\r\n            backgroundColor: theme.background,\r\n        },\r\n        scrollContainer: {\r\n            flexDirection: \"column\",\r\n            padding: 40,\r\n        },\r\n        sectionContainer: {\r\n            width: \"100%\",\r\n        },\r\n        sectionTitle: {\r\n            fontSize: 20,\r\n            letterSpacing: 1,\r\n            marginBottom: 5,\r\n            color: theme.text,\r\n        },\r\n        entryContainer: {\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n        },\r\n        twoLineEntryContainer: {\r\n            flexDirection: \"column\",\r\n        },\r\n        entryLabel: {\r\n            fontSize: 16,\r\n            marginVertical: 7,\r\n            marginRight: 10,\r\n            color: theme.textLight,\r\n        },\r\n        entryControls: {\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            marginVertical: 2,\r\n        },\r\n        separator: {\r\n            height: 1,\r\n            width: \"100%\",\r\n            backgroundColor: \"rgba(0, 0, 0, 0.1)\",\r\n            alignSelf: \"center\",\r\n            marginVertical: 20,\r\n        },\r\n        resetButton: {\r\n            width: \"100%\",\r\n            maxWidth: 200,\r\n            paddingVertical: 7,\r\n            marginBottom: 20,\r\n            backgroundColor: theme.accentSlight,\r\n            alignItems: \"center\",\r\n            alignSelf: \"center\",\r\n            borderRadius: 4,\r\n            elevation: 1,\r\n        },\r\n        resetButtonText: {\r\n            fontSize: 14,\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1,\r\n        },\r\n    });\r\n});\r\n\r\nconst headerStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        headerButtonIcon: {\r\n            fontSize: 32,\r\n            paddingRight: 10,\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport const FilteringHeaderLeft = withTheme(\r\n    (props: StackHeaderLeftButtonProps & ThemeProps): JSX.Element => {\r\n        const styles = headerStyles(props.theme);\r\n        return (\r\n            <TouchableOpacity style={{padding: 10}} onPress={props.onPress}>\r\n                <MaterialIcons name=\"close\" style={styles.headerButtonIcon} />\r\n            </TouchableOpacity>\r\n        );\r\n    },\r\n);\r\n\r\nexport const FilteringHeaderRight = withTheme(\r\n    ({theme}: ThemeProps): JSX.Element => {\r\n        const styles = headerStyles(theme);\r\n        return (\r\n            <TouchableOpacity\r\n                style={{paddingVertical: 10}}\r\n                onPress={() => {\r\n                    if (filteringScreenRef.current) filteringScreenRef.current.applyFilters();\r\n                    rootNavigate(\"TabMatchingScreen\");\r\n                    store.dispatch(refreshFetchedProfiles());\r\n                }}\r\n            >\r\n                <MaterialIcons name=\"check\" style={styles.headerButtonIcon} />\r\n            </TouchableOpacity>\r\n        );\r\n    },\r\n);\r\n\r\nexport const ClearFilterButton = withTheme(\r\n    ({theme, onPress}: ThemeProps & {onPress: () => void}): JSX.Element => (\r\n        <TouchableOpacity onPress={onPress}>\r\n            <MaterialIcons name=\"close\" style={{fontSize: 28, color: theme.text}} />\r\n        </TouchableOpacity>\r\n    ),\r\n);\r\n\r\n//return <MaterialIcons name=\"refresh\" size={32} style={{paddingRight: 10}} />;\r\n/*\r\n<TouchableOpacity style={{marginRight: 16, padding: 10}} onPress={() => store.dispatch(resetMatchingFilters())}>\r\n    <Text>reset</Text>\r\n</TouchableOpacity>\r\n*/\r\n\r\nconst wrapper = (props: MatchFilteringScreenProps) => <MatchFilteringScreen ref={filteringScreenRef} {...props} />;\r\nexport default reduxConnector(withTheme(wrapper));\r\n","import {FontAwesome5} from \"@expo/vector-icons\";\r\nimport * as React from \"react\";\r\nimport {StyleSheet, Text, View} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport LogOutButton from \"../../components/LogOutButton\";\r\nimport {rootNavigate} from \"../../navigation/utils\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\n\r\nexport type ChatScreenProps = ThemeProps;\r\n\r\nclass ChatScreen extends React.Component<ChatScreenProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <FontAwesome5 style={styles.constructionIcon} name=\"hard-hat\"></FontAwesome5>\r\n                <Text style={styles.title}>Under construction</Text>\r\n                <View style={styles.separator} />\r\n                <LogOutButton style={styles.logoutButton} onLogOut={() => rootNavigate(\"LoginScreen\")} />\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            width: \"100%\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        title: {\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n            fontSize: 20,\r\n            fontWeight: \"bold\",\r\n            color: theme.text,\r\n        },\r\n        constructionIcon: {\r\n            color: \"#eecc00\",\r\n            fontSize: 40,\r\n        },\r\n        separator: {\r\n            marginVertical: 30,\r\n            height: 1,\r\n            width: \"80%\",\r\n            backgroundColor: theme.cardBackground,\r\n        },\r\n        logoutButton: {\r\n            marginVertical: 20,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(ChatScreen);\r\n","import * as React from \"react\";\r\nimport {\r\n    LayoutChangeEvent,\r\n    LayoutRectangle,\r\n    Text,\r\n    TouchableOpacity,\r\n    View,\r\n    ViewStyle,\r\n    Animated,\r\n    StyleSheet,\r\n} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport {Avatar, withTheme} from \"react-native-elements\";\r\nimport {UserProfile} from \"../../model/user-profile\";\r\nimport ReAnimated, {Easing} from \"react-native-reanimated\";\r\nimport Swipeable from \"react-native-gesture-handler/Swipeable\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {styleTextThin} from \"../../styles/general\";\r\n\r\n// Component props\r\nexport type ProfilePreviewProps = ThemeProps & {\r\n    profile: UserProfile;\r\n    style?: ViewStyle;\r\n    onPress?: () => void;\r\n    onHidden?: () => void;\r\n};\r\n\r\n// Component state\r\nexport type ProfilePreviewState = {\r\n    height: ReAnimated.Value<number>;\r\n};\r\n\r\nclass ProfileMessagingCard extends React.Component<ProfilePreviewProps, ProfilePreviewState> {\r\n    layout: LayoutRectangle;\r\n\r\n    constructor(props: ProfilePreviewProps) {\r\n        super(props);\r\n        this.state = {\r\n            height: new ReAnimated.Value(CARD_HEIGHT),\r\n        };\r\n        this.layout = {x: 0, y: 0, width: 0, height: 0};\r\n    }\r\n\r\n    hide(onFinish?: () => void) {\r\n        const duration = 120;\r\n        ReAnimated.timing(this.state.height, {\r\n            toValue: 0,\r\n            duration,\r\n            easing: Easing.linear,\r\n        }).start();\r\n        setTimeout(() => {\r\n            if (onFinish) onFinish();\r\n            if (this.props.onHidden) this.props.onHidden();\r\n        }, duration);\r\n    }\r\n\r\n    render() {\r\n        const {theme, profile, style, onPress} = this.props;\r\n        const {height} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        // const university = PARTNER_UNIVERSITIES.find((univ: University) => univ.key == profile.university);\r\n\r\n        return (\r\n            <ReAnimated.View\r\n                style={[styles.wrapper, style, {height}]}\r\n                onLayout={(e: LayoutChangeEvent) => {\r\n                    this.layout = e.nativeEvent.layout;\r\n                }}\r\n            >\r\n                <Swipeable\r\n                    containerStyle={styles.swipeableContainer}\r\n                    childrenContainerStyle={styles.swipeable}\r\n                    onSwipeableRightWillOpen={() => {\r\n                        //this.hide();\r\n                    }}\r\n                    rightThreshold={100}\r\n                    overshootRight={false}\r\n                    renderRightActions={() => (\r\n                        <Animated.View style={styles.swipeAction}>\r\n                            <View style={styles.swipeActionContent}>\r\n                                <SwipeActionButton icon=\"notifications-off\" color={\"#ccc\"}></SwipeActionButton>\r\n                                <SwipeActionButton icon=\"report\" color={theme.warn}></SwipeActionButton>\r\n                                <SwipeActionButton icon=\"close\" color={theme.error}></SwipeActionButton>\r\n                            </View>\r\n                        </Animated.View>\r\n                    )}\r\n                >\r\n                    <TouchableOpacity\r\n                        onPress={() => {\r\n                            if (onPress) onPress();\r\n                        }}\r\n                        activeOpacity={0.75}\r\n                        style={styles.touchable}\r\n                    >\r\n                        <View style={styles.avatarContainer}>\r\n                            <Avatar\r\n                                size={CARD_HEIGHT - verticalSpacing * 2 - 20}\r\n                                rounded\r\n                                title={(profile.firstName[0] + profile.lastName[0]).toUpperCase()}\r\n                                containerStyle={styles.avatar}\r\n                                source={\r\n                                    profile.avatarUrl && profile.avatarUrl !== \"\" ? {uri: profile.avatarUrl} : undefined\r\n                                }\r\n                            ></Avatar>\r\n                        </View>\r\n                        <View style={styles.infoContainer}>\r\n                            <Text style={styles.name}>{profile.firstName + \" \" + profile.lastName}</Text>\r\n                            <Text style={styles.infoText}>\r\n                                {i18n.t(`allRoles.${profile.staffRole ? \"staff\" : \"student\"}`)} (\r\n                                {profile.staffRole\r\n                                    ? i18n.t(`staffRoles.${profile.staffRole}`)\r\n                                    : i18n.t(`degrees.${profile.degree}`)}\r\n                                )\r\n                            </Text>\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                </Swipeable>\r\n            </ReAnimated.View>\r\n        );\r\n    }\r\n}\r\n\r\ntype SwipeActionProps = {icon: string; color?: string; onPress?: () => void};\r\n\r\nconst SwipeActionButton = withTheme(\r\n    (props: SwipeActionProps & ThemeProps): JSX.Element => {\r\n        const {icon, color, onPress, theme} = props;\r\n        const styles = themedStyles(theme);\r\n        return (\r\n            <TouchableOpacity onPress={onPress} style={[styles.swipeActionButton, {backgroundColor: color}]}>\r\n                <MaterialIcons style={styles.swipeActionButtonIcon} name={icon} />\r\n            </TouchableOpacity>\r\n        );\r\n    },\r\n);\r\n\r\nconst sideMargin = 15;\r\nconst verticalSpacing = 5;\r\nconst CARD_HEIGHT = 75;\r\nconst ACTION_BUTTON_WIDTH = CARD_HEIGHT - verticalSpacing * 2;\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            width: \"100%\",\r\n            overflow: \"hidden\",\r\n            //paddingHorizontal: 20,\r\n        },\r\n        swipeableContainer: {\r\n            width: \"100%\",\r\n            paddingHorizontal: sideMargin,\r\n            paddingVertical: verticalSpacing,\r\n        },\r\n        swipeable: {\r\n            width: \"100%\",\r\n            borderRadius: 4,\r\n            elevation: 1,\r\n            padding: 10,\r\n            backgroundColor: theme.cardBackground,\r\n        },\r\n        touchable: {\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            flexDirection: \"row\",\r\n        },\r\n        swipeAction: {\r\n            width: ACTION_BUTTON_WIDTH * 3,\r\n            //marginHorizontal: sideMargin,\r\n            marginLeft: -sideMargin - 2,\r\n            marginRight: sideMargin,\r\n            marginVertical: verticalSpacing,\r\n        },\r\n        swipeActionContent: {\r\n            flexDirection: \"row\",\r\n            borderTopRightRadius: 4,\r\n            borderBottomRightRadius: 4,\r\n            justifyContent: \"center\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: theme.accentSecondary,\r\n        },\r\n        swipeActionText: {\r\n            fontSize: 24,\r\n            letterSpacing: 2,\r\n            ...styleTextThin,\r\n        },\r\n        swipeActionButton: {\r\n            width: ACTION_BUTTON_WIDTH,\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            flex: 1,\r\n        },\r\n        swipeActionButtonIcon: {\r\n            color: theme.textWhite,\r\n            fontSize: 22,\r\n        },\r\n\r\n        // Card content\r\n\r\n        avatarContainer: {\r\n            justifyContent: \"center\",\r\n        },\r\n        avatar: {\r\n            backgroundColor: theme.accentSecondary,\r\n        },\r\n        infoContainer: {\r\n            flex: 1,\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            paddingLeft: 10,\r\n        },\r\n        name: {\r\n            fontSize: 18,\r\n            letterSpacing: 0.5,\r\n            color: theme.text,\r\n        },\r\n        infoText: {\r\n            fontSize: 15,\r\n            color: theme.textLight,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(ProfileMessagingCard);\r\n","import * as React from \"react\";\r\nimport {ScrollView, View, StyleSheet, Alert, Text, RefreshControl} from \"react-native\";\r\nimport {AppState, MyThunkDispatch} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {UserProfile} from \"../../model/user-profile\";\r\nimport ProfileMessagingCard from \"../../components/messaging/ProfileMessagingCard\";\r\nimport i18n from \"i18n-js\";\r\nimport {fetchMyMatches} from \"../../state/matching/actions\";\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    profiles: state.matching.myMatches,\r\n    fetchingMatches: state.matching.fetchingMyMatches,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\n// TEMP fake profiles\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst testProfiles: UserProfile[] = [\r\n    {\r\n        id: \"SpGiGSsGDdGSpogjQgsfGhfSdDFPFhGdShD\",\r\n        type: \"student\",\r\n        firstName: \"John\",\r\n        lastName: \"Doe\",\r\n        university: \"univ-brest\",\r\n        degree: \"bsc3\",\r\n        nationality: \"FR\",\r\n        birthdate: new Date(),\r\n        gender: \"male\",\r\n        interests: [\"netflix\"],\r\n        avatarUrl: \"\",\r\n        languages: [\r\n            {code: \"fr\", level: \"native\"},\r\n            {code: \"en\", level: \"c2\"},\r\n        ],\r\n        educationFields: [],\r\n        profileOffers: [],\r\n    },\r\n    {\r\n        id: \"FQSFDPSfpgsdsdfPIUJIjGSfgpQgqujpgodREjPGS\",\r\n        type: \"student\",\r\n        firstName: \"Matt\",\r\n        lastName: \"Brooks\",\r\n        university: \"univ-cadiz\",\r\n        degree: \"m2\",\r\n        nationality: \"FR\",\r\n        birthdate: new Date(),\r\n        gender: \"male\",\r\n        interests: [\"netflix\"],\r\n        avatarUrl: \"\",\r\n        languages: [\r\n            {code: \"es\", level: \"native\"},\r\n            {code: \"en\", level: \"c1\"},\r\n            {code: \"fr\", level: \"b2\"},\r\n        ],\r\n        educationFields: [],\r\n        profileOffers: [],\r\n    },\r\n    {\r\n        id: \"FDPSfpgssdfPIUJIjfgpQujpgodREjPGS\",\r\n        type: \"student\",\r\n        firstName: \"Jeff\",\r\n        lastName: \"Dale\",\r\n        university: \"univ-cadiz\",\r\n        degree: \"m2\",\r\n        nationality: \"FR\",\r\n        birthdate: new Date(),\r\n        gender: \"male\",\r\n        interests: [\"netflix\"],\r\n        avatarUrl: \"\",\r\n        languages: [\r\n            {code: \"es\", level: \"native\"},\r\n            {code: \"en\", level: \"c1\"},\r\n            {code: \"fr\", level: \"b2\"},\r\n        ],\r\n        educationFields: [],\r\n        profileOffers: [],\r\n    },\r\n    {\r\n        id: \"qdqsFDPSfpgssdfPIUJIjfgpQujpgodRdqEjPGS\",\r\n        type: \"student\",\r\n        firstName: \"Harry\",\r\n        lastName: \"Dodd\",\r\n        university: \"univ-cadiz\",\r\n        degree: \"m2\",\r\n        nationality: \"FR\",\r\n        birthdate: new Date(),\r\n        gender: \"male\",\r\n        interests: [\"netflix\"],\r\n        avatarUrl: \"\",\r\n        languages: [\r\n            {code: \"es\", level: \"native\"},\r\n            {code: \"fr\", level: \"b2\"},\r\n        ],\r\n        educationFields: [],\r\n        profileOffers: [],\r\n    },\r\n];\r\n\r\ntype IndividualMessagingTabProps = ConnectedProps<typeof reduxConnector> & ThemeProps;\r\n\r\nclass IndividualMessagingTab extends React.Component<IndividualMessagingTabProps> {\r\n    componentDidMount() {\r\n        (this.props.dispatch as MyThunkDispatch)(fetchMyMatches());\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, profiles, fetchingMatches, dispatch} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        //const profiles = testProfiles;\r\n        //const profiles: UserProfile[] = [];\r\n\r\n        return (\r\n            <View style={styles.wrapper}>\r\n                <ScrollView\r\n                    style={styles.matchesContainer}\r\n                    refreshControl={\r\n                        <RefreshControl\r\n                            refreshing={fetchingMatches}\r\n                            onRefresh={() => (dispatch as MyThunkDispatch)(fetchMyMatches())}\r\n                        />\r\n                    }\r\n                >\r\n                    {profiles.map((p: UserProfile) => (\r\n                        <ProfileMessagingCard\r\n                            key={p.id}\r\n                            profile={p}\r\n                            onPress={() => {\r\n                                Alert.alert(\"Chatting is not implemented yet\", \"\", [{text: \"OK\"}]);\r\n                            }}\r\n                        />\r\n                    ))}\r\n                    {!fetchingMatches && profiles.length == 0 && (\r\n                        <View style={styles.noMatchesContainer}>\r\n                            <Text style={styles.noMatchesText}>{i18n.t(\"messaging.noMatches\")}</Text>\r\n                        </View>\r\n                    )}\r\n                </ScrollView>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport const themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            flex: 1,\r\n            paddingHorizontal: 0,\r\n            paddingVertical: 20,\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            backgroundColor: theme.background,\r\n            //height: 250,\r\n        },\r\n        matchesContainer: {\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n        },\r\n        noMatchesContainer: {\r\n            width: \"80%\",\r\n            alignSelf: \"center\",\r\n            marginVertical: 40,\r\n        },\r\n        noMatchesText: {\r\n            color: theme.text,\r\n            letterSpacing: 0.5,\r\n            fontSize: 18,\r\n            lineHeight: 24,\r\n            textAlign: \"center\",\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(IndividualMessagingTab));\r\n","import * as React from \"react\";\r\nimport {Text, View, StyleSheet} from \"react-native\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\n\r\nconst mapStateToProps = (state: AppState) => ({});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\ntype GroupMessagingTabProps = ConnectedProps<typeof reduxConnector> & ThemeProps;\r\n\r\nclass GroupMessagingTab extends React.Component<GroupMessagingTabProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.wrapper}>\r\n                <Text>Not implemented</Text>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport const themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            flex: 1,\r\n            paddingHorizontal: 0,\r\n            paddingVertical: 20,\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            backgroundColor: theme.background,\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(GroupMessagingTab));\r\n","import {createStackNavigator} from \"@react-navigation/stack\";\r\nimport * as React from \"react\";\r\nimport {createMaterialTopTabNavigator} from \"@react-navigation/material-top-tabs\";\r\nimport {useSafeAreaInsets} from \"react-native-safe-area-context\";\r\nimport ChatScreen from \"../screens/messaging/ChatScreen\";\r\nimport IndividualMessagingTab from \"../screens/messaging/IndividualMessagingTab\";\r\nimport GroupMessagingTab from \"../screens/messaging/GroupMessagingTab\";\r\nimport i18n from \"i18n-js\";\r\nimport {TabMessagingRoot, TabMessagingTabs} from \"./types\";\r\n\r\nconst Stack = createStackNavigator<TabMessagingRoot>();\r\nconst Tab = createMaterialTopTabNavigator<TabMessagingTabs>();\r\n\r\nexport default function MessagingNavigator(): JSX.Element {\r\n    const insets = useSafeAreaInsets();\r\n    return (\r\n        <Stack.Navigator initialRouteName=\"MessagingScreen\" headerMode=\"none\">\r\n            <Stack.Screen name=\"ChatScreen\" component={ChatScreen} />\r\n            <Stack.Screen name=\"MessagingScreen\">\r\n                {() => (\r\n                    <Tab.Navigator tabBarOptions={{style: {paddingTop: insets.top}}}>\r\n                        <Tab.Screen\r\n                            name=\"IndividualMessagingTab\"\r\n                            options={{tabBarLabel: i18n.t(\"messaging.tabIndividual\")}}\r\n                            component={IndividualMessagingTab}\r\n                        />\r\n                        <Tab.Screen\r\n                            name=\"GroupMessagingTab\"\r\n                            options={{tabBarLabel: i18n.t(\"messaging.tabGroup\")}}\r\n                            component={GroupMessagingTab}\r\n                        />\r\n                    </Tab.Navigator>\r\n                )}\r\n            </Stack.Screen>\r\n        </Stack.Navigator>\r\n    );\r\n}\r\n","import {FontAwesome} from \"@expo/vector-icons\";\r\nimport * as React from \"react\";\r\nimport {StyleSheet, Text, View} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport LogOutButton from \"../components/LogOutButton\";\r\nimport {rootNavigate} from \"../navigation/utils\";\r\nimport {styleTextLight} from \"../styles/general\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\n\r\nexport type TabNotImplementedScreenProps = ThemeProps;\r\n\r\nclass TabNotImplementedScreen extends React.Component<TabNotImplementedScreenProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <FontAwesome style={styles.icon} name=\"heart\" />\r\n                <Text style={styles.title}>Thank you for participating in the alpha program.</Text>\r\n                <View style={styles.separator} />\r\n                <Text style={[styles.alphaText, {fontWeight: \"bold\"}]}>\r\n                    Found a bug or have some feedback for us or ideas for the app?\r\n                </Text>\r\n                <Text style={styles.alphaText}>\r\n                    Get in touch with us on Slack and we would be happy to discuss it with you!\r\n                </Text>\r\n                <LogOutButton style={styles.logoutButton} onLogOut={() => rootNavigate(\"LoginScreen\")} />\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            width: \"100%\",\r\n            padding: 50,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        title: {\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n            fontSize: 24,\r\n            color: theme.text,\r\n            ...styleTextLight,\r\n        },\r\n        alphaText: {\r\n            width: \"100%\",\r\n            textAlign: \"left\",\r\n            fontSize: 16,\r\n            color: theme.text,\r\n            marginVertical: 10,\r\n        },\r\n        icon: {\r\n            color: theme.accent,\r\n            fontSize: 48,\r\n            paddingBottom: 20,\r\n        },\r\n        separator: {\r\n            marginVertical: 30,\r\n            height: 1,\r\n            opacity: 0.1,\r\n            width: \"100%\",\r\n            backgroundColor: theme.text,\r\n        },\r\n        logoutButton: {\r\n            marginTop: 80,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(TabNotImplementedScreen);\r\n","/* eslint-disable react/display-name */\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {createBottomTabNavigator} from \"@react-navigation/bottom-tabs\";\r\nimport {createStackNavigator, StackHeaderLeftButtonProps, StackScreenProps} from \"@react-navigation/stack\";\r\nimport * as React from \"react\";\r\nimport TabNotImplementedScreen from \"../screens/TabNotImplementedScreen\";\r\nimport {\r\n    MainNavigatorTabs,\r\n    RootNavigatorScreens,\r\n    TabHomeRoot,\r\n    TabMatchingRoot,\r\n    TabNotificationsRoot,\r\n    TabProfileRoot,\r\n} from \"../navigation/types\";\r\nimport TabProfileScreen from \"../screens/TabProfileScreen\";\r\nimport i18n from \"i18n-js\";\r\nimport TabMatchingScreen, {MatchingHeaderRight} from \"../screens/TabMatchingScreen\";\r\nimport MatchFilteringScreen, {FilteringHeaderLeft, FilteringHeaderRight} from \"../screens/MatchFilteringScreen\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport MessagingNavigator from \"./MessagingNavigator\";\r\nimport {Text} from \"react-native\";\r\nimport {LabelPosition} from \"@react-navigation/bottom-tabs/lib/typescript/src/types\";\r\nimport {ThemeProps} from \"../types\";\r\nimport TabHomeScreen from \"../screens/TabHomeScreen\";\r\n\r\nconst TabNavigator = createBottomTabNavigator<MainNavigatorTabs>();\r\n\r\n// Component props\r\nexport type MainNavigatorProps = ThemeProps & StackScreenProps<RootNavigatorScreens, \"MainScreen\">;\r\n\r\nfunction MainNavigatorComponent({theme}: MainNavigatorProps): JSX.Element {\r\n    return (\r\n        <TabNavigator.Navigator initialRouteName=\"TabHome\" tabBarOptions={{activeTintColor: theme.tint}}>\r\n            <TabNavigator.Screen\r\n                name=\"TabHome\"\r\n                component={TabHomeNavigator}\r\n                options={{\r\n                    tabBarLabel: (props: TabBarLabelProps) => <TabBarLabel text={i18n.t(\"tabs.home\")} {...props} />,\r\n                    tabBarIcon: (props: TabBarIconProps) => <TabBarIcon name=\"home\" {...props} />,\r\n                }}\r\n            />\r\n            <TabNavigator.Screen\r\n                name=\"TabMatching\"\r\n                component={TabMatchingNavigator}\r\n                options={{\r\n                    tabBarLabel: (props: TabBarLabelProps) => <TabBarLabel text={i18n.t(\"tabs.matching\")} {...props} />,\r\n                    tabBarIcon: (props: TabBarIconProps) => <TabBarIcon name=\"contacts\" {...props} />,\r\n                }}\r\n            />\r\n            <TabNavigator.Screen\r\n                name=\"TabMessaging\"\r\n                component={MessagingNavigator}\r\n                options={{\r\n                    tabBarLabel: (props: TabBarLabelProps) => (\r\n                        <TabBarLabel text={i18n.t(\"tabs.messaging\")} {...props} />\r\n                    ),\r\n                    tabBarIcon: (props: TabBarIconProps) => <TabBarIcon name=\"message\" {...props} />,\r\n                }}\r\n            />\r\n            <TabNavigator.Screen\r\n                name=\"TabProfile\"\r\n                component={TabProfileNavigator}\r\n                options={{\r\n                    tabBarLabel: (props: TabBarLabelProps) => <TabBarLabel text={i18n.t(\"tabs.profile\")} {...props} />,\r\n                    tabBarIcon: (props: TabBarIconProps) => <TabBarIcon name=\"person\" {...props} />,\r\n                }}\r\n            />\r\n            <TabNavigator.Screen\r\n                name=\"TabNotifications\"\r\n                component={TabNotificationsNavigator}\r\n                options={{\r\n                    tabBarLabel: (props: TabBarLabelProps) => (\r\n                        <TabBarLabel text={i18n.t(\"tabs.notifications\")} {...props} />\r\n                    ),\r\n                    tabBarIcon: (props: TabBarIconProps) => <TabBarIcon name=\"notifications\" {...props} />,\r\n                }}\r\n            />\r\n        </TabNavigator.Navigator>\r\n    );\r\n}\r\n\r\ntype TabBarIconProps = {\r\n    focused: boolean;\r\n    color: string;\r\n    size: number;\r\n};\r\ntype TabBarLabelProps = {\r\n    focused: boolean;\r\n    color: string;\r\n    position: LabelPosition;\r\n};\r\n\r\n// TODO move\r\nfunction TabBarIcon({name, color}: {name: string} & TabBarIconProps): JSX.Element {\r\n    return <MaterialIcons size={26} style={{marginTop: 3}} name={name} color={color} />;\r\n}\r\n\r\nfunction TabBarLabel({text, color}: {text: string} & TabBarLabelProps): JSX.Element {\r\n    return <Text style={{color: color, fontSize: 11, marginBottom: 3}}>{text}</Text>;\r\n}\r\n\r\nconst TabHomeStack = createStackNavigator<TabHomeRoot>();\r\n\r\nconst TabHomeNavigator = (): JSX.Element => (\r\n    <TabHomeStack.Navigator>\r\n        <TabHomeStack.Screen name=\"TabHomeScreen\" component={TabHomeScreen} options={{headerShown: false}} />\r\n    </TabHomeStack.Navigator>\r\n);\r\n\r\nconst TabMatchingStack = createStackNavigator<TabMatchingRoot>();\r\n\r\nconst TabMatchingNavigator = withTheme(\r\n    (): JSX.Element => (\r\n        <TabMatchingStack.Navigator>\r\n            <TabMatchingStack.Screen\r\n                name=\"TabMatchingScreen\"\r\n                component={TabMatchingScreen}\r\n                options={({navigation}) => ({\r\n                    headerShown: true,\r\n                    headerLeft: () => <></>,\r\n                    headerTitle: \"Matching\",\r\n                    headerTitleStyle: {\r\n                        letterSpacing: 0.5,\r\n                        paddingLeft: 10,\r\n                    },\r\n                    headerTitleAlign: \"left\",\r\n                    // eslint-disable-next-line react/display-name\r\n                    headerRight: () => <MatchingHeaderRight navigation={navigation} />,\r\n                })}\r\n            />\r\n            <TabMatchingStack.Screen\r\n                name=\"MatchFilteringScreen\"\r\n                component={MatchFilteringScreen}\r\n                options={{\r\n                    headerShown: true,\r\n                    headerTitle: \"Filters\",\r\n                    headerTitleAlign: \"center\",\r\n                    headerLeft: (props: StackHeaderLeftButtonProps) => <FilteringHeaderLeft {...props} />,\r\n                    headerRight: () => <FilteringHeaderRight />,\r\n                }}\r\n            />\r\n        </TabMatchingStack.Navigator>\r\n    ),\r\n);\r\n\r\nconst TabNotificationsStack = createStackNavigator<TabNotificationsRoot>();\r\n\r\nconst TabNotificationsNavigator = (): JSX.Element => (\r\n    <TabNotificationsStack.Navigator>\r\n        <TabNotificationsStack.Screen\r\n            name=\"TabNotificationsScreen\"\r\n            component={TabNotImplementedScreen}\r\n            options={{headerShown: false}}\r\n        />\r\n    </TabNotificationsStack.Navigator>\r\n);\r\n\r\nconst TabProfileStack = createStackNavigator<TabProfileRoot>();\r\n\r\nconst TabProfileNavigator = (): JSX.Element => (\r\n    <TabProfileStack.Navigator>\r\n        <TabProfileStack.Screen name=\"TabProfileScreen\" component={TabProfileScreen} options={{headerShown: false}} />\r\n    </TabProfileStack.Navigator>\r\n);\r\n\r\nexport default withTheme(MainNavigatorComponent);\r\n","import {StyleSheet, TextStyle} from \"react-native\";\r\nimport {Theme} from \"../types\";\r\nimport {preTheme} from \"./utils\";\r\nimport {styleTextThin} from \"./general\";\r\n\r\nexport const onboardingStyle = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        slideWrapper: {\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        header: {\r\n            marginBottom: \"20%\",\r\n        },\r\n        slideContentWrapper: {\r\n            width: \"70%\",\r\n        },\r\n        slideNavWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-around\",\r\n            alignItems: \"center\",\r\n            position: \"absolute\",\r\n            bottom: 50,\r\n        },\r\n        navButton: {},\r\n        navButtonIcon: {\r\n            fontSize: 40,\r\n            color: theme.text,\r\n        },\r\n        finishButtonText: {\r\n            fontSize: 20,\r\n        },\r\n        title: {\r\n            ...styleTextThin,\r\n            fontSize: 40,\r\n            letterSpacing: 1.75,\r\n            marginBottom: 20,\r\n            color: theme.text,\r\n        } as TextStyle,\r\n        subtitle: {\r\n            fontSize: 18,\r\n            textAlign: \"justify\",\r\n            letterSpacing: 0.4,\r\n            lineHeight: 25,\r\n            color: theme.textLight,\r\n        } as TextStyle,\r\n    });\r\n});\r\n\r\nexport const tosSlideStyle = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        actionsWrapper: {\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-around\",\r\n        },\r\n        actionButton: {\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            padding: 20,\r\n        },\r\n        actionButtonTextDecline: {\r\n            fontSize: 16,\r\n            paddingHorizontal: 2,\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1,\r\n            color: theme.error,\r\n        },\r\n        actionButtonTextAccept: {\r\n            fontSize: 16,\r\n            paddingHorizontal: 2,\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: 1,\r\n            color: theme.okay,\r\n        },\r\n        readMoreText: {\r\n            fontSize: 16,\r\n            lineHeight: 20,\r\n            textAlign: \"justify\",\r\n            marginBottom: 40,\r\n            letterSpacing: 0.4,\r\n            color: theme.textLight,\r\n        },\r\n    });\r\n});\r\n","import * as React from \"react\";\r\nimport {AnyAction} from \"redux\";\r\nimport {\r\n    CreateProfileDto,\r\n    CreateProfileDtoCommon,\r\n    CreateProfileDtoStaff,\r\n    CreateProfileDtoStudent,\r\n    initOfferValue,\r\n    OfferCategory,\r\n    OfferDto,\r\n    OfferValueDto,\r\n} from \"../../api/dto\";\r\nimport OfferControl from \"../../components/OfferControl\";\r\nimport {setOnboardingOfferValue} from \"../../state/auth/actions\";\r\nimport {createProfile} from \"../../state/profile/actions\";\r\nimport store from \"../../state/store\";\r\nimport {MyThunkDispatch, OnboardingState} from \"../../state/types\";\r\n\r\nexport function createOfferControls(\r\n    offers: OfferDto[],\r\n    category: OfferCategory,\r\n    onboardingState: OnboardingState,\r\n    dispatch: React.Dispatch<AnyAction>,\r\n): JSX.Element[] {\r\n    return offers\r\n        .filter((offer: OfferDto) => offer.category == category)\r\n        .map((offer: OfferDto, i: number) => (\r\n            <OfferControl\r\n                key={i}\r\n                offer={offer}\r\n                value={onboardingState.offerValues[offer.id] || initOfferValue(offer)}\r\n                onChange={(value: OfferValueDto) => dispatch(setOnboardingOfferValue(offer.id, value))}\r\n                style={{marginVertical: 20}}\r\n            />\r\n        ));\r\n}\r\n\r\nfunction onboardingStateToDto(onboardingState: OnboardingState): CreateProfileDto | null {\r\n    /* eslint-disable @typescript-eslint/no-non-null-assertion */\r\n\r\n    const base: CreateProfileDtoCommon = {\r\n        type: onboardingState.role!,\r\n        firstName: onboardingState.firstname!,\r\n        lastName: onboardingState.lastname!,\r\n        gender: onboardingState.gender!,\r\n        birthdate: onboardingState.birthdate!.toJSON(),\r\n        nationality: onboardingState.nationality!,\r\n        languages: onboardingState.languages,\r\n        interests: onboardingState.interestIds,\r\n        profileOffers: Object.values(onboardingState.offerValues),\r\n        educationFields: onboardingState.educationFields.map((id) => ({id})),\r\n    };\r\n\r\n    if (onboardingState.role == \"student\") {\r\n        return {\r\n            ...base,\r\n            degree: onboardingState.degree,\r\n        } as CreateProfileDtoStudent;\r\n    } else if (onboardingState.role == \"staff\") {\r\n        return {\r\n            ...base,\r\n            staffRole: onboardingState.staffRole,\r\n        } as CreateProfileDtoStaff;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function finishOnboarding(onboardingState: OnboardingState): void {\r\n    const createProfileDto = onboardingStateToDto(onboardingState);\r\n    if (createProfileDto) (store.dispatch as MyThunkDispatch)(createProfile(createProfileDto));\r\n}\r\n","import {FontAwesome} from \"@expo/vector-icons\";\r\nimport * as React from \"react\";\r\nimport {Text, View, TouchableOpacity} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {onboardingStyle} from \"../../styles/onboarding\";\r\nimport {ThemeProps} from \"../../types\";\r\nimport {finishOnboarding} from \"./helpers\";\r\nimport i18n from \"i18n-js\";\r\nimport store from \"../../state/store\";\r\n\r\nexport type OnboardingScreenProps = {\r\n    index: number;\r\n    previous: () => void;\r\n    next: () => void;\r\n    hasNext: boolean;\r\n};\r\n\r\nexport type OnboardingSlideProps = {\r\n    title?: string;\r\n    subtitle?: string;\r\n    handleSubmit?: (e?: React.FormEvent<HTMLFormElement> | undefined) => void;\r\n    hideNavNext?: boolean;\r\n} & OnboardingScreenProps &\r\n    ThemeProps;\r\n\r\nclass OnboardingSlide extends React.Component<OnboardingSlideProps> {\r\n    render(): JSX.Element {\r\n        const {title, subtitle, index, hideNavNext, hasNext, handleSubmit, next, theme} = this.props;\r\n        const styles = onboardingStyle(theme);\r\n\r\n        const hasPrevious = index > 0;\r\n\r\n        const navigateRight = () => {\r\n            if (handleSubmit) handleSubmit();\r\n            else if (hasNext) next();\r\n        };\r\n\r\n        return (\r\n            <View style={styles.slideWrapper}>\r\n                <View style={styles.slideContentWrapper}>\r\n                    <View style={styles.header}>\r\n                        {title && <Text style={styles.title}>{title}</Text>}\r\n                        {subtitle && <Text style={styles.subtitle}>{subtitle}</Text>}\r\n                    </View>\r\n                    {this.props.children}\r\n                </View>\r\n                <View style={styles.slideNavWrapper}>\r\n                    {hasPrevious && (\r\n                        <TouchableOpacity style={styles.navButton} onPress={() => this.props.previous()}>\r\n                            <FontAwesome style={styles.navButtonIcon} name=\"arrow-circle-left\"></FontAwesome>\r\n                        </TouchableOpacity>\r\n                    )}\r\n                    {!hideNavNext && hasNext && (\r\n                        <TouchableOpacity\r\n                            style={styles.navButton}\r\n                            /*onPress={() => this.props.navigation.navigate(next)}*/ onPress={navigateRight}\r\n                        >\r\n                            <FontAwesome style={styles.navButtonIcon} name=\"arrow-circle-right\"></FontAwesome>\r\n                        </TouchableOpacity>\r\n                    )}\r\n                    {!hasNext && (\r\n                        <TouchableOpacity\r\n                            style={styles.navButton}\r\n                            onPress={() => {\r\n                                finishOnboarding(store.getState().auth.onboarding);\r\n                            }}\r\n                        >\r\n                            <Text style={styles.finishButtonText}>{i18n.t(\"onboarding.submit\")}</Text>\r\n                        </TouchableOpacity>\r\n                    )}\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(OnboardingSlide);\r\n","import {Formik, FormikProps} from \"formik\";\r\nimport * as React from \"react\";\r\nimport {Keyboard, KeyboardAvoidingView} from \"react-native\";\r\nimport {FormTextInput} from \"../../components/FormTextInput\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {VALIDATOR_FIRSTNAME, VALIDATOR_LASTNAME} from \"../../validators\";\r\nimport {getOnboardingTextInputsStyleProps} from \"../../styles/forms\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {setOnboardingValues} from \"../../state/auth/actions\";\r\nimport {ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\ntype OnboardingNameFormState = {\r\n    firstname: string;\r\n    lastname: string;\r\n};\r\n\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n}));\r\n\r\nconst VALIDATION_SCHEMA = Yup.object().shape({\r\n    firstname: VALIDATOR_FIRSTNAME,\r\n    lastname: VALIDATOR_LASTNAME,\r\n});\r\n\r\ntype OnboardingNameScreenProps = ConnectedProps<typeof reduxConnector> & ThemeProps & OnboardingScreenProps;\r\n\r\nclass OnboardingNameScreen extends React.Component<OnboardingNameScreenProps> {\r\n    shouldComponentUpdate(nextProps: Readonly<OnboardingNameScreenProps>) {\r\n        const prev = this.props.onboardingState;\r\n        const next = nextProps.onboardingState;\r\n        return prev.firstname != next.firstname || prev.lastname != next.lastname;\r\n    }\r\n\r\n    submit(values: OnboardingNameFormState) {\r\n        Keyboard.dismiss();\r\n        this.props.dispatch(setOnboardingValues(values));\r\n        this.props.next();\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, onboardingState} = this.props;\r\n\r\n        return (\r\n            <Formik\r\n                initialValues={onboardingState as OnboardingNameFormState}\r\n                validationSchema={VALIDATION_SCHEMA}\r\n                validateOnChange={true}\r\n                validateOnBlur={false}\r\n                onSubmit={(values: OnboardingNameFormState) => this.submit(values)}\r\n            >\r\n                {(formikProps: FormikProps<OnboardingNameFormState>) => {\r\n                    const {handleSubmit, values, errors, touched, handleChange, handleBlur} = formikProps;\r\n                    const textInputProps = (field: string) => ({\r\n                        field,\r\n                        value: (values as {[key: string]: string})[field],\r\n                        error: (errors as {[key: string]: string | undefined})[field],\r\n                        touched: (touched as {[key: string]: boolean | undefined})[field],\r\n                        handleChange,\r\n                        handleBlur,\r\n                        ...getOnboardingTextInputsStyleProps(theme),\r\n                    });\r\n\r\n                    return (\r\n                        <OnboardingSlide\r\n                            title={i18n.t(\"onboarding.name.title\")}\r\n                            subtitle={i18n.t(\"onboarding.name.subtitle\")}\r\n                            handleSubmit={handleSubmit}\r\n                            {...this.props}\r\n                        >\r\n                            <KeyboardAvoidingView behavior=\"padding\" keyboardVerticalOffset={200}>\r\n                                <FormTextInput\r\n                                    {...textInputProps(\"firstname\")}\r\n                                    label={i18n.t(\"firstname\")}\r\n                                    autoCompleteType=\"name\"\r\n                                />\r\n\r\n                                <FormTextInput\r\n                                    {...textInputProps(\"lastname\")}\r\n                                    label={i18n.t(\"lastname\")}\r\n                                    autoCompleteType=\"name\"\r\n                                />\r\n                            </KeyboardAvoidingView>\r\n                        </OnboardingSlide>\r\n                    );\r\n                }}\r\n            </Formik>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(withTheme(OnboardingNameScreen));\r\n","import * as React from \"react\";\r\nimport {View, StyleSheet} from \"react-native\";\r\nimport {TouchableOpacity} from \"react-native-gesture-handler\";\r\nimport BirthDatePicker from \"./BirthDatePicker\";\r\nimport {FormattedDate} from \"./FormattedDate\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\n// Component props\r\nexport type BirthDateControlProps = ThemeProps & {\r\n    date?: Date;\r\n    onSelect?: (date: Date) => void;\r\n    onHide?: () => void;\r\n};\r\n\r\nexport type BirthDateControlState = {\r\n    open: boolean;\r\n};\r\n\r\nclass BirthDateControl extends React.Component<BirthDateControlProps, BirthDateControlState> {\r\n    constructor(props: BirthDateControlProps) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n        };\r\n    }\r\n\r\n    showModal(): void {\r\n        if (!this.state.open) this.setState({...this.state, open: true});\r\n    }\r\n\r\n    hideModal(): void {\r\n        if (this.state.open) {\r\n            this.setState({...this.state, open: false});\r\n            if (this.props.onHide) this.props.onHide();\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {date, onSelect, theme} = this.props;\r\n        const {open} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.wrapper}>\r\n                <TouchableOpacity style={[styles.button, date ? styles.buttonOk : {}]} onPress={() => this.showModal()}>\r\n                    {date && <FormattedDate style={styles.dateText} date={date} />}\r\n                    {/*!date && <Text>Click to change value</Text>*/}\r\n                </TouchableOpacity>\r\n                <BirthDatePicker\r\n                    date={date}\r\n                    open={open}\r\n                    onSelect={(value: Date) => {\r\n                        if (onSelect) onSelect(value);\r\n                    }}\r\n                    onHide={() => this.hideModal()}\r\n                ></BirthDatePicker>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            width: \"100%\",\r\n        },\r\n        button: {\r\n            width: \"100%\",\r\n            height: 60,\r\n            borderRadius: 0,\r\n            borderWidth: 0,\r\n            borderBottomWidth: 1,\r\n            borderBottomColor: theme.accentTernary,\r\n            backgroundColor: \"transparent\",\r\n            justifyContent: \"center\",\r\n        },\r\n        buttonOk: {\r\n            borderBottomWidth: 2,\r\n            borderBottomColor: theme.okay,\r\n        },\r\n        dateText: {\r\n            fontSize: 20,\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(BirthDateControl);\r\n","import * as React from \"react\";\r\nimport {TouchableOpacity, View, StyleSheet} from \"react-native\";\r\nimport NationalityPicker from \"./NationalityPicker\";\r\nimport FormattedNationality from \"./FormattedNationality\";\r\nimport {CountryCode} from \"../model/country-codes\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\n// Component props\r\nexport type NationalityControlProps = ThemeProps & {\r\n    nationality?: CountryCode;\r\n    onSelect?: (countryCode: CountryCode) => void;\r\n    onHide?: () => void;\r\n};\r\n\r\n// Component state\r\nexport type NationalityControlState = {\r\n    open: boolean;\r\n};\r\n\r\nclass NationalityControl extends React.Component<NationalityControlProps, NationalityControlState> {\r\n    constructor(props: NationalityControlProps) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n        };\r\n    }\r\n\r\n    showModal(): void {\r\n        if (!this.state.open) this.setState({...this.state, open: true});\r\n    }\r\n\r\n    hideModal(): void {\r\n        if (this.state.open) {\r\n            this.setState({...this.state, open: false});\r\n            if (this.props.onHide) this.props.onHide();\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onSelect, onHide, nationality, theme} = this.props;\r\n        const {open} = this.state;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.wrapper}>\r\n                <TouchableOpacity\r\n                    style={[styles.button, nationality ? styles.buttonOk : {}]}\r\n                    onPress={() => this.showModal()}\r\n                >\r\n                    {nationality && <FormattedNationality countryCode={nationality} style={styles.nationality} />}\r\n                    {/*!date && <Text>Click to change value</Text>*/}\r\n                </TouchableOpacity>\r\n                <NationalityPicker\r\n                    nationality={this.props.nationality}\r\n                    open={open}\r\n                    onSelect={(country: CountryCode) => {\r\n                        if (onSelect) onSelect(country);\r\n                    }}\r\n                    onHide={() => {\r\n                        this.hideModal();\r\n                        if (onHide) onHide();\r\n                    }}\r\n                ></NationalityPicker>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        wrapper: {\r\n            width: \"100%\",\r\n        },\r\n        button: {\r\n            width: \"100%\",\r\n            height: 60,\r\n            borderRadius: 0,\r\n            borderWidth: 0,\r\n            borderBottomWidth: 1,\r\n            borderBottomColor: theme.accentTernary,\r\n            backgroundColor: \"transparent\",\r\n            justifyContent: \"center\",\r\n        },\r\n        buttonOk: {\r\n            borderBottomWidth: 2,\r\n            borderBottomColor: theme.okay,\r\n        },\r\n        nationality: {\r\n            fontSize: 20,\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(NationalityControl);\r\n","import {Formik, FormikProps} from \"formik\";\r\nimport * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {\r\n    VALIDATOR_ONBOARDING_BIRTHDATE,\r\n    VALIDATOR_ONBOARDING_GENDER,\r\n    VALIDATOR_ONBOARDING_NATIONALITY,\r\n} from \"../../validators\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {setOnboardingValues} from \"../../state/auth/actions\";\r\nimport InputLabel from \"../../components/InputLabel\";\r\nimport BirthDateControl from \"../../components/BirthDateControl\";\r\nimport InputErrorText from \"../../components/InputErrorText\";\r\nimport {Gender} from \"../../constants/profile-constants\";\r\nimport {GenderToggle} from \"../../components/GenderToggle\";\r\nimport NationalityControl from \"../../components/NationalityControl\";\r\nimport {CountryCode} from \"../../model/country-codes\";\r\nimport EducationFieldPicker from \"../../components/EducationFieldPicker\";\r\n\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n}));\r\n\r\nconst VALIDATION_SCHEMA = Yup.object().shape({\r\n    birthdate: VALIDATOR_ONBOARDING_BIRTHDATE,\r\n    gender: VALIDATOR_ONBOARDING_GENDER,\r\n    nationality: VALIDATOR_ONBOARDING_NATIONALITY,\r\n});\r\n\r\ntype OnboardingPersonalInfoScreenProps = ConnectedProps<typeof reduxConnector> & OnboardingScreenProps;\r\n\r\ntype OnboardingPersonalInfoFormState = {\r\n    birthdate: Date | null;\r\n    gender: Gender | null;\r\n    nationality: CountryCode | null;\r\n    educationFields: string[];\r\n};\r\n\r\nclass OnboardingPersonalInfoScreen extends React.Component<OnboardingPersonalInfoScreenProps> {\r\n    shouldComponentUpdate(nextProps: Readonly<OnboardingPersonalInfoScreenProps>) {\r\n        const prev = this.props.onboardingState;\r\n        const next = nextProps.onboardingState;\r\n        return (\r\n            prev.birthdate != next.birthdate ||\r\n            prev.gender != next.gender ||\r\n            prev.nationality != next.nationality ||\r\n            prev.educationFields != next.educationFields\r\n        );\r\n    }\r\n\r\n    submit(values: OnboardingPersonalInfoFormState) {\r\n        if (values.birthdate && values.gender && values.nationality) {\r\n            this.props.next();\r\n            this.props.dispatch(\r\n                setOnboardingValues({\r\n                    birthdate: values.birthdate,\r\n                    gender: values.gender,\r\n                    nationality: values.nationality,\r\n                }),\r\n            );\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState} = this.props;\r\n\r\n        const spacing = 30;\r\n\r\n        return (\r\n            <Formik\r\n                initialValues={onboardingState as OnboardingPersonalInfoFormState}\r\n                validationSchema={VALIDATION_SCHEMA}\r\n                validateOnChange={true}\r\n                validateOnBlur={false}\r\n                onSubmit={(values: OnboardingPersonalInfoFormState) => this.submit(values)}\r\n            >\r\n                {(formikProps: FormikProps<OnboardingPersonalInfoFormState>) => {\r\n                    const {handleSubmit, values, errors, touched, setFieldValue} = formikProps;\r\n\r\n                    return (\r\n                        <OnboardingSlide\r\n                            title={i18n.t(\"onboarding.personalInfo.title\")}\r\n                            //subtitle={i18n.t(\"onboarding.personalInfo.subtitle\")}\r\n                            handleSubmit={handleSubmit}\r\n                            {...this.props}\r\n                        >\r\n                            <InputLabel>{i18n.t(\"dateOfBirth\")}</InputLabel>\r\n                            <BirthDateControl\r\n                                date={values.birthdate || undefined}\r\n                                onSelect={(birthdate: Date) => setFieldValue(\"birthdate\", birthdate)}\r\n                            />\r\n                            {touched.birthdate && <InputErrorText error={errors.birthdate}></InputErrorText>}\r\n\r\n                            <InputLabel style={{marginTop: spacing}}>{i18n.t(\"nationality\")}</InputLabel>\r\n                            <NationalityControl\r\n                                nationality={values.nationality || undefined}\r\n                                onSelect={(nationality: CountryCode) => setFieldValue(\"nationality\", nationality)}\r\n                            />\r\n                            {touched.nationality && <InputErrorText error={errors.nationality}></InputErrorText>}\r\n\r\n                            <InputLabel style={{marginTop: spacing}}>{i18n.t(\"gender\")}</InputLabel>\r\n                            <GenderToggle\r\n                                gender={values.gender}\r\n                                onSelect={(gender: Gender) => setFieldValue(\"gender\", gender)}\r\n                            />\r\n                            {touched.gender && <InputErrorText error={errors.gender}></InputErrorText>}\r\n\r\n                            <InputLabel style={{marginTop: spacing}}>{i18n.t(\"fieldsOfEducation\")}</InputLabel>\r\n                            <EducationFieldPicker\r\n                                fields={values.educationFields}\r\n                                onChange={(fields: string[]) => setFieldValue(\"educationFields\", fields)}\r\n                                showSelected={false}\r\n                            ></EducationFieldPicker>\r\n                        </OnboardingSlide>\r\n                    );\r\n                }}\r\n            </Formik>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(OnboardingPersonalInfoScreen);\r\n","import {Formik, FormikProps} from \"formik\";\r\nimport * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {VALIDATOR_ONBOARDING_LANGUAGES} from \"../../validators\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {setOnboardingValues} from \"../../state/auth/actions\";\r\nimport InputLabel from \"../../components/InputLabel\";\r\nimport InputErrorText from \"../../components/InputErrorText\";\r\nimport SpokenLanguagesInput from \"../../components/SpokenLanguagesInput\";\r\nimport {SpokenLanguageDto} from \"../../api/dto\";\r\n\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n}));\r\n\r\nconst VALIDATION_SCHEMA = Yup.object().shape({\r\n    languages: VALIDATOR_ONBOARDING_LANGUAGES,\r\n});\r\n\r\ntype OnboardingLanguageScreenProps = ConnectedProps<typeof reduxConnector> & OnboardingScreenProps;\r\n\r\ntype OnboardingLanguageScreenState = {\r\n    hasErrors: boolean;\r\n};\r\n\r\ntype OnboardingLanguageFormState = {\r\n    languages: SpokenLanguageDto[];\r\n};\r\n\r\nclass OnboardingLanguageScreen extends React.Component<OnboardingLanguageScreenProps, OnboardingLanguageScreenState> {\r\n    constructor(props: OnboardingLanguageScreenProps) {\r\n        super(props);\r\n        this.state = {hasErrors: false};\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps: Readonly<OnboardingLanguageScreenProps>) {\r\n        const prev = this.props.onboardingState;\r\n        const next = nextProps.onboardingState;\r\n        return prev.languages != next.languages;\r\n    }\r\n\r\n    submit(values: OnboardingLanguageFormState) {\r\n        if (!this.state.hasErrors) {\r\n            this.props.dispatch(setOnboardingValues({languages: values.languages}));\r\n            this.props.next();\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState} = this.props;\r\n\r\n        return (\r\n            <Formik\r\n                initialValues={onboardingState as OnboardingLanguageFormState}\r\n                validationSchema={VALIDATION_SCHEMA}\r\n                validateOnChange={true}\r\n                validateOnBlur={false}\r\n                onSubmit={(values: OnboardingLanguageFormState) => this.submit(values)}\r\n            >\r\n                {(formikProps: FormikProps<OnboardingLanguageFormState>) => {\r\n                    const {handleSubmit, values, errors, touched, setFieldValue} = formikProps;\r\n\r\n                    return (\r\n                        <OnboardingSlide\r\n                            title={i18n.t(\"onboarding.language.title\")}\r\n                            handleSubmit={handleSubmit}\r\n                            {...this.props}\r\n                        >\r\n                            <InputLabel style={{marginBottom: 6}}>{i18n.t(\"spokenLanguages\")}</InputLabel>\r\n                            <SpokenLanguagesInput\r\n                                languages={values.languages}\r\n                                onChange={(languages: SpokenLanguageDto[], hasErrors: boolean) => {\r\n                                    setFieldValue(\"languages\", languages);\r\n                                    this.setState({...this.state, hasErrors});\r\n                                }}\r\n                            ></SpokenLanguagesInput>\r\n                            {touched.languages && <InputErrorText error={errors.languages}></InputErrorText>}\r\n                        </OnboardingSlide>\r\n                    );\r\n                }}\r\n            </Formik>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(OnboardingLanguageScreen);\r\n","import {Formik, FormikProps} from \"formik\";\r\nimport * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {VALIDATOR_ONBOARDING_INTERESTS} from \"../../validators\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {setOnboardingValues} from \"../../state/auth/actions\";\r\nimport InputLabel from \"../../components/InputLabel\";\r\nimport InputErrorText from \"../../components/InputErrorText\";\r\nimport InterestsPicker from \"../../components/InterestsPicker\";\r\n\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n}));\r\n\r\ntype OnboardingInterestsScreenProps = ConnectedProps<typeof reduxConnector> & OnboardingScreenProps;\r\n\r\ntype OnboardingInterestsScreenState = {\r\n    hasErrors: boolean;\r\n};\r\n\r\nconst VALIDATION_SCHEMA = Yup.object().shape({\r\n    interestIds: VALIDATOR_ONBOARDING_INTERESTS,\r\n});\r\n\r\ntype OnboardingInterestsFormState = {\r\n    interestIds: string[];\r\n};\r\n\r\nclass OnboardingInterestsScreen extends React.Component<\r\n    OnboardingInterestsScreenProps,\r\n    OnboardingInterestsScreenState\r\n> {\r\n    constructor(props: OnboardingInterestsScreenProps) {\r\n        super(props);\r\n        this.state = {hasErrors: false};\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps: Readonly<OnboardingInterestsScreenProps>) {\r\n        const prev = this.props.onboardingState;\r\n        const next = nextProps.onboardingState;\r\n        return prev.interestIds != next.interestIds;\r\n    }\r\n\r\n    submit(values: OnboardingInterestsFormState) {\r\n        if (!this.state.hasErrors) {\r\n            this.props.dispatch(setOnboardingValues({interestIds: values.interestIds}));\r\n            this.props.next();\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState} = this.props;\r\n\r\n        return (\r\n            <Formik\r\n                initialValues={onboardingState as OnboardingInterestsFormState}\r\n                validationSchema={VALIDATION_SCHEMA}\r\n                validateOnChange={true}\r\n                validateOnBlur={false}\r\n                onSubmit={(values: OnboardingInterestsFormState) => this.submit(values)}\r\n            >\r\n                {(formikProps: FormikProps<OnboardingInterestsFormState>) => {\r\n                    const {handleSubmit, values, errors, touched, setFieldValue} = formikProps;\r\n\r\n                    return (\r\n                        <OnboardingSlide\r\n                            title={i18n.t(\"onboarding.interests.title\")}\r\n                            handleSubmit={handleSubmit}\r\n                            {...this.props}\r\n                        >\r\n                            <InputLabel style={{marginBottom: 6}}>{i18n.t(\"chooseInterests\")}</InputLabel>\r\n                            <InterestsPicker\r\n                                interests={values.interestIds}\r\n                                onChange={(interestIds: string[], hasErrors: boolean) => {\r\n                                    setFieldValue(\"interestIds\", interestIds);\r\n                                    this.setState({...this.state, hasErrors});\r\n                                }}\r\n                            ></InterestsPicker>\r\n                            {touched.interestIds && <InputErrorText error={errors.interestIds}></InputErrorText>}\r\n                        </OnboardingSlide>\r\n                    );\r\n                }}\r\n            </Formik>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(OnboardingInterestsScreen);\r\n","import * as React from \"react\";\r\nimport {Text, ViewStyle, StyleSheet} from \"react-native\";\r\nimport {setOnboardingValues} from \"../../state/auth/actions\";\r\nimport {TouchableOpacity} from \"react-native-gesture-handler\";\r\nimport {Role} from \"../../constants/profile-constants\";\r\nimport i18n from \"i18n-js\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport store from \"../../state/store\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {styleTextThin} from \"../../styles/general\";\r\n\r\ntype OnboardingRoleScreenProps = ThemeProps & OnboardingScreenProps;\r\n\r\ntype OnboardingRoleFormState = {\r\n    role: Role;\r\n};\r\n\r\nclass OnboardingRoleScreen extends React.Component<OnboardingRoleScreenProps> {\r\n    submit(values: OnboardingRoleFormState) {\r\n        store.dispatch(setOnboardingValues(values));\r\n        this.props.next();\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <OnboardingSlide title={i18n.t(\"onboarding.role.title\")} hideNavNext={true} {...this.props}>\r\n                <TouchableOpacity style={styles.roleButton} onPress={() => this.submit({role: \"student\"})}>\r\n                    <MaterialIcons name={\"school\"} style={styles.roleButtonIconStudent}></MaterialIcons>\r\n                    <Text style={styles.roleButtonTextStudent}>{i18n.t(\"allRoles.student\")}</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.roleButton} onPress={() => this.submit({role: \"staff\"})}>\r\n                    <MaterialIcons name={\"group\"} style={styles.roleButtonIconStaff}></MaterialIcons>\r\n                    <Text style={styles.roleButtonTextStaff}>{i18n.t(\"allRoles.staff\")}</Text>\r\n                </TouchableOpacity>\r\n            </OnboardingSlide>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    const studentColor = theme.accent;\r\n    const staffColor = theme.okay;\r\n\r\n    const common = StyleSheet.create({\r\n        roleButtonText: {\r\n            ...styleTextThin,\r\n            fontSize: 40,\r\n            letterSpacing: 1.75,\r\n        },\r\n        roleButtonIcon: {\r\n            fontSize: 50,\r\n            marginRight: 15,\r\n        },\r\n    });\r\n\r\n    return StyleSheet.create({\r\n        roleButton: {\r\n            height: 100,\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n        } as ViewStyle,\r\n        roleButtonTextStaff: {\r\n            ...common.roleButtonText,\r\n            color: staffColor,\r\n        },\r\n        roleButtonTextStudent: {\r\n            ...common.roleButtonText,\r\n            color: studentColor,\r\n        },\r\n        roleButtonIconStaff: {\r\n            ...common.roleButtonIcon,\r\n            color: staffColor,\r\n        },\r\n        roleButtonIconStudent: {\r\n            ...common.roleButtonIcon,\r\n            color: studentColor,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(OnboardingRoleScreen);\r\n","import * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {createOfferControls} from \"./helpers\";\r\nimport {OfferCategory} from \"../../api/dto\";\r\n\r\n// State-linked props\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n    offers: state.profile.offers,\r\n}));\r\n\r\n// Component props\r\ntype OnboardingOfferScreen1Props = ConnectedProps<typeof reduxConnector> & OnboardingScreenProps;\r\n\r\nclass OnboardingOfferScreen1 extends React.Component<OnboardingOfferScreen1Props> {\r\n    shouldComponentUpdate(nextProps: Readonly<OnboardingOfferScreen1Props>) {\r\n        const prev = this.props.onboardingState;\r\n        const next = nextProps.onboardingState;\r\n        return prev.offerValues != next.offerValues;\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState, offers, dispatch} = this.props;\r\n\r\n        return (\r\n            <OnboardingSlide\r\n                title={i18n.t(\"onboarding.offersDiscover.title\")}\r\n                subtitle={i18n.t(\"onboarding.offersDiscover.subtitle\")}\r\n                {...this.props}\r\n            >\r\n                {createOfferControls(offers, OfferCategory.Discover, onboardingState, dispatch)}\r\n            </OnboardingSlide>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(OnboardingOfferScreen1);\r\n","import * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {createOfferControls} from \"./helpers\";\r\nimport {OfferCategory} from \"../../api/dto\";\r\n\r\n// State-linked props\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n    offers: state.profile.offers,\r\n}));\r\n\r\n// Component props\r\ntype OnboardingOfferScreen2Props = ConnectedProps<typeof reduxConnector> & OnboardingScreenProps;\r\n\r\nclass OnboardingOfferScreen2 extends React.Component<OnboardingOfferScreen2Props> {\r\n    shouldComponentUpdate(nextProps: Readonly<OnboardingOfferScreen2Props>) {\r\n        const prev = this.props.onboardingState;\r\n        const next = nextProps.onboardingState;\r\n        return prev.offerValues != next.offerValues;\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState, offers, dispatch} = this.props;\r\n\r\n        return (\r\n            <OnboardingSlide\r\n                title={i18n.t(\"onboarding.offersCollaborate.title\")}\r\n                subtitle={i18n.t(\"onboarding.offersCollaborate.subtitle\")}\r\n                {...this.props}\r\n            >\r\n                {createOfferControls(offers, OfferCategory.Collaborate, onboardingState, dispatch)}\r\n            </OnboardingSlide>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(OnboardingOfferScreen2);\r\n","import * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {createOfferControls} from \"./helpers\";\r\nimport {OfferCategory} from \"../../api/dto\";\r\n\r\n// State-linked props\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n    offers: state.profile.offers,\r\n}));\r\n\r\n// Component props\r\ntype OnboardingOfferScreen3Props = ConnectedProps<typeof reduxConnector> & OnboardingScreenProps;\r\n\r\nclass OnboardingOfferScreen3 extends React.Component<OnboardingOfferScreen3Props> {\r\n    shouldComponentUpdate(nextProps: Readonly<OnboardingOfferScreen3Props>) {\r\n        const prev = this.props.onboardingState;\r\n        const next = nextProps.onboardingState;\r\n        return prev.offerValues != next.offerValues;\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState, offers, dispatch} = this.props;\r\n\r\n        return (\r\n            <OnboardingSlide\r\n                title={i18n.t(\"onboarding.offersMeet.title\")}\r\n                subtitle={i18n.t(\"onboarding.offersMeet.subtitle\")}\r\n                {...this.props}\r\n            >\r\n                {createOfferControls(offers, OfferCategory.Meet, onboardingState, dispatch)}\r\n            </OnboardingSlide>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(OnboardingOfferScreen3);\r\n","import {Formik, FormikProps} from \"formik\";\r\nimport * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {setOnboardingValues} from \"../../state/auth/actions\";\r\nimport InputLabel from \"../../components/InputLabel\";\r\nimport InputErrorText from \"../../components/InputErrorText\";\r\nimport {Degree, StaffRole, STAFF_ROLES} from \"../../constants/profile-constants\";\r\nimport DegreeToggle from \"../../components/DegreeToggle\";\r\nimport {TouchableOpacity, Text, StyleSheet} from \"react-native\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {VALIDATOR_ONBOARDING_DEGREE} from \"../../validators\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {styleTextThin} from \"../../styles/general\";\r\n\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n}));\r\n\r\nconst VALIDATION_SCHEMA = Yup.object().shape({\r\n    degree: VALIDATOR_ONBOARDING_DEGREE,\r\n});\r\n\r\ntype OnboardingRoleSpecificScreen1Props = ConnectedProps<typeof reduxConnector> & ThemeProps & OnboardingScreenProps;\r\n\r\ntype OnboardingRoleSpecificScreen1FormState = {\r\n    degree: Degree;\r\n    staffRole: StaffRole | null;\r\n};\r\n\r\nclass OnboardingRoleSpecificScreen1 extends React.Component<OnboardingRoleSpecificScreen1Props> {\r\n    submit(values: Partial<OnboardingRoleSpecificScreen1FormState>) {\r\n        this.props.dispatch(setOnboardingValues(values));\r\n        this.props.next();\r\n    }\r\n\r\n    studentRender(): JSX.Element {\r\n        const {onboardingState, theme} = this.props;\r\n        const styles = studentThemedStyles(theme);\r\n\r\n        return (\r\n            <Formik\r\n                initialValues={onboardingState as OnboardingRoleSpecificScreen1FormState}\r\n                validationSchema={VALIDATION_SCHEMA}\r\n                validateOnChange={true}\r\n                validateOnBlur={false}\r\n                onSubmit={(values: OnboardingRoleSpecificScreen1FormState) => this.submit(values)}\r\n            >\r\n                {(formikProps: FormikProps<OnboardingRoleSpecificScreen1FormState>) => {\r\n                    const {handleSubmit, values, errors, touched, setFieldValue} = formikProps;\r\n\r\n                    return (\r\n                        <OnboardingSlide\r\n                            title={i18n.t(`onboarding.roleSpecific1.student.title`)}\r\n                            handleSubmit={handleSubmit}\r\n                            {...this.props}\r\n                        >\r\n                            <InputLabel style={styles.label}>{i18n.t(\"levelOfStudy\")}</InputLabel>\r\n                            <DegreeToggle\r\n                                degree={values.degree}\r\n                                onUpdate={(degree?: Degree) => setFieldValue(\"degree\", degree)}\r\n                            />\r\n                            {touched.degree && <InputErrorText error={errors.degree}></InputErrorText>}\r\n                        </OnboardingSlide>\r\n                    );\r\n                }}\r\n            </Formik>\r\n        );\r\n    }\r\n\r\n    staffRender(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = staffThemedStyles(theme);\r\n\r\n        const icons = [\"school\", \"library-books\", \"help\", \"account-balance\", \"build\", \"verified-user\"];\r\n\r\n        const buttons = STAFF_ROLES.map((sr: string, i: number) => (\r\n            <TouchableOpacity key={i} style={styles.button} onPress={() => this.submit({staffRole: sr as StaffRole})}>\r\n                <MaterialIcons name={icons[i]} style={styles.buttonIcon}></MaterialIcons>\r\n                <Text style={styles.buttonText}>{i18n.t(`staffRoles.${sr}`)}</Text>\r\n            </TouchableOpacity>\r\n        ));\r\n\r\n        return (\r\n            <OnboardingSlide title={i18n.t(\"onboarding.roleSpecific1.staff.title\")} hideNavNext={true} {...this.props}>\r\n                {buttons}\r\n            </OnboardingSlide>\r\n        );\r\n    }\r\n    /*\r\n\r\n        <InputLabel style={{marginTop: spacing}}>{i18n.t(\"staffPosition\")}</InputLabel>\r\n        <StaffRoleToggle\r\n            staffRole={values.staffRole}\r\n            onSelect={(staffRole: StaffRole) => setFieldValue(\"staffRole\", staffRole)}\r\n        />\r\n        {touched.staffRole && <InputErrorText error={errors.staffRole}></InputErrorText>}\r\n    */\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState} = this.props;\r\n        const isStudent = onboardingState.role == \"student\";\r\n\r\n        return (\r\n            <>\r\n                {isStudent && this.studentRender()}\r\n                {!isStudent && this.staffRender()}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport const studentThemedStyles = preTheme(() => {\r\n    return StyleSheet.create({\r\n        label: {\r\n            marginTop: 30,\r\n        },\r\n    });\r\n});\r\n\r\nexport const staffThemedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        button: {\r\n            height: 60,\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n        },\r\n        buttonText: {\r\n            ...styleTextThin,\r\n            fontSize: 25,\r\n            letterSpacing: 1.25,\r\n            color: theme.text,\r\n        },\r\n        buttonIcon: {\r\n            fontSize: 30,\r\n            marginRight: 10,\r\n            color: theme.accent,\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(OnboardingRoleSpecificScreen1));\r\n","import {Formik, FormikProps} from \"formik\";\r\nimport * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {\r\n    VALIDATOR_ONBOARDING_BIRTHDATE,\r\n    VALIDATOR_ONBOARDING_GENDER,\r\n    VALIDATOR_ONBOARDING_NATIONALITY,\r\n} from \"../../validators\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {setOnboardingValues} from \"../../state/auth/actions\";\r\nimport InputLabel from \"../../components/InputLabel\";\r\nimport InputErrorText from \"../../components/InputErrorText\";\r\nimport {Gender} from \"../../constants/profile-constants\";\r\nimport {GenderToggle} from \"../../components/GenderToggle\";\r\nimport {CountryCode} from \"../../model/country-codes\";\r\nimport {ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    onboardingState: state.auth.onboarding,\r\n}));\r\n\r\nconst VALIDATION_SCHEMA = Yup.object().shape({\r\n    birthdate: VALIDATOR_ONBOARDING_BIRTHDATE,\r\n    gender: VALIDATOR_ONBOARDING_GENDER,\r\n    nationality: VALIDATOR_ONBOARDING_NATIONALITY,\r\n});\r\n\r\ntype OnboardingRoleSpecificScreen2Props = ConnectedProps<typeof reduxConnector> & ThemeProps & OnboardingScreenProps;\r\n\r\ntype OnboardingRoleSpecificScreen2FormState = {\r\n    birthdate: Date | null;\r\n    gender: Gender | null;\r\n    nationality: CountryCode | null;\r\n};\r\n\r\nclass OnboardingRoleSpecificScreen2 extends React.Component<OnboardingRoleSpecificScreen2Props> {\r\n    submit(values: OnboardingRoleSpecificScreen2FormState) {\r\n        if (values.birthdate && values.gender && values.nationality) {\r\n            this.props.dispatch(\r\n                setOnboardingValues({\r\n                    birthdate: values.birthdate,\r\n                    gender: values.gender,\r\n                    nationality: values.nationality,\r\n                }),\r\n            );\r\n            this.props.next();\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {onboardingState} = this.props;\r\n\r\n        const spacing = 30;\r\n\r\n        return (\r\n            <Formik\r\n                initialValues={onboardingState as OnboardingRoleSpecificScreen2FormState}\r\n                validationSchema={VALIDATION_SCHEMA}\r\n                validateOnChange={true}\r\n                validateOnBlur={false}\r\n                onSubmit={(values: OnboardingRoleSpecificScreen2FormState) => this.submit(values)}\r\n            >\r\n                {(formikProps: FormikProps<OnboardingRoleSpecificScreen2FormState>) => {\r\n                    const {handleSubmit, values, errors, touched, setFieldValue} = formikProps;\r\n\r\n                    return (\r\n                        <OnboardingSlide\r\n                            title={i18n.t(\"role-specific screen 2\")}\r\n                            //title={i18n.t(\"onboarding.collaborate.title\")}\r\n                            //subtitle={i18n.t(\"onboarding.collaborate.subtitle\")}\r\n                            handleSubmit={handleSubmit}\r\n                            {...this.props}\r\n                        >\r\n                            <InputLabel style={{marginTop: spacing}}>{i18n.t(\"gender\")}</InputLabel>\r\n                            <GenderToggle\r\n                                gender={values.gender}\r\n                                onSelect={(gender: Gender) => setFieldValue(\"gender\", gender)}\r\n                            />\r\n                            {touched.gender && <InputErrorText error={errors.gender}></InputErrorText>}\r\n                        </OnboardingSlide>\r\n                    );\r\n                }}\r\n            </Formik>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(withTheme(OnboardingRoleSpecificScreen2));\r\n","import React from \"react\";\r\nimport {Text, TouchableHighlight, View, StyleSheet} from \"react-native\";\r\nimport {rootNavigate} from \"../../navigation/utils\";\r\nimport CustomModal, {CustomModalProps} from \"./CustomModal\";\r\nimport i18n from \"i18n-js\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\n\r\nexport type TOSDeclinedModalProps = ThemeProps & Partial<CustomModalProps>;\r\n\r\nclass TOSDeclinedModal extends React.Component<TOSDeclinedModalProps> {\r\n    render() {\r\n        const {theme, ...otherProps} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <CustomModal\r\n                {...otherProps}\r\n                renderContent={(hide: () => void) => (\r\n                    <>\r\n                        <Text style={styles.text}>\r\n                            {i18n.t(\"tos.modal.disclaimer1\")}\r\n                            {\"\\n\\n\"}\r\n                            {i18n.t(\"tos.modal.disclaimer2\")}\r\n                        </Text>\r\n                        <View style={styles.actionButtonsWrapper}>\r\n                            <TouchableHighlight\r\n                                style={[styles.actionButton, styles.actionButtonCancel]}\r\n                                onPress={() => hide()}\r\n                            >\r\n                                <Text style={[styles.actionText]}>{i18n.t(\"cancel\")}</Text>\r\n                            </TouchableHighlight>\r\n                            <TouchableHighlight\r\n                                style={[styles.actionButton, styles.actionButtonDecline]}\r\n                                onPress={() => {\r\n                                    hide();\r\n                                    rootNavigate(\"LoginScreen\");\r\n                                }}\r\n                            >\r\n                                <Text style={styles.actionText}>{i18n.t(\"tos.decline\")}</Text>\r\n                            </TouchableHighlight>\r\n                        </View>\r\n                    </>\r\n                )}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        actionButtonsWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"row\",\r\n            marginTop: 20,\r\n            justifyContent: \"space-evenly\",\r\n        },\r\n        actionButton: {\r\n            width: 110,\r\n            maxWidth: \"40%\",\r\n            borderRadius: 3,\r\n            paddingVertical: 10,\r\n            elevation: 2,\r\n        },\r\n        actionButtonCancel: {\r\n            backgroundColor: theme.accentSecondary,\r\n        },\r\n        actionButtonDecline: {\r\n            backgroundColor: theme.error,\r\n        },\r\n        actionText: {\r\n            fontWeight: \"bold\",\r\n            textAlign: \"center\",\r\n            color: theme.textInverted,\r\n        },\r\n        text: {\r\n            fontSize: 16,\r\n            textAlign: \"justify\",\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(TOSDeclinedModal);\r\n","import * as React from \"react\";\r\nimport {Text, TextProps} from \"react-native\";\r\n\r\n// Component props\r\nexport type TextLinkProps = {\r\n    text: string;\r\n} & TextProps;\r\n\r\nfunction TextLink(props: React.PropsWithChildren<TextLinkProps>): JSX.Element {\r\n    const {text, ...textProps} = props;\r\n\r\n    return (\r\n        <Text {...textProps} style={[textProps ? textProps.style : {}, {color: \"#2e78b7\"}]}>\r\n            {text}\r\n        </Text>\r\n    );\r\n}\r\n\r\nexport default TextLink;\r\n","import * as React from \"react\";\r\nimport OnboardingSlide from \"./OnboardingSlide\";\r\nimport {Text, TouchableOpacity, View} from \"react-native\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {tosSlideStyle} from \"../../styles/onboarding\";\r\nimport TOSDeclinedModal from \"../../components/modals/TOSDeclinedModal\";\r\nimport i18n from \"i18n-js\";\r\nimport TextLink from \"../../components/TextLink\";\r\nimport {OnboardingScreenProps, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\n// Component props\r\ntype OnboardingTosScreenProps = ThemeProps & OnboardingScreenProps;\r\n\r\n// Component state\r\ntype OnboardingTosScreenState = {\r\n    declined: boolean;\r\n};\r\n\r\nclass OnboardingTosScreen extends React.Component<OnboardingTosScreenProps, OnboardingTosScreenState> {\r\n    constructor(props: OnboardingTosScreenProps) {\r\n        super(props);\r\n        this.state = {declined: false};\r\n    }\r\n\r\n    decline() {\r\n        this.setState({...this.state, declined: true});\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, next} = this.props;\r\n        const styles = tosSlideStyle(theme);\r\n\r\n        return (\r\n            <OnboardingSlide\r\n                title={i18n.t(\"onboarding.tos.title\")}\r\n                subtitle={i18n.t(\"onboarding.tos.subtitle\")}\r\n                hideNavNext={true}\r\n                {...this.props}\r\n            >\r\n                <Text style={styles.readMoreText}>\r\n                    {i18n.t(\"tos.readMore\")[0]}\r\n                    <TextLink onPress={() => console.log(\"press\")} text={i18n.t(\"tos.readMore\")[1]} />\r\n                    {i18n.t(\"tos.readMore\")[2]}\r\n                </Text>\r\n\r\n                <View style={styles.actionsWrapper}>\r\n                    <TouchableOpacity style={styles.actionButton} onPress={() => this.decline()}>\r\n                        <Text style={styles.actionButtonTextDecline}>{i18n.t(\"tos.decline\")}</Text>\r\n                        <MaterialIcons name=\"close\" style={styles.actionButtonTextDecline} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.actionButton} onPress={() => next()}>\r\n                        <Text style={styles.actionButtonTextAccept}>{i18n.t(\"tos.accept\")}</Text>\r\n                        <MaterialIcons name=\"check\" style={styles.actionButtonTextAccept} />\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                {this.state.declined && (\r\n                    <TOSDeclinedModal onHide={() => this.setState({...this.state, declined: false})}></TOSDeclinedModal>\r\n                )}\r\n            </OnboardingSlide>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(OnboardingTosScreen);\r\n","import * as React from \"react\";\r\nimport OnboardingSlide, {OnboardingScreenProps} from \"./OnboardingSlide\";\r\nimport {Text, TouchableOpacity, View} from \"react-native\";\r\nimport {MaterialIcons} from \"@expo/vector-icons\";\r\nimport {tosSlideStyle} from \"../../styles/onboarding\";\r\nimport TOSDeclinedModal from \"../../components/modals/TOSDeclinedModal\";\r\nimport i18n from \"i18n-js\";\r\nimport TextLink from \"../../components/TextLink\";\r\nimport {ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\n\r\n// Component props\r\ntype OnboardingPrivacyScreenProps = ThemeProps & OnboardingScreenProps;\r\n\r\n// Component state\r\ntype OnboardingPrivacyScreenState = {\r\n    declined: boolean;\r\n};\r\n\r\nclass OnboardingPrivacyScreen extends React.Component<OnboardingPrivacyScreenProps, OnboardingPrivacyScreenState> {\r\n    constructor(props: OnboardingPrivacyScreenProps) {\r\n        super(props);\r\n        this.state = {declined: false};\r\n    }\r\n\r\n    decline() {\r\n        this.setState({...this.state, declined: true});\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme, next} = this.props;\r\n        const styles = tosSlideStyle(theme);\r\n\r\n        return (\r\n            <OnboardingSlide\r\n                title={i18n.t(\"onboarding.privacy.title\")}\r\n                subtitle={i18n.t(\"onboarding.privacy.subtitle\")}\r\n                hideNavNext={true}\r\n                {...this.props}\r\n            >\r\n                <Text style={styles.readMoreText}>\r\n                    {i18n.t(\"privacy.readMore\")[0]}\r\n                    <TextLink onPress={() => console.log(\"press\")} text={i18n.t(\"privacy.readMore\")[1]} />\r\n                    {i18n.t(\"privacy.readMore\")[2]}\r\n                </Text>\r\n\r\n                <View style={styles.actionsWrapper}>\r\n                    <TouchableOpacity style={styles.actionButton} onPress={() => this.decline()}>\r\n                        <Text style={styles.actionButtonTextDecline}>{i18n.t(\"tos.decline\")}</Text>\r\n                        <MaterialIcons name=\"close\" style={styles.actionButtonTextDecline} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.actionButton} onPress={() => next()}>\r\n                        <Text style={styles.actionButtonTextAccept}>{i18n.t(\"tos.accept\")}</Text>\r\n                        <MaterialIcons name=\"check\" style={styles.actionButtonTextAccept} />\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                {this.state.declined && (\r\n                    <TOSDeclinedModal onHide={() => this.setState({...this.state, declined: false})}></TOSDeclinedModal>\r\n                )}\r\n            </OnboardingSlide>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(OnboardingPrivacyScreen);\r\n","import {OnboardingScreens} from \"../../navigation/types\";\r\nimport OnboardingNameScreen from \"./OnboardingNameScreen\";\r\nimport OnboardingPersonalInfoScreen from \"./OnboardingPersonalInfoScreen\";\r\nimport OnboardingLanguageScreen from \"./OnboardingLanguageScreen\";\r\nimport OnboardingInterestsScreen from \"./OnboardingInterestsScreen\";\r\nimport OnboardingRoleScreen from \"./OnboardingRoleScreen\";\r\nimport OnboardingOffersScreen1 from \"./OnboardingOffersScreen1\";\r\nimport OnboardingOffersScreen2 from \"./OnboardingOffersScreen2\";\r\nimport OnboardingOffersScreen3 from \"./OnboardingOffersScreen3\";\r\nimport OnboardingRoleSpecificScreen1 from \"./OnboardingRoleSpecificScreen1\";\r\nimport OnboardingRoleSpecificScreen2 from \"./OnboardingRoleSpecificScreen2\";\r\nimport OnboardingTosScreen from \"./OnboardingTosScreen\";\r\nimport OnboardingPrivacyScreen from \"./OnboardingPrivacyScreen\";\r\n\r\nexport const ONBOARDING_SCREENS = {\r\n    OnboardingNameScreen,\r\n    OnboardingPersonalInfoScreen,\r\n    OnboardingLanguageScreen,\r\n    OnboardingInterestsScreen,\r\n    OnboardingRoleScreen,\r\n    OnboardingRoleSpecificScreen1,\r\n    OnboardingRoleSpecificScreen2,\r\n    OnboardingOffersScreen1,\r\n    OnboardingOffersScreen2,\r\n    OnboardingOffersScreen3,\r\n    OnboardingTosScreen,\r\n    OnboardingPrivacyScreen,\r\n};\r\n\r\nexport const ONBOARDING_ORDER: (keyof OnboardingScreens)[] = [\r\n    \"OnboardingNameScreen\",\r\n    \"OnboardingTosScreen\",\r\n    \"OnboardingPrivacyScreen\",\r\n    \"OnboardingPersonalInfoScreen\",\r\n    \"OnboardingLanguageScreen\",\r\n    \"OnboardingInterestsScreen\",\r\n    \"OnboardingRoleScreen\",\r\n    \"OnboardingRoleSpecificScreen1\",\r\n    //\"OnboardingRoleSpecificScreen2\",\r\n    \"OnboardingOffersScreen1\",\r\n    \"OnboardingOffersScreen2\",\r\n    \"OnboardingOffersScreen3\",\r\n];\r\n","import * as React from \"react\";\r\nimport {OnboardingScreens} from \"../navigation/types\";\r\nimport {createMaterialTopTabNavigator} from \"@react-navigation/material-top-tabs\";\r\nimport {ONBOARDING_ORDER, ONBOARDING_SCREENS} from \"../screens/onboarding\";\r\nimport {rootNavigate} from \"./utils\";\r\n\r\nconst OnboardingStack = createMaterialTopTabNavigator<OnboardingScreens>();\r\n\r\nconst screens = ONBOARDING_ORDER.map((name: keyof OnboardingScreens, i: number) => {\r\n    const ComponentClass = ONBOARDING_SCREENS[name];\r\n    const hasNext = i < ONBOARDING_ORDER.length - 1;\r\n    const next = () => {\r\n        if (hasNext) rootNavigate(ONBOARDING_ORDER[i + 1]);\r\n    };\r\n    const previous = () => {\r\n        if (i > 0) rootNavigate(ONBOARDING_ORDER[i - 1]);\r\n    };\r\n\r\n    class temp extends React.Component {\r\n        render(): JSX.Element {\r\n            return <ComponentClass next={next} previous={previous} index={i} hasNext={hasNext} />;\r\n        }\r\n    }\r\n\r\n    return <OnboardingStack.Screen key={i} name={name} component={temp} />;\r\n});\r\n\r\nexport default function OnboardingNavigator(): JSX.Element {\r\n    return (\r\n        <OnboardingStack.Navigator\r\n            initialRouteName={ONBOARDING_ORDER[0]}\r\n            tabBarOptions={{showLabel: false, showIcon: false}}\r\n            tabBar={() => <></>}\r\n            springConfig={{\r\n                stiffness: 500,\r\n                damping: 2000,\r\n                mass: 5,\r\n            }}\r\n            swipeEnabled={false}\r\n            lazy={true}\r\n            lazyPreloadDistance={0}\r\n        >\r\n            {screens}\r\n        </OnboardingStack.Navigator>\r\n    );\r\n}\r\n","import {FontAwesome} from \"@expo/vector-icons\";\r\nimport * as React from \"react\";\r\nimport {StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {rootNavigate} from \"../../navigation/utils\";\r\nimport {preTheme} from \"../../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../../types\";\r\nimport i18n from \"i18n-js\";\r\nimport {styleTextThin} from \"../../styles/general\";\r\n\r\nexport type OnboardingSuccessfulScreenProps = ThemeProps;\r\n\r\nclass OnboardingSuccessfulScreen extends React.Component<OnboardingSuccessfulScreenProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <FontAwesome style={styles.icon} name=\"home\"></FontAwesome>\r\n                <Text style={styles.title}>{i18n.t(\"onboarding.profileCreated\")}</Text>\r\n                <View style={styles.separator} />\r\n                <TouchableOpacity style={styles.button} onPress={() => rootNavigate(\"MainScreen\")}>\r\n                    <Text style={styles.buttonText}>{i18n.t(\"onboarding.getStarted\")}</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            width: \"100%\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: theme.background,\r\n        },\r\n        title: {\r\n            width: \"85%\",\r\n            textAlign: \"center\",\r\n            fontSize: 20,\r\n            letterSpacing: 0.5,\r\n            color: theme.text,\r\n        },\r\n        icon: {\r\n            color: theme.text,\r\n            fontSize: 40,\r\n            marginVertical: 20,\r\n        },\r\n        separator: {\r\n            marginVertical: 30,\r\n            height: 1,\r\n            width: \"80%\",\r\n            backgroundColor: theme.cardBackground,\r\n        },\r\n        button: {\r\n            marginVertical: 20,\r\n            padding: 5,\r\n            borderBottomWidth: 0.75,\r\n            borderBottomColor: theme.textLight,\r\n        },\r\n        buttonText: {\r\n            ...styleTextThin,\r\n            fontSize: 20,\r\n            letterSpacing: 1.5,\r\n            textTransform: \"uppercase\",\r\n            color: theme.text,\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(OnboardingSuccessfulScreen);\r\n","import * as React from \"react\";\r\nimport {StyleSheet, Text, View} from \"react-native\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {TouchableOpacity} from \"react-native-gesture-handler\";\r\nimport {rootNavigate} from \"../navigation/utils\";\r\nimport {preTheme} from \"../styles/utils\";\r\nimport {Theme, ThemeProps} from \"../types\";\r\nimport i18n from \"i18n-js\";\r\nimport {fetchMyMatches} from \"../state/matching/actions\";\r\nimport {MyThunkDispatch} from \"../state/types\";\r\nimport store from \"../state/store\";\r\nimport {styleTextThin} from \"../styles/general\";\r\n\r\nexport type TabNotImplementedScreenProps = ThemeProps;\r\n\r\nclass ReciprocalMatchScreen extends React.Component<TabNotImplementedScreenProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <Text style={styles.title}>{i18n.t(\"matching.success.title\")}</Text>\r\n                <View style={styles.separator} />\r\n                <TouchableOpacity\r\n                    style={styles.actionButton}\r\n                    onPress={() => rootNavigate(\"TabMessaging\") /* TODO Redirect to chat tab directly instead */}\r\n                >\r\n                    <Text style={styles.actionText}>{i18n.t(\"matching.success.chat\")}</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                    style={[styles.actionButton, {backgroundColor: theme.actionNeutral}]}\r\n                    onPress={() => {\r\n                        rootNavigate(\"TabMatchingScreen\");\r\n                        // Make sure the data is up to date\r\n                        // TODO this could be improved\r\n                        (store.dispatch as MyThunkDispatch)(fetchMyMatches());\r\n                    }}\r\n                >\r\n                    <Text style={styles.actionText}>{i18n.t(\"matching.success.continue\")}</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            width: \"100%\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: theme.okay,\r\n        },\r\n        title: {\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n            ...styleTextThin,\r\n            fontSize: 32,\r\n            color: theme.text,\r\n            letterSpacing: 1,\r\n            textTransform: \"uppercase\",\r\n        },\r\n        separator: {\r\n            marginVertical: 30,\r\n            height: 1,\r\n            width: \"80%\",\r\n            backgroundColor: theme.cardBackground,\r\n            opacity: 0.3,\r\n        },\r\n        actionButton: {\r\n            backgroundColor: theme.accent,\r\n            paddingHorizontal: 30,\r\n            paddingVertical: 10,\r\n            marginVertical: 20,\r\n            borderRadius: 20,\r\n        },\r\n        actionText: {\r\n            color: theme.textWhite,\r\n            fontSize: 18,\r\n            letterSpacing: 1,\r\n            textTransform: \"uppercase\",\r\n        },\r\n    });\r\n});\r\n\r\nexport default withTheme(ReciprocalMatchScreen);\r\n","import * as React from \"react\";\r\nimport {Alert, StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\r\nimport i18n from \"i18n-js\";\r\nimport * as Yup from \"yup\";\r\nimport {Formik, FormikProps} from \"formik\";\r\nimport {FormTextInput} from \"../FormTextInput\";\r\nimport {AppState} from \"../../state/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {VALIDATOR_PASSWORD_SIGNUP, VALIDATOR_PASSWORD_REPEAT} from \"../../validators\";\r\nimport {formStyle, getLoginTextInputsStyleProps} from \"../../styles/forms\";\r\nimport {FormProps, Theme, ThemeProps} from \"../../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {preTheme} from \"../../styles/utils\";\r\n\r\nexport type ChangePasswordFormState = {\r\n    password: string;\r\n    passwordRepeat: string;\r\n};\r\n\r\nconst initialState = (): ChangePasswordFormState => ({\r\n    password: \"\",\r\n    passwordRepeat: \"$1\",\r\n});\r\n\r\n// Use Yup to create the validation schema\r\nconst ChangePasswordFormSchema = Yup.object().shape({\r\n    password: VALIDATOR_PASSWORD_SIGNUP,\r\n    passwordRepeat: VALIDATOR_PASSWORD_REPEAT,\r\n});\r\n\r\n// Map props from the store\r\nconst mapStateToProps = (state: AppState) => ({\r\n    registerFailure: state.auth.registerFailure,\r\n    registerErrors: state.auth.registerErrors,\r\n});\r\nconst reduxConnector = connect(mapStateToProps);\r\n\r\n// Component props\r\ntype ChangePasswordFormProps = FormProps<ChangePasswordFormState> & ConnectedProps<typeof reduxConnector> & ThemeProps;\r\n\r\nclass ChangePasswordForm extends React.Component<ChangePasswordFormProps> {\r\n    submit(values: ChangePasswordFormState) {\r\n        console.log(\"Change pwd form submitted\", values);\r\n        //(this.props.dispatch as MyThunkDispatch)(requestRegister(values.email, values.password));\r\n        //if (this.props.onSuccessfulSubmit !== undefined) this.props.onSuccessfulSubmit(values);\r\n    }\r\n\r\n    componentDidUpdate(/*prevProps: SignupFormProps*/) {\r\n        if (this.props.registerFailure) {\r\n            /*const errorTexts = this.props.registerErrors.map((err: string, i: number) => (\r\n                <Text key={i} style={[formStyle.errorText, {color: this.props.theme.error}]}>\r\n                    {err}\r\n                </Text>\r\n            ));*/\r\n\r\n            Alert.alert(\"Unable to change password\", this.props.registerErrors[0], [\r\n                {text: \"OK\", onPress: () => console.log(\"OK Pressed\")},\r\n            ]);\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = themedStyles(theme);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <View style={styles.titleWrapper}>\r\n                    <Text style={styles.title}>{i18n.t(\"signupWelcome\")}</Text>\r\n                </View>\r\n                <Formik\r\n                    initialValues={initialState()}\r\n                    validationSchema={ChangePasswordFormSchema}\r\n                    validateOnChange={true}\r\n                    validateOnBlur={false}\r\n                    onSubmit={(values: ChangePasswordFormState) => this.submit(values)}\r\n                >\r\n                    {(formikProps: FormikProps<ChangePasswordFormState>) => {\r\n                        const {handleSubmit, values, errors, touched, handleChange, handleBlur} = formikProps;\r\n                        const textInputProps = {handleChange, handleBlur, ...getLoginTextInputsStyleProps(theme, 15)};\r\n\r\n                        return (\r\n                            <React.Fragment>\r\n                                <FormTextInput\r\n                                    field=\"password\"\r\n                                    placeholder={i18n.t(\"password\")}\r\n                                    error={errors.password}\r\n                                    value={values.password}\r\n                                    touched={touched.password}\r\n                                    secureTextEntry={true}\r\n                                    autoCompleteType=\"password\"\r\n                                    {...textInputProps}\r\n                                />\r\n\r\n                                <FormTextInput\r\n                                    field=\"passwordRepeat\"\r\n                                    placeholder={i18n.t(\"passwordRepeat\")}\r\n                                    error={errors.passwordRepeat}\r\n                                    value={values.passwordRepeat}\r\n                                    touched={touched.passwordRepeat}\r\n                                    secureTextEntry={true}\r\n                                    autoCompleteType=\"password\"\r\n                                    {...textInputProps}\r\n                                />\r\n\r\n                                <View style={formStyle.actionRow}>\r\n                                    <TouchableOpacity\r\n                                        accessibilityRole=\"button\"\r\n                                        accessibilityLabel={i18n.t(\"createAccount\")}\r\n                                        onPress={() => handleSubmit()}\r\n                                        style={styles.createAccountButton}\r\n                                    >\r\n                                        <Text style={formStyle.buttonMajorText}>{i18n.t(\"createAccount\")}</Text>\r\n                                    </TouchableOpacity>\r\n                                </View>\r\n                            </React.Fragment>\r\n                        );\r\n                    }}\r\n                </Formik>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst themedStyles = preTheme((theme: Theme) => {\r\n    return StyleSheet.create({\r\n        titleWrapper: {\r\n            width: \"100%\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"flex-start\",\r\n            marginBottom: 20,\r\n        },\r\n        title: {\r\n            fontSize: 22,\r\n            color: theme.text,\r\n        },\r\n        inlineInputs: {\r\n            flex: 1,\r\n        },\r\n        inlineInputLeft: {\r\n            marginRight: 5,\r\n        },\r\n        inlineInputRight: {\r\n            marginLeft: 5,\r\n        },\r\n        createAccountButton: {\r\n            ...formStyle.buttonMajor,\r\n            width: \"60%\",\r\n            backgroundColor: theme.accent,\r\n        },\r\n    });\r\n});\r\n\r\nexport default reduxConnector(withTheme(ChangePasswordForm));\r\n","import * as React from \"react\";\r\nimport {View, KeyboardAvoidingView} from \"react-native\";\r\nimport {loginTabsStyles} from \"../styles/forms\";\r\nimport {ThemeProps} from \"../types\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport ChangePasswordForm from \"../components/forms/ChangePasswordForm\";\r\n\r\ntype ChangePasswordScreenProps = ThemeProps;\r\n\r\nclass ChangePasswordScreen extends React.Component<ChangePasswordScreenProps> {\r\n    render(): JSX.Element {\r\n        const {theme} = this.props;\r\n        const styles = loginTabsStyles(theme);\r\n\r\n        return (\r\n            <KeyboardAvoidingView behavior=\"height\" style={styles.container}>\r\n                <View style={styles.formWrapper}>\r\n                    <ChangePasswordForm />\r\n                </View>\r\n            </KeyboardAvoidingView>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTheme(ChangePasswordScreen);\r\n","import {NavigationContainer, DefaultTheme, DarkTheme} from \"@react-navigation/native\";\r\nimport {CardStyleInterpolators, createStackNavigator} from \"@react-navigation/stack\";\r\nimport * as React from \"react\";\r\nimport NotFoundScreen from \"../screens/NotFoundScreen\";\r\nimport ValidateEmailScreen from \"../screens/ValidateEmailScreen\";\r\nimport ValidationEmailSentScreen from \"../screens/ValidationEmailSentScreen\";\r\nimport {RootNavigatorScreens} from \"../navigation/types\";\r\nimport LinkingConfiguration from \"./linking-config\";\r\nimport LoginNavigator from \"./LoginNavigator\";\r\nimport MainNavigator from \"./MainNavigator\";\r\nimport OnboardingNavigator from \"./OnboardingNavigator\";\r\nimport {rootNavigationRef} from \"./utils\";\r\nimport {withTheme} from \"react-native-elements\";\r\nimport {ThemeProps} from \"../types\";\r\nimport OnboardingSuccessfulScreen from \"../screens/onboarding/OnboardingSuccessfulScreen\";\r\nimport MatchSuccessScreen from \"../screens/MatchSuccessScreen\";\r\nimport {Platform} from \"react-native\";\r\nimport ChangePasswordScreen from \"../screens/ChangePasswordScreen\";\r\n\r\n// A root stack navigator is often used for displaying modals on top of all other content\r\n// Read more here: https://reactnavigation.org/docs/modal\r\nconst Stack = createStackNavigator<RootNavigatorScreens>();\r\n\r\n// \"Fundamentals\" guide: https://reactnavigation.org/docs/getting-started\r\nfunction Navigation({theme}: ThemeProps): JSX.Element {\r\n    return (\r\n        <NavigationContainer\r\n            ref={rootNavigationRef}\r\n            linking={LinkingConfiguration}\r\n            theme={theme.id === \"dark\" ? DarkTheme : DefaultTheme}\r\n        >\r\n            <Stack.Navigator screenOptions={{headerShown: false}}>\r\n                <Stack.Screen name=\"LoginScreen\" component={LoginNavigator} options={{title: \"Login\"}} />\r\n                <Stack.Screen name=\"ValidationEmailSentScreen\" component={ValidationEmailSentScreen} />\r\n                <Stack.Screen name=\"ValidateEmailScreen\" component={ValidateEmailScreen} />\r\n                <Stack.Screen name=\"ChangePasswordScreen\" component={ChangePasswordScreen} />\r\n                <Stack.Screen name=\"MainScreen\" component={MainNavigator} />\r\n                <Stack.Screen name=\"OnboardingScreen\" component={OnboardingNavigator} />\r\n                <Stack.Screen name=\"OnboardingSuccessfulScreen\" component={OnboardingSuccessfulScreen} />\r\n                <Stack.Screen name=\"NotFoundScreen\" component={NotFoundScreen} options={{title: \"Oops!\"}} />\r\n                <Stack.Screen\r\n                    name=\"MatchSuccessScreen\"\r\n                    component={MatchSuccessScreen}\r\n                    options={{\r\n                        headerShown: false,\r\n                        cardStyleInterpolator:\r\n                            Platform.OS == \"ios\"\r\n                                ? CardStyleInterpolators.forVerticalIOS\r\n                                : CardStyleInterpolators.forFadeFromBottomAndroid,\r\n                    }}\r\n                />\r\n            </Stack.Navigator>\r\n        </NavigationContainer>\r\n    );\r\n}\r\n\r\nexport default withTheme(Navigation);\r\n","import React from \"react\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState} from \"../../state/types\";\r\nimport themes from \"../../constants/themes\";\r\nimport {ThemeProvider} from \"react-native-elements\";\r\n\r\n// Map props from store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    currentTheme: state.settings.theme,\r\n}));\r\nexport type ConnectedThemeProviderProps = ConnectedProps<typeof reduxConnector>;\r\n\r\n/**\r\n * This provider receives the current theme from the store and passes it down to all\r\n * children (direct or indirect) that are exported using withTheme(<component>).\r\n */\r\nclass ConnectedThemeProvider extends React.Component<ConnectedThemeProviderProps> {\r\n    render(): JSX.Element {\r\n        const {children, currentTheme} = this.props;\r\n        return (\r\n            <ThemeProvider key={currentTheme} theme={themes[currentTheme]}>\r\n                {children}\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default reduxConnector(ConnectedThemeProvider);\r\n","import {StatusBar} from \"expo-status-bar\";\r\nimport * as React from \"react\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {AppState} from \"../state/types\";\r\n\r\n// Map props from store\r\nconst reduxConnector = connect((state: AppState) => ({\r\n    theme: state.settings.theme,\r\n}));\r\n\r\n// Component props\r\nexport type ThemedStatusBarProps = ConnectedProps<typeof reduxConnector>;\r\n\r\nfunction ThemedStatusBar(props: ThemedStatusBarProps): JSX.Element {\r\n    const {theme} = props;\r\n    return <StatusBar style={theme == \"dark\" ? \"dark\" : \"light\"} />;\r\n}\r\n\r\nexport default reduxConnector(ThemedStatusBar);\r\n","import {StatusBar} from \"expo-status-bar\";\r\nimport {registerRootComponent} from \"expo\";\r\nimport React from \"react\";\r\nimport useCachedResources from \"./hooks/useCachedResources\";\r\nimport Navigation from \"./navigation\";\r\nimport {Provider} from \"react-redux\";\r\nimport configureLocalization from \"./localization\";\r\nimport {SafeAreaProvider} from \"react-native-safe-area-context\";\r\nimport ConnectedThemeProvider from \"./components/providers/ConnectedThemeProvider\";\r\nimport store from \"./state/store\";\r\nimport * as Linking from \"expo-linking\";\r\nimport ThemedStatusBar from \"./components/ThemedStatusBar\";\r\n\r\n// Example for disabling a warning :\r\n// YellowBox.ignoreWarnings([\"VirtualizedLists should never be nested\"]);\r\n\r\nfunction App() {\r\n    const isLoadingComplete = useCachedResources();\r\n    configureLocalization();\r\n\r\n    if (!isLoadingComplete) {\r\n        return null;\r\n    } else {\r\n        return (\r\n            <SafeAreaProvider>\r\n                <Provider store={store}>\r\n                    <ConnectedThemeProvider>\r\n                        <Navigation />\r\n                        <ThemedStatusBar />\r\n                    </ConnectedThemeProvider>\r\n                </Provider>\r\n            </SafeAreaProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default registerRootComponent(App);\r\n","import {FontAwesome} from \"@expo/vector-icons\";\r\nimport * as Font from \"expo-font\";\r\nimport * as SplashScreen from \"expo-splash-screen\";\r\nimport * as React from \"react\";\r\nimport {attemptLoginFromCache} from \"../state/auth/actions\";\r\nimport {loadProfileInterests, loadProfileOffers} from \"../state/profile/actions\";\r\nimport store from \"../state/store\";\r\nimport {MyThunkDispatch} from \"../state/types\";\r\n\r\nexport default function useCachedResources(): boolean {\r\n    const [isLoadingComplete, setLoadingComplete] = React.useState(false);\r\n\r\n    // Load any resources or data that we need prior to rendering the app\r\n    React.useEffect(() => {\r\n        async function loadResourcesAndDataAsync() {\r\n            try {\r\n                SplashScreen.preventAutoHideAsync();\r\n\r\n                const dispatch = store.dispatch as MyThunkDispatch;\r\n\r\n                // TODO Improve data loading\r\n                //  - show something if the backend couldn't be reached\r\n\r\n                // Load static data\r\n                await dispatch(loadProfileOffers());\r\n                await dispatch(loadProfileInterests());\r\n\r\n                // Load fonts\r\n                await Font.loadAsync({\r\n                    ...FontAwesome.font,\r\n                    //\"space-mono\": require(\"../../assets/fonts/SpaceMono-Regular.ttf\"),\r\n                });\r\n\r\n                // Attempt to authenticate using cached data\r\n                dispatch(attemptLoginFromCache());\r\n            } catch (e) {\r\n                // We might want to provide this error information to an error reporting service\r\n                console.warn(e);\r\n            } finally {\r\n                setLoadingComplete(true);\r\n                SplashScreen.hideAsync();\r\n            }\r\n        }\r\n\r\n        loadResourcesAndDataAsync();\r\n    }, []);\r\n\r\n    return isLoadingComplete;\r\n}\r\n"],"sourceRoot":""}